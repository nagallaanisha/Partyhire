
 Kendo UI v2015.1.511 (httpwww.telerik.comkendo-ui)
 Copyright 2015 Telerik AD. All rights reserved.

 Kendo UI commercial licenses may be obtained at
 httpwww.telerik.compurchaselicense-agreementkendo-ui-complete
 If you do not own a commercial license, this file shall be governed by the trial license terms.

(function(f,define){define([],f)})(function(){bundle all;! function(e,t,n){function i(){}function r(e,t){if(t)return'+e.split(').join(').split('').join('').replace(ng,n).replace(rg,r).replace(tg,t)+';var n=e.charAt(0),i=e.substring(1);return====n+(+i+)+===n+$kendoHtmlEncode(+i+)+;+e+;$kendoOutput+=}function o(e,t,n){return e+=,t=t2,n=t-e.length,nO[t].substring(0,n)+ee}function a(e){var t=e.css(gt.support.transitions.css+box-shadow)e.css(box-shadow),n=tt.match(Tt)[0,0,0,0,0][0,0,0,0,0],i=bt.max(+n[3],+(n[4]0));return{left-n[1]+i,right+n[1]+i,bottom+n[2]+i}}function s(t,n){var i,r,o,s,l,c,d,u,h=xt.browser,p=rtl==t.css(direction);return t.parent().hasClass(k-animation-container)(d=t.parent(.k-animation-container),u=d[0].style,d.is(hidden)&&d.show(),i=Ct.test(u.width)Ct.test(u.height),id.css({widtht.outerWidth(),heightt.outerHeight(),boxSizingcontent-box,mozBoxSizingcontent-box,webkitBoxSizingcontent-box}))(r=a(t),o=t[0].style.width,s=t[0].style.height,l=Ct.test(o),c=Ct.test(s),h.opera&&(r.left=r.right=r.bottom=5),i=lc,!l&&(!nn&&o)&&(o=t.outerWidth()),!c&&(!nn&&s)&&(s=t.outerHeight()),t.wrap(e(div).addClass(k-animation-container).css({widtho,heights,marginLeftr.left(p1-1),paddingLeftr.left,paddingRightr.right,paddingBottomr.bottom})),i&&t.css({width100%,height100%,boxSizingborder-box,mozBoxSizingborder-box,webkitBoxSizingborder-box})),h.msie&&bt.floor(h.version)=7&&(t.css({zoom1}),t.children(.k-menu).width(t.width())),t.parent()}function l(e){var t=1,n=arguments.length;for(t=1;nt;t++)c(e,arguments[t]);return e}function c(e,t){var n,i,r,o,a,s=gt.data.ObservableArray,l=gt.data.LazyObservableArray,d=gt.data.DataSource,u=gt.data.HierarchicalDataSource;for(n in t)i=t[n],r=typeof i,o=r===Mt&&null!==ii.constructornull,o&&o!==Array&&o!==s&&o!==l&&o!==d&&o!==ui instanceof Datee[n]=new Date(i.getTime())I(i.clone)e[n]=i.clone()(a=e[n],e[n]=typeof a===Mta{}{},c(e[n],i))r!==Ft&&(e[n]=i);return e}function d(e,t,i){for(var r in t)if(t.hasOwnProperty(r)&&t[r].test(e))return r;return i!==nie}function u(e){return e.replace(([a-z][A-Z])g,function(e){return e.charAt(0)+-+e.charAt(1).toLowerCase()})}function h(e){return e.replace(-(w)g,function(e,t){return t.toUpperCase()})}function p(t,n){var i,r={};return document.defaultView&&document.defaultView.getComputedStyle(i=document.defaultView.getComputedStyle(t,),n&&e.each(n,function(e,t){r[t]=i.getPropertyValue(t)}))(i=t.currentStyle,n&&e.each(n,function(e,t){r[t]=i[h(t)]})),gt.size(r)(r=i),r}function f(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&toJSON!=t&&n++;return n}function g(e,n,i){n(n=offset);var r=e[n]();return xt.browser.msie&&(xt.pointersxt.msPointers)&&!i&&(r.top-=t.pageYOffset-document.documentElement.scrollTop,r.left-=t.pageXOffset-document.documentElement.scrollLeft),r}function m(e){var t={};return vt(string==typeof ee.split( )e,function(e){t[e]=this}),t}function v(e){return new gt.effects.Element(e)}function _(e,t,n,i){return typeof e===Et&&(I(t)&&(i=t,t=400,n=!1),I(n)&&(i=n,n=!1),typeof t===zt&&(n=t,t=400),e={effectse,durationt,reversen,completei}),mt({effects{},duration400,reverse!1,inityt,teardownyt,hide!1},e,{completeCallbacke.complete,completeyt})}function w(t,n,i,r,o){for(var a,s=0,l=t.length;ls;s++)a=e(t[s]),a.queue(function(){U.promise(a,_(n,i,r,o))});return t}function y(e,t,n,i){return t&&(t=t.split( ),vt(t,function(t,n){e.toggleClass(n,i)})),e}function b(e){return(+e).replace(W,&amp;).replace(j,&lt;).replace($,&gt;).replace(G,&quot;).replace(q,&#39;)}function k(e,t){var i;return 0===t.indexOf(data)&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(nt,-$1),i=e.getAttribute(data-+gt.ns+t),null===ii=nnull===ii=nulltrue===ii=!0false===ii=!1Dt.test(i)i=parseFloat(i)et.test(i)&&!tt.test(i)&&(i=Function(return (+i+))()),i}function x(t,i){var r,o,a={};for(r in i)o=k(t,r),o!==n&&(J.test(r)&&(o=gt.template(e(#+o).html())),a[r]=o);return a}function C(t,n){return e.contains(t,n)-11}function S(){var t=e(this);return e.inArray(t.attr(data-+gt.ns+role),[slider,rangeslider])-1t.is(visible)}function T(e,t){var n=e.nodeName.toLowerCase();return(inputselecttextareabuttonobject.test(n)!e.disableda===ne.hreftt)&&D(e)}function D(t){return!e(t).parents().addBack().filter(function(){returnhidden===e.css(this,visibility)e.expr.filters.hidden(this)}).length}function A(e,t){return new A.fn.init(e,t)}var E,I,M,P,z,F,R,B,H,L,N,O,V,U,W,j,G,q,$,Y,Q,K,X,Z,J,et,tt,nt,it,rt,ot,at,st,lt,ct,dt,ut,ht,pt,ft,gt=t.kendo=t.kendo{cultures{}},mt=e.extend,vt=e.each,_t=e.isArray,wt=e.proxy,yt=e.noop,bt=Math,kt=t.JSON{},xt={},Ct=%,St={(d+)([^}]+)}g,Tt=(d+(.)d)pxs(d+(.)d)pxs(d+(.)d)pxs(d+)i,Dt=^(+-)d+(.)d$,At=function,Et=string,It=number,Mt=object,Pt=null,zt=boolean,Ft=undefined,Rt={},Bt={},Ht=[].slice,Lt=t.Globalize;gt.version=2015.1.511,i.extend=function(e){var t,n,i=function(){},r=this,o=e&&e.inite.initfunction(){r.apply(this,arguments)};i.prototype=r.prototype,n=o.fn=o.prototype=new i;for(t in e)n[t]=null!=e[t]&&e[t].constructor===Objectmt(!0,{},i.prototype[t],e[t])e[t];return n.constructor=o,o.extend=r.extend,o},i.prototype._initOptions=function(e){this.options=l({},this.options,e)},I=gt.isFunction=function(e){returnfunction==typeof e},M=function(){this._defaultPrevented=!0},P=function(){return this._defaultPrevented===!0},z=i.extend({initfunction(){this._events={}},bindfunction(e,t,i){var r,o,a,s,l,c=this,d=typeof e===Et[e]e,u=typeof t===At;if(t===n){for(r in e)c.bind(r,e[r]);return c}for(r=0,o=d.length;or;r++)e=d[r],s=utt[e],s&&(i&&(a=s,s=function(){c.unbind(e,s),a.apply(c,arguments)},s.original=a),l=c._events[e]=c._events[e][],l.push(s));return c},onefunction(e,t){return this.bind(e,t,!0)},firstfunction(e,t){var n,i,r,o,a=this,s=typeof e===Et[e]e,l=typeof t===At;for(n=0,i=s.length;in;n++)e=s[n],r=ltt[e],r&&(o=a._events[e]=a._events[e][],o.unshift(r));return a},triggerfunction(e,t){var n,i,r=this,o=r._events[e];if(o){for(t=t{},t.sender=r,t._defaultPrevented=!1,t.preventDefault=M,t.isDefaultPrevented=P,o=o.slice(),n=0,i=o.length;in;n++)o[n].call(r,t);return t._defaultPrevented===!0}return!1},unbindfunction(e,t){var i,r=this,o=r._events[e];if(e===n)r._events={};else if(o)if(t)for(i=o.length-1;i=0;i--)(o[i]===to[i].original===t)&&o.splice(i,1);else r._events[e]=[];return r}}),F=^w+,R=${([^}])}g,B=}g,H=__CURLY__g,L=#g,N=__SHARP__g,O=[,0,00,000,0000],E={paramNamedata,useWithBlock!0,renderfunction(e,t){var n,i,r=;for(n=0,i=t.length;in;n++)r+=e(t[n]);return r},compilefunction(e,t){var n,i,o,a=mt({},this,t),s=a.paramName,l=s.match(F)[0],c=a.useWithBlock,d=var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;;if(I(e))return e;for(d+=cwith(+s+){,d+=$kendoOutput=,i=e.replace(B,__CURLY__).replace(R,#=$kendoHtmlEncode($1)#).replace(H,}).replace(L,__SHARP__).split(#),o=0;i.lengtho;o++)d+=r(i[o],o%2===0);d+=c;};,d+=return $kendoOutput;,d=d.replace(N,#);try{return n=Function(l,d),n._slotCount=Math.floor(i.length2),n}catch(u){throw Error(gt.format(Invalid template'{0}' Generated code'{1}',e,d))}}},function(){function e(e){return a.lastIndex=0,a.test(e)''+e.replace(a,function(e){var t=s[e];return typeof t===Ettu+(0000+e.charCodeAt(0).toString(16)).slice(-4)})+''''+e+''}function t(o,a){var s,c,d,u,h,p,f=n,g=a[o];if(g&&typeof g===Mt&&typeof g.toJSON===At&&(g=g.toJSON(o)),typeof r===At&&(g=r.call(a,o,g)),p=typeof g,p===Et)return e(g);if(p===It)return isFinite(g)g+Pt;if(p===ztp===Pt)return g+;if(p===Mt){if(!g)return Pt;if(n+=i,h=[],[object Array]===l.apply(g)){for(u=g.length,s=0;us;s++)h[s]=t(s,g)Pt;return d=0===h.length[]n[n+n+h.join(,n+n)+n+f+][+h.join(,)+],n=f,d}if(r&&typeof r===Mt)for(u=r.length,s=0;us;s++)typeof r[s]===Et&&(c=r[s],d=t(c,g),d&&h.push(e(c)+(n )+d));else for(c in g)Object.hasOwnProperty.call(g,c)&&(d=t(c,g),d&&h.push(e(c)+(n )+d));return d=0===h.length{}n{n+n+h.join(,n+n)+n+f+}{+h.join(,)+},n=f,d}}var n,i,r,a=[x00-x1fx7f-x9fu00adu0600-u0604u070fu17b4u17b5u200c-u200fu2028-u202fu2060-u206fufeffufff0-uffff]g,s={bb,	t,nn,ff,rr,'''',},l={}.toString;typeof Date.prototype.toJSON!==At&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())o(e.getUTCFullYear(),4)+-+o(e.getUTCMonth()+1)+-+o(e.getUTCDate())+T+o(e.getUTCHours())++o(e.getUTCMinutes())++o(e.getUTCSeconds())+Znull},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof kt.stringify!==At&&(kt.stringify=function(e,o,a){var s;if(n=,i=,typeof a===It)for(s=0;as;s+=1)i+= ;else typeof a===Et&&(i=a);if(r=o,o&&typeof o!==At&&(typeof o!==Mttypeof o.length!==It))throw Error(JSON.stringify);return t(,{e})})}(),function(){function t(e){if(e){if(e.numberFormat)return e;if(typeof e===Et){var t=gt.cultures;return t[e]t[e.split(-)[0]]null}return null}return null}function i(e){return e&&(e=t(e)),egt.cultures.current}function r(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function a(e,t,r){r=i(r);var a=r.calendars.standard,s=a.days,l=a.months;return t=a.patterns[t]t,t.replace(d,function(t){var i,r,c;returnd===tr=e.getDate()dd===tr=o(e.getDate())ddd===tr=s.namesAbbr[e.getDay()]dddd===tr=s.names[e.getDay()]M===tr=e.getMonth()+1MM===tr=o(e.getMonth()+1)MMM===tr=l.namesAbbr[e.getMonth()]MMMM===tr=l.names[e.getMonth()]yy===tr=o(e.getFullYear()%100)yyyy===tr=o(e.getFullYear(),4)h===tr=e.getHours()%1212hh===tr=o(e.getHours()%1212)H===tr=e.getHours()HH===tr=o(e.getHours())m===tr=e.getMinutes()mm===tr=o(e.getMinutes())s===tr=e.getSeconds()ss===tr=o(e.getSeconds())f===tr=bt.floor(e.getMilliseconds()100)ff===t(r=e.getMilliseconds(),r99&&(r=bt.floor(r10)),r=o(r))fff===tr=o(e.getMilliseconds(),3)tt===tr=e.getHours()12a.AM[0]a.PM[0]zzz===t(i=e.getTimezoneOffset(),c=0i,r=(+bt.abs(i60)).split(.)[0],i=bt.abs(i)-60r,r=(c+-)+o(r),r+=+o(i))(zz===tz===t)&&(r=e.getTimezoneOffset()60,c=0r,r=(+bt.abs(r)).split(.)[0],r=(c+-)+(zz===to(r)r)),r!==nrt.slice(1,t.length-1)})}function s(e,t,r){r=i(r);var o,a,s,c,d,y,b,k,x,C,S,T,D,A,E,I,M,P,z,F,R,B,H,L=r.numberFormat,N=L.groupSize[0],O=L[m],V=L[g],U=L.decimals,W=L.pattern[0],j=[],G=0e,q=f,$=f,Y=-1;if(e===n)return f;if(!isFinite(e))return e;if(!t)return r.name.lengthe.toLocaleString()+e;if(d=u.exec(t)){if(t=d[1].toLowerCase(),a=c===t,s=p===t,(as)&&(L=aL.currencyL.percent,N=L.groupSize[0],O=L[m],V=L[g],U=L.decimals,o=L.symbol,W=L.pattern[G01]),c=d[2],c&&(U=+c),e===t)return ce.toExponential(U)e.toExponential();if(s&&(e=100),e=l(e,U),G=0e,e=e.split(g),y=e[0],b=e[1],G&&(y=y.substring(1)),$=y,k=y.length,k=N)for($=f,C=0;kC;C++)C0&&(k-C)%N===0&&($+=O),$+=y.charAt(C);if(b&&($+=V+b),n===t&&!G)return $;for(e=f,C=0,S=W.length;SC;C++)T=W.charAt(C),e+=n===T$$===T%===ToT;return e}if(G&&(e=-e),(t.indexOf(')-1t.indexOf('')-1t.indexOf()-1)&&(t=t.replace(h,function(e){var t=e.charAt(0).replace(,),n=e.slice(1).replace(t,);return j.push(n),w})),t=t.split(;),G&&t[1])t=t[1],A=!0;else if(0===e){if(t=t[2]t[0],-1==t.indexOf(v)&&-1==t.indexOf(_))return t}else t=t[0];if(F=t.indexOf(%),R=t.indexOf($),s=-1!=F,a=-1!=R,s&&(e=100),a&&===t[R-1]&&(t=t.split().join(),a=!1),(as)&&(L=aL.currencyL.percent,N=L.groupSize[0],O=L[m],V=L[g],U=L.decimals,o=L.symbol),D=t.indexOf(m)-1,D&&(t=t.replace(p,f)),E=t.indexOf(g),S=t.length,-1!=E(b=(+e).split(e),b=b[1]l(e,Math.abs(b[1]))b[0],b=b.split(g)[1]f,M=t.lastIndexOf(_)-E,I=t.lastIndexOf(v)-E,P=M-1,z=I-1,C=b.length,Pz(t=t.substring(0,E)+t.substring(E+1),S=t.length,E=-1,C=0),P&&MIC=MIM&&(z&&CIC=IP&&MC&&(C=M)),C-1&&(e=l(e,C)))e=l(e),I=t.indexOf(v),B=M=t.indexOf(_),Y=-1==I&&-1!=MM-1!=I&&-1==MIIMMI,I=t.lastIndexOf(v),M=t.lastIndexOf(_),H=-1==I&&-1!=MM-1!=I&&-1==MIIMIM,Y==S&&(H=Y),-1!=Y){if($=(+e).split(g),y=$[0],b=$[1]f,k=y.length,x=b.length,G&&-1e=0&&(G=!1),D)if(k===N&&E-Bk)y=O+y;else if(kN){for($=f,C=0;kC;C++)C0&&(k-C)%N===0&&($+=O),$+=y.charAt(C);y=$}for(e=t.substring(0,Y),G&&!A&&(e+=-),C=Y;SC;C++){if(T=t.charAt(C),-1==E){if(kH-C){e+=y;break}}else if(-1!=M&&CM&&(q=f),k=E-C&&E-C-1&&(e+=y,C=E),E===C){e+=(bVf)+b,C+=H-E+1;continue}T===_(e+=T,q=T)T===v&&(e+=q)}if(H=Y&&(e+=t.substring(H+1)),as){for($=f,C=0,S=e.length;SC;C++)T=e.charAt(C),$+=$===T%===ToT;e=$}if(S=j.length)for(C=0;SC;C++)e=e.replace(w,j[C])}return e}var l,c,d=ddddddddddMMMMMMMMMMyyyyyyHHHhhhmmmffffffttssszzzzzz[^]'[^']'g,u=^(ncpe)(d)$i,h=(.)(['][^']['])([][^][])g,p=,g,f=,g=.,m=,,v=#,_=0,w=,y=en-US,b={}.toString;gt.cultures[en-US]={namey,numberFormat{pattern[-n],decimals2,,,,..,groupSize[3],percent{pattern[-n %,n %],decimals2,,,,..,groupSize[3],symbol%},currency{pattern[($n),$n],decimals2,,,,..,groupSize[3],symbol$}},calendars{standard{days{names[Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday],namesAbbr[Sun,Mon,Tue,Wed,Thu,Fri,Sat],namesShort[Su,Mo,Tu,We,Th,Fr,Sa]},months{names[January,February,March,April,May,June,July,August,September,October,November,December],namesAbbr[Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec]},AM[AM,am,AM],PM[PM,pm,PM],patterns{dMdyyyy,Ddddd, MMMM dd, yyyy,Fdddd, MMMM dd, yyyy hmmss tt,gMdyyyy hmm tt,GMdyyyy hmmss tt,mMMMM dd,MMMMM dd,syyyy'-'MM'-'ddTHH''mm''ss,thmm tt,Thmmss tt,uyyyy'-'MM'-'dd HH''mm''ss'Z',yMMMM, yyyy,YMMMM, yyyy},,,firstDay0,twoDigitYearMax2029}}},gt.culture=function(e){var i,o=gt.cultures;return e===no.current(i=t(e)o[y],i.calendar=i.calendars.standard,o.current=i,Lt&&!Lt.load&&r(i.numberFormat),n)},gt.findCulture=t,gt.getCulture=i,gt.culture(y),l=function(e,t){return t=t0,e=(+e).split(e),e=Math.round(+(e[0]+e+(e[1]+e[1]+tt))),e=(+e).split(e),e=+(e[0]+e+(e[1]+e[1]-t-t)),e.toFixed(t)},c=function(e,t,i){if(t){if([object Date]===b.call(e))return a(e,t,i);if(typeof e===It)return s(e,t,i)}return e!==ne},Lt&&!Lt.load&&(c=function(t,n,i){return e.isPlainObject(i)&&(i=i.name),Lt.format(t,n,i)}),gt.format=function(e){var t=arguments;return e.replace(St,function(e,n,i){var r=t[parseInt(n,10)+1];return c(r,ii.substring(1))})},gt._extractFormat=function(e){return{0===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},gt._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},gt._round=l,gt.toString=c}(),function(){function t(e,t,n){return!(e=t&&n=e)}function i(e){return e.charAt(0)}function r(t){return e.map(t,i)}function o(e,t){t23!==e.getHours()e.setHours(e.getHours()+2)}function a(e){for(var t=0,n=e.length,i=[];nt;t++)i[t]=(e[t]+).toLowerCase();return i}function s(e){var t,n={};for(t in e)n[t]=a(e[t]);return n}function l(e,i,a){if(!e)return null;var l,c,d,u,f,g,m,_,w,y,b,k,x,C=function(e){for(var t=0;i[B]===e;)t++,B++;return t0&&(B-=1),t},S=function(t){var n=v[t]RegExp(^d{1,+t+}),i=e.substr(H,t).match(n);return i(i=i[0],H+=i.length,parseInt(i,10))null},T=function(t,n){for(var i,r,o,a=0,s=t.length;sa;a++)if(i=t[a],r=i.length,o=e.substr(H,r),n&&(o=o.toLowerCase()),o==i)return H+=r,a+1;return null},D=function(){var t=!1;return e.charAt(H)===i[B]&&(H++,t=!0),t},A=a.calendars.standard,E=null,I=null,M=null,P=null,z=null,F=null,R=null,B=0,H=0,L=!1,N=new Date,O=A.twoDigitYearMax2029,V=N.getFullYear();for(i(i=d),u=A.patterns[i],u&&(i=u),i=i.split(),d=i.length;dB;B++)if(l=i[B],L)'===lL=!1D();else if(d===l){if(c=C(d),A._lowerDays(A._lowerDays=s(A.days)),M=3cS(2)T(A._lowerDays[3==cnamesAbbrnames],!0),null===Mt(M,1,31))return null}else if(M===l){if(c=C(M),A._lowerMonths(A._lowerMonths=s(A.months)),I=3cS(2)T(A._lowerMonths[3==cnamesAbbrnames],!0),null===It(I,1,12))return null;I-=1}else if(y===l){if(c=C(y),E=S(c),null===E)return null;2==c&&(string==typeof O&&(O=V+parseInt(O,10)),E=V-V%100+E,EO&&(E-=100))}else if(h===l){if(C(h),P=S(2),12==P&&(P=0),null===Pt(P,0,11))return null}else if(H===l){if(C(H),P=S(2),null===Pt(P,0,23))return null}else if(m===l){if(C(m),z=S(2),null===zt(z,0,59))return null}else if(s===l){if(C(s),F=S(2),null===Ft(F,0,59))return null}else if(f===l){if(c=C(f),x=e.substr(H,c).match(v[3]),R=S(c),null!==R&&(x=x[0].length,3x&&(R=Math.pow(10,3-x)),c3&&(R=parseInt((+R).substring(0,3),10))),null===Rt(R,0,999))return null}else if(t===l){if(c=C(t),_=A.AM,w=A.PM,1===c&&(_=r(_),w=r(w)),f=T(w),!f&&!T(_))return null}else if(z===l){if(g=!0,c=C(z),Z===e.substr(H,1)){D();continue}if(m=e.substr(H,6).match(c2ph),!m)return null;if(m=m[0].split(),y=m[0],b=m[1],!b&&y.length3&&(H=y.length-2,b=y.substring(H),y=y.substring(0,H)),y=parseInt(y,10),t(y,-12,13))return null;if(c2&&(b=parseInt(b,10),isNaN(b)t(b,0,59)))return null}else if('===l)L=!0,D();else if(!D())return null;return k=null!==Pnull!==zFnull,null===E&&null===I&&null===M&&k(E=V,I=N.getMonth(),M=N.getDate())(null===E&&(E=V),null===M&&(M=1)),f&&12P&&(P+=12),g(y&&(P+=-y),b&&(z+=-b),e=new Date(Date.UTC(E,I,M,P,z,F,R)))(e=new Date(E,I,M,P,z,F,R),o(e,P)),100E&&e.setFullYear(E),e.getDate()!==M&&g===nnulle}function c(e){var t=-===e.substr(0,1)-11;return e=e.substring(1),e=60parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),te}var d=u00A0g,u=[eE][-+][0-9]+,h=[+-]d{1,2},p=[+-]d{1,2}d{2},f=^Date((.))$,g=[+-]d,m=[G,g,d,F,D,y,m,T,t],v={2^d{1,2},3^d{1,3},4^d{4}},_={}.toString;gt.parseDate=function(e,t,n){var i,r,o,a,s;if([object Date]===_.call(e))return e;if(i=0,r=null,e&&0===e.indexOf(D)&&(r=f.exec(e)))return r=r[1],s=g.exec(r.substring(1)),r=new Date(parseInt(r,10)),s&&(s=c(s[0]),r=gt.timezone.apply(r,0),r=gt.timezone.convert(r,0,-1s)),r;if(n=gt.getCulture(n),!t){for(t=[],a=n.calendar.patterns,o=m.length;oi;i++)t[i]=a[m[i]];i=0,t=[yyyyMMdd HHmmss,yyyyMMdd HHmm,yyyyMMdd,ddd MMM dd yyyy HHmmss,yyyy-MM-ddTHHmmss.fffffffzzz,yyyy-MM-ddTHHmmss.fffzzz,yyyy-MM-ddTHHmmsszzz,yyyy-MM-ddTHHmmss.fffffff,yyyy-MM-ddTHHmmss.fff,yyyy-MM-ddTHHmmzzz,yyyy-MM-ddTHHmmzz,yyyy-MM-ddTHHmmss,yyyy-MM-ddTHHmm,yyyy-MM-dd HHmmss,yyyy-MM-dd HHmm,yyyy-MM-dd,HHmmss,HHmm].concat(t)}for(t=_t(t)t[t],o=t.length;oi;i++)if(r=l(e,t[i],n))return r;return r},gt.parseInt=function(e,t){var n=gt.parseFloat(e,t);return n&&(n=0n),n},gt.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===It)return e;e=+e,t=gt.getCulture(t);var i,r,o=t.numberFormat,a=o.percent,s=o.currency,l=s.symbol,c=a.symbol,h=e.indexOf(-);return u.test(e)(e=parseFloat(e.replace(o[.],.)),isNaN(e)&&(e=null),e)h0null(h=h-1,e.indexOf(l)-1n&&n.toLowerCase().indexOf(c)-1(o=s,i=o.pattern[0].replace($,l).split(n),e.indexOf(i[0])-1&&e.indexOf(i[1])-1&&(e=e.replace(i[0],).replace(i[1],),h=!0))e.indexOf(c)-1&&(r=!0,o=a,l=c),e=e.replace(-,).replace(l,).replace(d, ).split(o[,].replace(d, )).join().replace(o[.],.),e=parseFloat(e),isNaN(e)e=nullh&&(e=-1),e&&r&&(e=100),e)},Lt&&!Lt.load&&(gt.parseDate=function(e,t,n){return[object Date]===_.call(e)eLt.parseDate(e,t,n)},gt.parseFloat=function(t,i){return typeof t===Ittt===nnull===tnull(e.isPlainObject(i)&&(i=i.name),t=Lt.parseFloat(t,i),isNaN(t)nullt)})}(),function(){var i,r,o,a,s,l,c;xt._scrollbar=n,xt.scrollbar=function(e){if(isNaN(xt._scrollbar)e){var t,n=document.createElement(div);return n.style.cssText=overflowscroll;overflow-xhidden;zoom1;clearboth;displayblock,n.innerHTML=&nbsp;,document.body.appendChild(n),xt._scrollbar=t=n.offsetWidth-n.scrollWidth,document.body.removeChild(n),t}return xt._scrollbar},xt.isRtl=function(t){return e(t).closest(.k-rtl).length0},i=document.createElement(table);try{i.innerHTML=trtdtdtr,xt.tbodyInnerHtml=!0}catch(u){xt.tbodyInnerHtml=!1}xt.touch=ontouchstartin t,xt.msPointers=t.MSPointerEvent,xt.pointers=t.PointerEvent,r=xt.transitions=!1,o=xt.transforms=!1,a=HTMLElementin tHTMLElement.prototype[],xt.hasHW3D=WebKitCSSMatrixin t&&m11in new t.WebKitCSSMatrixMozPerspectivein document.documentElement.stylemsPerspectivein document.documentElement.style,vt([Moz,webkit,O,ms],function(){var e,t=+this,a=typeof i.style[t+Transition]===Et;return atypeof i.style[t+Transform]===Et(e=t.toLowerCase(),o={cssms!=e-+e+-,prefixt,evento===ewebkit===ee},a&&(r=o,r.event=r.eventr.event+TransitionEndtransitionend),!1)n}),i=null,xt.transforms=o,xt.transitions=r,xt.devicePixelRatio=t.devicePixelRatio===n1t.devicePixelRatio;try{xt.screenWidth=t.outerWidtht.screent.screen.availWidtht.innerWidth,xt.screenHeight=t.outerHeightt.screent.screen.availHeightt.innerHeight}catch(u){xt.screenWidth=t.screen.availWidth,xt.screenHeight=t.screen.availHeight}xt.detectOS=function(e){var n,i,r=!1,o=[],a=!mobile safarii.test(e),s={wp(Windows Phone( OS))s(d+).(d+(.d+)),fire(Silk)(d+).(d+(.d+)),android(AndroidAndroid.(OperaFirefox).)s(d+).(d+(.d+)),iphone(iPhoneiPod).OSs+(d+)[._]([d._]+),ipad(iPad).OSs+(d+)[._]([d_]+),meego(MeeGo).+NokiaBrowser(d+).([d._]+),webos(webOS)(d+).(d+(.d+)),blackberry(BlackBerryBB10).Version(d+).(d+(.d+)),playbook(PlayBook).TabletsOSs(d+).(d+(.d+)),windows(MSIE)s+(d+).(d+(.d+)),tizen(tizen).Version(d+).(d+(.d+))i,sailfish(sailfish).rv(d+).(d+(.d+)).firefoxi,ffos(Mobile).rv(d+).(d+(.d+)).Firefox},l={ios^i(phonepadpod)$i,android^androidfire$i,blackberry^blackberryplaybooki,windowswindows,wpwp,flatsailfishffostizeni,meegomeego},c={tabletplaybookipadfirei},u={ominiOperasMinii,omobileOperasMobii,firefoxFirefoxFenneci,mobilesafariversion.safarii,ieMSIEWindowssPhonei,chromechromecriosi,webkitwebkiti};for(i in s)if(s.hasOwnProperty(i)&&(o=e.match(s[i]))){if(windows==i&&pluginsin navigator)return!1;r={},r.device=i,r.tablet=d(i,c,!1),r.browser=d(e,u,default),r.name=d(i,l),r[r.name]=!0,r.majorVersion=o[2],r.minorVersion=o[3].replace(_,.),n=r.minorVersion.replace(.,).substr(0,2),r.flatVersion=r.majorVersion+n+Array(3-(3n.lengthn.length2)).join(0),r.cordova=typeof t.PhoneGap!==Fttypeof t.cordova!==Ft,r.appMode=t.navigator.standalonefilelocalwmapp.test(t.location.protocol)r.cordova,r.android&&(1.5xt.devicePixelRatio&&400r.flatVersiona)&&(xt.screenWidth800xt.screenHeight800)&&(r.tablet=i);break}return r},s=xt.mobileOS=xt.detectOS(navigator.userAgent),xt.wpDevicePixelRatio=s.wpscreen.width3200,xt.kineticScrollNeeded=s&&(xt.touchxt.msPointersxt.pointers),xt.hasNativeScrolling=!1,(s.ioss.android&&s.majorVersion2s.wp)&&(xt.hasNativeScrolling=s),xt.mouseAndTouchPresent=xt.touch&&!(xt.mobileOS.iosxt.mobileOS.android),xt.detectBrowser=function(e){var t,n=!1,i=[],r={webkit(chrome)[ ]([w.]+)i,safari(webkit)[ ]([w.]+)i,opera(opera)(.version)[ ]([w.]+)i,msie(msiestrident. rv)([w.]+)i,mozilla(mozilla)(. rv([w.]+))i};for(t in r)if(r.hasOwnProperty(t)&&(i=e.match(r[t]))){n={},n[t]=!0,n[i[1].toLowerCase().split( )[0].split()[0]]=!0,n.version=parseInt(document.documentModei[2],10);break}return n},xt.browser=xt.detectBrowser(navigator.userAgent),xt.zoomLevel=function(){try{return xt.touchdocument.documentElement.clientWidtht.innerWidthxt.browser.msie&&xt.browser.version=10(topt).document.documentElement.offsetWidth(topt).innerWidth1}catch(e){return 1}},xt.cssBorderSpacing=n!==document.documentElement.style.borderSpacing&&!(xt.browser.msie&&8xt.browser.version),function(t){var n=,i=e(document.documentElement),r=parseInt(t.version,10);t.msien=iet.mozillan=fft.safarin=safarit.webkitn=webkitt.opera&&(n=opera),n&&(n=k-+n+ k-+n+r),xt.mobileOS&&(n+= k-mobile),i.addClass(n)}(xt.browser),xt.eventCapture=document.documentElement.addEventListener,l=document.createElement(input),xt.placeholder=placeholderin l,xt.propertyChangeEvent=onpropertychangein l,xt.input=function(){for(var e,t=[number,date,time,month,week,datetime,datetime-local],n=t.length,i=test,r={},o=0;no;o++)e=t[o],l.setAttribute(type,e),l.value=i,r[e.replace(-,)]=text!==l.type&&l.value!==i;return r}(),l.style.cssText=floatleft;,xt.cssFloat=!!l.style.cssFloat,l=null,xt.stableSort=function(){var e,t=513,n=[{index0,fieldb}];for(e=1;te;e++)n.push({indexe,fielda});return n.sort(function(e,t){return e.fieldt.field1t.fielde.field-10}),1===n[0].index}(),xt.matchesSelector=a.webkitMatchesSelectora.mozMatchesSelectora.msMatchesSelectora.oMatchesSelectora.matchesSelectora.matchesfunction(t){for(var n=document.querySelectorAll(this.parentNodedocument).querySelectorAll(t)[]e(t),i=n.length;i--;)if(n[i]==this)return!0;return!1},xt.pushState=t.history&&t.history.pushState,c=document.documentMode,xt.hashChange=onhashchangein t&&!(xt.browser.msie&&(!c8=c))}(),V={left{reverseright},right{reverseleft},down{reverseup},up{reversedown},top{reversebottom},bottom{reversetop},in{reverseout},out{reversein}},U={},e.extend(U,{enabled!0,Elementfunction(t){this.element=e(t)},promisefunction(e,t){e.is(visible)e.css({displaye.data(olddisplay)block}).css(display),t.hide&&e.data(olddisplay,e.css(display)).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disablefunction(){this.enabled=!1,this.promise=this.promiseShim},enablefunction(){this.enabled=!0,this.promise=this.animatedPromise}}),U.promiseShim=U.promise,kendoAnimatein e.fnmt(e.fn,{kendoStopfunction(e,t){return this.stop(e,t)},kendoAnimatefunction(e,t,n,i){return w(this,e,t,n,i)},kendoAddClassfunction(e,t){return gt.toggleClass(this,e,t,!0)},kendoRemoveClassfunction(e,t){return gt.toggleClass(this,e,t,!1)},kendoToggleClassfunction(e,t,n){return gt.toggleClass(this,e,t,n)}}),W=&g,j=g,G=g,q='g,$=g,Y=function(e){return e.target},xt.touch&&(Y=function(e){var t=originalEventin ee.originalEvent.changedToucheschangedTouchesin ee.changedTouchesnull;return tdocument.elementFromPoint(t[0].clientX,t[0].clientY)e.target},vt([swipe,swipeLeft,swipeRight,swipeUp,swipeDown,doubleTap,tap],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),xt.touchxt.mobileOS(xt.mousedown=touchstart,xt.mouseup=touchend,xt.mousemove=touchmove,xt.mousecancel=touchcancel,xt.click=touchend,xt.resize=orientationchange)(xt.mousedown=mousedown touchstart,xt.mouseup=mouseup touchend,xt.mousemove=mousemove touchmove,xt.mousecancel=mouseleave touchcancel,xt.click=click,xt.resize=resize)xt.pointers(xt.mousemove=pointermove,xt.mousedown=pointerdown,xt.mouseup=pointerup,xt.mousecancel=pointercancel,xt.click=pointerup,xt.resize=orientationchange resize)xt.msPointers(xt.mousemove=MSPointerMove,xt.mousedown=MSPointerDown,xt.mouseup=MSPointerUp,xt.mousecancel=MSPointerCancel,xt.click=MSPointerUp,xt.resize=orientationchange resize)(xt.mousemove=mousemove,xt.mousedown=mousedown,xt.mouseup=mouseup,xt.mousecancel=mouseleave,xt.click=click,xt.resize=resize),Q=function(e,t){var n,i,r,o,a=td,s=1;for(i=0,r=e.length;ri;i++)o=e[i],!==o&&(n=o.indexOf([),0!==n&&(-1==no=.+o(s++,o=.+o.substring(0,n)+  {})+o.substring(n))),s++,a+=o+(r-1i  {}))));return Array(s).join(()+a},K=^([a-z]+)i,mt(gt,{uigt.ui{},fxgt.fxv,effectsgt.effectsU,mobilegt.mobile{},datagt.data{},datavizgt.dataviz{},keys{INSERT45,DELETE46,BACKSPACE8,TAB9,ENTER13,ESC27,LEFT37,UP38,RIGHT39,DOWN40,END35,HOME36,SPACEBAR32,PAGEUP33,PAGEDOWN34,F2113,F10121,F12123,NUMPAD_PLUS107,NUMPAD_MINUS109,NUMPAD_DOT110},supportgt.supportxt,animategt.animatew,ns,attrfunction(e){returndata-+gt.ns+e},getShadowsa,wraps,deepExtendl,getComputedStylesp,sizef,toCamelCaseh,toHyphensu,getOffsetgt.getOffsetg,parseEffectsgt.parseEffectsm,toggleClassgt.toggleClassy,directionsgt.directionsV,Observablez,Classi,TemplateE,templatewt(E.compile,E),renderwt(E.render,E),stringifywt(kt.stringify,kt),eventTargetY,htmlEncodeb,isLocalUrlfunction(e){return e&&!K.test(e)},exprfunction(e,t,n){return e=e,typeof t==Et&&(n=t,t=!1),n=nd,e&&[!==e.charAt(0)&&(e=.+e),t(e=e.replace(([^.]).([^])g,'$1_$DOT$_$2'),e=e.replace('([^.]).([^'])'g,'$1_$DOT$_$2'),e=Q(e.split(.),n),e=e.replace(_$DOT$_g,.))e=n+e,e},getterfunction(e,t){var n=e+t;return Rt[n]=Rt[n]Function(d,return +gt.expr(e,t))},setterfunction(e){return Bt[e]=Bt[e]Function(d,value,gt.expr(e)+=value)},accessorfunction(e){return{getgt.getter(e),setgt.setter(e)}},guidfunction(){var e,t,n=;for(e=0;32e;e++)t=16bt.random()0,(8==e12==e16==e20==e)&&(n+=-),n+=(12==e416==e3&t8t).toString(16);return n},roleSelectorfunction(e){return e.replace((S+)g,[+gt.attr(role)+=$1],).slice(0,-1)},directiveSelectorfunction(e){var t,n=e.split( );if(n)for(t=0;n.lengtht;t++)view!=n[t]&&(n[t]=n[t].replace((w)(viewbarstripover)$,$1-$2));return n.join( ).replace((S+)g,kendo-mobile-$1,).slice(0,-1)},triggeredByInputfunction(e){return^(labelinputtextareaselect)$i.test(e.target.tagName)},logToConsolefunction(e){var i=t.console;!gt.suppressLog&&n!==i&&i.log&&i.log(e)}}),X=z.extend({initfunction(e,t){var n,i=this;i.element=gt.jQuery(e).handler(i),i.angular(init,t),z.fn.init.call(i),n=tt.dataSourcenull,n&&(t=mt({},t,{dataSource{}})),t=i.options=mt(!0,{},i.options,t),n&&(t.dataSource=n),i.element.attr(gt.attr(role))i.element.attr(gt.attr(role),(t.name).toLowerCase()),i.element.data(kendo+t.prefix+t.name,i),i.bind(i.events,t)},events[],options{prefix},_hasBindingTargetfunction(){return!!this.element[0].kendoBindingTarget},_tabindexfunction(e){e=ethis.wrapper;var t=this.element,n=tabindex,i=e.attr(n)t.attr(n);t.removeAttr(n),e.attr(n,isNaN(i)0i)},setOptionsfunction(t){this._setEvents(t),e.extend(this.options,t)},_setEventsfunction(e){for(var t,n=this,i=0,r=n.events.length;ri;i++)t=n.events[i],n.options[t]&&e[t]&&n.unbind(t,n.options[t]);n.bind(n.events,e)},resizefunction(e){var t=this.getSize(),n=this._size;(e(t.width0t.height0)&&(!nt.width!==n.widtht.height!==n.height))&&(this._size=t,this._resize(t,e),this.trigger(resize,t))},getSizefunction(){return gt.dimensions(this.element)},sizefunction(e){return e(this.setSize(e),n)this.getSize()},setSizee.noop,_resizee.noop,destroyfunction(){var e=this;e.element.removeData(kendo+e.options.prefix+e.options.name),e.element.removeData(handler),e.unbind()},angularfunction(){}}),Z=X.extend({dataItemsfunction(){return this.dataSource.flatView()},_angularItemsfunction(t){var n=this;n.angular(t,function(){return{elementsn.items(),datae.map(n.dataItems(),function(e){return{dataIteme}})}})}}),gt.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{widthn.offsetWidth,heightn.offsetHeight}
},gt.notify=yt,J=template$i,et=^s({(.rnn)}[(.rnn)])s$,tt=^{(d+)([^}]+)}^[[A-Za-z_]]$,nt=([A-Z])g,gt.initWidget=function(i,r,o){var a,s,l,c,d,u,h,p,f,g,m,v,_;if(oo.roles&&(o=o.roles)o=gt.ui.roles,i=i.nodeTypeii[0],u=i.getAttribute(data-+gt.ns+role)){f=-1===u.indexOf(.),l=fo[u]gt.getter(u)(t),m=e(i).data(),v=lkendo+l.fn.options.prefix+l.fn.options.name,g=fRegExp(^kendo.+u+$,i)RegExp(^+v+$,i);for(_ in m)if(_.match(g)){if(_!==v)return m[_];a=m[_]}if(l){for(p=k(i,dataSource),r=e.extend({},x(i,l.fn.options),r),p&&(r.dataSource=typeof p===Etgt.getter(p)(t)p),c=0,d=l.fn.events.length;dc;c++)s=l.fn.events[c],h=k(i,s),h!==n&&(r[s]=gt.getter(h)(t));return ae.isEmptyObject(r)a.setOptions(r)a=new l(i,r),a}}},gt.rolesFromNamespaces=function(e){var t,n,i=[];for(e[0](e=[gt.ui,gt.dataviz.ui]),t=0,n=e.length;nt;t++)i[t]=e[t].roles;return mt.apply(null,[{}].concat(i.reverse()))},gt.init=function(t){var n=gt.rolesFromNamespaces(Ht.call(arguments,1));e(t).find([data-+gt.ns+role]).addBack().each(function(){gt.initWidget(this,{},n)})},gt.destroy=function(t){e(t).find([data-+gt.ns+role]).addBack().each(function(){var t,n=e(this).data();for(t in n)0===t.indexOf(kendo)&&typeof n[t].destroy===At&&n[t].destroy()})},gt.resize=function(t,n){var i,r=e(t).find([data-+gt.ns+role]).addBack().filter(S);r.length&&(i=e.makeArray(r),i.sort(C),e.each(i,function(){var t=gt.widgetInstance(e(this));t&&t.resize(n)}))},gt.parseOptions=x,mt(gt.ui,{WidgetX,DataBoundWidgetZ,roles{},progressfunction(t,n){var i,r,o,a,s=t.find(.k-loading-mask),l=gt.support,c=l.browser;ns.length(i=l.isRtl(t),r=irightleft,a=t.scrollLeft(),o=c.webkit&&it[0].scrollWidth-t.width()-2a0,s=e(div class='k-loading-mask'span class='k-loading-text'Loading...spandiv class='k-loading-image'div class='k-loading-color'div).width(100%).height(100%).css(top,t.scrollTop()).css(r,Math.abs(a)+o).prependTo(t))s&&s.remove()},pluginfunction(t,i,r){var o,a=t.fn.options.name;i=igt.ui,r=r,i[a]=t,i.roles[a.toLowerCase()]=t,o=getKendo+r+a,a=kendo+r+a,e.fn[a]=function(i){var r,o=this;return typeof i===Et(r=Ht.call(arguments,1),this.each(function(){var t,s,l=e.data(this,a);if(!l)throw Error(gt.format(Cannot call method '{0}' of {1} before it is initialized,i,a));if(t=l[i],typeof t!==At)throw Error(gt.format(Cannot find method '{0}' of {1},i,a));return s=t.apply(l,r),s!==n(o=s,!1)n}))this.each(function(){new t(this,i)}),o},e.fn[a].widget=t,e.fn[o]=function(){return this.data(a)}}}),it={bindfunction(){return this},nullObject!0,options{}},rt=X.extend({initfunction(e,t){X.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass(km-widget)},destroyfunction(){X.fn.destroy.call(this),this.element.kendoDestroy()},options{prefixMobile},events[],viewfunction(){var e=this.element.closest(gt.roleSelector(view splitview modalview drawer));return gt.widgetInstance(e,gt.mobile.ui)it},viewHasNativeScrollingfunction(){var e=this.view();return e&&e.options.useNativeScrolling},containerfunction(){var e=this.element.closest(gt.roleSelector(view layout modalview drawer splitview));return gt.widgetInstance(e.eq(0),gt.mobile.ui)it}}),mt(gt.mobile,{initfunction(e){gt.init(e,gt.mobile.ui,gt.ui,gt.dataviz.ui)},appLevelNativeScrollingfunction(){return gt.mobile.application&&gt.mobile.application.options&&gt.mobile.application.options.useNativeScrolling},roles{},ui{Widgetrt,DataBoundWidgetZ.extend(rt.prototype),roles{},pluginfunction(e){gt.ui.plugin(e,gt.mobile.ui,Mobile)}}}),l(gt.dataviz,{initfunction(e){gt.init(e,gt.dataviz.ui)},ui{roles{},themes{},views[],pluginfunction(e){gt.ui.plugin(e,gt.dataviz.ui)}},roles{}}),gt.touchScroller=function(t,n){return e(t).map(function(t,i){return i=e(i),xt.kineticScrollNeeded&&gt.mobile.ui.Scroller&&!i.data(kendoMobileScroller)(i.kendoMobileScroller(n),i.data(kendoMobileScroller))!1})[0]},gt.preventDefault=function(e){e.preventDefault()},gt.widgetInstance=function(e,n){var i,r,o,a,s=e.data(gt.ns+role),l=[];if(s){if(content===s&&(s=scroller),n)if(n[0])for(i=0,r=n.length;ri;i++)l.push(n[i].roles[s]);else l.push(n.roles[s]);else l=[gt.ui.roles[s],gt.dataviz.ui.roles[s],gt.mobile.ui.roles[s]];for(s.indexOf(.)=0&&(l=[gt.getter(s)(t)]),i=0,r=l.length;ri;i++)if(o=l[i],o&&(a=e.data(kendo+o.fn.options.prefix+o.fn.options.name)))return a}},gt.onResize=function(n){var i=n;return xt.mobileOS.android&&(i=function(){setTimeout(n,600)}),e(t).on(xt.resize,i),i},gt.unbindResize=function(n){e(t).off(xt.resize,n)},gt.attrValue=function(e,t){return e.data(gt.ns+t)},gt.days={Sunday0,Monday1,Tuesday2,Wednesday3,Thursday4,Friday5,Saturday6},e.extend(e.expr[],{kendoFocusablefunction(t){var n=e.attr(t,tabindex);return T(t,!isNaN(n)&&n-1)}}),ot=[mousedown,mousemove,mouseenter,mouseleave,mouseover,mouseout,mouseup,click],at=label, input, [data-rel=external],st={setupMouseMutefunction(){var t,n=0,i=ot.length,r=document.documentElement;if(!st.mouseTrap&&xt.eventCapture)for(st.mouseTrap=!0,st.bustClick=!1,st.captureMouse=!1,t=function(t){st.captureMouse&&(click===t.typest.bustClick&&!e(t.target).is(at)&&(t.preventDefault(),t.stopPropagation())t.stopPropagation())};in;n++)r.addEventListener(ot[n],t,!0)},muteMousefunction(e){st.captureMouse=!0,e.data.bustClick&&(st.bustClick=!0),clearTimeout(st.mouseTrapTimeoutID)},unMuteMousefunction(){clearTimeout(st.mouseTrapTimeoutID),st.mouseTrapTimeoutID=setTimeout(function(){st.captureMouse=!1,st.bustClick=!1},400)}},lt={downtouchstart mousedown,movemousemove touchmove,upmouseup touchend touchcancel,cancelmouseleave touchcancel},xt.touch&&(xt.mobileOS.iosxt.mobileOS.android)lt={downtouchstart,movetouchmove,uptouchend touchcancel,canceltouchcancel}xt.pointerslt={downpointerdown,movepointermove,uppointerup,cancelpointercancel pointerleave}xt.msPointers&&(lt={downMSPointerDown,moveMSPointerMove,upMSPointerUp,cancelMSPointerCancel MSPointerLeave}),!xt.msPointersonmspointerenterin te.each({MSPointerEnterMSPointerOver,MSPointerLeaveMSPointerOut},function(t,n){e.event.special[t]={delegateTypen,bindTypen,handlefunction(t){var i,r=this,o=t.relatedTarget,a=t.handleObj;return(!oo!==r&&!e.contains(r,o))&&(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=n),i}}}),ct=function(e){return lt[e]e},dt=([^ ]+)g,gt.applyEventMap=function(e,t){return e=e.replace(dt,ct),t&&(e=e.replace(dt,$1.+t)),e},ut=e.fn.on,mt(!0,A,e),A.fn=A.prototype=new e,A.fn.constructor=A,A.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof A)&&(n=A(n)),e.fn.init.call(this,t,n,ht)},A.fn.init.prototype=A.fn,ht=A(document),mt(A.fn,{handlerfunction(e){return this.data(handler,e),this},autoApplyNSfunction(e){return this.data(kendoNS,egt.guid()),this},onfunction(){var e,t,n,i,r,o,a=this,s=a.data(kendoNS);return 1===arguments.lengthut.call(a,arguments[0])(e=a,t=Ht.call(arguments),typeof t[t.length-1]===Ft&&t.pop(),n=t[t.length-1],i=gt.applyEventMap(t[0],s),xt.mouseAndTouchPresent&&i.search(mouseclick)-1&&this[0]!==document.documentElement&&(st.setupMouseMute(),r=2===t.lengthnullt[1],o=i.indexOf(click)-1&&i.indexOf(touchend)-1,ut.call(this,{touchstartst.muteMouse,touchendst.unMuteMouse},r,{bustClicko})),typeof n===Et&&(e=a.data(handler),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=i,ut.apply(a,t),a)},kendoDestroyfunction(e){return e=ethis.data(kendoNS),e&&this.off(.+e),this}}),gt.jQuery=A,gt.eventMap=lt,gt.timezone=function(){function e(e,t){var n,i,r,o=t[3],a=t[4],s=t[5],l=t[8];return l(t[8]=l={}),l[e]l[e](isNaN(a)0===a.indexOf(last)(n=new Date(Date.UTC(e,d[o]+1,1,s[0]-24,s[1],s[2],0)),i=u[a.substr(4,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r-(ir70)))a.indexOf(=)=0&&(n=new Date(Date.UTC(e,d[o],a.substr(5),s[0],s[1],s[2],0)),i=u[a.substr(0,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r+(ri70)))n=new Date(Date.UTC(e,d[o],a,s[0],s[1],s[2],0)),l[e]=n)}function t(t,n,i){var r,o,a,s;return(n=n[i])(a=new Date(t).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return a=t&&(n=at==a&&only==nmax==n)}),n.push(t),n.sort(function(t,n){returnnumber!=typeof t&&(t=+e(a,t)),number!=typeof n&&(n=+e(a,n)),t-n}),s=n[jQuery.inArray(t,n)-1]n[n.length-1],isNaN(s)snull)(r=i.split(),o=0,r.length1&&(o=60r[0]+ +r[1]),[-1e6,max,-,Jan,1,[0,0,0],o,-])}function n(e,t,n){var i,r,o,a=t[n];if(string==typeof a&&(a=t[a]),!a)throw Error('Timezone '+n+' is either incorrect, or kendo.timezones.min.js is not included.');for(i=a.length-1;i=0&&(r=a[i][3],!(r&&er));i--);if(o=a[i+1],!o)throw Error('Timezone '+n+' not found on '+e+.);return o}function i(e,i,r,o){typeof e!=It&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var a=n(e,i,o);return{zonea,rulet(e,r,a[1])}}function r(e,t){var n,r,o;returnEtcUTC==tEtcGMT==t0(n=i(e,this.zones,this.rules,t),r=n.zone,o=n.rule,gt.parseFloat(or[0]-o[6]r[0]))}function o(e,t){var n=i(e,this.zones,this.rules,t),r=n.zone,o=n.rule,a=r[2];return a.indexOf()=0a.split()[o&&+o[6]10]a.indexOf(%s)=0a.replace(%s,o&&-!=o[7]o[7])a}function a(e,t,n){var i,r;return typeof t==Et&&(t=this.offset(e,t)),typeof n==Et&&(n=this.offset(e,n)),i=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4(t-n)),r=e.getTimezoneOffset(),new Date(e.getTime()+6e4(r-i))}function s(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function l(e,t){return this.convert(e,t,e.getTimezoneOffset())}function c(e){return this.apply(new Date(e),EtcUTC)}var d={Jan0,Feb1,Mar2,Apr3,May4,Jun5,Jul6,Aug7,Sep8,Oct9,Nov10,Dec11},u={Sun0,Mon1,Tue2,Wed3,Thu4,Fri5,Sat6};return{zones{},rules{},offsetr,converta,applys,removel,abbro,toLocalDatec}}(),gt.date=function(){function e(e,t){return 0===t&&23===e.getHours()(e.setHours(e.getHours()+2),!0)!1}function t(t,n,i){var r=t.getHours();i=i1,n=(n-t.getDay()+7i)%7,t.setDate(t.getDate()+n),e(t,r)}function n(e,n,i){return e=new Date(e),t(e,n,i),e}function i(e){return new Date(e.getFullYear(),e.getMonth(),1)}function r(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=i(e),r=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return r&&t.setHours(n.getHours()+r60),t}function o(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function a(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function s(e){return e.getTime()-o(e)}function l(e,t,n){var i,r=s(t),o=s(n);return e&&r!=o(t=n&&(n+=m),i=s(e),ri&&(i+=m),ro&&(o+=m),i=r&&o=i)!0}function c(e,t,n){var i,r=t.getTime(),o=n.getTime();return r=o&&(o+=m),i=e.getTime(),i=r&&o=i}function d(t,n){var i=t.getHours();return t=new Date(t),u(t,nm),e(t,i),t}function u(e,t,n){var i,r=e.getTimezoneOffset();e.setTime(e.getTime()+t),n(i=e.getTimezoneOffset()-r,e.setTime(e.getTime()+ig))}function h(){return o(new Date)}function p(e){return o(e).getTime()==h().getTime()}function f(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var g=6e4,m=864e5;return{adjustDSTe,dayOfWeekn,setDayOfWeekt,getDateo,isInDateRangec,isInTimeRangel,isTodayp,nextDayfunction(e){return d(e,1)},previousDayfunction(e){return d(e,-1)},toUtcTimea,MS_PER_DAYm,MS_PER_HOUR60g,MS_PER_MINUTEg,setTimeu,addDaysd,todayh,toInvariantTimef,firstDayOfMonthi,lastDayOfMonthr,getMillisecondss}}(),gt.stripWhitespace=function(e){var t,n,i;if(document.createNodeIterator)for(t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==eNodeFilter.FILTER_ACCEPTNodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(n=0;e.childNodes.lengthn;n++)i=e.childNodes[n],3!=i.nodeTypeS.test(i.nodeValue)(e.removeChild(i),n--),1==i.nodeType&&gt.stripWhitespace(i)},pt=t.requestAnimationFramet.webkitRequestAnimationFramet.mozRequestAnimationFramet.oRequestAnimationFramet.msRequestAnimationFramefunction(e){setTimeout(e,1e360)},gt.animationFrame=function(e){pt.call(t,e)},ft=[],gt.queueAnimation=function(e){ft[ft.length]=e,1===ft.length&&gt.runNextAnimation()},gt.runNextAnimation=function(){gt.animationFrame(function(){ft[0]&&(ft.shift()(),ft[0]&&gt.runNextAnimation())})},gt.parseQueryStringParams=function(e){for(var t=e.split()[1],n={},i=t.split(&=),r=i.length,o=0;ro;o+=2)!==i[o]&&(n[decodeURIComponent(i[o])]=decodeURIComponent(i[o+1]));return n},gt.elementUnderCursor=function(e){return n!==e.x.clientdocument.elementFromPoint(e.x.client,e.y.client)n},gt.wheelDeltaY=function(e){var t,i=e.originalEvent,r=i.wheelDeltaY;return i.wheelDelta(r===nr)&&(t=i.wheelDelta)i.detail&&i.axis===i.VERTICAL_AXIS&&(t=10-i.detail),t},gt.throttle=function(e,t){var i,r,o=0;return!t0=te(r=function(){function r(){e.apply(a,l),o=+new Date}var a=this,s=+new Date-o,l=arguments;return o(i&&clearTimeout(i),str()i=setTimeout(r,t-s),n)r()},r.cancel=function(){clearTimeout(i)},r)},gt.caret=function(t,i,r){var o,a,s,l,c=i!==n;if(r===n&&(r=i),t[0]&&(t=t[0]),!c!t.disabled){try{t.selectionStart!==nc(t.focus(),t.setSelectionRange(i,r))i=[t.selectionStart,t.selectionEnd]document.selection&&(e(t).is(visible)&&t.focus(),o=t.createTextRange(),c(o.collapse(!0),o.moveStart(character,i),o.moveEnd(character,r-i),o.select())(a=o.duplicate(),o.moveToBookmark(document.selection.createRange().getBookmark()),a.setEndPoint(EndToStart,o),s=a.text.length,l=s+o.text.length,i=[s,l]))}catch(d){i=[]}return i}},gt.compileMobileDirective=function(e,n){var i=t.angular;return e.attr(data-+gt.ns+role,e[0].tagName.toLowerCase().replace(kendo-mobile-,).replace(-,)),i.element(e).injector().invoke([$compile,function(t){t(e)(n),^$(digestapply)$.test(n.$$phase)n.$digest()}]),gt.widgetInstance(e,gt.mobile.ui)},gt.antiForgeryTokens=function(){var t={},i=e(meta[name=csrf-token],meta[name=_csrf]).attr(content),r=e(meta[name=csrf-param],meta[name=_csrf_header]).attr(content);return e(input[name^='__RequestVerificationToken']).each(function(){t[this.name]=this.value}),r!==n&&i!==n&&(t[r]=i),t},function(){function n(t,n,i,r){var o,a,s=e(form).attr({actioni,methodPOST,targetr}),l=gt.antiForgeryTokens();l.fileName=n,o=t.split(;base64,),l.contentType=o[0].replace(data,),l.base64=o[1];for(a in l)l.hasOwnProperty(a)&&e(input).attr({valuel[a],namea,typehidden}).appendTo(s);s.appendTo(body).submit().remove()}function i(e,t){var n,i,r,o,a,s=e;if(string==typeof e){for(n=e.split(;base64,),i=n[0],r=atob(n[1]),o=new Uint8Array(r.length),a=0;r.lengtha;a++)o[a]=r.charCodeAt(a);s=new Blob([o.buffer],{typei})}navigator.msSaveBlob(s,t)}function r(e,n){t.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),o.download=n,o.href=e;var i=document.createEvent(MouseEvents);i.initMouseEvent(click,!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(i)}var o=document.createElement(a),a=downloadin o;gt.saveAs=function(e){var t=n;e.forceProxy(at=rnavigator.msSaveBlob&&(t=i)),t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)}}()}(jQuery,window),function(e,t){function n(e,t){if(!t)return e;e+===t&&(e=t);var n=RegExp(^+t,i);return n.test(e)(e=t++e),p.protocol++(p.host++e).replace(+g,)}function i(e){return e#!#}function r(e){var t=p.href;return#!===e&&t.indexOf(#)-1&&t.indexOf(#!)0nullt.split(e)[1]}function o(e,t){return 0===t.indexOf(e)t.substr(e.length).replace(g,)t}function a(e){return e.replace(^(#),#)}function s(e){return e.replace(^(#(!)),#!)}var l=window.kendo,c=change,d=back,u=same,h=l.support,p=window.location,f=window.history,g=50,m=l.support.browser.msie,v=^#,_=window.document,w=l.Class.extend({backfunction(){msetTimeout(function(){f.back()})f.back()},forwardfunction(){msetTimeout(function(){f.forward()})f.forward()},lengthfunction(){return f.length},replaceLocationfunction(e){p.replace(e)}}),y=w.extend({initfunction(e){this.root=e},navigatefunction(e){f.pushState({},_.title,n(e,this.root))},replacefunction(e){f.replaceState({},_.title,n(e,this.root))},normalizefunction(e){return o(this.root,e)},currentfunction(){var e=p.pathname;return p.search&&(e+=p.search),o(this.root,e)},changefunction(t){e(window).bind(popstate.kendo,t)},stopfunction(){e(window).unbind(popstate.kendo)},normalizeCurrentfunction(e){var t,o=e.root,a=p.pathname,s=r(i(e.hashBang));o===a+&&(t=o),o===a&&s&&(t=n(s.replace(v,),o)),t&&f.pushState({},_.title,t)}}),b=w.extend({initfunction(e){this._id=l.guid(),this.prefix=i(e),this.fix=esa},navigatefunction(e){p.hash=this.fix(e)},replacefunction(e){this.replaceLocation(this.fix(e))},normalizefunction(e){return e.indexOf(this.prefix)0ee.split(this.prefix)[1]},changefunction(t){h.hashChangee(window).on(hashchange.+this._id,t)this._interval=setInterval(t,g)},stopfunction(){e(window).off(hashchange.+this._id),clearInterval(this._interval)},currentfunction(){return r(this.prefix)},normalizeCurrentfunction(e){var t=p.pathname,n=e.root;return e.pushState&&n!==t(this.replaceLocation(n+this.prefix+o(n,t)),!0)!1}}),k=l.Observable.extend({startfunction(t){if(t=t{},this.bind([c,d,u],t),!this._started){this._started=!0,t.root=t.root;var n,i=this.createAdapter(t);i.normalizeCurrent(t)(n=i.current(),e.extend(this,{adapteri,roott.root,historyLengthi.length(),currentn,locations[n]}),i.change(e.proxy(this,_checkUrl)))}},createAdapterfunction(e){return h.pushState&&e.pushStatenew y(e.root)new b(e.hashBang)},stopfunction(){this._started&&(this.adapter.stop(),this.unbind(c),this._started=!1)},changefunction(e){this.bind(c,e)},replacefunction(e,t){this._navigate(e,t,function(t){t.replace(e),this.locations[this.locations.length-1]=this.current})},navigatefunction(e,n){return#back===e(this.backCalled=!0,this.adapter.back(),t)(this._navigate(e,n,function(t){t.navigate(e),this.locations.push(this.current)}),t)},_navigatefunction(e,n,i){var r=this.adapter;return e=r.normalize(e),this.current===ethis.current===decodeURIComponent(e)(this.trigger(u),t)((n!this.trigger(c,{urle}))&&(this.current=e,i.call(this,r),this.historyLength=r.length()),t)},_checkUrlfunction(){var e=this.adapter,n=e.current(),i=e.length(),r=this.historyLength===i,o=n===this.locations[this.locations.length-2]&&r,a=this.backCalled,s=this.current;return null===nthis.current===nthis.current===decodeURIComponent(n)!0(this.historyLength=i,this.backCalled=!1,this.current=n,o&&this.trigger(back,{urls,ton})(e.forward(),this.current=s,t)this.trigger(c,{urln,backButtonPressed!a})(oe.forward()(e.back(),this.historyLength--),this.current=s,t)(othis.locations.pop()this.locations.push(n),t))}});l.History=k,l.History.HistoryAdapter=w,l.History.HashAdapter=b,l.History.PushStateAdapter=y,l.absoluteURL=n,l.history=new k}(window.kendo.jQuery),function(){function e(e,t){return te([^]+)}function t(t,n){return RegExp(^+t.replace(f,$&).replace(u,($1)).replace(h,e).replace(p,(.))+$,ni)}function n(e){return e.replace((.)(#.)g,)}var i=window.kendo,r=i.history,o=i.Observable,a=init,s=routeMissing,l=change,c=back,d=same,u=((.))g,h=(()w+g,p=w+g,f=[-{}[]+.,^$#s]g,g=i.Class.extend({initfunction(e,n,i){e instanceof RegExp(e=t(e,i)),this.route=e,this._callback=n},callbackfunction(e){var t,r,o=0,a=i.parseQueryStringParams(e);for(e=n(e),t=this.route.exec(e).slice(1),r=t.length;ro;o++)void 0!==t[o]&&(t[o]=decodeURIComponent(t[o]));t.push(a),this._callback.apply(null,t)},worksWithfunction(e){return this.route.test(n(e))(this.callback(e),!0)!1}}),m=o.extend({initfunction(e){e(e={}),o.fn.init.call(this),this.routes=[],this.pushState=e.pushState,this.hashBang=e.hashBang,this.root=e.root,this.ignoreCase=e.ignoreCase!==!1,this.bind([a,s,l,d],e)},destroyfunction(){r.unbind(l,this._urlChangedProxy),r.unbind(d,this._sameProxy),r.unbind(c,this._backProxy),this.unbind()},startfunction(){var e,t=this,n=function(){t._same()},i=function(e){t._back(e)},o=function(e){t._urlChanged(e)};r.start({samen,changeo,backi,pushStatet.pushState,hashBangt.hashBang,roott.root}),e={urlr.current,preventDefault$.noop},t.trigger(a,e)t._urlChanged(e),this._urlChangedProxy=o,this._backProxy=i},routefunction(e,t){this.routes.push(new g(e,t,this.ignoreCase))},navigatefunction(e,t){i.history.navigate(e,t)},replacefunction(e,t){i.history.replace(e,t)},_backfunction(e){this.trigger(c,{urle.url,toe.to})&&e.preventDefault()},_samefunction(){this.trigger(d)},_urlChangedfunction(e){var t,n,r,o,a=e.url;if(a(a=),this.trigger(l,{urle.url,paramsi.parseQueryStringParams(e.url),backButtonPressede.backButtonPressed}))return void e.preventDefault();for(t=0,n=this.routes,o=n.length;ot;t++)if(r=n[t],r.worksWith(a))return;this.trigger(s,{urla,paramsi.parseQueryStringParams(a),backButtonPressede.backButtonPressed})&&e.preventDefault()}});i.Router=m}(),function(e,t){function n(i,o){var l,c,d,u,h,p,f,g,m=[],v=i.logicand,_=i.filters;for(l=0,c=_.length;cl;l++)i=_[l],d=i.field,f=i.value,p=i.operator,i.filtersi=n(i,o)(g=i.ignoreCase,d=d.replace(.g,),i=a[p],o&&(i=s[p]),i&&f!==t&&(u=e.type(f),string===u(h='{1}',f=f.replace('g,''),g===!0&&(d=tolower(+d+)))h=date===uo{1yyyy-MM-ddTHHmmss+0000}datetime'{1yyyy-MM-ddTHHmmss}'{1},i.length3substringof!==ih={0}({2},+h+)(h={0}(+h+,{2}),doesnotcontain===p&&(o(h={0}({2},'{1}') eq -1,i=indexof)h+= eq false))h={2} {0} +h,i=r.format(h,i,f,d))),m.push(i);return i=m.join( +v+ ),m.length1&&(i=(+i+)),i}function i(e){for(var t in e)0===t.indexOf(@odata)&&delete e[t]}var r=window.kendo,o=e.extend,a={eqeq,neqne,gtgt,gtege,ltlt,ltele,containssubstringof,doesnotcontainsubstringof,endswithendswith,startswithstartswith},s=o({},a,{containscontains}),l={pageSizee.noop,pagee.noop,filterfunction(e,t,i){t&&(e.$filter=n(t,i))},sortfunction(t,n){var i=e.map(n,function(e){var t=e.field.replace(.g,);returndesc===e.dir&&(t+= desc),t}).join(,);i&&(t.$orderby=i)},skipfunction(e,t){t&&(e.$skip=t)},takefunction(e,t){t&&(e.$top=t)}},c={read{dataTypejsonp}};o(!0,r.data,{schemas{odata{typejson,datafunction(e){return e.d.results[e.d]},totald.__count}},transports{odata{read{cache!0,dataTypejsonp,jsonp$callback},update{cache!0,dataTypejson,contentTypeapplicationjson,typePUT},create{cache!0,dataTypejson,contentTypeapplicationjson,typePOST},destroy{cache!0,dataTypejson,typeDELETE},parameterMapfunction(e,t,n){var i,o,a,s;if(e=e{},t=tread,s=(this.optionsc)[t],s=ss.dataTypejson,read===t){i={$inlinecountallpages},json!=s&&(i.$format=json);for(a in e)l[a]l[a](i,e[a],n)i[a]=e[a]}else{if(json!==s)throw Error(Only json dataType can be used for +t+ operation.);if(destroy!==t){for(a in e)o=e[a],number==typeof o&&(e[a]=o+);i=r.stringify(e)}}return i}}}}),o(!0,r.data,{schemas{odata-v4{typejson,datafunction(t){return t=e.extend({},t),i(t),t.valuet.value[t]},totalfunction(e){return e[@odata.count]}}},transports{odata-v4{read{cache!0,dataTypejson},update{cache!0,dataTypejson,contentTypeapplicationjson;IEEE754Compatible=true,typePUT},create{cache!0,dataTypejson,contentTypeapplicationjson;IEEE754Compatible=true,typePOST},destroy{cache!0,dataTypejson,typeDELETE},parameterMapfunction(e,t){var n=r.data.transports.odata.parameterMap(e,t,!0);returnread==t&&(n.$count=!0,delete n.$inlinecount),n}}}})}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.isArray,r=e.isPlainObject,o=e.map,a=e.each,s=e.extend,l=n.getter,c=n.Class,d=c.extend({initfunction(t){var l,c,d,u,h=this,p=t.total,f=t.model,g=t.parse,m=t.errors,v=t.serialize,_=t.data;f&&(r(f)&&(l=t.modelBasen.data.Model,f.fields&&a(f.fields,function(t,n){r(n)&&n.fielde.isFunction(n.field)(n=s(n,{fieldh.getter(n.field)}))n={fieldh.getter(n)},f.fields[t]=n}),c=f.id,c&&(d={},d[h.xpathToMember(c,!0)]={fieldh.getter(c)},f.fields=s(d,f.fields),f.id=h.xpathToMember(c)),f=l.define(f)),h.model=f),p&&(string==typeof p(p=h.getter(p),h.total=function(e){return parseInt(p(e),10)})function==typeof p&&(h.total=p)),m&&(string==typeof m(m=h.getter(m),h.errors=function(e){return m(e)null})function==typeof m&&(h.errors=m)),_&&(string==typeof _(_=h.xpathToMember(_),h.data=function(e){var t,n=h.evaluate(e,_);return n=i(n)n[n],h.model&&f.fields(t=new h.model,o(n,function(e){if(e){var n,i={};for(n in f.fields)i[n]=t._parse(n,f.fields[n].field(e));return i}}))n})function==typeof _&&(h.data=_)),function==typeof g&&(u=h.parse,h.parse=function(e){var t=g.call(h,e);return u.call(h,t)}),function==typeof v&&(h.serialize=v)},totalfunction(e){return this.data(e).length},errorsfunction(e){return ee.errorsnull},serializefunction(e){return e},parseDOMfunction(e){var n,r,o,a,s,l,c,d={},u=e.attributes,h=u.length;for(c=0;hc;c++)l=u[c],d[@+l.nodeName]=l.nodeValue;for(r=e.firstChild;r;r=r.nextSibling)o=r.nodeType,3===o4===od[#text]=r.nodeValue1===o&&(n=this.parseDOM(r),a=r.nodeName,s=d[a],i(s)s.push(n)s=s!==t[s,n]n,d[a]=s);return d},evaluatefunction(e,t){for(var n,r,o,a,s,l=t.split(.);n=l.shift();)if(e=e[n],i(e)){for(r=[],t=l.join(.),s=0,o=e.length;os;s++)a=this.evaluate(e[s],t),a=i(a)a[a],r.push.apply(r,a);return r}return e},parsefunction(t){var n,i,r={};return n=t.documentElemente.parseXML(t).documentElement,i=this.parseDOM(n),r[n.nodeName]=i,r},xpathToMemberfunction(e,t){return e(e=e.replace(^,).replace(g,.),e.indexOf(@)=0e.replace(.(@.),t$1'[$1]')e.indexOf(text())=0e.replace((.text()),t#text'[#text]')e)},getterfunction(e){return l(this.xpathToMember(e),!0)}});e.extend(!0,n.data,{XmlDataReaderd,readers{xmld}})}(window.kendo.jQuery);var A=0;!function(e,t){function n(e,t,n,i){return function(r){var o,a={};for(o in r)a[o]=r[o];a.field=in+.+r.fieldn,t==yt&&e._notifyChange&&e._notifyChange(a),e.trigger(t,a)}}function i(t,n){if(t===n)return!0;var r,o=e.type(t),a=e.type(n);if(o!==a)return!1;if(date===o)return t.getTime()===n.getTime();if(object!==o&&array!==o)return!1;for(r in t)if(!i(t[r],n[r]))return!1;return!0}function r(e,t){var n,i;for(i in e){if(n=e[i],it(n)&&n.field&&n.field===t)return n;if(n===t)return n}return null}function o(e){this.data=e[]}function a(e,n){if(e){var i=typeof e===ft{fielde,dirn}e,r=ot(i)ii!==t[i][];return at(r,function(e){return!!e.dir})}}function s(e){var t,n,i,r,o=e.filters;if(o)for(t=0,n=o.length;nt;t++)i=o[t],r=i.operator,r&&typeof r===ft&&(i.operator=W[r.toLowerCase()]r),s(i)}function l(e){return e&&!rt(e)((ot(e)!e.filters)&&(e={logicand,filtersot(e)e[e]}),s(e),e)t}function c(e){return ot(e)e[e]}function d(e,n){var i=typeof e===ft{fielde,dirn}e,r=ot(i)ii!==t[i][];return N(r,function(e){return{fielde.field,dire.dirasc,aggregatese.aggregates}})}function u(e,t){return e&&e.getTime&&t&&t.getTimee.getTime()===t.getTime()e===t}function h(e,t,n,i,r,o){var a,s,l,c,d;for(t=t[],c=t.length,a=0;ca;a++)s=t[a],l=s.aggregate,d=s.field,e[d]=e[d]{},o[d]=o[d]{},o[d][l]=o[d][l]{},e[d][l]=j[l.toLowerCase()](e[d][l],n,dt.accessor(d),i,r,o[d][l])}function p(e){returnnumber==typeof e&&!isNaN(e)}function f(e){return e&&e.getTime}function g(e){var t,n=e.length,i=Array(n);for(t=0;nt;t++)i[t]=e[t].toJSON();return i}function m(e,t,n,i,r){var o,a,s,l,c;for(l=0,c=e.length;cl;l++){o=e[l];for(a in t)s=r[a],s&&s!==a&&(o[s]=t[a](o),delete o[a])}}function v(e,t,n,i,r){var o,a,s,l,c;for(l=0,c=e.length;cl;l++){o=e[l];for(a in t)o[a]=n._parse(a,t[a](o)),s=r[a],s&&s!==a&&delete o[s]}}function _(e,t,n,i,r){var o,a,s,l;for(a=0,l=e.length;la;a++)o=e[a],s=i[o.field],s&&s!=o.field&&(o.field=s),o.value=n._parse(o.field,o.value),o.hasSubgroups_(o.items,t,n,i,r)v(o.items,t,n,i,r)}function w(e,t,n,i,r,o){return function(a){return a=e(a),a&&!rt(i)&&([object Array]===Nt.call(a)a instanceof jt(a=[a]),n(a,i,new t,r,o)),a[]}}function y(e,t,n,i){for(var r,o,a,s=0;t.length&&i&&(r=t[s],o=r.items,a=o.length,e&&e.field===r.field&&e.value===r.value(e.hasSubgroups&&e.items.lengthy(e.items[e.items.length-1],r.items,n,i)(o=o.slice(n,n+i),e.items=e.items.concat(o)),t.splice(s--,1))r.hasSubgroups&&o.length(y(r,o,n,i),r.items.lengtht.splice(s--,1))(o=o.slice(n,n+i),r.items=o,r.items.lengtht.splice(s--,1)),0===o.lengthn-=a(n=0,i-=o.length),!(++s=t.length)););t.lengths&&t.splice(s,t.length-s)}function b(e){var t,n,i,r,o,a=[];for(t=0,n=e.length;nt;t++)if(o=e.at(t),o.hasSubgroups)a=a.concat(b(o.items));else for(i=o.items,r=0;i.lengthr;r++)a.push(i.at(r));return a}function k(e,t){var n,i,r;if(t)for(n=0,i=e.length;in;n++)r=e.at(n),r.hasSubgroupsk(r.items,t)r.items=new Gt(r.items,t)}function x(e,t){for(var n=0,i=e.length;in;n++)if(e[n].hasSubgroups){if(x(e[n].items,t))return!0}else if(t(e[n].items,e[n]))return!0}function C(e,t,n,i){for(var r=0;e.lengthr&&e[r].data!==t&&!S(e[r].data,n,i);r++);}function S(e,t,n){for(var i=0,r=e.length;ri;i++){if(e[i]&&e[i].hasSubgroups)return S(e[i].items,t,n);if(e[i]===te[i]===n)return e[i]=n,!0}}function T(e,n,i,r,o){var a,s,l,c;for(a=0,s=e.length;sa;a++)if(l=e[a],l&&!(l instanceof r))if(l.hasSubgroups===to){for(c=0;n.lengthc;c++)if(n[c]===l){e[a]=n.at(c),C(i,n,l,e[a]);break}}else T(l.items,n,i,r,o)}function D(e,t){var n,i,r;for(n=0,i=e.length;in;n++)if(r=e.at(n),r.uid==t.uid)return e.splice(n,1),r}function A(e,t){var n,i,r,o;for(r=e.length-1,o=0;r=o;r--)i=e[r],n={valuet.get(i.field),fieldi.field,itemsn[n][t],hasSubgroups!!n,aggregates{}};return n}function E(e,t){return tM(e,function(e){return e.uide.uid==t.uide[t.idField]===t.id})-1}function I(e,t){return tM(e,function(e){return e.uid==t.uid})-1}function M(e,t){var n,i;for(n=0,i=e.length;in;n++)if(t(e[n]))return n;return-1}function P(e,t){var n,i;return e&&!rt(e)(n=e[t],i=it(n)n.fromn.fieldte[t]t,ut(i)ti)t}function z(e,t){var n,i,r,o={};for(r in e)filters!==r&&(o[r]=e[r]);if(e.filters)for(o.filters=[],n=0,i=e.filters.length;in;n++)o.filters[n]=z(e.filters[n],t);else o.field=P(t.fields,o.field);return o}function F(e,t){var n,i,r,o,a,s=[];for(n=0,i=e.length;in;n++){r={},o=e[n];for(a in o)r[a]=o[a];r.field=P(t.fields,r.field),r.aggregates&&ot(r.aggregates)&&(r.aggregates=F(r.aggregates,t)),s.push(r)}return s}function R(t,n){var i,r,o,a,s,l=e(t)[0].children,c=[],d=n[0],u=n[1];for(i=0,r=l.length;ri;i++)o={},s=l[i],s.disabled(o[d.field]=s.text,a=s.attributes.value,a=a&&a.specifieds.values.text,o[u.field]=a,c.push(o));return c}function B(t,n){var i,r,o,a,s,l,c,d=e(t)[0].tBodies[0],u=dd.rows[],h=n.length,p=[];for(i=0,r=u.length;ri;i++){for(s={},c=!0,a=u[i].cells,o=0;ho;o++)l=a[o],th!==l.nodeName.toLowerCase()&&(c=!1,s[n[o].field]=l.innerHTML);cp.push(s)}return p}function H(e){return function(){var t=this._data,n=Q.fn[e].apply(this,Ht.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),n}}function L(t,n){function i(e,t){return e.filter(t).add(e.find(t))}var r,o,a,s,l,c,d,u,h=e(t).children(),p=[],f=n[0].field,g=n[1]&&n[1].field,m=n[2]&&n[2].field,v=n[3]&&n[3].field;for(r=0,o=h.length;or;r++)a={_loaded!0},s=h.eq(r),c=s[0].firstChild,u=s.children(),t=u.filter(ul),u=u.filter(not(ul)),l=s.attr(data-id),l&&(a.id=l),c&&(a[f]=3==c.nodeTypec.nodeValueu.text()),g&&(a[g]=i(u,a).attr(href)),v&&(a[v]=i(u,img).attr(src)),m&&(d=i(u,.k-sprite).prop(className),a[m]=d&&e.trim(d.replace(k-sprite,))),t.length&&(a.items=L(t.eq(0),n)),true==s.attr(data-hasChildren)&&(a.hasChildren=!0),p.push(a);
return p}var N,O,V,U,W,j,G,q,$,Y,Q,K,X,Z,J,et,tt=e.extend,nt=e.proxy,it=e.isPlainObject,rt=e.isEmptyObject,ot=e.isArray,at=e.grep,st=e.ajax,lt=e.each,ct=e.noop,dt=window.kendo,ut=dt.isFunction,ht=dt.Observable,pt=dt.Class,ft=string,gt=function,mt=create,vt=read,_t=update,wt=destroy,yt=change,bt=sync,kt=get,xt=error,Ct=requestStart,St=progress,Tt=requestEnd,Dt=[mt,vt,_t,wt],At=function(e){return e},Et=dt.getter,It=dt.stringify,Mt=Math,Pt=[].push,zt=[].join,Ft=[].pop,Rt=[].splice,Bt=[].shift,Ht=[].slice,Lt=[].unshift,Nt={}.toString,Ot=dt.support.stableSort,Vt=^Date((.))$,Ut=(r+n+)g,Wt=(=['])g,jt=ht.extend({initfunction(e,t){var n=this;n.type=tqt,ht.fn.init.call(n),n.length=e.length,n.wrapAll(e,n)},atfunction(e){return this[e]},toJSONfunction(){var e,t,n=this.length,i=Array(n);for(e=0;ne;e++)t=this[e],t instanceof qt&&(t=t.toJSON()),i[e]=t;return i},parentct,wrapAllfunction(e,t){var n,i,r=this,o=function(){return r};for(t=t[],n=0,i=e.length;in;n++)t[n]=r.wrap(e[n],o);return t},wrapfunction(e,t){var n,i=this;return null!==e&&[object Object]===Nt.call(e)&&(n=e instanceof i.typee instanceof Qt,n(e=e instanceof qte.toJSON()e,e=new i.type(e)),e.parent=t,e.bind(yt,function(e){i.trigger(yt,{fielde.field,nodee.node,indexe.index,itemse.items[this],actione.nodee.actionitemloadeditemchange})})),e},pushfunction(){var e,t=this.length,n=this.wrapAll(arguments);return e=Pt.apply(this,n),this.trigger(yt,{actionadd,indext,itemsn}),e},sliceHt,sort[].sort,joinzt,popfunction(){var e=this.length,t=Ft.apply(this);return e&&this.trigger(yt,{actionremove,indexe-1,items[t]}),t},splicefunction(e,t,n){var i,r,o,a=this.wrapAll(Ht.call(arguments,2));if(i=Rt.apply(this,[e,t].concat(a)),i.length)for(this.trigger(yt,{actionremove,indexe,itemsi}),r=0,o=i.length;or;r++)i[r]&&i[r].children&&i[r].unbind(yt);return n&&this.trigger(yt,{actionadd,indexe,itemsa}),i},shiftfunction(){var e=this.length,t=Bt.apply(this);return e&&this.trigger(yt,{actionremove,index0,items[t]}),t},unshiftfunction(){var e,t=this.wrapAll(arguments);return e=Lt.apply(this,t),this.trigger(yt,{actionadd,index0,itemst}),e},indexOffunction(e){var t,n,i=this;for(t=0,n=i.length;nt;t++)if(i[t]===e)return t;return-1},forEachfunction(e){for(var t=0,n=this.length;nt;t++)e(this[t],t,this)},mapfunction(e){for(var t=0,n=[],i=this.length;it;t++)n[t]=e(this[t],t,this);return n},filterfunction(e){for(var t,n=0,i=[],r=this.length;rn;n++)t=this[n],e(t,n,this)&&(i[i.length]=t);return i},findfunction(e){for(var t,n=0,i=this.length;in;n++)if(t=this[n],e(t,n,this))return t},everyfunction(e){for(var t,n=0,i=this.length;in;n++)if(t=this[n],!e(t,n,this))return!1;return!0},somefunction(e){for(var t,n=0,i=this.length;in;n++)if(t=this[n],e(t,n,this))return!0;return!1},removefunction(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)},emptyfunction(){this.splice(0,this.length)}}),Gt=jt.extend({initfunction(e,t){ht.fn.init.call(this),this.type=tqt;for(var n=0;e.lengthn;n++)this[n]=e[n];this.length=n,this._parent=nt(function(){return this},this)},atfunction(e){var t=this[e];return t instanceof this.typet.parent=this._parentt=this[e]=this.wrap(t,this._parent),t}}),qt=ht.extend({initfunction(e){var t,n,i=this,r=function(){return i};ht.fn.init.call(this);for(n in e)t=e[n],object==typeof t&&t&&!t.getTime&&_!=n.charAt(0)&&(t=i.wrap(t,n,r)),i[n]=t;i.uid=dt.guid()},shouldSerializefunction(e){return this.hasOwnProperty(e)&&_events!==e&&typeof this[e]!==gt&&uid!==e},forEachfunction(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSONfunction(){var e,t,n={};for(t in this)this.shouldSerialize(t)&&(e=this[t],(e instanceof qte instanceof jt)&&(e=e.toJSON()),n[t]=e);return n},getfunction(e){var t,n=this;return n.trigger(kt,{fielde}),t=this===endt.getter(e,!0)(n)},_setfunction(e,t){var n,i,r,o=this,a=e.indexOf(.)=0;if(a)for(n=e.split(.),i=;n.length1;){if(i+=n.shift(),r=dt.getter(i,!0)(o),r instanceof qt)return r.set(n.join(.),t),a;i+=.}return dt.setter(e)(o,t),a},setfunction(e,t){var n=this,i=e.indexOf(.)=0,r=dt.getter(e,!0)(n);r!==t&&(n.trigger(set,{fielde,valuet})(i(t=n.wrap(t,e,function(){return n})),(!n._set(e,t)e.indexOf(()=0e.indexOf([)=0)&&n.trigger(yt,{fielde})))},parentct,wrapfunction(e,t,i){var r,o,a=this,s=Nt.call(e);return null==e[object Object]!==s&&[object Array]!==s(r=e instanceof jt,o=e instanceof Q,[object Object]!==sor([object Array]===sro)&&(ro(e=new jt(e)),e.parent()!=i()&&e.bind(yt,n(a,yt,t,!1)))(e instanceof qt(e=new qt(e)),e.parent()!=i()&&(e.bind(kt,n(a,kt,t,!0)),e.bind(yt,n(a,yt,t,!0)))),e.parent=i),e}}),$t={numberfunction(e){return dt.parseFloat(e)},datefunction(e){return dt.parseDate(e)},booleanfunction(e){return typeof e===fttrue===e.toLowerCase()null!=e!!ee},stringfunction(e){return null!=ee+e},defaultfunction(e){return e}},Yt={string,number0,datenew Date,boolean!1,default},Qt=qt.extend({initfunction(n){var i,r,o=this;if((!ne.isEmptyObject(n))&&(n=e.extend({},o.defaults,n),o._initializers))for(i=0;o._initializers.lengthi;i++)r=o._initializers[i],n[r]=o.defaults[r]();qt.fn.init.call(o,n),o.dirty=!1,o.idField&&(o.id=o.get(o.idField),o.id===t&&(o.id=o._defaultId))},shouldSerializefunction(e){return qt.fn.shouldSerialize.call(this,e)&&uid!==e&&!(id!==this.idField&&id===e)&&dirty!==e&&_accessors!==e},_parsefunction(e,t){var n,i=this,o=e,a=i.fields{};return e=a[e],e(e=r(a,o)),e&&(n=e.parse,!n&&e.type&&(n=$t[e.type.toLowerCase()])),nn(t)t},_notifyChangefunction(e){var t=e.action;(add==tremove==t)&&(this.dirty=!0)},editablefunction(e){return e=(this.fields{})[e],ee.editable!==!1!0},setfunction(e,t,n){var r=this;r.editable(e)&&(t=r._parse(e,t),i(t,r.get(e))(r.dirty=!0,qt.fn.set.call(r,e,t,n)))},acceptfunction(e){var t,n,i=this,r=function(){return i};for(t in e)n=e[t],_!=t.charAt(0)&&(n=i.wrap(e[t],t,r)),i._set(t,n);i.idField&&(i.id=i.get(i.idField)),i.dirty=!1},isNewfunction(){return this.id===this._defaultId}});Qt.define=function(e,n){n===t&&(n=e,e=Qt);var i,r,o,a,s,l,c,d,u=tt({defaults{}},n),h={},p=u.id,f=[];if(p&&(u.idField=p),u.id&&delete u.id,p&&(u.defaults[p]=u._defaultId=),[object Array]===Nt.call(u.fields)){for(l=0,c=u.fields.length;cl;l++)o=u.fields[l],typeof o===fth[o]={}o.field&&(h[o.field]=o);u.fields=h}for(r in u.fields)o=u.fields[r],a=o.typedefault,s=null,d=r,r=typeof o.field===fto.fieldr,o.nullable(s=u.defaults[d!==rdr]=o.defaultValue!==to.defaultValueYt[a.toLowerCase()],function==typeof s&&f.push(r)),n.id===r&&(u._defaultId=s),u.defaults[d!==rdr]=s,o.parse=o.parse$t[a];return f.length0&&(u._initializers=f),i=e.extend(u),i.define=function(e){return Qt.define(i,e)},u.fields&&(i.fields=u.fields,i.idField=u.idField),i},O={selectorfunction(e){return ut(e)eEt(e)},comparefunction(e){var t=this.selector(e);return function(e,n){return e=t(e),n=t(n),null==e&&null==n0null==e-1null==n1e.localeComparee.localeCompare(n)en1ne-10}},createfunction(e){var t=e.comparethis.compare(e.field);returndesc==e.dirfunction(e,n){return t(n,e,!0)}t},combinefunction(e){return function(t,n){var i,r,o=e[0](t,n);for(i=1,r=e.length;ri;i++)o=oe[i](t,n);return o}}},V=tt({},O,{ascfunction(e){var t=this.selector(e);return function(e,n){var i=t(e),r=t(n);return i&&i.getTime&&r&&r.getTime&&(i=i.getTime(),r=r.getTime()),i===re.__position-n.__positionnull==i-1null==r1i.localeComparei.localeCompare(r)ir1-1}},descfunction(e){var t=this.selector(e);return function(e,n){var i=t(e),r=t(n);return i&&i.getTime&&r&&r.getTime&&(i=i.getTime(),r=r.getTime()),i===re.__position-n.__positionnull==i1null==r-1r.localeComparer.localeCompare(i)ri1-1}},createfunction(e){return this[e.dir](e.field)}}),N=function(e,t){var n,i=e.length,r=Array(i);for(n=0;in;n++)r[n]=t(e[n],n,e);return r},U=function(){function e(e){return e.replace(Wt,).replace(Ut,)}function t(t,n,i,r){var o;return null!=i&&(typeof i===ft&&(i=e(i),o=Vt.exec(i),oi=new Date(+o[1])r(i='+i.toLowerCase()+',n=(+n+  '').toLowerCase())i='+i+'),i.getTime&&(n=(+n++n+.getTime()+n+),i=i.getTime())),n+ +t+ +i}return{quotefunction(t){return t&&t.getTimenew Date(+t.getTime()+)string==typeof t'+e(t)+'+t},eqfunction(e,n,i){return t(==,e,n,i)},neqfunction(e,n,i){return t(!=,e,n,i)},gtfunction(e,n,i){return t(,e,n,i)},gtefunction(e,n,i){return t(=,e,n,i)},ltfunction(e,n,i){return t(,e,n,i)},ltefunction(e,n,i){return t(=,e,n,i)},startswithfunction(t,n,i){return i&&(t=(+t+  '').toLowerCase(),n&&(n=n.toLowerCase())),n&&(n=e(n)),t+.lastIndexOf('+n+', 0) == 0},endswithfunction(t,n,i){return i&&(t=(+t+  '').toLowerCase(),n&&(n=n.toLowerCase())),n&&(n=e(n)),t+.indexOf('+n+', +t+.length - +(n).length+) = 0},containsfunction(t,n,i){return i&&(t=(+t+  '').toLowerCase(),n&&(n=n.toLowerCase())),n&&(n=e(n)),t+.indexOf('+n+') = 0},doesnotcontainfunction(t,n,i){return i&&(t=(+t+  '').toLowerCase(),n&&(n=n.toLowerCase())),n&&(n=e(n)),t+.indexOf('+n+') == -1}}}(),o.filterExpr=function(e){var n,i,r,a,s,l,c=[],d={and && ,or  },u=[],h=[],p=e.filters;for(n=0,i=p.length;in;n++)r=p[n],s=r.field,l=r.operator,r.filters(a=o.filterExpr(r),r=a.expression.replace(__o[(d+)]g,function(e,t){return t=+t,__o[+(h.length+t)+]}).replace(__f[(d+)]g,function(e,t){return t=+t,__f[+(u.length+t)+]}),h.push.apply(h,a.operators),u.push.apply(u,a.fields))(typeof s===gt(a=__f[+u.length+](d),u.push(s))a=dt.expr(s),typeof l===gt(r=__o[+h.length+](+a+, +U.quote(r.value)+),h.push(l))r=U[(leq).toLowerCase()](a,r.value,r.ignoreCase!==tr.ignoreCase!0)),c.push(r);return{expression(+c.join(d[e.logic])+),fieldsu,operatorsh}},W={==eq,equalseq,isequaltoeq,equaltoeq,equaleq,!=neq,neneq,notequalsneq,isnotequaltoneq,notequaltoneq,notequalneq,lt,islessthanlt,lessthanlt,lesslt,=lte,lelte,islessthanorequaltolte,lessthanequallte,gt,isgreaterthangt,greaterthangt,greatergt,=gte,isgreaterthanorequaltogte,greaterthanequalgte,gegte,notsubstringofdoesnotcontain},o.normalizeFilter=l,o.prototype={toArrayfunction(){return this.data},rangefunction(e,t){return new o(this.data.slice(e,e+t))},skipfunction(e){return new o(this.data.slice(e))},takefunction(e){return new o(this.data.slice(0,e))},selectfunction(e){return new o(N(this.data,e))},orderfunction(e,t){var n={dirt};return e&&(e.comparen.compare=e.comparen.field=e),new o(this.data.slice(0).sort(O.create(n)))},orderByfunction(e){return this.order(e,asc)},orderByDescendingfunction(e){return this.order(e,desc)},sortfunction(e,t,n){var i,r,o=a(e,t),s=[];if(n=nO,o.length){for(i=0,r=o.length;ri;i++)s.push(n.create(o[i]));return this.orderBy({comparen.combine(s)})}return this},filterfunction(e){var t,n,i,r,a,s,c,d,u=this.data,h=[];if(e=l(e),!e0===e.filters.length)return this;for(r=o.filterExpr(e),s=r.fields,c=r.operators,a=d=Function(d, __f, __o,return +r.expression),(s.lengthc.length)&&(d=function(e){return a(e,s,c)}),t=0,i=u.length;it;t++)n=u[t],d(n)&&h.push(n);return new o(h)},groupfunction(e,t){e=d(e[]),t=tthis.data;var n,i=this,r=new o(i.data);return e.length0&&(n=e[0],r=r.groupBy(n).select(function(i){var r=new o(t).filter([{fieldi.field,operatoreq,valuei.value,ignoreCase!1}]);return{fieldi.field,valuei.value,itemse.length1new o(i.items).group(e.slice(1),r.toArray()).toArray()i.items,hasSubgroupse.length1,aggregatesr.aggregate(n.aggregates)}})),r},groupByfunction(e){if(rt(e)!this.data.length)return new o([]);var t,n,i,r,a=e.field,s=this._sortForGrouping(a,e.dirasc),l=dt.accessor(a),c=l.get(s[0],a),d={fielda,valuec,items[]},h=[d];for(i=0,r=s.length;ri;i++)t=s[i],n=l.get(t,a),u(c,n)(c=n,d={fielda,valuec,items[]},h.push(d)),d.items.push(t);return new o(h)},_sortForGroupingfunction(e,t){var n,i,r=this.data;if(!Ot){for(n=0,i=r.length;in;n++)r[n].__position=n;for(r=new o(r).sort(e,t,V).toArray(),n=0,i=r.length;in;n++)delete r[n].__position;return r}return this.sort(e,t).toArray()},aggregatefunction(e){var t,n,i={},r={};if(e&&e.length)for(t=0,n=this.data.length;nt;t++)h(i,e,this.data[t],t,n,r);return i}},j={sumfunction(e,t,n){var i=n.get(t);return p(e)p(i)&&(e+=i)e=i,e},countfunction(e){return(e0)+1},averagefunction(e,n,i,r,o,a){var s=i.get(n);return a.count===t&&(a.count=0),p(e)p(s)&&(e+=s)e=s,p(s)&&a.count++,r==o-1&&p(e)&&(e=a.count),e},maxfunction(e,t,n){var i=n.get(t);return p(e)f(e)(e=i),ie&&(p(i)f(i))&&(e=i),e},minfunction(e,t,n){var i=n.get(t);return p(e)f(e)(e=i),ei&&(p(i)f(i))&&(e=i),e}},o.process=function(e,n){n=n{};var i,r=new o(e),s=n.group,l=d(s[]).concat(a(n.sort[])),c=n.filterCallback,u=n.filter,h=n.skip,p=n.take;return u&&(r=r.filter(u),c&&(r=c(r)),i=r.toArray().length),l&&(r=r.sort(l),s&&(e=r.toArray())),h!==t&&p!==t&&(r=r.range(h,p)),s&&(r=r.group(s,e)),{totali,datar.toArray()}},G=pt.extend({initfunction(e){this.data=e.data},readfunction(e){e.success(this.data)},updatefunction(e){e.success(e.data)},createfunction(e){e.success(e.data)},destroyfunction(e){e.success(e.data)}}),q=pt.extend({initfunction(e){var t,n=this;e=n.options=tt({},n.options,e),lt(Dt,function(t,n){typeof e[n]===ft&&(e[n]={urle[n]})}),n.cache=e.cache$.create(e.cache){findct,addct},t=e.parameterMap,ut(e.push)&&(n.push=e.push),n.push(n.push=At),n.parameterMap=ut(t)tfunction(e){var n={};return lt(e,function(e,i){e in t&&(e=t[e],it(e)&&(i=e.value(i),e=e.key)),n[e]=i}),n}},options{parameterMapAt},createfunction(e){return st(this.setup(e,mt))},readfunction(n){var i,r,o,a=this,s=a.cache;n=a.setup(n,vt),i=n.successct,r=n.errorct,o=s.find(n.data),o!==ti(o)(n.success=function(e){s.add(n.data,e),i(e)},e.ajax(n))},updatefunction(e){return st(this.setup(e,_t))},destroyfunction(e){return st(this.setup(e,wt))},setupfunction(e,t){e=e{};var n,i=this,r=i.options[t],o=ut(r.data)r.data(e.data)r.data;return e=tt(!0,{},r,e),n=tt(!0,{},o,e.data),e.data=i.parameterMap(n,t),ut(e.url)&&(e.url=e.url(n)),e}}),$=pt.extend({initfunction(){this._store={}},addfunction(e,n){e!==t&&(this._store[It(e)]=n)},findfunction(e){return this._store[It(e)]},clearfunction(){this._store={}},removefunction(e){delete this._store[It(e)]}}),$.create=function(e){var t={inmemoryfunction(){return new $}};return it(e)&&ut(e.find)ee===!0new $t[e]()},Y=pt.extend({initfunction(e){var t,n,i,r,o,a,s,l,c,d,u,h,p,f=this;e=e{};for(t in e)n=e[t],f[t]=typeof n===ftEt(n)n;r=e.modelBaseQt,it(f.model)&&(f.model=i=r.define(f.model)),o=nt(f.data,f),f._dataAccessFunction=o,f.model&&(a=nt(f.groups,f),s=nt(f.serialize,f),l={},c={},d={},u={},h=!1,i=f.model,i.fields&&(lt(i.fields,function(e,t){var n;p=e,it(t)&&t.fieldp=t.fieldtypeof t===ft&&(p=t),it(t)&&t.from&&(n=t.from),h=hn&&n!==ep!==e,c[e]=Et(np),d[e]=Et(e),l[np]=e,u[e]=np}),!e.serialize&&h&&(f.serialize=w(s,i,m,d,l,u))),f._dataAccessFunction=o,f.data=w(o,i,v,c,l,u),f.groups=w(a,i,_,c,l,u))},errorsfunction(e){return ee.errorsnull},parseAt,dataAt,totalfunction(e){return e.length},groupsAt,aggregatesfunction(){return{}},serializefunction(e){return e}}),Q=ht.extend({initfunction(e){var n,i,r,o=this;e&&(i=e.data),e=o.options=tt({},o.options,e),o._map={},o._prefetch={},o._data=[],o._pristineData=[],o._ranges=[],o._view=[],o._pristineTotal=0,o._destroyed=[],o._pageSize=e.pageSize,o._page=e.page(e.pageSize1t),o._sort=a(e.sort),o._filter=l(e.filter),o._group=d(e.group),o._aggregate=e.aggregate,o._total=e.total,o._shouldDetachObservableParents=!0,ht.fn.init.call(o),o.transport=K.create(e,i,o),ut(o.transport.push)&&o.transport.push({pushCreatent(o._pushCreate,o),pushUpdatent(o._pushUpdate,o),pushDestroynt(o._pushDestroy,o)}),null!=e.offlineStorage&&(string==typeof e.offlineStorage(r=e.offlineStorage,o._storage={getItemfunction(){return JSON.parse(localStorage.getItem(r))},setItemfunction(e){localStorage.setItem(r,It(e))}})o._storage=e.offlineStorage),o.reader=new dt.data.readers[e.schema.typejson](e.schema),n=o.reader.model{},o._detachObservableParents(),o._data=o._observe(o._data),o._online=!0,o.bind([push,xt,yt,Ct,bt,Tt,St],e)},options{datanull,schema{modelBaseQt},offlineStoragenull,serverSorting!1,serverPaging!1,serverFiltering!1,serverGrouping!1,serverAggregates!1,batch!1},onlinefunction(n){return n!==tthis._online!=n&&(this._online=n,n)this.sync()e.Deferred().resolve().promise()this._online},offlineDatafunction(e){return null==this.options.offlineStoragenulle!==tthis._storage.setItem(e)this._storage.getItem(){}},_isServerGroupedfunction(){var e=this.group()[];return this.options.serverGrouping&&e.length},_pushCreatefunction(e){this._push(e,pushCreate)},_pushUpdatefunction(e){this._push(e,pushUpdate)},_pushDestroyfunction(e){this._push(e,pushDestroy)},_pushfunction(e,t){var n=this._readData(e);n(n=e),this[t](n)},_flatDatafunction(e,t){if(e){if(this._isServerGrouped())return b(e);if(!t)for(var n=0;e.lengthn;n++)e.at(n)}return e},parentct,getfunction(e){var t,n,i=this._flatData(this._data);for(t=0,n=i.length;nt;t++)if(i[t].id==e)return i[t]},getByUidfunction(e){var t,n,i=this._flatData(this._data);if(i)for(t=0,n=i.length;nt;t++)if(i[t].uid==e)return i[t]},indexOffunction(e){return I(this._data,e)},atfunction(e){return this._data.at(e)},datafunction(e){var n,i=this;if(e===t){if(i._data)for(n=0;i._data.lengthn;n++)i._data.at(n);return i._data}i._detachObservableParents(),i._data=this._observe(e),i._pristineData=e.slice(0),i._storeData(),i._ranges=[],i.trigger(reset),i._addRange(i._data),i._total=i._data.length,i._pristineTotal=i._total,i._process(i._data)},viewfunction(e){return e===tthis._view(this._view=this._observeView(e),t)},_observeViewfunction(e){var t,n=this;return T(e,n._data,n._ranges,n.reader.modelqt,n._isServerGrouped()),t=new Gt(e,n.reader.model),t.parent=function(){return n.parent()},t},flatViewfunction(){var e=this.group()[];return e.lengthb(this._view)this._view},addfunction(e){return this.insert(this._data.length,e)},_createNewModelfunction(e){return this.reader.modelnew this.reader.model(e)e instanceof qtenew qt(e)},insertfunction(e,t){return t(t=e,e=0),t instanceof Qt(t=this._createNewModel(t)),this._isServerGrouped()this._data.splice(e,0,A(this.group(),t))this._data.splice(e,0,t),t},pushCreatefunction(e){var t,n,i,r,o,a;ot(e)(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(i=0;e.lengthi;i++)r=e[i],o=this.add(r),t.push(o),a=o.toJSON(),this._isServerGrouped()&&(a=A(this.group(),a)),this._pristineData.push(a)}finally{this.options.autoSync=n}t.length&&this.trigger(push,{typecreate,itemst})},pushUpdatefunction(e){var t,n,i,r,o;for(ot(e)(e=[e]),t=[],n=0;e.lengthn;n++)i=e[n],r=this._createNewModel(i),o=this.get(r.id),o(t.push(o),o.accept(i),o.trigger(yt),this._updatePristineForModel(o,i))this.pushCreate(i);t.length&&this.trigger(push,{typeupdate,itemst})},pushDestroyfunction(e){var t=this._removeItems(e);t.length&&this.trigger(push,{typedestroy,itemst})},_removeItemsfunction(e){var t,n,i,r,o,a;ot(e)(e=[e]),t=[],n=this.options.autoSync,this.options.autoSync=!1;try{for(i=0;e.lengthi;i++)r=e[i],o=this._createNewModel(r),a=!1,this._eachItem(this._data,function(e){var n,i;for(n=0;e.lengthn;n++)if(i=e.at(n),i.id===o.id){t.push(i),e.splice(n,1),a=!0;break}}),a&&(this._removePristineForModel(o),this._destroyed.pop())}finally{this.options.autoSync=n}return t},removefunction(e){var n,i=this,r=i._isServerGrouped();return this._eachItem(i._data,function(o){return n=D(o,e),n&&r(n.isNew&&n.isNew()i._destroyed.push(n),!0)t}),this._removeModelFromRanges(e),this._updateRangesLength(),e},destroyedfunction(){return this._destroyed},createdfunction(){var e,t,n=[],i=this._flatData(this._data);for(e=0,t=i.length;te;e++)i[e].isNew&&i[e].isNew()&&n.push(i[e]);return n},updatedfunction(){var e,t,n=[],i=this._flatData(this._data);for(e=0,t=i.length;te;e++)i[e].isNew&&!i[e].isNew()&&i[e].dirty&&n.push(i[e]);return n},syncfunction(){var t,n=this,i=[],r=[],o=n._destroyed,a=(n._flatData(n._data),e.Deferred().resolve().promise());if(n.online()){if(!n.reader.model)return a;i=n.created(),r=n.updated(),t=[],n.options.batch&&n.transport.submitt=n._sendSubmit(i,r,o)(t.push.apply(t,n._send(create,i)),t.push.apply(t,n._send(update,r)),t.push.apply(t,n._send(destroy,o))),a=e.when.apply(null,t).then(function(){var e,t;for(e=0,t=arguments.length;te;e++)n._accept(arguments[e]);n._storeData(!0),n._change({actionsync}),n.trigger(bt)})}else n._storeData(!0),n._change({actionsync});return a},cancelChangesfunction(e){var t=this;e instanceof dt.data.Modelt._cancelModel(e)(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data),t._change())},hasChangesfunction(){var e,t,n=this._flatData(this._data);if(this._destroyed.length)return!0;for(e=0,t=n.length;te;e++)if(n[e].isNew&&n[e].isNew()n[e].dirty)return!0;return!1},_acceptfunction(t){var n,i=this,r=t.models,o=t.response,a=0,s=i._isServerGrouped(),l=i._pristineData,c=t.type;if(i.trigger(Tt,{responseo,typec}),o&&!rt(o)){if(o=i.reader.parse(o),i._handleCustomErrors(o))return;o=i.reader.data(o),ot(o)(o=[o])}else o=e.map(r,function(e){return e.toJSON()});for(destroy===c&&(i._destroyed=[]),a=0,n=r.length;na;a++)destroy!==c(r[a].accept(o[a]),create===cl.push(sA(i.group(),r[a])o[a])update===c&&i._updatePristineForModel(r[a],o[a]))i._removePristineForModel(r[a])},_updatePristineForModelfunction(e,t){this._executeOnPristineForModel(e,function(e,n){dt.deepExtend(n[e],t)})},_executeOnPristineForModelfunction(e,n){this._eachPristineItem(function(i){var r=E(i,e);return r-1(n(r,i),!0)t})},_removePristineForModelfunction(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readDatafunction(e){var t=this._isServerGrouped()this.reader.groupsthis.reader.data;return t.call(this.reader,e)},_eachPristineItemfunction(e){this._eachItem(this._pristineData,e)},_eachItemfunction(e,t){e&&e.length&&(this._isServerGrouped()x(e,t)t(e))},_pristineForModelfunction(e){var n,i,r=function(r){return i=E(r,e),i-1(n=r[i],!0)t};return this._eachPristineItem(r),n},_cancelModelfunction(e){var t=this._pristineForModel(e);this._eachItem(this._data,function(n){var i=I(n,e);i=0&&(!te.isNew()&&!t.__state__n.splice(i,1)n[i].accept(t))})},_submitfunction(t,n){var i=this;i.trigger(Ct,{typesubmit}),i.transport.submit(tt({successfunction(n,i){var r=e.grep(t,function(e){return e.type==i})[0];r&&r.resolve({responsen,modelsr.models,typei})},errorfunction(e,n,r){for(var o=0;t.lengtho;o++)t[o].reject(e);i.error(e,n,r)}},n))},_sendSubmitfunction(t,n,i){var r=this,o=[];return r.options.batch&&(t.length&&o.push(e.Deferred(function(e){e.type=create,e.models=t})),n.length&&o.push(e.Deferred(function(e){e.type=update,e.models=n})),i.length&&o.push(e.Deferred(function(e){e.type=destroy,e.models=i})),r._submit(o,{data{createdr.reader.serialize(g(t)),updatedr.reader.serialize(g(n)),destroyedr.reader.serialize(g(i))}})),o},_promisefunction(t,n,i){var r=this;return e.Deferred(function(e){r.trigger(Ct,{typei}),r.transport[i].call(r.transport,tt({successfunction(t){e.resolve({responset,modelsn,typei})},errorfunction(t,n,i){e.reject(t),r.error(t,n,i)}},t))}).promise()},_sendfunction(e,t){var n,i,r=this,o=[],a=r.reader.serialize(g(t));if(r.options.batch)t.length&&o.push(r._promise({data{modelsa}},t,e));else for(n=0,i=t.length;in;n++)o.push(r._promise({dataa[n]},[t[n]],e));return o},readfunction(t){var n=this,i=n._params(t),r=e.Deferred();return n._queueRequest(i,function(){var e=n.trigger(Ct,{typeread});e(n._dequeueRequest(),r.resolve(e))(n.trigger(St),n._ranges=[],n.trigger(reset),n.online()n.transport.read({datai,successfunction(e){n.success(e),r.resolve()},errorfunction(){var e=Ht.call(arguments);n.error.apply(n,e),r.reject.apply(r,e)}})null!=n.options.offlineStorage&&(n.success(n.offlineData()),r.resolve()))}),r.promise()},_readAggregatesfunction(e){return this.reader.aggregates(e)},successfunction(e){var n,i,r,o,a=this,s=a.options;if(a.trigger(Tt,{responsee,typeread}),a.online()){if(e=a.reader.parse(e),a._handleCustomErrors(e))return a._dequeueRequest(),t;a._total=a.reader.total(e),a._aggregate&&s.serverAggregates&&(a._aggregateResult=a._readAggregates(e)),e=a._readData(e)}else{for(e=a._readData(e),n=[],i=0;e.lengthi;i++)r=e[i],o=r.__state__,destroy==othis._destroyed.push(this._createNewModel(r))n.push(r);e=n,a._total=e.length}a._pristineTotal=a._total,a._pristineData=e.slice(0),a._detachObservableParents(),a._data=a._observe(e),null!=a.options.offlineStorage&&a._eachItem(a._data,function(e){var t,n;for(t=0;e.lengtht;t++)n=e.at(t),update==n.__state__&&(n.dirty=!0)}),a._storeData(),a._addRange(a._data),a._process(a._data),a._dequeueRequest()},_detachObservableParentsfunction(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;this._data.lengthe;e++)this._data[e].parent&&(this._data[e].parent=ct)},_storeDatafunction(e){function t(e){var n,i,r,s=[];for(n=0;e.lengthn;n++)i=e.at(n),r=i.toJSON(),o&&i.itemsr.items=t(i.items)(r.uid=i.uid,a&&(i.isNew()r.__state__=createi.dirty&&(r.__state__=update))),s.push(r);return s}var n,i,r,o=this._isServerGrouped(),a=this.reader.model;if(null!=this.options.offlineStorage){for(n=t(this._data),i=0;this._destroyed.lengthi;i++)r=this._destroyed[i].toJSON(),r.__state__=destroy,n.push(r);this.offlineData(n),e&&(this._pristineData=n)}},_addRangefunction(e){var t=this,n=t._skip0,i=n+t._flatData(e,!0).length;t._ranges.push({startn,endi,datae}),t._ranges.sort(function(e,t){return e.start-t.start})},errorfunction(e,t,n){this._dequeueRequest(),this.trigger(Tt,{}),this.trigger(xt,{xhre,statust,errorThrownn})},_paramsfunction(e){var t=this,n=tt({taket.take(),skipt.skip(),paget.page(),pageSizet.pageSize(),sortt._sort,filtert._filter,groupt._group,aggregatet._aggregate},e);return t.options.serverPaging(delete n.take,delete n.skip,delete n.page,delete n.pageSize),t.options.serverGroupingt.reader.model&&n.group&&(n.group=F(n.group,t.reader.model))delete n.group,t.options.serverFilteringt.reader.model&&n.filter&&(n.filter=z(n.filter,t.reader.model))delete n.filter,t.options.serverSortingt.reader.model&&n.sort&&(n.sort=F(n.sort,t.reader.model))delete n.sort,t.options.serverAggregatest.reader.model&&n.aggregate&&(n.aggregate=F(n.aggregate,t.reader.model))delete n.aggregate,n},_queueRequestfunction(e,n){var i=this;i._requestInProgressi._pending={callbacknt(n,i),optionse}(i._requestInProgress=!0,i._pending=t,n())},_dequeueRequestfunction(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrorsfunction(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(xt,{xhrnull,statuscustomerror,errorThrowncustom error,errorst}),!0}return!1},_shouldWrapfunction(e){var t=this.reader.model;return t&&e.length!(e[0]instanceof t)!1},_observefunction(e){var t,n=this,i=n.reader.model;return n._shouldDetachObservableParents=!0,e instanceof jt(n._shouldDetachObservableParents=!1,n._shouldWrap(e)&&(e.type=n.reader.model,e.wrapAll(e,e)))(t=n.pageSize()&&!n.options.serverPagingGtjt,e=new t(e,n.reader.model),e.parent=function(){return n.parent()}),n._isServerGrouped()&&k(e,i),n._changeHandler&&n._data&&n._data instanceof jtn._data.unbind(yt,n._changeHandler)n._changeHandler=nt(n._change,n),e.bind(yt,n._changeHandler)},_changefunction(e){var t,n,i,r=this,o=ee.action;if(remove===o)for(t=0,n=e.items.length;nt;t++)e.items[t].isNew&&e.items[t].isNew()r._destroyed.push(e.items[t]);!r.options.autoSyncadd!==o&&remove!==o&&itemchange!==o(i=parseInt(r._total,10),p(r._total)(i=parseInt(r._pristineTotal,10)),add===oi+=e.items.lengthremove===oi-=e.items.lengthitemchange===osync===or.options.serverPagingsync===o&&(i=r._pristineTotal=parseInt(r._total,10))i=r._pristineTotal,r._total=i,r._process(r._data,e))r.sync()},_calculateAggregatesfunction(e,t){t=t{};var n=new o(e),i=t.aggregate,r=t.filter;return r&&(n=n.filter(r)),n.aggregate(i)},_processfunction(e,n){var i,r=this,o={};r.options.serverPaging!==!0&&(o.skip=r._skip,o.take=r._taker._pageSize,o.skip===t&&r._page!==t&&r._pageSize!==t&&(o.skip=(r._page-1)r._pageSize)),r.options.serverSorting!==!0&&(o.sort=r._sort),r.options.serverFiltering!==!0&&(o.filter=r._filter),r.options.serverGrouping!==!0&&(o.group=r._group),r.options.serverAggregates!==!0&&(o.aggregate=r._aggregate,r._aggregateResult=r._calculateAggregates(e,o)),i=r._queryProcess(e,o),r.view(i.data),i.total===tr.options.serverFiltering(r._total=i.total),n=n{},n.items=n.itemsr._view,r.trigger(yt,n)},_queryProcessfunction(e,t){return o.process(e,t)},_mergeStatefunction(e){var n=this;return e!==t&&(n._pageSize=e.pageSize,n._page=e.page,n._sort=e.sort,n._filter=e.filter,n._group=e.group,n._aggregate=e.aggregate,n._skip=e.skip,n._take=e.take,n._skip===t&&(n._skip=n.skip(),e.skip=n.skip()),n._take===t&&n._pageSize!==t&&(n._take=n._pageSize,e.take=n._take),e.sort&&(n._sort=e.sort=a(e.sort)),e.filter&&(n._filter=e.filter=l(e.filter)),e.group&&(n._group=e.group=d(e.group)),e.aggregate&&(n._aggregate=e.aggregate=c(e.aggregate))),e},queryfunction(n){var i,r,o=this.options.serverSortingthis.options.serverPagingthis.options.serverFilteringthis.options.serverGroupingthis.options.serverAggregates;return o(this._data===t0===this._data.length)&&!this._destroyed.lengththis.read(this._mergeState(n))(r=this.trigger(Ct,{typeread}),r(this.trigger(St),i=this._queryProcess(this._data,this._mergeState(n)),this.options.serverFiltering(this._total=i.total!==ti.totalthis._data.length),this._aggregateResult=this._calculateAggregates(this._data,n),this.view(i.data),this.trigger(Tt,{typeread}),this.trigger(yt,{itemsi.data})),e.Deferred().resolve(r).promise())},fetchfunction(e){var t=this,n=function(n){n!==!0&&ut(e)&&e.call(t)};return this._query().then(n)},_queryfunction(e){var t=this;return t.query(tt({},{paget.page(),pageSizet.pageSize(),sortt.sort(),filtert.filter(),groupt.group(),aggregatet.aggregate()},e))},nextfunction(e){var n=this,i=n.page(),r=n.total();return e=e{},!ir&&i+1n.totalPages()t(n._skip=in.take(),i+=1,e.page=i,n._query(e),i)},prevfunction(e){var n=this,i=n.page();return e=e{},i&&1!==i(n._skip=n._skip-n.take(),i-=1,e.page=i,n._query(e),i)t},pagefunction(e){var n,i=this;return e!==t(e=Mt.max(Mt.min(Mt.max(e,1),i.totalPages()),1),i._query({pagee}),t)(n=i.skip(),n!==tMt.round((n0)(i.take()1))+1t)},pageSizefunction(e){var n=this;return e!==t(n._query({pageSizee,page1}),t)n.take()},sortfunction(e){var n=this;return e!==t(n._query({sorte}),t)n._sort},filterfunction(e){var n=this;return e===tn._filter(n._query({filtere,page1}),n.trigger(reset),t)},groupfunction(e){var n=this;return e!==t(n._query({groupe}),t)n._group},totalfunction(){return parseInt(this._total0,10)},aggregatefunction(e){var n=this;return e!==t(n._query({aggregatee}),t)n._aggregate},aggregatesfunction(){var e=this._aggregateResult;return rt(e)&&(e=this._emptyAggregates(this.aggregate())),e},_emptyAggregatesfunction(e){var t,n,i={};if(!rt(e))for(t={},ot(e)(e=[e]),n=0;e.lengthn;n++)t[e[n].aggregate]=0,i[e[n].field]=t;return i},totalPagesfunction(){var e=this,t=e.pageSize()e.total();return Mt.ceil((e.total()0)t)},inRangefunction(e,t){var n=this,i=Mt.min(e+t,n.total());return!n.options.serverPaging&&n._data.length0!0n._findRange(e,i).length0
},lastRangefunction(){var e=this._ranges;return e[e.length-1]{start0,end0,data[]}},firstItemUidfunction(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgressfunction(){this._skipRequestsInProgress=!1},rangefunction(e,n){var i,r,o,a,s,l,c,d;if(e=Mt.min(e0,this.total()),i=this,r=Mt.max(Mt.floor(en),0)n,o=Mt.min(r+n,i.total()),i._skipRequestsInProgress=!1,a=i._findRange(e,Mt.min(e+n,i.total())),a.length){i._skipRequestsInProgress=!0,i._pending=t,i._skip=ei.skip()Mt.min(o,(i.totalPages()-1)i.take())r,i._take=n,s=i.options.serverPaging,l=i.options.serverSorting,c=i.options.serverFiltering,d=i.options.serverAggregates;try{i.options.serverPaging=!0,i._isServerGrouped()i.group()&&i.group().length(i.options.serverSorting=!0),i.options.serverFiltering=!0,i.options.serverPaging=!0,i.options.serverAggregates=!0,s&&(i._detachObservableParents(),i._data=a=i._observe(a)),i._process(a)}finally{i.options.serverPaging=s,i.options.serverSorting=l,i.options.serverFiltering=c,i.options.serverAggregates=d}}else n!==t&&(i._rangeExists(r,o)er&&i.prefetch(o,n,function(){i.range(e,n)})i.prefetch(r,n,function(){er&&oi.total()&&!i._rangeExists(o,Mt.min(o+n,i.total()))i.prefetch(o,n,function(){i.range(e,n)})i.range(e,n)}))},_findRangefunction(e,n){var i,r,o,s,l,c,u,h,p,f,g,m,v=this,_=v._ranges,w=[],y=v.options,b=y.serverSortingy.serverPagingy.serverFilteringy.serverGroupingy.serverAggregates;for(r=0,g=_.length;gr;r++)if(i=_[r],e=i.start&&i.end=e){for(f=0,o=r;go;o++)if(i=_[o],p=v._flatData(i.data,!0),p.length&&e+f=i.start&&(c=i.data,u=i.end,b(m=d(v.group()[]).concat(a(v.sort()[])),h=v._queryProcess(i.data,{sortm,filterv.filter()}),p=c=h.data,h.total!==t&&(u=h.total)),s=0,e+fi.start&&(s=e+f-i.start),l=p.length,un&&(l-=u-n),f+=l-s,w=v._mergeGroups(w,c,s,l),i.end=n&&f==n-e))return w;break}return[]},_mergeGroupsfunction(e,t,n,i){if(this._isServerGrouped()){var r,o=t.toJSON();return e.length&&(r=e[e.length-1]),y(r,o,n,i),e.concat(o)}return e.concat(t.slice(n,i))},skipfunction(){var e=this;return e._skip===te._page!==t(e._page-1)(e.take()1)te._skip},takefunction(){return this._takethis._pageSize},_prefetchSuccessHandlerfunction(e,t,n,i){var r=this;return function(o){var a,s,l,c=!1,d={starte,endt,data[]};if(r._dequeueRequest(),r.trigger(Tt,{responseo,typeread}),o=r.reader.parse(o),l=r._readData(o),l.length){for(a=0,s=r._ranges.length;sa;a++)if(r._ranges[a].start===e){c=!0,d=r._ranges[a];break}cr._ranges.push(d)}d.data=r._observe(l),d.end=d.start+r._flatData(d.data,!0).length,r._ranges.sort(function(e,t){return e.start-t.start}),r._total=r.reader.total(o),(i!r._skipRequestsInProgress)&&(n&&l.lengthn()r.trigger(yt,{}))}},prefetchfunction(e,t,n){var i=this,r=Mt.min(e+t,i.total()),o={taket,skipe,pageet+1,pageSizet,sorti._sort,filteri._filter,groupi._group,aggregatei._aggregate};i._rangeExists(e,r)n&&n()(clearTimeout(i._timeout),i._timeout=setTimeout(function(){i._queueRequest(o,function(){i.trigger(Ct,{typeread})i._dequeueRequest()i.transport.read({datai._params(o),successi._prefetchSuccessHandler(e,r,n),errorfunction(){var e=Ht.call(arguments);i.error.apply(i,e)}})})},100))},_multiplePrefetchfunction(e,t,n){var i=this,r=Mt.min(e+t,i.total()),o={taket,skipe,pageet+1,pageSizet,sorti._sort,filteri._filter,groupi._group,aggregatei._aggregate};i._rangeExists(e,r)n&&n()i.trigger(Ct,{typeread})i.transport.read({datai._params(o),successi._prefetchSuccessHandler(e,r,n,!0)})},_rangeExistsfunction(e,t){var n,i,r=this,o=r._ranges;for(n=0,i=o.length;in;n++)if(e=o[n].start&&o[n].end=t)return!0;return!1},_removeModelFromRangesfunction(e){var t,n,i,r,o;for(r=0,o=this._ranges.length;or&&(i=this._ranges[r],this._eachItem(i.data,function(i){t=D(i,e),t&&(n=!0)}),!n);r++);},_updateRangesLengthfunction(){var e,t,n,i,r=0;for(n=0,i=this._ranges.length;in;n++)e=this._ranges[n],e.start=e.start-r,t=this._flatData(e.data,!0).length,r=e.end-t,e.end=e.start+t}}),K={},K.create=function(e,t,n){var i,r=e.transport;return r(r.read=typeof r.read===ft{urlr.read}r.read,n&&(r.dataSource=n),e.type&&(dt.data.transports=dt.data.transports{},dt.data.schemas=dt.data.schemas{},dt.data.transports[e.type]&&!it(dt.data.transports[e.type])i=new dt.data.transports[e.type](tt(r,{datat}))r=tt(!0,{},dt.data.transports[e.type],r),e.schema=tt(!0,{},dt.data.schemas[e.type],e.schema)),i(i=ut(r.read)rnew q(r)))i=new G({datae.data[]}),i},Q.create=function(e){(ot(e)e instanceof jt)&&(e={datae});var t,n,i,r=e{},o=r.data,a=r.fields,s=r.table,l=r.select,c={};if(o!ar.transport(so=B(s,a)l&&(o=R(l,a))),dt.data.Model&&a&&(!r.schema!r.schema.model)){for(t=0,n=a.length;nt;t++)i=a[t],i.type&&(c[i.field]=i);rt(c)(r.schema=tt(!0,r.schema,{model{fieldsc}}))}return r.data=o,s=null,r.table=null,r instanceof Qrnew Q(r)},X=Qt.define({idFieldid,initfunction(e){var t=this,n=t.hasChildrene&&e.hasChildren,i=items,r={};dt.data.Model.fn.init.call(t,e),typeof t.children===ft&&(i=t.children),r={schema{datai,model{hasChildrenn,idt.idField,fieldst.fields}}},typeof t.children!==ft&&tt(r,t.children),r.data=e,n(n=r.schema.data),typeof n===ft&&(n=dt.getter(n)),ut(n)&&(t.hasChildren=!!n.call(t,t)),t._childrenOptions=r,t.hasChildren&&t._initChildren(),t._loaded=!(!e!e[i]&&!e._loaded)},_initChildrenfunction(){var e,t,n,i=this;i.children instanceof Z(e=i.children=new Z(i._childrenOptions),t=e.transport,n=t.parameterMap,t.parameterMap=function(e,t){return e[i.idFieldid]=i.id,n&&(e=n(e,t)),e},e.parent=function(){return i},e.bind(yt,function(e){e.node=e.nodei,i.trigger(yt,e)}),e.bind(xt,function(e){var t=i.parent();t&&(e.node=e.nodei,t.trigger(xt,e))}),i._updateChildrenField())},appendfunction(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren!1,levelfunction(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNodee.parentNode()null;return t},_updateChildrenFieldfunction(){var e=this._childrenOptions.schema.data;this[eitems]=this.children.data()},_childrenLoadedfunction(){this._loaded=!0,this._updateChildrenField()},loadfunction(){var n,i,r={},o=_query;return this.hasChildren(this._initChildren(),n=this.children,r[this.idFieldid]=this.id,this._loaded(n._data=t,o=read),n.one(yt,nt(this._childrenLoaded,this)),i=n[o](r))this.loaded(!0),ie.Deferred().resolve().promise()},parentNodefunction(){var e=this.parent();return e.parent()},loadedfunction(e){return e===tthis._loaded(this._loaded=e,t)},shouldSerializefunction(e){return Qt.fn.shouldSerialize.call(this,e)&&children!==e&&_loaded!==e&&hasChildren!==e&&_childrenOptions!==e}}),Z=Q.extend({initfunction(e){var t=X.define({childrene});Q.fn.init.call(this,tt(!0,{},{schema{modelBaset,modelt}},e)),this._attachBubbleHandlers()},_attachBubbleHandlersfunction(){var e=this;e._data.bind(xt,function(t){e.trigger(xt,t)})},removefunction(e){var t,n=e.parentNode(),i=this;return n&&n._initChildren&&(i=n.children),t=Q.fn.remove.call(i,e),n&&!i.data().length&&(n.hasChildren=!1),t},successH(success),dataH(data),insertfunction(e,t){var n=this.parent();return n&&n._initChildren&&(n.hasChildren=!0,n._initChildren()),Q.fn.insert.call(this,e,t)},_findfunction(e,t){var n,i,r,o,a;if(r=Q.fn[e].call(this,t))return r;if(o=this._flatData(this._data))for(n=0,i=o.length;in;n++)if(a=o[n].children,a instanceof Z&&(r=a[e](t)))return r},getfunction(e){return this._find(get,e)},getByUidfunction(e){return this._find(getByUid,e)}}),Z.create=function(e){e=e&&e.push{datae}e;var t=e{},n=t.data,i=t.fields,r=t.list;return n&&n._dataSourcen._dataSource(n!it.transportr&&(n=L(r,i)),t.data=n,t instanceof Ztnew Z(t))},J=dt.Observable.extend({initfunction(e,t,n){dt.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!n;var i=this;e.bind(change,function(){i._change()}),e.bind(reset,function(){i._reset()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSizefunction(e){this.viewSize=e,this._recalculate()},atfunction(e){var n=this.pageSize,i=!0;return e=this.total()(this.trigger(endreached,{indexe}),null)this.useRangesthis.useRanges((this.dataOffsetee=this.skip+n)&&(i=this.range(Math.floor(en)n)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThresholdthis.range(this.nextMidRange,!0)e===this.nextPageThresholdthis.range(this.nextFullRange)e===this.pullBackThreshold&&this.range(this.offset===this.skipthis.previousMidRangethis.previousFullRange),ithis.dataSource.at(e-this.dataOffset)(this.trigger(endreached,{indexe}),null))tthis.dataSource.view()[e]},indexOffunction(e){return this.dataSource.data().indexOf(e)+this.dataOffset},totalfunction(){return parseInt(this.dataSource.total(),10)},nextfunction(){var e=this,t=e.pageSize,n=e.skip-e.viewSize+t,i=Mt.max(Mt.floor(nt),0)t;this.offset=n,this.dataSource.prefetch(i,t,function(){e._goToRange(n,!0)})},rangefunction(e,t){if(this.offset===e)return!0;var n=this,i=this.pageSize,r=Mt.max(Mt.floor(ei),0)i,o=this.dataSource;return t&&(r+=i),o.inRange(e,i)(this.offset=e,this._recalculate(),this._goToRange(e),!0)this.prefetch(o.prefetch(r,i,function(){n.offset=e,n._recalculate(),n._goToRange(e,!0)}),!1)!0},syncDataSourcefunction(){var e=this.offset;this.offset=null,this.range(e)},destroyfunction(){this.unbind()},_prefetchfunction(){var e=this,t=this.pageSize,n=this.skip+t,i=this.dataSource;i.inRange(n,t)this._prefetching!this.prefetch(this._prefetching=!0,this.trigger(prefetching,{skipn,taket}),i.prefetch(n,t,function(){e._prefetching=!1,e.trigger(prefetched,{skipn,taket})}))},_goToRangefunction(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress())},_resetfunction(){this._syncPending=!0},_changefunction(){var e=this.dataSource;this.length=this.useRangese.lastRange().ende.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger(reset,{offsetthis.offset})),this.trigger(resize),this._expanding&&this.trigger(expand),delete this._expanding},_syncWithDataSourcefunction(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculatefunction(){var e=this.pageSize,t=this.offset,n=this.viewSize,i=Math.ceil(te)e;this.skip=i,this.midPageThreshold=i+e-1,this.nextPageThreshold=i+n-1,this.prefetchThreshold=i+Math.floor(e32),this.pullBackThreshold=this.offset-1,this.nextMidRange=i+e-n,this.nextFullRange=i,this.previousMidRange=t-n,this.previousFullRange=i-e}}),et=dt.Observable.extend({initfunction(e,t){var n=this;dt.Observable.fn.init.call(n),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new J(e,3t),this.buffer.bind({endreachedfunction(e){n.trigger(endreached,{indexe.index})},prefetchingfunction(e){n.trigger(prefetching,{skipe.skip,takee.take})},prefetchedfunction(e){n.trigger(prefetched,{skipe.skip,takee.take})},resetfunction(){n._total=0,n.trigger(reset)},resizefunction(){n._total=Math.ceil(this.lengthn.batchSize),n.trigger(resize,{totaln.total(),offsetthis.offset})}})},syncDataSourcefunction(){this.buffer.syncDataSource()},atfunction(e){var t,n,i=this.buffer,r=ethis.batchSize,o=this.batchSize,a=[];for(i.offsetr&&i.at(i.offset-1),n=0;on&&(t=i.at(r+n),null!==t);n++)a.push(t);return a},totalfunction(){return this._total},destroyfunction(){this.buffer.destroy(),this.unbind()}}),tt(!0,dt.data,{readers{jsonY},Queryo,DataSourceQ,HierarchicalDataSourceZ,NodeX,ObservableObjectqt,ObservableArrayjt,LazyObservableArrayGt,LocalTransportG,RemoteTransportq,Cache$,DataReaderY,ModelQt,BufferJ,BatchBufferet})}(window.kendo.jQuery),function(e,t){function n(t,n,i){return v.extend({initfunction(e,t,n){var i=this;v.fn.init.call(i,e.element[0],t,n),i.widget=e,i._dataBinding=M(i.dataBinding,i),i._dataBound=M(i.dataBound,i),i._itemChange=M(i.itemChange,i)},itemChangefunction(e){a(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings[t]._parents()))},dataBindingfunction(e){var t,n,i=this.widget,r=e.removedItemsi.items();for(t=0,n=r.length;nt;t++)c(r[t])},_nsfunction(t){t=tC.ui;var n=[C.ui,C.dataviz.ui,C.mobile.ui];return n.splice(e.inArray(t,n),1),n.unshift(t),C.rolesFromNamespaces(n)},dataBoundfunction(e){var i,r,o,s,l=this.widget,c=e.addedItemsl.items(),d=l[n],u=(d.group()[],C.data.HierarchicalDataSource);if(!(u&&d instanceof u)&&c.length)for(o=e.addedDataItemsd.flatView(),s=this.bindings[t]._parents(),i=0,r=o.length;ri;i++)a(c[i],o[i],this._ns(e.ns),[o[i]].concat(s))},refreshfunction(e){var r,o=this,a=o.widget;e=e{},e.action(o.destroy(),a.bind(dataBinding,o._dataBinding),a.bind(dataBound,o._dataBound),a.bind(itemChange,o._itemChange),r=o.bindings[t].get(),a[n]instanceof C.data.DataSource&&a[n]!=r&&(r instanceof C.data.DataSourcea[i](r)r&&r._dataSourcea[i](r._dataSource)(a[n].data(r),o.bindings.value&&(a instanceof C.ui.Selecta instanceof C.ui.MultiSelect)&&a.value(p(o.bindings.value.get(),a.options.dataValueField)))))},destroyfunction(){var e=this.widget;e.unbind(dataBinding,this._dataBinding),e.unbind(dataBound,this._dataBound),e.unbind(itemChange,this._itemChange)}})}function i(e,n){var i=C.initWidget(e,{},n);return inew b(i)t}function r(e){var t,n,i,o,a,s,l,c={};for(l=e.match(k),t=0,n=l.length;nt;t++)i=l[t],o=i.indexOf(),a=i.substring(0,o),s=i.substring(o+1),{==s.charAt(0)&&(s=r(s)),c[a]=s;return c}function o(e,t,n){var i,r={};for(i in e)r[i]=new n(t,e[i]);return r}function a(e,t,n,s){var c,d,u,h=e.getAttribute(data-+C.ns+role),p=e.getAttribute(data-+C.ns+bind),v=e.children,_=[],w=!0,b={};if(s=s[t],(hp)&&l(e),h&&(u=i(e,n)),p&&(p=r(p.replace(x,)),u(b=C.parseOptions(e,{textField,valueField,template,valueUpdateH,valuePrimitive!1,autoBind!0}),b.roles=n,u=new y(e,b)),u.source=t,d=o(p,s,f),b.template&&(d.template=new m(s,,b.template)),d.click&&(p.events=p.events{},p.events.click=p.click,d.click.destroy(),delete d.click),d.source&&(w=!1),p.attr&&(d.attr=o(p.attr,s,f)),p.style&&(d.style=o(p.style,s,f)),p.events&&(d.events=o(p.events,s,g)),u.bind(d)),u&&(e.kendoBindingTarget=u),w&&v){for(c=0;v.lengthc;c++)_[c]=v[c];for(c=0;_.lengthc;c++)a(_[c],t,n,s)}}function s(t,n){var i,r,o,s=C.rolesFromNamespaces([].slice.call(arguments,2));for(n=C.observable(n),t=e(t),i=0,r=t.length;ri;i++)o=t[i],1===o.nodeType&&a(o,n,s)}function l(e){var t=e.kendoBindingTarget;t&&(t.destroy(),Bdelete e.kendoBindingTargete.removeAttributee.removeAttribute(kendoBindingTarget)e.kendoBindingTarget=null)}function c(e){l(e),d(e)}function d(e){var t,n,i=e.children;if(i)for(t=0,n=i.length;nt;t++)c(i[t])}function u(t){var n,i;for(t=e(t),n=0,i=t.length;in;n++)c(t[n])}function h(e,t){var n=e.element,i=n[0].kendoBindingTarget;i&&s(n,i.source,t)}function p(e,t){var n,i,r=[],o=0;if(!t)return e;if(e instanceof D){for(n=e.length;no;o++)i=e[o],r[o]=i.geti.get(t)i[t];e=r}else e instanceof T&&(e=e.get(t));return e}var f,g,m,v,_,w,y,b,k,x,C=window.kendo,S=C.Observable,T=C.data.ObservableObject,D=C.data.ObservableArray,A={}.toString,E={},I=C.Class,M=e.proxy,P=value,z=source,F=events,R=checked,B=!0,H=change;!function(){var e=document.createElement(a);try{delete e.test}catch(t){B=!1}}(),f=S.extend({initfunction(e,t){var n=this;S.fn.init.call(n),n.source=e[0],n.parents=e,n.path=t,n.dependencies={},n.dependencies[t]=!0,n.observable=n.source instanceof S,n._access=function(e){n.dependencies[e.field]=!0},n.observable&&(n._change=function(e){n.change(e)},n.source.bind(H,n._change))},_parentsfunction(){var t,n=this.parents,i=this.get();return i&&function==typeof i.parent&&(t=i.parent(),e.inArray(t,n)0&&(n=[t].concat(n))),n},changefunction(e){var t,n,i=e.field,r=this;if(this===r.path)r.trigger(H,e);else for(t in r.dependencies)if(0===t.indexOf(i)&&(n=t.charAt(i.length),!n.===n[===n)){r.trigger(H,e);break}},startfunction(e){e.bind(get,this._access)},stopfunction(e){e.unbind(get,this._access)},getfunction(){var e=this,n=e.source,i=0,r=e.path,o=n;if(!e.observable)return o;for(e.start(e.source),o=n.get(r);o===t&&n;)n=e.parents[++i],n instanceof T&&(o=n.get(r));if(o===t)for(n=e.source;o===t&&n;)n=n.parent(),n instanceof T&&(o=n.get(r));returnfunction==typeof o&&(i=r.lastIndexOf(.),i0&&(n=n.get(r.substring(0,i))),e.start(n),o=n!==e.sourceo.call(n,e.source)o.call(n),e.stop(n)),n&&n!==e.source&&(e.currentSource=n,n.unbind(H,e._change).bind(H,e._change)),e.stop(e.source),o},setfunction(e){var t=this.currentSourcethis.source,n=C.getter(this.path)(t);function==typeof nt!==this.sourcen.call(t,this.source,e)n.call(t,e)t.set(this.path,e)},destroyfunction(){this.observable&&(this.source.unbind(H,this._change),this.currentSource&&this.currentSource.unbind(H,this._change)),this.unbind()}}),g=f.extend({getfunction(){var e,t=this.source,n=this.path,i=0;for(e=t.get(n);!e&&t;)t=this.parents[++i],t instanceof T&&(e=t.get(n));return M(e,t)}}),m=f.extend({initfunction(e,t,n){var i=this;f.fn.init.call(i,e,t),i.template=n},renderfunction(e){var t;return this.start(this.source),t=C.render(this.template,e),this.stop(this.source),t}}),v=I.extend({initfunction(e,t,n){this.element=e,this.bindings=t,this.options=n},bindfunction(e,t){var n=this;e=te[t]e,e.bind(H,function(e){n.refresh(te)}),n.refresh(t)},destroyfunction(){}}),_=v.extend({dataTypefunction(){var e=this.element.getAttribute(data-type)this.element.typetext;return e.toLowerCase()},parsedValuefunction(){return this._parseValue(this.element.value,this.dataType())},_parseValuefunction(e,t){returndate==te=C.parseDate(e,yyyy-MM-dd)datetime-local==te=C.parseDate(e,[yyyy-MM-ddTHHmmss,yyyy-MM-ddTHHmm])number==te=C.parseFloat(e)boolean==t&&(e=e.toLowerCase(),e=null!==C.parseFloat(e)!!C.parseFloat(e)true===e.toLowerCase()),e}}),E.attr=v.extend({refreshfunction(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),E.style=v.extend({refreshfunction(e){this.element.style[e]=this.bindings.style[e].get()}}),E.enabled=v.extend({refreshfunction(){this.bindings.enabled.get()this.element.removeAttribute(disabled)this.element.setAttribute(disabled,disabled)}}),E.readonly=v.extend({refreshfunction(){this.bindings.readonly.get()this.element.setAttribute(readonly,readonly)this.element.removeAttribute(readonly)}}),E.disabled=v.extend({refreshfunction(){this.bindings.disabled.get()this.element.setAttribute(disabled,disabled)this.element.removeAttribute(disabled)}}),E.events=v.extend({initfunction(e,t,n){v.fn.init.call(this,e,t,n),this.handlers={}},refreshfunction(t){var n=e(this.element),i=this.bindings.events[t],r=this.handlers[t];r&&n.off(t,r),r=this.handlers[t]=i.get(),n.on(t,i.source,r)},destroyfunction(){var t,n=e(this.element);for(t in this.handlers)n.off(t,this.handlers[t])}}),E.text=v.extend({refreshfunction(){var t=this.bindings.text.get();null==t&&(t=),e(this.element).text(t)}}),E.visible=v.extend({refreshfunction(){this.element.style.display=this.bindings.visible.get()none}}),E.invisible=v.extend({refreshfunction(){this.element.style.display=this.bindings.invisible.get()none}}),E.html=v.extend({refreshfunction(){this.element.innerHTML=this.bindings.html.get()}}),E.value=_.extend({initfunction(t,n,i){_.fn.init.call(this,t,n,i),this._change=M(this.change,this),this.eventName=i.valueUpdateH,e(this.element).on(this.eventName,this._change),this._initChange=!1},changefunction(){this._initChange=this.eventName!=H,this.bindings[P].set(this.parsedValue()),this._initChange=!1},refreshfunction(){var e,t;this._initChange(e=this.bindings[P].get(),null==e&&(e=),t=this.dataType(),date==te=C.toString(e,yyyy-MM-dd)datetime-local==t&&(e=C.toString(e,yyyy-MM-ddTHHmmss)),this.element.value=e),this._initChange=!1},destroyfunction(){e(this.element).off(this.eventName,this._change)}}),E.source=v.extend({initfunction(e,t,n){v.fn.init.call(this,e,t,n);var i=this.bindings.source.get();i instanceof C.data.DataSource&&n.autoBind!==!1&&i.fetch()},refreshfunction(e){var n=this,i=n.bindings.source.get();i instanceof Di instanceof C.data.DataSource(e=e{},add==e.actionn.add(e.index,e.items)remove==e.actionn.remove(e.index,e.items)(itemchange==e.actione.action===t)&&n.render())n.render()},containerfunction(){var e=this.element;returntable==e.nodeName.toLowerCase()&&(e.tBodies[0]e.appendChild(document.createElement(tbody)),e=e.tBodies[0]),e},templatefunction(){var e=this.options,t=e.template,n=this.container().nodeName.toLowerCase();return t(t=select==ne.valueFielde.textFieldC.format('option value=#{0}##{1}#option',e.valueFielde.textField,e.textFielde.valueField)option#data#optiontbody==ntrtd#data#tdtrul==nol==nli#data#li#data#,t=C.template(t)),t},addfunction(t,n){var i,r,o,s,l=this.container(),c=l.cloneNode(!1),d=l.children[t];if(e(c).html(C.render(this.template(),n)),c.children.length)for(i=this.bindings.source._parents(),r=0,o=n.length;or;r++)s=c.children[0],l.insertBefore(s,dnull),a(s,n[r],this.options.roles,[n[r]].concat(i))},removefunction(e,t){var n,i,r=this.container();for(n=0;t.lengthn;n++)i=r.children[e],c(i),r.removeChild(i)},renderfunction(){var t,n,i,r=this.bindings.source.get(),o=this.container(),s=this.template();if(r instanceof C.data.DataSource&&(r=r.view()),r instanceof D[object Array]===A.call(r)(r=[r]),this.bindings.template){if(d(o),e(o).html(this.bindings.template.render(r)),o.children.length)for(t=this.bindings.source._parents(),n=0,i=r.length;in;n++)a(o.children[n],r[n],this.options.roles,[r[n]].concat(t))}else e(o).html(C.render(s,r))}}),E.input={checked_.extend({initfunction(t,n,i){_.fn.init.call(this,t,n,i),this._change=M(this.change,this),e(this.element).change(this._change)},changefunction(){var e,t,n,i=this.element,r=this.value();if(radio==i.type)r=this.parsedValue(),this.bindings[R].set(r);else if(checkbox==i.type)if(e=this.bindings[R].get(),e instanceof D){if(r=this.parsedValue(),r instanceof Date){for(n=0;e.lengthn;n++)if(e[n]instanceof Date&&+e[n]===+r){t=n;break}}else t=e.indexOf(r);t-1e.splice(t,1)e.push(r)}else this.bindings[R].set(r)},refreshfunction(){var e,t,n=this.bindings[R].get(),i=n,r=this.dataType(),o=this.element;if(checkbox==o.type)if(i instanceof D){if(e=-1,n=this.parsedValue(),n instanceof Date){for(t=0;i.lengtht;t++)if(i[t]instanceof Date&&+i[t]===+n){e=t;break}}else e=i.indexOf(n);o.checked=e=0}else o.checked=i;elseradio==o.type&&null!=n&&(date==rn=C.toString(n,yyyy-MM-dd)datetime-local==r&&(n=C.toString(n,yyyy-MM-ddTHHmmss)),o.value===+n&&(o.checked=!0))},valuefunction(){var e=this.element,t=e.value;returncheckbox==e.type&&(t=e.checked),t},destroyfunction(){e(this.element).off(H,this._change)}})},E.select={sourceE.source.extend({refreshfunction(e){var n=this,i=n.bindings.source.get();i instanceof Di instanceof C.data.DataSource(e=e{},add==e.actionn.add(e.index,e.items)remove==e.actionn.remove(e.index,e.items)(itemchange==e.actione.action===t)&&(n.render(),n.bindings.value&&n.bindings.value.source.trigger(change,{fieldn.bindings.value.path})))n.render()}}),value_.extend({initfunction(t,n,i){_.fn.init.call(this,t,n,i),this._change=M(this.change,this),e(this.element).change(this._change)},parsedValuefunction(){var e,t,n,i,r=this.dataType(),o=[];for(n=0,i=this.element.options.length;in;n++)t=this.element.options[n],t.selected&&(e=t.attributes.value,e=e&&e.specifiedt.valuet.text,o.push(this._parseValue(e,r)));return o},changefunction(){var e,n,i,r,o,a,s=[],l=this.options.valueFieldthis.options.textField,c=this.options.valuePrimitive;if(s=this.parsedValue(),l)for(e=this.bindings.source.get(),e instanceof C.data.DataSource&&(e=e.view()),n=0;s.lengthn;n++)for(r=0,o=e.length;or;r++)if(a=cthis._parseValue(s[n],this.dataType())===e[r].get(l)+this._parseValue(e[r].get(l),this.dataType())===s[n]){s[n]=e[r];break}i=this.bindings[P].get(),i instanceof Di.splice.apply(i,[0,i.length].concat(s))this.bindings[P].set(c!(i instanceof Tnull===ii===t)&&ls[0].get(l)s[0])},refreshfunction(){var e,t,n,i=this.element,r=i.options,o=this.bindings[P].get(),a=o,s=this.options.valueFieldthis.options.textField,l=!1,c=this.dataType();for(a instanceof D(a=new D([o])),i.selectedIndex=-1,n=0;a.lengthn;n++)for(o=a[n],s&&o instanceof T&&(o=o.get(s)),date==co=C.toString(a[n],yyyy-MM-dd)datetime-local==c&&(o=C.toString(a[n],yyyy-MM-ddTHHmmss)),e=0;r.lengthe;e++)t=r[e].value,===t&&!==o&&(t=r[e].text),null!=o&&t==+o&&(r[e].selected=!0,l=!0)},destroyfunction(){e(this.element).off(H,this._change)}})},E.widget={eventsv.extend({initfunction(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e,this.handlers={}},refreshfunction(e){var t=this.bindings.events[e],n=this.handlers[e];n&&this.widget.unbind(e,n),n=t.get(),this.handlers[e]=function(e){e.data=t.source,n(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroyfunction(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checkedv.extend({initfunction(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e,this._change=M(this.change,this),this.widget.bind(H,this._change)},changefunction(){this.bindings[R].set(this.value())},refreshfunction(){this.widget.check(this.bindings[R].get()===!0)},valuefunction(){var e=this.element,t=e.value;return(on==toff==t)&&(t=e.checked),t},destroyfunction(){this.widget.unbind(H,this._change)}}),visiblev.extend({initfunction(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e},refreshfunction(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=enone}}),invisiblev.extend({initfunction(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e},refreshfunction(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=enone}}),enabledv.extend({initfunction(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e},refreshfunction(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabledv.extend({initfunction(e,t,n){v.fn.init.call(this,e.element[0],t,n),this.widget=e},refreshfunction(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),sourcen(source,dataSource,setDataSource),valuev.extend({initfunction(t,n,i){v.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(H,this._change);var r=this.bindings.value.get();this._valueIsObservableObject=!i.valuePrimitive&&(null==rr instanceof T),this._valueIsObservableArray=r instanceof D,this._initChange=!1},changefunction(){var e,t,n,i,r,o,a,s=this.widget.value(),l=this.options.dataValueFieldthis.options.dataTextField,c=[object Array]===A.call(s),d=this._valueIsObservableObject,u=[];if(this._initChange=!0,l)if(this.bindings.source&&(a=this.bindings.source.get()),===s&&(dthis.options.valuePrimitive))s=null;else{for((!aa instanceof C.data.DataSource)&&(a=this.widget.dataSource.view()),c&&(t=s.length,u=s.slice(0)),r=0,o=a.length;or;r++)if(n=a[r],i=n.get(l),c){for(e=0;te;e++)if(i==u[e]){u[e]=n;break}}else if(i==s){s=dni;break}u[0]&&(s=this._valueIsObservableArrayud!lu[0]u[0].get(l))}this.bindings.value.set(s),this._initChange=!1},refreshfunction(){var e,n,i,r,o,a,s,l;if(!this._initChange){if(e=this.widget,n=this.options.dataTextField,i=this.options.dataValueFieldn,r=this.bindings.value.get(),o=this.options.text,a=0,l=[],r===t&&(r=null),i)if(r instanceof D){for(s=r.length;sa;a++)l[a]=r[a].get(i);r=l}else r instanceof T&&(o=r.get(n),r=r.get(i));e.options.autoBind===!1&&e.listView&&!e.listView.isBound()(n!==io(o=r),e._preselect(r,o))e.value(r)}this._initChange=!1},destroyfunction(){this.widget.unbind(H,this._change)}}),gantt{dependenciesn(dependencies,dependencies,setDependenciesDataSource)},multiselect{valuev.extend({initfunction(t,n,i){v.fn.init.call(this,t.element[0],n,i),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(H,this._change),this._initChange=!1},changefunction(){var e,n,i,r,o,a,s,l,c,d=this,u=d.bindings[P].get(),h=d.options.valuePrimitive,p=hd.widget.value()d.widget.dataItems(),f=this.options.dataValueFieldthis.options.dataTextField;if(p=p.slice(0),d._initChange=!0,u instanceof D){for(e=[],n=p.length,i=0,r=0,o=u[i],a=!1;o!==t;){for(c=!1,r=0;nr;r++)if(ha=p[r]==o(l=p[r],l=l.getl.get(f)l,a=l==(o.geto.get(f)o)),a){p.splice(r,1),n-=1,c=!0;break}ci+=1(e.push(o),w(u,i,1),s=i),o=u[i]}w(u,u.length,0,p),e.length&&u.trigger(change,{actionremove,itemse,indexs}),p.length&&u.trigger(change,{actionadd,itemsp,indexu.length-1})}else d.bindings[P].set(p);d._initChange=!1},refreshfunction(){if(!this._initChange){var e,n,i=this.options,r=this.widget,o=i.dataValueFieldi.dataTextField,a=this.bindings.value.get(),s=a,l=0,c=[];if(a===t&&(a=null),o)if(a instanceof D){for(e=a.length;el;l++)n=a[l],c[l]=n.getn.get(o)n;a=c}else a instanceof T&&(a=a.get(o));i.autoBind!==!1i.valuePrimitive===!0r.listView.isBound()r.value(a)r._preselect(s,a)}},destroyfunction(){this.widget.unbind(H,this._change)}})},scheduler{sourcen(source,dataSource,setDataSource).extend({dataBoundfunction(e){var t,n,i,r,o=this.widget,s=e.addedItemso.items();if(s.length)for(i=e.addedDataItemso.dataItems(),r=this.bindings.source._parents(),t=0,n=i.length;nt;t++)a(s[t],i[t],this._ns(e.ns),[i[t]].concat(r))}})}},w=function(e,t,n,i){var r,o,a,s,l;if(i=i[],n=n0,r=i.length,o=e.length,a=[].slice.call(e,t+n),s=a.length,r){for(r=t+r,l=0;rt;t++)e[t]=i[l],l++;e.length=r}else if(n)for(e.length=t,n+=t;nt;)delete e[--n];if(s){for(s=t+s,l=0;st;t++)e[t]=a[l],l++;e.length=s}for(t=e.length;ot;)delete e[t],t++},y=I.extend({initfunction(e,t){this.target=e,this.options=t,this.toDestroy=[]},bindfunction(e){var t,n,i,r,o,a=this instanceof b,s=this.binders();for(t in e)t==Pn=!0t==zi=!0t!=Fat==Ro=!0this.applyBinding(t,e,s)r=!0;i&&this.applyBinding(z,e,s),n&&this.applyBinding(P,e,s),o&&this.applyBinding(R,e,s),r&&!a&&this.applyBinding(F,e,s)},bindersfunction(){return E[this.target.nodeName.toLowerCase()]{}},applyBindingfunction(e,t,n){var i,r=n[e]E[e],o=this.toDestroy,a=t[e];if(r)if(r=new r(this.target,t,this.options),o.push(r),a instanceof f)r.bind(a),o.push(a);else for(i in a)r.bind(a,i),o.push(a[i]);else if(template!==e)throw Error(The +e+ binding is not supported by the +this.target.nodeName.toLowerCase()+ element)},destroyfunction(){var e,t,n=this.toDestroy;for(e=0,t=n.length;te;e++)n[e].destroy()}}),b=y.extend({bindersfunction(){return E.widget[this.target.options.name.toLowerCase()]{}},applyBindingfunction(e,t,n){var i,r=n[e]E.widget[e],o=this.toDestroy,a=t[e];if(!r)throw Error(The +e+ binding is not supported by the +this.target.options.name+ widget);if(r=new r(this.target,t,this.target.options),o.push(r),a instanceof f)r.bind(a),o.push(a);else for(i in a)r.bind(a,i),o.push(a[i])}}),k=[A-Za-z0-9_-]+({([^}])}[^,}]+)g,x=sg,C.unbind=u,C.bind=s,C.data.binders=E,C.data.Binder=v,C.notify=h,C.observable=function(e){return e instanceof T(e=new T(e)),e},C.observableHierarchy=function(e){function t(e){var n,i;for(n=0;e.lengthn;n++)e[n]._initChildren(),i=e[n].children,i.fetch(),e[n].items=i.data(),t(e[n].items)}var n=C.data.HierarchicalDataSource.create(e);return n.fetch(),t(n.data()),n._data._dataSource=n,n._data}}(window.kendo.jQuery),function(e,t){function n(e){return parseInt(e,10)}function i(e,t){return n(e.css(t))}function r(e){var t,n=[];for(t in e)n.push(t);return n}function o(e){for(var t in e)-1!=U.indexOf(t)&&-1==W.indexOf(t)&&delete e[t];
return e}function a(e,t){var n,i,r,o,a=[],s={};for(i in t)n=i.toLowerCase(),o=M&&-1!=U.indexOf(n),!E.hasHW3D&&o&&-1==W.indexOf(n)delete t[i](r=t[i],oa.push(i+(+r+))s[i]=r);return a.length&&(s[st]=a.join( )),s}function s(e,t){var i,r,o;return M(i=e.css(st),i==Qscale==t10(r=i.match(RegExp(t+s(([dw.]+))),o=0,ro=n(r[1])(r=i.match(B)[0,0,0,0,0],t=t.toLowerCase(),L.test(t)o=parseFloat(r[3]r[2])translatey==to=parseFloat(r[4]r[2])scale==to=parseFloat(r[2])rotate==t&&(o=parseFloat(Math.atan2(r[2],r[1])))),o))parseFloat(e.css(t))}function l(e){return e.charAt(0).toUpperCase()+e.substring(1)}function c(e,t){var n=f.extend(t),i=n.prototype.directions;S[l(e)]=n,S.Element.prototype[e]=function(e,t,i,r){return new n(this.element,e,t,i,r)},T(i,function(t,i){S.Element.prototype[e+l(i)]=function(e,t,r){return new n(this.element,i,e,t,r)}})}function d(e,n,i,r){c(e,{directionsm,startValuefunction(e){return this._startValue=e,this},endValuefunction(e){return this._endValue=e,this},shouldHidefunction(){return this._shouldHide},preparefunction(e,o){var a,s,l=this,c=out===this._direction,d=l.element.data(n),u=!(isNaN(d)d==i);a=udt!==this._startValuethis._startValuecir,s=t!==this._endValuethis._endValuecri,this._reverse(e[n]=s,o[n]=a)(e[n]=a,o[n]=s),l._shouldHide=o[n]===r}})}function u(e,t){var n=C.directions[t].vertical,i=e[nZX]()2+px;return _[t].replace($size,i)}var h,p,f,g,m,v,_,w,y,b,k,x,C=window.kendo,S=C.effects,T=e.each,D=e.extend,A=e.proxy,E=C.support,I=E.browser,M=E.transforms,P=E.transitions,z={scale0,scalex0,scaley0,scale3d0},F={translate0,translatex0,translatey0,translate3d0},R=t!==document.documentElement.style.zoom&&!M,B=matrix3ds(.,s([d.-]+)w,s([d.-]+)w,s([d.-]+)w,s([d.-]+)wi,H=^(-[d.-]+)[ws],s(-[d.-]+)[ws]i,L=translatex$i,N=(zoomfadeexpand)(w+),O=(zoomfadeexpand),V=[xy]$i,U=[perspective,rotate,rotatex,rotatey,rotatez,rotate3d,scale,scalex,scaley,scalez,scale3d,skew,skewx,skewy,translate,translatex,translatey,translatez,translate3d,matrix,matrix3d],W=[rotate,scale,scalex,scaley,skew,skewx,skewy,translate,translatex,translatey,matrix],j={rotatedeg,scale,skewpx,translatepx},G=M.css,q=Math.round,$=,Y=px,Q=none,K=auto,X=width,Z=height,J=hidden,et=origin,tt=abortId,nt=overflow,it=translate,rt=position,ot=completeCallback,at=G+transition,st=G+transform,lt=G+backface-visibility,ct=G+perspective,dt=1500px,ut=perspective(+dt+),ht={left{reverseright,propertyleft,transitiontranslatex,vertical!1,modifier-1},right{reverseleft,propertyleft,transitiontranslatex,vertical!1,modifier1},down{reverseup,propertytop,transitiontranslatey,vertical!0,modifier1},up{reversedown,propertytop,transitiontranslatey,vertical!0,modifier-1},top{reversebottom},bottom{reversetop},in{reverseout,modifier-1},out{reversein,modifier1},vertical{reversevertical},horizontal{reversehorizontal}};C.directions=ht,D(e.fn,{kendoStopfunction(e,t){return PS.stopQueue(this,e!1,t!1)this.stop(e,t)}}),M&&!P&&(T(W,function(n,i){e.fn[i]=function(n){if(t===n)return s(this,i);var r=e(this)[0],o=i+(+n+j[i.replace(V,)]+);return-1==r.style.cssText.indexOf(st)e(this).css(st,o)r.style.cssText=r.style.cssText.replace(RegExp(i+(.),i),o),this},e.fx.step[i]=function(t){e(t.elem)[i](t.now)}}),h=e.fx.prototype.cur,e.fx.prototype.cur=function(){return-1!=W.indexOf(this.prop)parseFloat(e(this.elem)[this.prop]())h.apply(this,arguments)}),C.toggleClass=function(e,t,n,i){return t&&(t=t.split( ),P&&(n=D({exclusiveall,duration400,easeease-out},n),e.css(at,n.exclusive+ +n.duration+ms +n.ease),setTimeout(function(){e.css(at,).css(Z)},n.duration)),T(t,function(t,n){e.toggleClass(n,i)})),e},C.parseEffects=function(e,t){var n={};returnstring==typeof eT(e.split( ),function(e,i){var r=!O.test(i),o=i.replace(N,function(e,t,n){return t++n.toLowerCase()}),a=o.split(),s=a[1],l={};a.length1&&(l.direction=t&&rht[s].reverses),n[a[0]]=l})T(e,function(e){var i=this.direction;i&&t&&!O.test(e)&&(this.direction=ht[i].reverse),n[e]=this}),n},P&&D(S,{transitionfunction(t,n,i){var o,s,l,c,d=0,u=t.data(keys)[];i=D({duration200,easeease-out,completenull,exclusiveall},i),l=!1,c=function(){l(l=!0,s&&(clearTimeout(s),s=null),t.removeData(tt).dequeue().css(at,).css(at),i.complete.call(t))},i.duration=e.fxe.fx.speeds[i.duration]i.durationi.duration,o=a(t,n),e.merge(u,r(o)),t.data(keys,e.unique(u)).height(),t.css(at,i.exclusive+ +i.duration+ms +i.ease).css(at),t.css(o).css(st),P.event&&(t.one(P.event,c),0!==i.duration&&(d=500)),s=setTimeout(c,i.duration+d),t.data(tt,s),t.data(ot,c)},stopQueuefunction(e,t,n){var i,r=e.data(keys),o=!n&&r,a=e.data(ot);return o&&(i=C.getComputedStyles(e[0],r)),a&&a(),o&&e.css(i),e.removeData(keys).stop(t)}}),p=C.Class.extend({initfunction(e,t){var n=this;n.element=e,n.effects=[],n.options=t,n.restore=[]},runfunction(t){var n,i,r,s,l,c,d,u=this,h=t.length,p=u.element,f=u.options,g=e.Deferred(),m={},v={};for(u.effects=t,g.then(e.proxy(u,complete)),p.data(animating,!0),i=0;hi;i++)for(n=t[i],n.setReverse(f.reverse),n.setOptions(f),u.addRestoreProperties(n.restore),n.prepare(m,v),l=n.children(),r=0,c=l.length;cr;r++)l[r].duration(f.duration).run();for(d in f.effects)D(v,f.effects[d].properties);for(p.is(visible)D(m,{displayp.data(olddisplay)block}),M&&!f.reset&&(s=p.data(targetTransform),s&&(m=D(s,m))),m=a(p,m),M&&!P&&(m=o(m)),p.css(m).css(st),i=0;hi;i++)t[i].setup();return f.init&&f.init(),p.data(targetTransform,v),S.animate(p,v,D({},f,{completeg.resolve})),g.promise()},stopfunction(){e(this.element).kendoStop(!0,!0)},addRestorePropertiesfunction(e){for(var t,n=this.element,i=0,r=e.length;ri;i++)t=e[i],this.restore.push(t),n.data(t)n.data(t,n.css(t))},restoreCallbackfunction(){var e,t,n,i=this.element;for(e=0,t=this.restore.length;te;e++)n=this.restore[e],i.css(n,i.data(n))},completefunction(){var t=this,n=0,i=t.element,r=t.options,o=t.effects,a=o.length;for(i.removeData(animating).dequeue(),r.hide&&i.data(olddisplay,i.css(display)).hide(),this.restoreCallback(),R&&!M&&setTimeout(e.proxy(this,restoreCallback),0);an;n++)o[n].teardown();r.completeCallback&&r.completeCallback(i)}}),S.promise=function(e,t){var n,i,r,o=[],a=new p(e,t),s=C.parseEffects(t.effects);t.effects=s;for(r in s)n=S[l(r)],n&&(i=new n(e,s[r].direction),o.push(i));o[0]a.run(o)(e.is(visible)e.css({displaye.data(olddisplay)block}).css(display),t.init&&t.init(),e.dequeue(),a.complete())},D(S,{animatefunction(n,r,a){var s=a.transition!==!1;delete a.transition,P&&transitionin S&&sS.transition(n,r,a)Mn.animate(o(r),{queue!1,show!1,hide!1,durationa.duration,completea.complete})n.each(function(){var n=e(this),o={};T(U,function(e,a){var s,l,c,d,u,h,p,f=rr[a]+ null;f&&(l=r,a in z&&r[a]!==t(s=f.match(H),M&&D(l,{scale+s[0]}))a in F&&r[a]!==t&&(c=n.css(rt),d=absolute==cfixed==c,n.data(it)(dn.data(it,{topi(n,top)0,lefti(n,left)0,bottomi(n,bottom),righti(n,right)})n.data(it,{topi(n,marginTop)0,lefti(n,marginLeft)0})),u=n.data(it),s=f.match(H),s&&(h=a==it+y0+s[1],p=a==it+y+s[1]+s[2],d(isNaN(u.right)isNaN(h)D(l,{leftu.left+h})isNaN(h)D(l,{rightu.right-h}),isNaN(u.bottom)isNaN(p)D(l,{topu.top+p})isNaN(p)D(l,{bottomu.bottom-p}))(isNaN(h)D(l,{marginLeftu.left+h}),isNaN(p)D(l,{marginTopu.top+p})))),!M&&scale!=a&&a in l&&delete l[a],l&&D(o,l))}),I.msie&&delete o.scale,n.animate(o,{queue!1,show!1,hide!1,durationa.duration,completea.complete})})}}),S.animatedPromise=S.promise,f=C.Class.extend({initfunction(e,t){var n=this;n.element=e,n._direction=t,n.options={},n._additionalEffects=[],n.restore(n.restore=[])},reversefunction(){return this._reverse=!0,this.run()},playfunction(){return this._reverse=!1,this.run()},addfunction(e){return this._additionalEffects.push(e),this},directionfunction(e){return this._direction=e,this},durationfunction(e){return this._duration=e,this},compositeRunfunction(){var e=this,t=new p(e.element,{reversee._reverse,duratione._duration}),n=e._additionalEffects.concat([e]);return t.run(n)},runfunction(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n,i=this,r=i.element,s=0,l=i.restore,c=l.length,d=e.Deferred(),u={},h={},p=i.children(),f=p.length;for(d.then(e.proxy(i,_complete)),r.data(animating,!0),s=0;cs;s++)t=l[s],r.data(t)r.data(t,r.css(t));for(s=0;fs;s++)p[s].duration(i._duration).run();return i.prepare(u,h),r.is(visible)D(u,{displayr.data(olddisplay)block}),M&&(n=r.data(targetTransform),n&&(u=D(n,u))),u=a(r,u),M&&!P&&(u=o(u)),r.css(u).css(st),i.setup(),r.data(targetTransform,h),S.animate(r,h,{durationi._duration,completed.resolve}),d.promise()},stopfunction(){var t=0,n=this.children(),i=n.length;for(t=0;it;t++)n[t].stop();return e(this.element).kendoStop(!0,!0),this},restoreCallbackfunction(){var e,t,n,i=this.element;for(e=0,t=this.restore.length;te;e++)n=this.restore[e],i.css(n,i.data(n))},_completefunction(){var t=this,n=t.element;n.removeData(animating).dequeue(),t.restoreCallback(),t.shouldHide()&&n.data(olddisplay,n.css(display)).hide(),R&&!M&&setTimeout(e.proxy(t,restoreCallback),0),t.teardown()},setOptionsfunction(e){D(!0,this.options,e)},childrenfunction(){return[]},shouldHidee.noop,setupe.noop,preparee.noop,teardowne.noop,directions[],setReversefunction(e){return this._reverse=e,this}}),g=[left,right,up,down],m=[in,out],c(slideIn,{directionsg,divisorfunction(e){return this.options.divisor=e,this},preparefunction(e,t){var n,i=this,r=i.element,o=ht[i._direction],a=-o.modifier(o.verticalr.outerHeight()r.outerWidth()),s=a(i.options&&i.options.divisor1)+Y,l=0px;i._reverse&&(n=e,e=t,t=n),M(e[o.transition]=s,t[o.transition]=l)(e[o.property]=s,t[o.property]=l)}}),c(tile,{directionsg,initfunction(e,t,n){f.prototype.init.call(this,e,t),this.options={previousn}},previousDivisorfunction(e){return this.options.previousDivisor=e,this},childrenfunction(){var e=this,t=e._reverse,n=e.options.previous,i=e.options.previousDivisor1,r=e._direction,o=[C.fx(e.element).slideIn(r).setReverse(t)];return n&&o.push(C.fx(n).slideIn(ht[r].reverse).divisor(i).setReverse(!t)),o}}),d(fade,opacity,1,0),d(zoom,scale,1,.01),c(slideMargin,{preparefunction(e,t){var n,i=this,r=i.element,o=i.options,a=r.data(et),s=o.offset,l=i._reverse;lnull!==ar.data(et,parseFloat(r.css(margin-+o.axis))),n=r.data(et)0,t[margin-+o.axis]=lnn+s}}),c(slideTo,{preparefunction(e,t){var n=this,i=n.element,r=n.options,o=r.offset.split(,),a=n._reverse;M(t.translatex=a0o[0],t.translatey=a0o[1])(t.left=a0o[0],t.top=a0o[1]),i.css(left)}}),c(expand,{directions[horizontal,vertical],restore[nt],preparefunction(e,n){var i=this,r=i.element,o=i.options,a=i._reverse,s=vertical===i._directionZX,l=r[0].style[s],c=r.data(s),d=parseFloat(cl),u=q(r.css(s,K)[s]());e.overflow=J,d=o&&o.resetuddu,n[s]=(a0d)+Y,e[s]=(ad0)+Y,c===t&&r.data(s,l)},shouldHidefunction(){return this._reverse},teardownfunction(){var e=this,t=e.element,n=vertical===e._directionZX,i=t.data(n);(i==Ki===$)&&setTimeout(function(){t.css(n,K).css(n)},0)}}),v={positionabsolute,marginLeft0,marginTop0,scale1},c(transfer,{initfunction(e,t){this.element=e,this.options={targett},this.restore=[]},setupfunction(){this.element.appendTo(document.body)},preparefunction(e,t){var n=this,i=n.element,r=S.box(i),o=S.box(n.options.target),a=s(i,scale),l=S.fillScale(o,r),c=S.transformOrigin(o,r);D(e,v),t.scale=1,i.css(st,scale(1)).css(st),i.css(st,scale(+a+)),e.top=r.top,e.left=r.left,e.transformOrigin=c.x+Y+ +c.y+Y,n._reversee.scale=lt.scale=l}}),_={toprect(auto auto $size auto),bottomrect($size auto auto auto),leftrect(auto $size auto auto),rightrect(auto auto auto $size)},w={top{startrotatex(0deg),endrotatex(180deg)},bottom{startrotatex(-180deg),endrotatex(0deg)},left{startrotatey(0deg),endrotatey(-180deg)},right{startrotatey(180deg),endrotatey(0deg)}},c(turningPage,{directionsg,initfunction(e,t,n){f.prototype.init.call(this,e,t),this._container=n},preparefunction(e,t){var n=this,i=n._reverse,r=iht[n._direction].reversen._direction,o=w[r];e.zIndex=1,n._clipInHalf&&(e.clip=u(n._container,C.directions[r].reverse)),e[lt]=J,t[st]=ut+(io.starto.end),e[st]=ut+(io.endo.start)},setupfunction(){this._container.append(this.element)},facefunction(e){return this._face=e,this},shouldHidefunction(){var e=this,t=e._reverse,n=e._face;return t&&!n!t&&n},clipInHalffunction(e){return this._clipInHalf=e,this},temporaryfunction(){return this.element.addClass(temp-page),this}}),c(staticPage,{directionsg,initfunction(e,t,n){f.prototype.init.call(this,e,t),this._container=n},restore[clip],preparefunction(e,t){var n=this,i=n._reverseht[n._direction].reversen._direction;e.clip=u(n._container,i),e.opacity=.999,t.opacity=1},shouldHidefunction(){var e=this,t=e._reverse,n=e._face;return t&&!n!t&&n},facefunction(e){return this._face=e,this}}),c(pageturn,{directions[horizontal,vertical],initfunction(e,t,n,i){f.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=i},childrenfunction(){var e,t=this,n=t.options,i=horizontal===t._directionlefttop,r=C.directions[i].reverse,o=t._reverse,a=n.face.clone(!0).removeAttr(id),s=n.back.clone(!0).removeAttr(id),l=t.element;return o&&(e=i,i=r,r=e),[C.fx(n.face).staticPage(i,l).face(!0).setReverse(o),C.fx(n.back).staticPage(r,l).setReverse(o),C.fx(a).turningPage(i,l).face(!0).clipInHalf(!0).temporary().setReverse(o),C.fx(s).turningPage(r,l).clipInHalf(!0).temporary().setReverse(o)]},preparefunction(e,t){e[ct]=dt,e.transformStyle=preserve-3d,e.opacity=.999,t.opacity=1},teardownfunction(){this.element.find(.temp-page).remove()}}),c(flip,{directions[horizontal,vertical],initfunction(e,t,n,i){f.prototype.init.call(this,e,t),this.options={},this.options.face=n,this.options.back=i},childrenfunction(){var e,t=this,n=t.options,i=horizontal===t._directionlefttop,r=C.directions[i].reverse,o=t._reverse,a=t.element;return o&&(e=i,i=r,r=e),[C.fx(n.face).turningPage(i,a).face(!0).setReverse(o),C.fx(n.back).turningPage(r,a).setReverse(o)]},preparefunction(e){e[ct]=dt,e.transformStyle=preserve-3d}}),y=!E.mobileOS.android,b=.km-touch-scrollbar, .km-actionsheet-wrapper,c(replace,{_beforee.noop,_aftere.noop,initfunction(t,n,i){f.prototype.init.call(this,t),this._previous=e(n),this._transitionClass=i},durationfunction(){throw Error(The replace effect does not support duration setting; the effect duration may be customized through the transition class rule)},beforeTransitionfunction(e){return this._before=e,this},afterTransitionfunction(e){return this._after=e,this},_bothfunction(){return e().add(this._element).add(this._previous)},_containerClassfunction(){var e=this._direction,t=k-fx k-fx-start k-fx-+this._transitionClass;return e&&(t+= k-fx-+e),this._reverse&&(t+= k-fx-reverse),t},completefunction(t){if(!(!this.deferredt&&e(t.target).is(b))){var n=this.container;n.removeClass(k-fx-end).removeClass(this._containerClass()).off(P.event,this.completeProxy),this._previous.hide().removeClass(k-fx-current),this.element.removeClass(k-fx-next),y&&n.css(nt,),this.isAbsolutethis._both().css(rt,),this.deferred.resolve(),delete this.deferred}},runfunction(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,n=this,i=n.element,r=n._previous,o=i.parents().filter(r.parents()).first(),a=n._both(),s=e.Deferred(),l=i.css(rt);return o.length(o=i.parent()),this.container=o,this.deferred=s,this.isAbsolute=absolute==l,this.isAbsolutea.css(rt,absolute),y&&(t=o.css(nt),o.css(nt,hidden)),P(i.addClass(k-fx-hidden),o.addClass(this._containerClass()),this.completeProxy=e.proxy(this,complete),o.on(P.event,this.completeProxy),C.animationFrame(function(){i.removeClass(k-fx-hidden).addClass(k-fx-next),r.css(display,).addClass(k-fx-current),n._before(r,i),C.animationFrame(function(){o.removeClass(k-fx-start).addClass(k-fx-end),n._after(r,i)})}))this.complete(),s.promise()},stopfunction(){this.complete()}}),k=C.Class.extend({initfunction(){var e=this;e._tickProxy=A(e._tick,e),e._started=!1},ticke.noop,donee.noop,onEnde.noop,onCancele.noop,startfunction(){this.enabled()&&(this.done()this.onEnd()(this._started=!0,C.animationFrame(this._tickProxy)))},enabledfunction(){return!0},cancelfunction(){this._started=!1,this.onCancel()},_tickfunction(){var e=this;e._started&&(e.tick(),e.done()(e._started=!1,e.onEnd())C.animationFrame(e._tickProxy))}}),x=k.extend({initfunction(e){var t=this;D(t,e),k.fn.init.call(t)},donefunction(){return this.timePassed()=this.duration},timePassedfunction(){return Math.min(this.duration,new Date-this.startDate)},moveTofunction(e){var t=this,n=t.movable;t.initial=n[t.axis],t.delta=e.location-t.initial,t.duration=number==typeof e.duratione.duration300,t.tick=t._easeProxy(e.ease),t.startDate=new Date,t.start()},_easeProxyfunction(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}}),D(x,{easeOutExpofunction(e,t,n,i){return e==it+nn(-Math.pow(2,-10ei)+1)+t},easeOutBackfunction(e,t,n,i,r){return r=1.70158,n((e=ei-1)e((r+1)e+r)+1)+t}}),S.Animation=k,S.Transition=x,S.createEffect=c,S.box=function(t){t=e(t);var n=t.offset();return n.width=t.outerWidth(),n.height=t.outerHeight(),n},S.transformOrigin=function(e,t){var n=(e.left-t.left)t.width(t.width-e.width),i=(e.top-t.top)t.height(t.height-e.height);return{xisNaN(n)0n,yisNaN(i)0i}},S.fillScale=function(e,t){return Math.min(e.widtht.width,e.heightt.height)},S.fitScale=function(e,t){return Math.max(e.widtht.width,e.heightt.height)}}(window.kendo.jQuery),function(e){function t(e){if(!e)return{};var t=e.match(v)[];return{typet[1],directiont[3],reversereverse===t[5]}}var n=window.kendo,i=n.Observable,r=SCRIPT,o=init,a=show,s=hide,l=transitionStart,c=transitionEnd,d=attach,u=detach,h=unrecognized expression,p=i.extend({initfunction(e,t){var r=this;t=t{},i.fn.init.call(r),r.content=e,r.id=n.guid(),r.tagName=t.tagNamediv,r.model=t.model,r._wrap=t.wrap!==!1,this._evalTemplate=t.evalTemplate!1,r._fragments={},r.bind([o,a,s,l,c],t)},renderfunction(t){var i=this,r=!i.element;return r&&(i.element=i._createElement()),t&&e(t).append(i.element),r&&(n.bind(i.element,i.model),i.trigger(o)),t&&(i._eachFragment(d),i.trigger(a)),i.element},clonefunction(){return new f(this)},triggerBeforeShowfunction(){return!0},triggerBeforeHidefunction(){return!0},showStartfunction(){this.element.css(display,)},showEndfunction(){},hideEndfunction(){this.hide()},beforeTransitionfunction(e){this.trigger(l,{typee})},afterTransitionfunction(e){this.trigger(c,{typee})},hidefunction(){this._eachFragment(u),this.element.detach(),this.trigger(s)},destroyfunction(){var e=this.element;e&&(n.unbind(e),n.destroy(e),e.remove())},fragmentsfunction(t){e.extend(this._fragments,t)},_eachFragmentfunction(e){for(var t in this._fragments)this._fragments[t][e](this,t)},_createElementfunction(){var t,i,o,a=this,s=+a.tagName+ ;try{i=e(document.getElementById(a.content)a.content),i[0].tagName===r&&(i=i.html())}catch(l){h.test(l.message)&&(i=a.content)}returnstring==typeof i(i=i.replace(^s+s+$g,),a._evalTemplate&&(i=n.template(i)(a.model{})),t=e(s).append(i),a._wrap(t=t.contents()))(t=i,a._evalTemplate&&(o=e(n.template(e(div ).append(t.clone(!0)).html())(a.model{})),e.contains(document,t[0])&&t.replaceWith(o),t=o),a._wrap&&(t=t.wrapAll(s).parent())),t}}),f=n.Class.extend({initfunction(t){e.extend(this,{elementt.element.clone(!0),transitiont.transition,idt.id}),t.element.parent().append(this.element)},hideEndfunction(){this.element.remove()},beforeTransitione.noop,afterTransitione.noop}),g=p.extend({initfunction(e,t){p.fn.init.call(this,e,t),this.containers={}},containerfunction(e){var t=this.containers[e];return t(t=this._createContainer(e),this.containers[e]=t),t},showInfunction(e,t,n){this.container(e).show(t,n)},_createContainerfunction(e){var t,n=this.render(),i=n.find(e);if(!i.length&&n.is(e)){if(!n.is(e))throw Error(can't find a container with the specified +e+ selector);i=n}return t=new _(i),t.bind(accepted,function(e){e.view.render(i)}),t}}),m=p.extend({attachfunction(e,t){e.element.find(t).replaceWith(this.render())},detachfunction(){}}),v=^(w+)((w+))( (w+))$,_=i.extend({initfunction(e){i.fn.init.call(this),this.container=e,this.history=[],this.view=null,this.running=!1},afterfunction(){this.running=!1,this.trigger(complete,{viewthis.view}),this.trigger(after)},endfunction(){this.view.showEnd(),this.previous.hideEnd(),this.after()},showfunction(e,i,r){if(!e.triggerBeforeShow()this.view&&!this.view.triggerBeforeHide())return this.trigger(after),!1;r=re.id;var o=this,a=e===o.viewe.clone()o.view,s=o.history,l=s[s.length-2]{},c=l.id===r,d=i(cs[s.length-1].transitione.transition),u=t(d);return o.running&&o.effect.stop(),none===d&&(d=null),o.trigger(accepted,{viewe}),o.view=e,o.previous=a,o.running=!0,cs.pop()s.push({idr,transitiond}),a(d&&n.effects.enabled(e.element.addClass(k-fx-hidden),e.showStart(),c&&!i&&(u.reverse=!u.reverse),o.effect=n.fx(e.element).replace(a.element,u.type).beforeTransition(function(){e.beforeTransition(show),a.beforeTransition(hide)}).afterTransition(function(){e.afterTransition(show),a.afterTransition(hide)}).direction(u.direction).setReverse(u.reverse),o.effect.run().then(function(){o.end()}))(e.showStart(),o.end()),!0)(e.showStart(),e.showEnd(),o.after(),!0)}});n.ViewContainer=_,n.Fragment=m,n.Layout=g,n.View=p,n.ViewClone=f}(window.kendo.jQuery),function(e){function t(){this.node=null}function n(){}function i(e,t,n){this.nodeName=e,this.attr=t{},this.children=n[]}function r(e){this.nodeValue=e}function o(e){this.html=e}function a(e){return new o(e)}function s(e,t,n){return new i(e,t,n)}function l(e){return new r(e)}function c(e){this.root=e,this.children=[]}t.prototype={removefunction(){this.node.parentNode.removeChild(this.node)},attr{}},n.prototype={nodeName#null,attr{style{}},children[],removefunction(){}};var d=new n;i.prototype=new t,i.prototype.appendTo=function(e){var t,n=document.createElement(this.nodeName),i=this.children;for(t=0;i.lengtht;t++)i[t].render(n,d);return e.appendChild(n),n},i.prototype.render=function(e,t){var n,i,r,o,a,s;if(t.nodeName!==this.nodeName)t.remove(),n=this.appendTo(e);else{if(n=t.node,r=this.children,o=r.length,a=t.children,s=a.length,Math.abs(s-o)2)return void this.render({appendChildfunction(n){e.replaceChild(n,t.node)}},d);for(i=0;oi;i++)r[i].render(n,a[i]d);for(i=o;si;i++)a[i].remove()}this.node=n,this.syncAttributes(t.attr),this.removeAttributes(t.attr)},i.prototype.syncAttributes=function(e){var t,n,i,r=this.attr;for(t in r)n=r[t],i=e[t],style===tthis.setStyle(n,i)n!==i&&this.setAttribute(t,n,i)},i.prototype.setStyle=function(e,t){var n,i=this.node;if(t)for(n in e)e[n]!==t[n]&&(i.style[n]=e[n]);else for(n in e)i.style[n]=e[n]},i.prototype.removeStyle=function(e){var t,n=this.attr.style{},i=this.node;for(t in e)void 0===n[t]&&(i.style[t]=)},i.prototype.removeAttributes=function(e){var t,n=this.attr;for(t in e)style===tthis.removeStyle(e.style)void 0===n[t]&&this.removeAttribute(t)},i.prototype.removeAttribute=function(e){var t=this.node;style===et.style.cssText=className===et.className=t.removeAttribute(e)},i.prototype.setAttribute=function(e,t){var n=this.node;void 0!==n[e]n[e]=tn.setAttribute(e,t)},r.prototype=new t,r.prototype.nodeName=#text,r.prototype.render=function(e,t){var n;t.nodeName!==this.nodeName(t.remove(),n=document.createTextNode(this.nodeValue),e.appendChild(n))(n=t.node,this.nodeValue!==t.nodeValue&&(n.nodeValue=this.nodeValue)),this.node=n},o.prototype={nodeName#html,attr{},removefunction(){for(var e=0;this.nodes.lengthe;e++)this.nodes[e].parentNode.removeChild(this.nodes[e])},renderfunction(e,t){var n,i;if(t.nodeName!==this.nodeNamet.html!==this.html)for(t.remove(),n=e.lastChild,e.insertAdjacentHTML(beforeend,this.html),this.nodes=[],i=nn.nextSiblinge.firstChild;i;i=i.nextSibling)this.nodes.push(i);else this.nodes=t.nodes.slice(0)}},c.prototype={htmla,elements,textl,renderfunction(e){var t,n,i=this.children;for(t=0,n=e.length;nt;t++)e[t].render(this.root,i[t]d);for(t=n;i.lengtht;t++)i[t].remove();this.children=e}},e.dom={htmla,textl,elements,Treec}}(window.kendo),function(e,t){function n(e){var t=Math.floor(e26)-1;return(t=0n(t))+String.fromCharCode(65+e%26)}function i(e,t){return n(t)+(e+1)}function r(e,t){return n(t)+$+(e+1)}function o(e){return((e.freezePane{}).rowSplit1)-1}function a(e){return 6e.length&&(e=e.replace((w)g,function(e,t){return t+t})),e=e.substring(1).toUpperCase(),8e.length&&(e=FF+e),e}var s='xml version=1.0 encoding=UTF-8 standalone=yesrnRelationships xmlns=httpschemas.openxmlformats.orgpackage2006relationshipsRelationship Id=rId3 Type=httpschemas.openxmlformats.orgofficeDocument2006relationshipsextended-properties Target=docPropsapp.xmlRelationship Id=rId2 Type=httpschemas.openxmlformats.orgpackage2006relationshipsmetadatacore-properties Target=docPropscore.xmlRelationship Id=rId1 Type=httpschemas.openxmlformats.orgofficeDocument2006relationshipsofficeDocument Target=xlworkbook.xmlRelationships',l=t.template('xml version=1.0 encoding=UTF-8 standalone=yesrncpcoreProperties xmlnscp=httpschemas.openxmlformats.orgpackage2006metadatacore-properties xmlnsdc=httppurl.orgdcelements1.1 xmlnsdcterms=httppurl.orgdcterms xmlnsdcmitype=httppurl.orgdcdcmitype xmlnsxsi=httpwww.w3.org2001XMLSchema-instancedccreator${creator}dccreatorcplastModifiedBy${lastModifiedBy}cplastModifiedBydctermscreated xsitype=dctermsW3CDTF${created}dctermscreateddctermsmodified xsitype=dctermsW3CDTF${modified}dctermsmodifiedcpcoreProperties'),c=t.template('xml version=1.0 encoding=UTF-8 standalone=yesrnProperties xmlns=httpschemas.openxmlformats.orgofficeDocument2006extended-properties xmlnsvt=httpschemas.openxmlformats.orgofficeDocument2006docPropsVTypesApplicationMicrosoft ExcelApplicationDocSecurity0DocSecurityScaleCropfalseScaleCropHeadingPairsvtvector size=2 baseType=variantvtvariantvtlpstrWorksheetsvtlpstrvtvariantvtvariantvti4${sheets.length}vti4vtvariantvtvectorHeadingPairsTitlesOfPartsvtvector size=${sheets.length} baseType=lpstr# for (var idx = 0; idx  sheets.length; idx++) { ## if (sheets[idx].options.title) { #vtlpstr${sheets[idx].options.title}vtlpstr# } else { #vtlpstrSheet${idx+1}vtlpstr# } ## } #vtvectorTitlesOfPartsLinksUpToDatefalseLinksUpToDateSharedDocfalseSharedDocHyperlinksChangedfalseHyperlinksChangedAppVersion14.0300AppVersionProperties'),d=t.template('xml version=1.0 encoding=UTF-8 standalone=yesrnTypes xmlns=httpschemas.openxmlformats.orgpackage2006content-typesDefault Extension=rels ContentType=applicationvnd.openxmlformats-package.relationships+xml Default Extension=xml ContentType=applicationxml Override PartName=xlworkbook.xml ContentType=applicationvnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml Override PartName=xlstyles.xml ContentType=applicationvnd.openxmlformats-officedocument.spreadsheetml.styles+xmlOverride PartName=xlsharedStrings.xml ContentType=applicationvnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml# for (var idx = 1; idx = count; idx++) { #Override PartName=xlworksheetssheet${idx}.xml ContentType=applicationvnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml # } #Override PartName=docPropscore.xml ContentType=applicationvnd.openxmlformats-package.core-properties+xml Override PartName=docPropsapp.xml ContentType=applicationvnd.openxmlformats-officedocument.extended-properties+xml Types'),u=t.template('xml version=1.0 encoding=UTF-8 standalone=yesrnworkbook xmlns=httpschemas.openxmlformats.orgspreadsheetml2006main xmlnsr=httpschemas.openxmlformats.orgofficeDocument2006relationshipsfileVersion appName=xl lastEdited=5 lowestEdited=5 rupBuild=9303 workbookPr defaultThemeVersion=124226 bookViewsworkbookView xWindow=240 yWindow=45 windowWidth=18195 windowHeight=7995 bookViewssheets# for (var idx = 0; idx  sheets.length; idx++) { ## if (sheets[idx].options.title) { #sheet name=${sheets[idx].options.title} sheetId=${idx+1} rid=rId${idx+1} # } else { #sheet name=Sheet${idx+1} sheetId=${idx+1} rid=rId${idx+1} # } ## } #sheets# if (definedNames.length) { #definedNames # for (var di = 0; di  definedNames.length; di++) { #definedName name=_xlnm._FilterDatabase hidden=1 localSheetId=${definedNames[di].localSheetId}${definedNames[di].name}!$${definedNames[di].from}$${definedNames[di].to}definedName # } #definedNames# } #calcPr calcId=145621 workbook'),h=t.template('xml version=1.0 encoding=UTF-8 standalone=yesrnworksheet xmlns=httpschemas.openxmlformats.orgspreadsheetml2006main xmlnsmc=httpschemas.openxmlformats.orgmarkup-compatibility2006 xmlnsr=httpschemas.openxmlformats.orgofficeDocument2006relationships xmlnsx14ac=httpschemas.microsoft.comofficespreadsheetml20099ac mcIgnorable=x14acdimension ref=A1 sheetViewssheetView #if(index==0) {# tabSelected=1 #}# workbookViewId=0# if (freezePane) { #pane state=frozen# if (freezePane.colSplit) { # xSplit=${freezePane.colSplit}# } ## if (freezePane.rowSplit) { # ySplit=${freezePane.rowSplit}# } # topLeftCell=${String.fromCharCode(65 + (freezePane.colSplit  0))}${(freezePane.rowSplit  0)+1}# } #sheetViewsheetViewssheetFormatPr defaultRowHeight=15 x14acdyDescent=0.25 # if (columns) { #cols# for (var ci = 0; ci  columns.length; ci++) { ## var column = columns[ci]; ## if (column.width) { #col min=${ci+1} max=${ci+1} customWidth=1# if (column.autoWidth) { # width=${((column.width7+5)7256)256} bestFit=1# } else { # width=${(((column.width)7)100+0.5)100} # } ## } ## } #cols# } #sheetData# for (var ri = 0; ri  data.length; ri++) { ## var row = data[ri]; #row r=#=ri + 1## for (var ci = 0; ci  row.data.length; ci++) { ## var cell = row.data[ci];#c r=#=cell.ref## if (cell.style) { # s=#=cell.style# # } ## if (cell.type) { # t=#=cell.type## } ## if (cell.value != null) { #v${cell.value}v# } #c# } #row# } #sheetData# if (filter) { #autoFilter ref=${filter.from}${filter.to}# } ## if (mergeCells.length) { #mergeCells count=${mergeCells.length}# for (var ci = 0; ci  mergeCells.length; ci++) { #mergeCell ref=${mergeCells[ci]}# } #mergeCells# } #pageMargins left=0.7 right=0.7 top=0.75 bottom=0.75 header=0.3 footer=0.3 worksheet'),p=t.template('xml version=1.0 encoding=UTF-8 standalone=yesrnRelationships xmlns=httpschemas.openxmlformats.orgpackage2006relationships# for (var idx = 1; idx = count; idx++) { #Relationship Id=rId${idx} Type=httpschemas.openxmlformats.orgofficeDocument2006relationshipsworksheet Target=worksheetssheet${idx}.xml # } #Relationship Id=rId${count+1} Type=httpschemas.openxmlformats.orgofficeDocument2006relationshipsstyles Target=styles.xml Relationship Id=rId${count+2} Type=httpschemas.openxmlformats.orgofficeDocument2006relationshipssharedStrings Target=sharedStrings.xml Relationships'),f=t.template('xml version=1.0 encoding=UTF-8 standalone=yesrnsst xmlns=httpschemas.openxmlformats.orgspreadsheetml2006main count=${count} uniqueCount=${uniqueCount}# for (var index in indexes) { #sit${index.substring(1)}tsi# } #sst'),g=t.template('xml version=1.0 encoding=UTF-8styleSheet xmlns=httpschemas.openxmlformats.orgspreadsheetml2006main xmlnsmc=httpschemas.openxmlformats.orgmarkup-compatibility2006 mcIgnorable=x14ac xmlnsx14ac=httpschemas.microsoft.comofficespreadsheetml20099acnumFmts count=${formats.length}# for (var fi = 0; fi  formats.length; fi++) { ## var format = formats[fi]; #numFmt formatCode=${format.format} numFmtId=${165+fi} # } #numFmtsfonts count=${fonts.length+1} x14acknownFonts=1fontsz val=11 color theme=1 name val=Calibri family val=2 scheme val=minor font# for (var fi = 0; fi  fonts.length; fi++) { ## var font = fonts[fi]; #font# if (font.bold) { #b# } ## if (font.italic) { #i# } ## if (font.underline) { #u# } ## if (font.color) { #color rgb=${font.color} # } else { #color theme=1 # } ## if (font.fontSize) { #sz val=${font.fontSize} # } else { #sz val=11 # } ## if (font.fontName) { #name val=${font.fontName} # } else { #name val=Calibri scheme val=minor # } #family val=2 font# } #fontsfills count=${fills.length+1}fillpatternFill patternType=nonefillfillpatternFill patternType=gray125fill# for (var fi = 0; fi  fills.length; fi++) { ## var fill = fills[fi]; ## if (fill.background) { #fillpatternFill patternType=solidfgColor rgb=${fill.background}patternFillfill# } ## } #fillsborders count=1borderleftrighttopbottomdiagonalborderborderscellXfs count=${styles.length+1}xf numFmtId=0 fontId=0 fillId=0 borderId=0 xfId=0# for (var si = 0; si  styles.length; si++) { ## var style = styles[si]; #xf xfid=0# if (style.fontId) { # fontId=${style.fontId} applyFont=1# } ## if (style.fillId) { # fillId=${style.fillId} applyFill=1# } ## if (style.numFmtId) { # numFmtId=${style.numFmtId} applyNumberFormat=1# } ## if (style.hAlign  style.vAlign  style.wrap) { # applyAlignment=1# } ## if (style.hAlign  style.vAlign  style.wrap) { #alignment# if (style.hAlign) { # horizontal=${style.hAlign}# } ## if (style.vAlign) { # vertical=${style.vAlign}# } ## if (style.wrap) { # wrapText=1# } ## } #xf# } #cellXfsdxfs count=0 tableStyles count=0 defaultTableStyle=TableStyleMedium2 defaultPivotStyle=PivotStyleMedium9 styleSheet'),m=t.timezone.remove(new Date(1900,0,0),EtcUTC),v=t.Class.extend({initfunction(e,t,n){this.options=e,this._strings=t,this._styles=n,this._mergeCells=[]
},toXMLfunction(e){var t,n,r=this.options.rows[],a=this.options.filter,s={};for(this._maxCellIndex=0,t=[],n=0;r.lengthn;n++)t.push(this._row(r,s,r[n],n));return h({freezePanethis.options.freezePane,columnsthis.options.columns,datat,indexe,mergeCellsthis._mergeCells,filtera{fromi(o(this.options),a.from),toi(o(this.options),a.to)}null})},_rowfunction(e,t,n,r){var o,a,s,l,c,d;for(this._cellIndex&&this._cellIndexthis._maxCellIndex&&(this._maxCellIndex=this._cellIndex),this._cellIndex=0,a=[],s=n.cells,l=0,c=s.length;cl;l++)o=this._cell(s[l],t,r),o&&a.push.apply(a,o);for(;this._maxCellIndexthis._cellIndex;)d=t[this._cellIndex],d&&(d.rowSpan-=1),a.push({refi(r,this._cellIndex)}),this._cellIndex++;return{dataa}},_lookupStringfunction(e){var t=$+e,n=this._strings.indexes[t];return void 0!==ne=n(e=this._strings.indexes[t]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,e},_lookupStylefunction(n){var i,r=t.stringify(n);return{}==r0(i=e.inArray(r,this._styles),0i&&(i=this._styles.push(r)-1),i+1)},_cellfunction(e,n,r){var o,a,s,l,c,d,u,h,p,f,g,v;if(!e)return void this._cellIndex++;for(o=e.value,a={bolde.bold,colore.color,backgrounde.background,italice.italic,underlinee.underline,fontNamee.fontName,fontSizee.fontSize,formate.format,hAligne.hAlign,vAligne.vAlign,wrape.wrap},s=this.options.columns[],l=s[this._cellIndex],l&&l.autoWidth&&(l.width=Math.max(l.width0,(+o).length)),c=typeof o,string===c(o=this._lookupString(o),c=s)number===cc=nboolean===c(c=b,o=+o)o&&o.getTime(c=null,o=(t.timezone.remove(o,EtcUTC)-m)t.date.MS_PER_DAY+1,a.format(a.format=mm-dd-yy))(c=null,o=),a=this._lookupStyle(a),d=[],p=n[this._cellIndex]{};p.rowSpan1;){for(p.rowSpan-=1,u=p.colSpan;u0;)d.push({refi(r,this._cellIndex)}),u--,this._cellIndex++;p=n[this._cellIndex]{}}if(h=i(r,this._cellIndex),d.push({valueo,typec,stylea,refh}),f=e.colSpan1,g=e.rowSpan1,f1g1){for(g1&&(n[this._cellIndex]={colSpanf,rowSpang}),v=1;fv;v++)this._cellIndex++,d.push({refi(r,this._cellIndex)});this._mergeCells.push(h++i(r+g-1,this._cellIndex))}return this._cellIndex++,d}}),_={General0,01,0.002,#,##03,#,##0.004,0%9,0.00%10,0.00E+0011,# 12,# 13,mm-dd-yy14,d-mmm-yy15,d-mmm16,mmm-yy17,hmm AMPM18,hmmss AMPM19,hmm20,hmmss21,mdyy hmm22,#,##0 ;(#,##0)37,#,##0 ;[Red](#,##0)38,#,##0.00;(#,##0.00)39,#,##0.00;[Red](#,##0.00)40,mmss45,[h]mmss46,mmss.047,##0.0E+048,@49,[$-404]emd27,mdyy30,t059,t0.0060,t#,##061,t#,##0.0062,t0%67,t0.00%68,t# 69,t# 70},w=t.Class.extend({initfunction(t){this.options=t{},this._strings={indexes{},count0,uniqueCount0},this._styles=[],this._sheets=e.map(this.options.sheets[],e.proxy(function(e){return new v(e,this._strings,this._styles)},this))},toDataURLfunction(){var n,i,h,m,v,w,y,b,k,x,C,S,T,D;if(undefined==typeof JSZip)throw Error(JSZip not found. Check httpdocs.telerik.comkendo-uiframeworkexcelintroduction#requirements for more details.);for(n=new JSZip,i=n.folder(docProps),i.file(core.xml,l({creatorthis.options.creatorKendo UI,lastModifiedBythis.options.creatorKendo UI,createdthis.options.date(new Date).toJSON(),modifiedthis.options.date(new Date).toJSON()})),h=this._sheets.length,i.file(app.xml,c({sheetsthis._sheets})),m=n.folder(_rels),m.file(.rels,s),v=n.folder(xl),w=v.folder(_rels),w.file(workbook.xml.rels,p({counth})),v.file(workbook.xml,u({sheetsthis._sheets,definedNamese.map(this._sheets,function(e,t){var n=e.options,i=n.filter;return i{localSheetIdt,namen.titleSheet+(t+1),fromr(o(n),i.from),tor(o(n),i.to)}void 0})})),y=v.folder(worksheets),b=new Date,k=0;hk;k++)y.file(t.format(sheet{0}.xml,k+1),this._sheets[k].toXML(k));return x=e.map(this._styles,e.parseJSON),C=function(e){return e.underlinee.bolde.italice.colore.fontNamee.fontSize},S=e.map(x,function(e){return e.color&&(e.color=a(e.color)),C(e)evoid 0}),T=e.map(x,function(e){return e.format&&void 0===_[e.format]evoid 0}),D=e.map(x,function(e){return e.background(e.background=a(e.background),e)void 0}),v.file(styles.xml,g({fontsS,fillsD,formatsT,stylese.map(x,function(t){var n={};return C(t)&&(n.fontId=e.inArray(t,S)+1),t.background&&(n.fillId=e.inArray(t,D)+2),n.hAlign=t.hAlign,n.vAlign=t.vAlign,n.wrap=t.wrap,t.format&&(n.numFmtId=void 0!==_[t.format]_[t.format]165+e.inArray(t,T)),n})})),v.file(sharedStrings.xml,f(this._strings)),n.file([Content_Types].xml,d({counth})),dataapplicationvnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,+n.generate({compressionDEFLATE})}});t.ooxml={Workbookw,Worksheetv}}(kendo.jQuery,kendo),function(e,t){t.ExcelExporter=t.Class.extend({initfunction(n){var i,r;n.columns=this._trimColumns(n.columns[]),this.allColumns=e.map(this._leafColumns(n.columns[]),this._prepareColumn),this.columns=e.grep(this.allColumns,function(e){return!e.hidden}),this.options=n,i=n.dataSource,i instanceof t.data.DataSource(this.dataSource=new i.constructor(e.extend({},i.options,{pagen.allPages0i.page(),filteri.filter(),pageSizen.allPagesi.total()i.pageSize(),sorti.sort(),groupi.group(),aggregatei.aggregate()})),r=i.data(),r.length0&&(this.dataSource._data=r))this.dataSource=t.data.DataSource.create(i)},_trimColumnsfunction(t){var n=this;return e.grep(t,function(e){var t=!!e.field;return!t&&e.columns&&(t=n._trimColumns(e.columns).length0),t})},_leafColumnsfunction(e){var t,n=[];for(t=0;e.lengtht;t++)e[t].columnsn=n.concat(this._leafColumns(e[t].columns))n.push(e[t]);return n},workbookfunction(){return e.Deferred(e.proxy(function(t){this.dataSource.fetch().then(e.proxy(function(){var e={sheets[{columnsthis._columns(),rowsthis._rows(),freezePanethis._freezePane(),filterthis._filter()}]};t.resolve(e,this.dataSource.view())},this))},this)).promise()},_prepareColumnfunction(n){var i,r;if(n.field)return i=function(e){return e.get(n.field)},r=null,n.values&&(r={},e.each(n.values,function(){r[this.value]=this.text}),i=function(e){return r[e.get(n.field)]}),e.extend({},n,{valuei,valuesr,groupHeaderTemplatet.template(n.groupHeaderTemplate${title} ${value}),groupFooterTemplaten.groupFooterTemplatet.template(n.groupFooterTemplate)null,footerTemplaten.footerTemplatet.template(n.footerTemplate)null})},_filterfunction(){if(!this.options.filterable)return null;var e=this._depth();return{frome,toe+this.columns.length-1}},_dataRowfunction(t,n,i){var r,o,a,s,l,c,d,u,h,p;for(this._hierarchical()&&(n=this.dataSource.level(t)+1),r=[],o=0;no;o++)r[o]={background#dfdfdf,color#333};if(i&&t.items)return a=e.grep(this.allColumns,function(e){return e.field==t.field})[0],s=a&&a.titlea.titlet.field,l=aa.groupHeaderTemplatenull,c=s+ +t.value,d=e.extend({titles,fieldt.field,valuea&&a.valuesa.values[t.value]t.value,aggregatest.aggregates},t.aggregates[t.field]),l&&(c=l(d)),r.push({valuec,background#dfdfdf,color#333,colSpanthis.columns.length+i-n}),u=this._dataRows(t.items,n+1),u.unshift({typegroup-header,cellsr}),u.concat(this._footer(t));for(h=[],p=0;this.columns.lengthp;p++)h[p]=this._cell(t,this.columns[p]);return this._hierarchical()&&(h[0].colSpan=i-n+1),[{typedata,cellsr.concat(h)}]},_dataRowsfunction(e,t){var n,i=this._depth(),r=[];for(n=0;e.lengthn;n++)r.push.apply(r,this._dataRow(e[n],t,i));return r},_footerfunction(t){var n=[],i=!1,r=e.map(this.columns,e.proxy(function(n){return n.groupFooterTemplate(i=!0,{background#dfdfdf,color#333,valuen.groupFooterTemplate(e.extend({},this.dataSource.aggregates(),t.aggregates,t.aggregates[n.field]))}){background#dfdfdf,color#333}},this));return i&&n.push({typegroup-footer,cellse.map(Array(this.dataSource.group().length),function(){return{background#dfdfdf,color#333}}).concat(r)}),n},_isColumnVisiblefunction(e){return this._visibleColumns([e]).length0&&(e.fielde.columns)},_visibleColumnsfunction(t){var n=this;return e.grep(t,function(e){var t=!e.hidden;return t&&e.columns&&(t=n._visibleColumns(e.columns).length0),t})},_headerRowfunction(t,n){var i=e.map(t.cells,function(e){return{background#7a7a7a,color#fff,valuee.title,colSpane.colSpan1e.colSpan1,rowSpant.rowSpan1&&!e.colSpant.rowSpan1}});return this._hierarchical()&&(i[0].colSpan=this._depth()+1),{typeheader,cellse.map(Array(n.length),function(){return{background#7a7a7a,color#fff}}).concat(i)}},_prependHeaderRowsfunction(e){var t,n=this.dataSource.group(),i=[{rowSpan1,cells[],index0}];for(this._prepareHeaderRows(i,this.options.columns),t=i.length-1;t=0;t--)e.unshift(this._headerRow(i[t],n))},_prepareHeaderRowsfunction(e,t,n,i){var r,o,a,s=ie[e.length-1],l=e[s.index+1],c=0;for(a=0;t.lengtha;a++)r=t[a],this._isColumnVisible(r)&&(o={titler.titler.field,colSpan0},s.cells.push(o),r.columns&&r.columns.length&&(l(l={rowSpan0,cells[],indexe.length},e.push(l)),o.colSpan=this._trimColumns(this._visibleColumns(r.columns)).length,this._prepareHeaderRows(e,r.columns,o,l),c+=o.colSpan-1,s.rowSpan=e.length-s.index));n&&(n.colSpan+=c)},_rowsfunction(){var t,n,i=this.dataSource.group(),r=this._dataRows(this.dataSource.view(),0);return this.columns.length&&(this._prependHeaderRows(r),t=!1,n=e.map(this.columns,e.proxy(function(e){var n,i;return e.footerTemplate(t=!0,n=this.dataSource.aggregates(),i=n[e.field]{},i.data=n,{background#dfdfdf,color#333,valuee.footerTemplate(i)}){background#dfdfdf,color#333}},this)),t&&r.push({typefooter,cellse.map(Array(i.length),function(){return{background#dfdfdf,color#333}}).concat(n)})),r},_headerDepthfunction(e){var t,n,i=1,r=0;for(t=0;e.lengtht;t++)e[t].columns&&(n=this._headerDepth(e[t].columns),nr&&(r=n));return i+r},_freezePanefunction(){var t=this._visibleColumns(this.options.columns[]),n=this._trimColumns(this._leafColumns(e.grep(t,function(e){return e.locked}))).length;return{rowSplitthis._headerDepth(t),colSplitnn+this.dataSource.group().length0}},_cellfunction(e,t){return{valuet.value(e)}},_hierarchicalfunction(){return this.options.hierarchy&&this.dataSource.level},_depthfunction(){var e,t,n,i=this.dataSource,r=0;if(this._hierarchical()){for(e=i.view(),t=0;e.lengtht;t++)n=i.level(e[t]),nr&&(r=n);r++}else r=i.group().length;return r},_columnsfunction(){var t=this._depth(),n=e.map(Array(t),function(){return{width20}});return n.concat(e.map(this.columns,function(e){return{widthparseInt(e.width,10),autoWidthe.width!1!0}}))}}),t.ExcelMixin={extendfunction(t){t.events.push(excelExport),t.options.excel=e.extend(t.options.excel,this.options),t.saveAsExcel=this.saveAsExcel},options{proxyURL,allPages!1,filterable!1,fileNameExport.xlsx},saveAsExcelfunction(){var n=this.options.excel{},i=new t.ExcelExporter({columnsthis.columns,dataSourcethis.dataSource,allPagesn.allPages,filterablen.filterable,hierarchyn.hierarchy});i.workbook().then(e.proxy(function(e,i){if(!this.trigger(excelExport,{workbooke,datai})){var r=new t.ooxml.Workbook(e);t.saveAs({dataURIr.toDataURL(),fileNamee.fileNamen.fileName,proxyURLn.proxyURL,forceProxyn.forceProxy})}},this))}}}(kendo.jQuery,kendo),function(e){var t=kendo.data.RemoteTransport.extend({initfunction(e){var t,n=e&&e.signalre.signalr{},i=n.promise;if(!i)throw Error('The promise option must be set.');if(function!=typeof i.donefunction!=typeof i.fail)throw Error('The promise option must be a Promise.');if(this.promise=i,t=n.hub,!t)throw Error('The hub option must be set.');if(function!=typeof t.onfunction!=typeof t.invoke)throw Error('The hub option is not a valid SignalR hub proxy.');this.hub=t,kendo.data.RemoteTransport.fn.init.call(this,e)},pushfunction(e){var t=this.options.signalr.client{};t.create&&this.hub.on(t.create,e.pushCreate),t.update&&this.hub.on(t.update,e.pushUpdate),t.destroy&&this.hub.on(t.destroy,e.pushDestroy)},_crudfunction(t,n){var i,r,o=this.hub,a=this.options.signalr.server;if(!a!a[n])throw Error(kendo.format('The server.{0} option must be set.',n));i=[a[n]],r=this.parameterMap(t.data,n),e.isEmptyObject(r)i.push(r),this.promise.done(function(){o.invoke.apply(o,i).done(t.success).fail(t.error)})},readfunction(e){this._crud(e,read)},createfunction(e){this._crud(e,create)},updatefunction(e){this._crud(e,update)},destroyfunction(e){this._crud(e,destroy)}});e.extend(!0,kendo.data,{transports{signalrt}})}(window.kendo.jQuery),function(e,t,n){function i(e,r){var a,d;if(null==enone==e)return null;if(e instanceof s)return e;if(e=e.toLowerCase(),a=o.exec(e))return e=transparent==a[1]new l(1,1,1,0)i(u.namedColors[a[1]],r),e.match=[a[1]],e;if((a=^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})i.exec(e))d=new c(n(a[1],16),n(a[2],16),n(a[3],16),1)(a=^#([0-9a-f])([0-9a-f])([0-9a-f])i.exec(e))d=new c(n(a[1]+a[1],16),n(a[2]+a[2],16),n(a[3]+a[3],16),1)(a=^rgb(s([0-9]+)s,s([0-9]+)s,s([0-9]+)s).exec(e))d=new c(n(a[1],10),n(a[2],10),n(a[3],10),1)(a=^rgba(s([0-9]+)s,s([0-9]+)s,s([0-9]+)s,s([0-9.]+)s).exec(e))d=new c(n(a[1],10),n(a[2],10),n(a[3],10),t(a[4]))(a=^rgb(s([0-9].[0-9]+)%s,s([0-9].[0-9]+)%s,s([0-9].[0-9]+)%s).exec(e))d=new l(t(a[1])100,t(a[2])100,t(a[3])100,1)(a=^rgba(s([0-9].[0-9]+)%s,s([0-9].[0-9]+)%s,s([0-9].[0-9]+)%s,s([0-9.]+)s).exec(e))&&(d=new l(t(a[1])100,t(a[2])100,t(a[3])100,t(a[4]))),d)d.match=a;else if(!r)throw Error(Cannot parse color +e);return d}function r(e,t,n){for(n(n=0),e=e.toString(16);te.length;)e=0+e;return e}var o,a,s,l,c,d,u=function(e){var t,n,i,r,o,a=this,s=u.formats;if(1===arguments.length)for(e=a.resolveColor(e),r=0;s.lengthr;r++)t=s[r].re,n=s[r].process,i=t.exec(e),i&&(o=n(i),a.r=o[0],a.g=o[1],a.b=o[2]);else a.r=arguments[0],a.g=arguments[1],a.b=arguments[2];a.r=a.normalizeByte(a.r),a.g=a.normalizeByte(a.g),a.b=a.normalizeByte(a.b)};u.prototype={toHexfunction(){var e=this,t=e.padDigit,n=e.r.toString(16),i=e.g.toString(16),r=e.b.toString(16);return#+t(n)+t(i)+t(r)},resolveColorfunction(e){return e=eblack,#==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace( g,),e=e.toLowerCase(),e=u.namedColors[e]e},normalizeBytefunction(e){return 0eisNaN(e)0e255255e},padDigitfunction(e){return 1===e.length0+ee},brightnessfunction(e){var t=this,n=Math.round;return t.r=n(t.normalizeByte(t.re)),t.g=n(t.normalizeByte(t.ge)),t.b=n(t.normalizeByte(t.be)),t},percBrightnessfunction(){var e=this;return Math.sqrt(.241e.re.r+.691e.ge.g+.068e.be.b)}},u.formats=[{re^rgb((d{1,3}),s(d{1,3}),s(d{1,3}))$,processfunction(e){return[n(e[1],10),n(e[2],10),n(e[3],10)]}},{re^(w{2})(w{2})(w{2})$,processfunction(e){return[n(e[1],16),n(e[2],16),n(e[3],16)]}},{re^(w{1})(w{1})(w{1})$,processfunction(e){return[n(e[1]+e[1],16),n(e[2]+e[2],16),n(e[3]+e[3],16)]}}],u.namedColors={aqua00ffff,azuref0ffff,beigef5f5dc,black000000,blue0000ff,browna52a2a,coralff7f50,cyan00ffff,darkblue00008b,darkcyan008b8b,darkgraya9a9a9,darkgreen006400,darkorangeff8c00,darkred8b0000,dimgray696969,fuchsiaff00ff,goldffd700,goldenroddaa520,gray808080,green008000,greenyellowadff2f,indigo4b0082,ivoryfffff0,khakif0e68c,lightblueadd8e6,lightgreyd3d3d3,lightgreen90ee90,lightpinkffb6c1,lightyellowffffe0,lime00ff00,limegreen32cd32,linenfaf0e6,magentaff00ff,maroon800000,mediumblue0000cd,navy000080,olive808000,orangeffa500,orangeredff4500,orchidda70d6,pinkffc0cb,plumdda0dd,purple800080,redff0000,royalblue4169e1,salmonfa8072,silverc0c0c0,skyblue87ceeb,slateblue6a5acd,slategray708090,snowfffafa,steelblue4682b4,tand2b48c,teal008080,tomatoff6347,turquoise40e0d0,violetee82ee,wheatf5deb3,whiteffffff,whitesmokef5f5f5,yellowffff00,yellowgreen9acd32},o=[transparent];for(a in u.namedColors)u.namedColors.hasOwnProperty(a)&&o.push(a);o=RegExp(^(+o.join()+)(W$),i),s=kendo.Class.extend({toHSVfunction(){return this},toRGBfunction(){return this},toHexfunction(){return this.toBytes().toHex()},toBytesfunction(){return this},toCssfunction(){return#+this.toHex()},toCssRgbafunction(){var e=this.toBytes();returnrgba(+e.r+, +e.g+, +e.b+, +t((+this.a).toFixed(3))+)},toDisplayfunction(){return kendo.support.browser.msie&&9kendo.support.browser.versionthis.toCss()this.toCssRgba()},equalsfunction(e){return e===thisnull!==e&&this.toCssRgba()==i(e).toCssRgba()},difffunction(e){if(null==e)return 00;var t=this.toBytes();return e=e.toBytes(),Math.sqrt(Math.pow(.3(t.r-e.r),2)+Math.pow(.59(t.g-e.g),2)+Math.pow(.11(t.b-e.b),2))},clonefunction(){var e=this.toBytes();return e===this&&(e=new c(e.r,e.g,e.b,e.a)),e}}),l=s.extend({initfunction(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i},toHSVfunction(){var e,t,n=this.r,i=this.g,r=this.b,o=Math.min(n,i,r),a=Math.max(n,i,r),s=a,l=a-o;return 0===lnew d(0,0,s,this.a)(0!==a(t=la,e=n==a(i-r)li==a2+(r-n)l4+(n-i)l,e=60,0e&&(e+=360))(t=0,e=-1),new d(e,t,s,this.a))},toBytesfunction(){return new c(255this.r,255this.g,255this.b,this.a)}}),c=l.extend({initfunction(e,t,n,i){this.r=Math.round(e),this.g=Math.round(t),this.b=Math.round(n),this.a=i},toRGBfunction(){return new l(this.r255,this.g255,this.b255,this.a)},toHSVfunction(){return this.toRGB().toHSV()},toHexfunction(){return r(this.r,2)+r(this.g,2)+r(this.b,2)},toBytesfunction(){return this}}),d=s.extend({initfunction(e,t,n,i){this.h=e,this.s=t,this.v=n,this.a=i},toRGBfunction(){var e,t,n,i,r,o,a,s,c=this.h,d=this.s,u=this.v;if(0===d)t=n=i=u;else switch(c=60,e=Math.floor(c),r=c-e,o=u(1-d),a=u(1-dr),s=u(1-d(1-r)),e){case 0t=u,n=s,i=o;break;case 1t=a,n=u,i=o;break;case 2t=o,n=u,i=s;break;case 3t=o,n=a,i=u;break;case 4t=s,n=o,i=u;break;defaultt=u,n=o,i=a}return new l(t,n,i,this.a)},toBytesfunction(){return this.toRGB().toBytes()}}),u.fromBytes=function(e,t,n,i){return new c(e,t,n,null!=ii1)},u.fromRGB=function(e,t,n,i){return new l(e,t,n,null!=ii1)},u.fromHSV=function(e,t,n,i){return new d(e,t,n,null!=ii1)},kendo.Color=u,kendo.parseColor=i}(window.kendo.jQuery,parseFloat,parseInt),function(e){function t(e){return typeof e!==F}function n(e,t){var n=i(t);return A.round(en)n}function i(e){return eA.pow(10,e)1}function r(e,t,n){return A.max(A.min(e,n),t)}function o(e){return eM}function a(e){return eM}function s(e){returnnumber==typeof e&&!isNaN(e)}function l(e,n){return t(e)en}function c(e){return ee}function d(e){var t,n=[];for(t in e)n.push(t+e[t]);return n.sort().join()}function u(e){var t,n=2166136261;for(t=0;e.lengtht;++t)n+=(n1)+(n4)+(n7)+(n8)+(n24),n^=e.charCodeAt(t);return n0}function h(e){return u(d(e))}function p(e){var t,n=e.length,i=P,r=z;for(t=0;nt;t++)r=A.max(r,e[t]),i=A.min(i,e[t]);return{mini,maxr}}function f(e){return p(e).min}function g(e){return p(e).max}function m(e){return _(e).min}function v(e){return _(e).max}function _(e){var t,n,i,r=P,o=z;for(t=0,n=e.length;nt;t++)i=e[t],null!==i&&isFinite(i)&&(r=A.min(r,i),o=A.max(o,i));return{minr===Pvoid 0r,maxo===zvoid 0o}}function w(e){return ee[e.length-1]void 0}function y(e,t){return e.push.apply(e,t),e}function b(e){return E.template(e,{useWithBlock!1,paramNamed})}function k(e,n){return t(n)&&null!==n +e+='+n+' }function x(e){var t,n=;for(t=0;e.lengtht;t++)n+=k(e[t][0],e[t][1]);return n}function C(e){var n,i,r=;for(n=0;e.lengthn;n++)i=e[n][1],t(i)&&(r+=e[n][0]++i+;);return!==rrvoid 0}function S(e){returnstring!=typeof e&&(e+=px),e}function T(e){var t,n,i=[];if(e)for(t=E.toHyphens(e).split(-),n=0;t.lengthn;n++)i.push(k-pos-+t[n]);return i.join( )}function D(e){return===enull===enone===etransparent===e!t(e)}var A=Math,E=window.kendo,I=E.deepExtend,M=A.PI180,P=Number.MAX_VALUE,z=-Number.MAX_VALUE,F=undefined,R=Date.now;R(R=function(){return(new Date).getTime()}),I(E,{util{MAX_NUMP,MIN_NUMz,appendy,arrayLimitsp,arrayMinf,arrayMaxg,definedt,dega,hashKeyu,hashObjecth,isNumbers,isTransparentD,lastw,limitValuer,nowR,objectKeyd,roundn,rado,renderAttrk,renderAllAttrx,renderPosT,renderSizeS,renderStyleC,renderTemplateb,sparseArrayLimits_,sparseArrayMinm,sparseArrayMaxv,sqrc,valueOrDefaultl}}),E.dataviz.util=E.util}(window.kendo.jQuery),function(){function e(e){var n,i,r,a,s,l,c,d=,u=0;for(e=t(e);e.lengthu;)n=e.charCodeAt(u++),i=e.charCodeAt(u++),r=e.charCodeAt(u++),a=n2,s=(3&n)4i4,l=(15&i)2r6,c=63&r,isNaN(i)l=c=64isNaN(r)&&(c=64),d=d+o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c);return d}function t(e){var t,n,i=;for(t=0;e.lengtht;t++)n=e.charCodeAt(t),128ni+=r(n)2048n(i+=r(192n6),i+=r(12863&n))65536n&&(i+=r(224n12),i+=r(128n6&63),i+=r(12863&n));return i}var n=window.kendo,i=n.deepExtend,r=String.fromCharCode,o=ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+=;i(n.util,{encodeBase64e,encodeUTF8t})}(window.kendo.jQuery),function(e){var t=Math,n=window.kendo,i=n.deepExtend,r=e.inArray,o={observersfunction(){return this._observers=this._observers[]},addObserverfunction(e){return this._observersthis._observers.push(e)this._observers=[e],this},removeObserverfunction(e){var t=this.observers(),n=r(e,t);return-1!=n&&t.splice(n,1),this},triggerfunction(e,t){var n,i,r=this._observers;if(r&&!this._suspended)for(i=0;r.lengthi;i++)n=r[i],n[e]&&n[e](t);return this},optionsChangefunction(e){this.trigger(optionsChange,e)},geometryChangefunction(e){this.trigger(geometryChange,e)},suspendfunction(){return this._suspended=(this._suspended0)+1,this},resumefunction(){return this._suspended=t.max((this._suspended0)-1,0),this},_observerFieldfunction(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};i(n,{mixins{ObserversMixino}})}(window.kendo.jQuery),function(e){function t(e){return null===enulle instanceof menew m(e)}function n(e){return e&&w.isFunction(e.matrix)e.matrix()e}function i(e,t,n,i){var r=0,o=0;return i&&(r=v.atan2(i.cn,i.at),0!==i.b&&(o=v.atan2(i.dn,i.bt))),{xr,yo}}function r(e,t){for(;te;)e+=90;return e}function o(e,t){var n,i,r;for(n=0;t.lengthn;n++)i=t[n],r=i.charAt(0).toUpperCase()+i.substring(1,i.length),e[set+r]=a(i),e[get+r]=s(i)}function a(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function s(e){return function(){return this[e]}}function l(e,t,n){et&&(t+=360);var i=v.abs(t-e);return n(i=360-i),i}function c(e,t,n,i,r,o){var a=D((r-e)n,3),s=D((o-t)i,3);return D(T(v.atan2(s,a)))}function d(e,t,n,i,r,o,a,s){var d,u,h,p,f,g,m,w,y,b,k,x,C,S,T,D,A,E;if(t!==i)y=n-e,b=i-t,k=_(r,2),x=_(o,2),C=(xy(e+n)+kb(t+i))(2kb),S=C-i,T=-(yx)(kb),f=1k+_(T,2)x,g=2(TSx-nk),m=_(n,2)k+_(S,2)x-1,w=v.sqrt(_(g,2)-4fm),d=(-g-w)(2f),u=C+Td,h=(-g+w)(2f),p=C+Th;else{if(e===n)return!1;g=-2i,m=_((n-e)o(2r),2)+_(i,2)-_(o,2),w=v.sqrt(_(g,2)-4m),d=h=(e+n)2,u=(-g-w)2,p=(-g+w)2}return D=c(d,u,r,o,e,t),A=c(d,u,r,o,n,i),E=l(D,A,s),(a&&180=E!a&&E180)&&(d=h,u=p,D=c(d,u,r,o,e,t),A=c(d,u,r,o,n,i)),{centernew M(d,u),startAngleD,endAngleA}}var u,h,p,f,g,m,v=Math,_=v.pow,w=window.kendo,y=w.Class,b=w.deepExtend,k=w.mixins.ObserversMixin,x=w.util,C=x.defined,S=x.rad,T=x.deg,D=x.round,A=v.PI2,E=x.MIN_NUM,I=x.MAX_NUM,M=y.extend({initfunction(e,t){this.x=e0,this.y=t0},equalsfunction(e){return e&&e.x===this.x&&e.y===this.y},clonefunction(){return new M(this.x,this.y)},rotatefunction(e,n){return this.transform(t().rotate(e,n))},translatefunction(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this},translateWithfunction(e){return this.translate(e.x,e.y)},movefunction(e,t){return this.x=this.y=0,this.translate(e,t)},scalefunction(e,t){return C(t)(t=e),this.x=e,this.y=t,this.geometryChange(),this},scaleCopyfunction(e,t){return this.clone().scale(e,t)},transformfunction(e){var t=n(e),i=this.x,r=this.y;return this.x=t.ai+t.cr+t.e,this.y=t.bi+t.dr+t.f,this.geometryChange(),this},transformCopyfunction(e){var t=this.clone();return e&&t.transform(e),t},distanceTofunction(e){var t=this.x-e.x,n=this.y-e.y;return v.sqrt(tt+nn)},roundfunction(e){return this.x=D(this.x,e),this.y=D(this.y,e),this.geometryChange(),this},toArrayfunction(e){var t=C(e),n=tD(this.x,e)this.x,i=tD(this.y,e)this.y;return[n,i]}});o(M.fn,[x,y]),b(M.fn,k),M.fn.toString=function(e,t){var n=this.x,i=this.y;return C(e)&&(n=D(n,e),i=D(i,e)),t=t ,n+t+i},M.create=function(e,t){return C(e)e instanceof Me1===arguments.length&&2===e.lengthnew M(e[0],e[1])new M(e,t)void 0},M.min=function(){var e,t,n=x.MAX_NUM,i=x.MAX_NUM;for(e=0;arguments.lengthe;e++)t=arguments[e],n=v.min(t.x,n),i=v.min(t.y,i);return new M(n,i)},M.max=function(){var e,t,n=x.MIN_NUM,i=x.MIN_NUM;for(e=0;arguments.lengthe;e++)t=arguments[e],n=v.max(t.x,n),i=v.max(t.y,i);return new M(n,i)},M.minPoint=function(){return new M(E,E)},M.maxPoint=function(){return new M(I,I)},M.ZERO=new M(0,0),u=y.extend({initfunction(e,t){this.width=e0,this.height=t0},equalsfunction(e){return e&&e.width===this.width&&e.height===this.height},clonefunction(){return new u(this.width,this.height)},toArrayfunction(e){var t=C(e),n=tD(this.width,e)this.width,i=tD(this.height,e)this.height;return[n,i]}}),o(u.fn,[width,height]),b(u.fn,k),u.create=function(e,t){return C(e)e instanceof ue1===arguments.length&&2===e.lengthnew u(e[0],e[1])new u(e,t)void 0},u.ZERO=new u(0,0),h=y.extend({initfunction(e,t){this.setOrigin(enew M),this.setSize(tnew u)},clonefunction(){return new h(this.origin.clone(),this.size.clone())},equalsfunction(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)},setOriginfunction(e){return this._observerField(origin,M.create(e)),this.geometryChange(),this},getOriginfunction(){return this.origin},setSizefunction(e){return this._observerField(size,u.create(e)),this.geometryChange(),this},getSizefunction(){return this.size},widthfunction(){return this.size.width},heightfunction(){return this.size.height},topLeftfunction(){return this.origin.clone()},bottomRightfunction(){return this.origin.clone().translate(this.width(),this.height())},topRightfunction(){return this.origin.clone().translate(this.width(),0)},bottomLeftfunction(){return this.origin.clone().translate(0,this.height())},centerfunction(){return this.origin.clone().translate(this.width()2,this.height()2)},bboxfunction(e){var t=this.topLeft().transformCopy(e),n=this.topRight().transformCopy(e),i=this.bottomRight().transformCopy(e),r=this.bottomLeft().transformCopy(e);return h.fromPoints(t,n,i,r)},transformCopyfunction(e){return h.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}}),b(h.fn,k),h.fromPoints=function(){var e=M.min.apply(this,arguments),t=M.max.apply(this,arguments),n=new u(t.x-e.x,t.y-e.y);return new h(e,n)},h.union=function(e,t){return h.fromPoints(M.min(e.topLeft(),t.topLeft()),M.max(e.bottomRight(),t.bottomRight()))},h.intersect=function(e,t){return e={lefte.topLeft().x,tope.topLeft().y,righte.bottomRight().x,bottome.bottomRight().y},t={leftt.topLeft().x,topt.topLeft().y,rightt.bottomRight().x,bottomt.bottomRight().y},t.right=e.left&&e.right=t.left&&t.bottom=e.top&&e.bottom=t.toph.fromPoints(new M(v.max(e.left,t.left),v.max(e.top,t.top)),new M(v.min(e.right,t.right),v.min(e.bottom,t.bottom)))void 0},p=y.extend({initfunction(e,t){this.setCenter(enew M),this.setRadius(t0)},setCenterfunction(e){return this._observerField(center,M.create(e)),this.geometryChange(),this},getCenterfunction(){return this.center},equalsfunction(e){return e&&e.center.equals(this.center)&&e.radius===this.radius},clonefunction(){return new p(this.center.clone(),this.radius)},pointAtfunction(e){return this._pointAt(S(e))},bboxfunction(e){var t,n,r,o,a=M.maxPoint(),s=M.minPoint(),l=i(this.center,this.radius,this.radius,e);for(t=0;4t;t++)n=this._pointAt(l.x+tA).transformCopy(e),r=this._pointAt(l.y+tA).transformCopy(e),o=new M(n.x,r.y),a=M.min(a,o),s=M.max(s,o);return h.fromPoints(a,s)},_pointAtfunction(e){var t=this.center,n=this.radius;return new M(t.x-nv.cos(e),t.y-nv.sin(e))}}),o(p.fn,[radius]),b(p.fn,k),f=y.extend({initfunction(e,t){this.setCenter(enew M),t=t{},this.radiusX=t.radiusX,this.radiusY=t.radiusYt.radiusX,this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.anticlockwise=t.anticlockwise!1},clonefunction(){return new f(this.center,{radiusXthis.radiusX,radiusYthis.radiusY,startAnglethis.startAngle,endAnglethis.endAngle,anticlockwisethis.anticlockwise})},setCenterfunction(e){return this._observerField(center,M.create(e)),this.geometryChange(),this},getCenterfunction(){return this.center},MAX_INTERVAL45,pointAtfunction(e){var t=this.center,n=S(e);return new M(t.x+this.radiusXv.cos(n),t.y+this.radiusYv.sin(n))},curvePointsfunction(){var e,t,n,i=this.startAngle,r=this.anticlockwise-11,o=[this.pointAt(i)],a=i,s=this._arcInterval(),l=s.endAngle-s.startAngle,c=v.ceil(lthis.MAX_INTERVAL),d=lc;for(e=1;c=e;e++)t=a+rd,n=this._intervalCurvePoints(a,t),o.push(n.cp1,n.cp2,n.p2),a=t;return o},bboxfunction(e){for(var t,n,o=this,a=o._arcInterval(),s=a.startAngle,l=a.endAngle,c=i(this.center,this.radiusX,this.radiusY,e),d=T(c.x),u=T(c.y),p=o.pointAt(s).transformCopy(e),f=o.pointAt(l).transformCopy(e),g=M.min(p,f),m=M.max(p,f),v=r(d,s),_=r(u,s);lvl_;)lv&&(t=o.pointAt(v).transformCopy(e),v+=90),l_&&(n=o.pointAt(_).transformCopy(e),_+=90),p=new M(t.x,n.y),g=M.min(g,p),m=M.max(m,p);return h.fromPoints(g,m)},_arcIntervalfunction(){var e,t=this.startAngle,n=this.endAngle,i=this.anticlockwise;return i&&(e=t,t=n,n=e),(tni&&t===n)&&(n+=360),{startAnglet,endAnglen}},_intervalCurvePointsfunction(e,t){var n=this,i=n.pointAt(e),r=n.pointAt(t),o=n._derivativeAt(e),a=n._derivativeAt(t),s=(S(t)-S(e))3,l=new M(i.x+so.x,i.y+so.y),c=new M(r.x-sa.x,r.y-sa.y);return{p1i,cp1l,cp2c,p2r}},_derivativeAtfunction(e){var t=this,n=S(e);return new M(-t.radiusXv.sin(n),t.radiusYv.cos(n))}}),o(f.fn,[radiusX,radiusY,startAngle,endAngle,anticlockwise]),b(f.fn,k),f.fromPoints=function(e,t,n,i,r,o){var a=d(e.x,e.y,t.x,t.y,n,i,r,o);return new f(a.center,{startAnglea.startAngle,endAnglea.endAngle,radiusXn,radiusYi,anticlockwise0===o})},g=y.extend({initfunction(e,t,n,i,r,o){this.a=e0,this.b=t0,this.c=n0,this.d=i0,this.e=r0,this.f=o0},multiplyCopyfunction(e){return new g(this.ae.a+this.ce.b,this.be.a+this.de.b,this.ae.c+this.ce.d,this.be.c+this.de.d,this.ae.e+this.ce.f+this.e,this.be.e+this.de.f+this.f)},invertfunction(){var e=this.a,t=this.b,n=this.c,i=this.d,r=this.e,o=this.f,a=ei-tn;return 0===anullnew g(ia,-ta,-na,ea,(no-ir)a,(tr-eo)a)},clonefunction(){return new g(this.a,this.b,this.c,this.d,this.e,this.f)},equalsfunction(e){return ethis.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f!1},roundfunction(e){return this.a=D(this.a,e),this.b=D(this.b,e),this.c=D(this.c,e),this.d=D(this.d,e),this.e=D(this.e,e),this.f=D(this.f,e),this},toArrayfunction(e){var t,n=[this.a,this.b,this.c,this.d,this.e,this.f];if(C(e))for(t=0;n.lengtht;t++)n[t]=D(n[t],e);return n}}),g.fn.toString=function(e,t){return this.toArray(e).join(t,)},g.translate=function(e,t){return new g(1,0,0,1,e,t)},g.unit=function(){return new g(1,0,0,1,0,0)},g.rotate=function(e,t,n){var i=new g;return i.a=v.cos(S(e)),i.b=v.sin(S(e)),i.c=-i.b,i.d=i.a,i.e=t-ti.a+ni.b0,i.f=n-ni.a-ti.b0,i},g.scale=function(e,t){return new g(e,0,0,t,0,0)},g.IDENTITY=g.unit(),m=y.extend({initfunction(e){this._matrix=eg.unit()},clonefunction(){return new m(this._matrix.clone())},equalsfunction(e){return e&&e._matrix.equals(this._matrix)
},_optionsChangefunction(){this.optionsChange({fieldtransform,valuethis})},translatefunction(e,t){return this._matrix=this._matrix.multiplyCopy(g.translate(e,t)),this._optionsChange(),this},scalefunction(e,t,n){return C(t)(t=e),n&&(n=M.create(n),this._matrix=this._matrix.multiplyCopy(g.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(g.scale(e,t)),n&&(this._matrix=this._matrix.multiplyCopy(g.translate(-n.x,-n.y))),this._optionsChange(),this},rotatefunction(e,t){return t=M.create(t)M.ZERO,this._matrix=this._matrix.multiplyCopy(g.rotate(e,t.x,t.y)),this._optionsChange(),this},multiplyfunction(e){var t=n(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this},matrixfunction(){return this._matrix}}),b(m.fn,k),b(w,{geometry{Arcf,Circlep,Matrixg,PointM,Recth,Sizeu,Transformationm,transformt,toMatrixn}}),w.dataviz.geometry=w.geometry}(window.kendo.jQuery),function(e){var t,n,i,r=e.noop,o=Object.prototype.toString,a=window.kendo,s=a.Class,l=a.ui.Widget,c=a.deepExtend,d=a.util,u=d.defined,h=l.extend({initfunction(e,t){this.options=c({},this.options,t),l.fn.init.call(this,e,this.options),this._click=this._handler(click),this._mouseenter=this._handler(mouseenter),this._mouseleave=this._handler(mouseleave),this._visual=new a.drawing.Group,this.options.width&&this.element.css(width,this.options.width),this.options.height&&this.element.css(height,this.options.height)},options{nameSurface},events[click,mouseenter,mouseleave,resize],drawfunction(e){this._visual.children.push(e)},clearfunction(){this._visual.children=[]},destroyfunction(){this._visual=null,l.fn.destroy.call(this)},exportVisualfunction(){return this._visual},getSizefunction(){return{widththis.element.width(),heightthis.element.height()}},setSizefunction(e){this.element.css({widthe.width,heighte.height}),this._size=e,this._resize()},eventTargetfunction(t){for(var n,i=e(t.toucht.touch.initialToucht.target);!n&&i.length0&&(n=i[0]._kendoNode,!i.is(this.element)&&0!==i.length);)i=i.parent();return nn.srcElementvoid 0},_resizer,_handlerfunction(e){var t=this;return function(n){var i=t.eventTarget(n);i&&t.trigger(e,{elementi,originalEventn})}}});a.ui.plugin(h),h.create=function(e,t){return i.current.create(e,t)},t=s.extend({initfunction(e){this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())},destroyfunction(){var e,t;for(this.srcElement&&this.srcElement.removeObserver(this),e=this.childNodes,t=0;e.lengtht;t++)this.childNodes[t].destroy();this.parent=null},loadr,observefunction(){this.srcElement&&this.srcElement.addObserver(this)},appendfunction(e){this.childNodes.push(e),e.parent=this},insertAtfunction(e,t){this.childNodes.splice(t,0,e),e.parent=this},removefunction(e,t){var n,i=e+t;for(n=e;in;n++)this.childNodes[n].removeSelf();this.childNodes.splice(e,t)},removeSelffunction(){this.clear(),this.destroy()},clearfunction(){this.remove(0,this.childNodes.length)},invalidatefunction(){this.parent&&this.parent.invalidate()},geometryChangefunction(){this.invalidate()},optionsChangefunction(){this.invalidate()},childrenChangefunction(e){add===e.actionthis.load(e.items,e.index)remove===e.action&&this.remove(e.index,e.items.length),this.invalidate()}}),n=s.extend({initfunction(e,t){var n,i;this.prefix=t;for(n in e)i=e[n],i=this._wrap(i,n),this[n]=i},getfunction(e){return a.getter(e,!0)(this)},setfunction(e,t){var n,i=a.getter(e,!0)(this);i!==t&&(n=this._set(e,this._wrap(t,e)),nthis.optionsChange({fieldthis.prefix+e,valuet}))},_setfunction(e,t){var i,r,o,s=e.indexOf(.)=0;if(s)for(i=e.split(.),r=;i.length1;){if(r+=i.shift(),o=a.getter(r,!0)(this),o(o=new n({},r+.),o.addObserver(this),this[r]=o),o instanceof n)return o.set(i.join(.),t),s;r+=.}return this._clear(e),a.setter(e)(this,t),s},_clearfunction(e){var t=a.getter(e,!0)(this);t&&t.removeObserver&&t.removeObserver(this)},_wrapfunction(e,t){var i=o.call(e);return null!==e&&u(e)&&[object Object]===i&&(e instanceof ne instanceof s(e=new n(e,this.prefix+t+.)),e.addObserver(this)),e}}),c(n.fn,a.mixins.ObserversMixin),i=function(){this._items=[]},i.prototype={registerfunction(e,t,n){var i=this._items,r=i[0],o={namee,typet,ordern};!rr.orderni.unshift(o)i.push(o)},createfunction(e,t){var n,i,r=this._items,o=r[0];if(t&&t.type)for(n=t.type.toLowerCase(),i=0;r.lengthi;i++)if(r[i].name===n){o=r[i];break}return onew o.type(e,t)void a.logToConsole(Warning Unable to create Kendo UI Drawing Surface. Possible causesn- The browser does not support SVG, VML and Canvas. User agent +navigator.userAgent+n- The Kendo UI scripts are not fully loaded)}},i.current=new i,c(a,{drawing{DASH_ARRAYS{dot[1.5,3.5],dash[4,3.5],longdash[8,3.5],dashdot[3.5,3.5,1.5,3.5],longdashdot[8,3.5,1.5,3.5],longdashdotdot[8,3.5,1.5,3.5,1.5,3.5]},Colora.Color,BaseNodet,OptionsStoren,Surfaceh,SurfaceFactoryi}}),a.dataviz.drawing=a.drawing}(window.kendo.jQuery),function(){var e=window.kendo,t=e.deepExtend,n=e.util.defined,i=gradient,r={extendfunction(e){e.fill=this.fill,e.stroke=this.stroke},fillfunction(e,t){var r,o=this.options;return n(e)(e&&e.nodeType!=i(r={colore},n(t)&&(r.opacity=t),o.set(fill,r))o.set(fill,e),this)o.get(fill)},strokefunction(e,t,i){return n(e)(this.options.set(stroke.color,e),n(t)&&this.options.set(stroke.width,t),n(i)&&this.options.set(stroke.opacity,i),this)this.options.get(stroke)}},o={extendfunction(e,t){e.traverse=function(e){var n,i,r=this[t];for(n=0;r.lengthn;n++)i=r[n],i.traversei.traverse(e)e(i);return this}}};t(e.drawing,{mixins{Paintabler,Traversableo}})}(window.kendo.jQuery),function(e){function t(e,t){return d.current.measure(e,t)}var n=document,i=window.kendo,r=i.Class,o=i.deepExtend,a=i.util,s=a.defined,l=1,c=r.extend({initfunction(e){this._size=e,this._length=0,this._map={}},putfunction(e,t){var n=this,i=n._map,r={keye,valuet};i[e]=r,n._head(n._tail.newer=r,r.older=n._tail,n._tail=r)n._head=n._tail=r,n._length=n._size(i[n._head.key]=null,n._head=n._head.newer,n._head.older=null)n._length++},getfunction(e){var t=this,n=t._map[e];return n(n===t._head&&n!==t._tail&&(t._head=n.newer,t._head.older=null),n!==t._tail&&(n.older&&(n.older.newer=n.newer,n.newer.older=n.older),n.older=t._tail,n.newer=null,t._tail.newer=n,t._tail=n),n.value)void 0}}),d=r.extend({initfunction(){this._cache=new c(1e3)},measurefunction(t,i){var r,o,c,d,u,h=a.objectKey(i),p=a.hashKey(t+h),f=this._cache.get(p);if(f)return f;r={width0,height0,baseline0},o=this._measureBox,c=this._baselineMarker.cloneNode(!1);for(d in i)u=i[d],s(u)&&(o.style[d]=u);return e(o).text(t),o.appendChild(c),n.body.appendChild(o),(t+).length&&(r.width=o.offsetWidth-l,r.height=o.offsetHeight,r.baseline=c.offsetTop+l),this._cache.put(p,r),o.parentNode.removeChild(o),r}});d.fn._baselineMarker=e(div class='k-baseline-marker' style='display inline-block; vertical-align baseline;width +l+px; height +l+px;overflow hidden;' )[0],d.fn._measureBox=e(div style='position absolute !important; top -4000px !important; width auto !important; height auto !important;padding 0 !important; margin 0 !important; border 0 !important;line-height normal !important; visibility hidden !important; white-spacenowrap !important;' )[0],d.current=new d,o(i.drawing,{util{TextMetricsd,LRUCachec,measureTextt}})}(window.kendo.jQuery),function(e){function t(e,t,n){var i,r,o,a;for(r=0;e.lengthr;r++)o=e[r],o.visible()&&(a=to.bbox(n)o.rawBBox(),a&&(i=i$.union(i,a)a));return i}function n(e,t){var n,i,r,o;for(i=0;e.lengthi;i++)r=e[i],r.visible()&&(o=r.clippedBBox(t),o&&(n=n$.union(n,o)o));return n}function i(e,t){e.origin.x-=t,e.origin.y-=t,e.size.width+=2t,e.size.height+=2t}function r(e,t){for(var n=0;t.lengthn;n++)e[t[n]]=o(t[n])}function o(e){var t=_+e;return function(e){return rt(e)(this._observerField(t,e),this.geometryChange(),this)this[t]}}function a(e,t){for(var n=0;t.lengthn;n++)e[t[n]]=s(t[n])}function s(e){var t=_+e;return function(e){return rt(e)(this._observerField(t,q.create(e)),this.geometryChange(),this)this[t]}}function l(e,t){for(var n=0;t.lengthn;n++)e[t[n]]=c(t[n])}function c(e){return function(t){return rt(t)(this.options.set(e,t),this)this.options.get(e)}}function d(){returnkdef+gt++}function u(e,t,n){k(e,t,n,x,width)}function h(e,t,n){k(e,t,n,y,height)}function p(e){b(y(e),x,y,width)}function f(e){b(y(e),y,x,height)}function g(e,t){return v(e,t,x,y,width)}function m(e,t){return v(e,t,y,x,height)}function v(e,t,n,i,r){var o,a,s,l,c=[],d=w(e,t,r),u=t.origin.clone();for(l=0;d.lengthl;l++)for(s=d[l],o=s[0],u[i]=o.bbox.origin[i],S(u,o.bbox,o.element),o.bbox.origin[n]=u[n],b(s,n,i,r),c.push([]),a=0;s.lengtha;a++)c[l].push(s[a].element);return c}function _(e,t){var n,i,r=e.clippedBBox(),o=r.size,a=t.size;(o.widtha.widtho.heighta.height)&&(n=J.min(a.widtho.width,a.heighto.height),i=e.transform()G.transform(),i.scale(n,n),e.transform(i))}function w(e,t,n){var i,r,o,a,s=t.size[n],l=0,c=[],d=[],u=function(){d.push({elementi,bboxo})};for(a=0;e.lengtha;a++)i=e[a],o=i.clippedBBox(),o&&(r=o.size[n],l+rsd.length(c.push(d),d=[],u(),l=r)(u(),c.push(d),d=[],l=0)(u(),l+=r));return d.length&&c.push(d),c}function y(e){var t,n,i,r=[];for(i=0;e.lengthi;i++)t=e[i],n=t.clippedBBox(),n&&r.push({elementt,bboxn});return r}function b(e,t,n,i){var r,o,a,s,l;if(e.length1)for(r=e[0].bbox,o=new q,l=1;e.lengthl;l++)a=e[l].element,s=e[l].bbox,o[t]=r.origin[t]+r.size[i],o[n]=s.origin[n],S(o,s,a),s.origin[t]=o[t],r=s}function k(e,t,n,i,r){var o,a,s;for(n=nstart,s=0;e.lengths;s++)o=e[s].clippedBBox(),o&&(a=o.origin.clone(),a[i]=x(o.size[r],t,n,i,r),S(a,o,e[s]))}function x(e,t,n,i,r){var o;return o=n==mtt.origin[i]n==vtt.origin[i]+t.size[r]-et.origin[i]+(t.size[r]-e)2}function C(e,t,n){var i=n.transform()G.transform(),r=i.matrix();r.e+=e,r.f+=t,n.transform(i)}function S(e,t,n){C(e.x-t.origin.x,e.y-t.origin.y,n)}var T,D,A,E,I,M,P,z,F,R,B,H,L,N,O,V,U=window.kendo,W=U.Class,j=U.deepExtend,G=U.geometry,q=G.Point,$=G.Rect,Y=G.Size,Q=G.Matrix,K=G.toMatrix,X=U.drawing,Z=X.OptionsStore,J=Math,et=J.pow,tt=U.util,nt=tt.append,it=tt.arrayLimits,rt=tt.defined,ot=tt.last,at=tt.valueOrDefault,st=U.mixins.ObserversMixin,lt=e.inArray,ct=[].push,dt=[].pop,ut=[].splice,ht=[].shift,pt=[].slice,ft=[].unshift,gt=1,mt=start,vt=end,_t=horizontal,wt=W.extend({nodeTypeElement,initfunction(e){this._initOptions(e)},_initOptionsfunction(e){var t,n;e=e{},t=e.transform,n=e.clip,t&&(e.transform=G.transform(t)),n&&!n.id&&(n.id=d()),this.options=new Z(e),this.options.addObserver(this)},transformfunction(e){return rt(e)void this.options.set(transform,G.transform(e))this.options.get(transform)},parentTransformfunction(){for(var e,t,n=this;n.parent;)n=n.parent,e=n.transform(),e&&(t=e.matrix().multiplyCopy(tQ.unit()));return tG.transform(t)void 0},currentTransformfunction(e){var t,n,i=this.transform(),r=K(i);return rt(e)(e=this.parentTransform()),t=K(e),n=r&&tt.multiplyCopy(r)rt,nG.transform(n)void 0},visiblefunction(e){return rt(e)(this.options.set(visible,e),this)this.options.get(visible)!==!1},clipfunction(e){var t=this.options;return rt(e)(e&&!e.id&&(e.id=d()),t.set(clip,e),this)t.get(clip)},opacityfunction(e){return rt(e)(this.options.set(opacity,e),this)at(this.options.get(opacity),1)},clippedBBoxfunction(e){var t,n=this._clippedBBox(e);return n(t=this.clip(),t$.intersect(n,t.bbox(e))n)void 0},_clippedBBoxfunction(e){return this.bbox(e)}});j(wt.fn,st),T=W.extend({initfunction(e){e=e[],this.length=0,this._splice(0,e.length,e)},elementsfunction(e){return e(this._splice(0,this.length,e),this._change(),this)this.slice(0)},pushfunction(){var e=arguments,t=ct.apply(this,e);return this._add(e),t},slicept,popfunction(){var e=this.length,t=dt.apply(this);return e&&this._remove([t]),t},splicefunction(e,t){var n=pt.call(arguments,2),i=this._splice(e,t,n);return this._change(),i},shiftfunction(){var e=this.length,t=ht.apply(this);return e&&this._remove([t]),t},unshiftfunction(){var e=arguments,t=ft.apply(this,e);return this._add(e),t},indexOffunction(e){var t,n,i=this;for(t=0,n=i.length;nt;t++)if(i[t]===e)return t;return-1},_splicefunction(e,t,n){var i=ut.apply(this,[e,t].concat(n));return this._clearObserver(i),this._setObserver(n),i},_addfunction(e){this._setObserver(e),this._change()},_removefunction(e){this._clearObserver(e),this._change()},_setObserverfunction(e){for(var t=0;e.lengtht;t++)e[t].addObserver(this)},_clearObserverfunction(e){for(var t=0;e.lengtht;t++)e[t].removeObserver(this)},_changefunction(){}}),j(T.fn,st),D=wt.extend({nodeTypeGroup,initfunction(e){wt.fn.init.call(this,e),this.children=[]},childrenChangefunction(e,t,n){this.trigger(childrenChange,{actione,itemst,indexn})},appendfunction(){return nt(this.children,arguments),this._reparent(arguments,this),this.childrenChange(add,arguments),this},insertAtfunction(e,t){return this.children.splice(t,0,e),e.parent=this,this.childrenChange(add,[e],t),this},removefunction(e){var t=lt(e,this.children);return t=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange(remove,[e],t)),this},removeAtfunction(e){if(e=0&&this.children.lengthe){var t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange(remove,[t],e)}return this},clearfunction(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange(remove,e,0),this},bboxfunction(e){return t(this.children,!0,this.currentTransform(e))},rawBBoxfunction(){return t(this.children,!1)},_clippedBBoxfunction(e){return n(this.children,this.currentTransform(e))},currentTransformfunction(e){return wt.fn.currentTransform.call(this,e)null},_reparentfunction(e,t){var n,i,r;for(n=0;e.lengthn;n++)i=e[n],r=i.parent,r&&r!=this&&r.remove&&r.remove(i),i.parent=t}}),X.mixins.Traversable.extend(D.fn,children),A=wt.extend({nodeTypeText,initfunction(e,t,n){wt.fn.init.call(this,n),this.content(e),this.position(tnew G.Point),this.options.font(this.options.font=12px sans-serif),rt(this.options.fill)this.fill(#000)},contentfunction(e){return rt(e)(this.options.set(content,e),this)this.options.get(content)},measurefunction(){var e=X.util.measureText(this.content(),{fontthis.options.get(font)});return e},rectfunction(){var e=this.measure(),t=this.position().clone();return new G.Rect(t,[e.width,e.height])},bboxfunction(e){var t=K(this.currentTransform(e));return this.rect().bbox(t)},rawBBoxfunction(){return this.rect().bbox()}}),X.mixins.Paintable.extend(A.fn),a(A.fn,[position]),E=wt.extend({nodeTypeCircle,initfunction(e,t){wt.fn.init.call(this,t),this.geometry(enew G.Circle),rt(this.options.stroke)this.stroke(#000)},bboxfunction(e){var t=K(this.currentTransform(e)),n=this._geometry.bbox(t),r=this.options.get(stroke.width);return r&&i(n,r2),n},rawBBoxfunction(){return this._geometry.bbox()}}),X.mixins.Paintable.extend(E.fn),r(E.fn,[geometry]),I=wt.extend({nodeTypeArc,initfunction(e,t){wt.fn.init.call(this,t),this.geometry(enew G.Arc),rt(this.options.stroke)this.stroke(#000)},bboxfunction(e){var t=K(this.currentTransform(e)),n=this.geometry().bbox(t),r=this.options.get(stroke.width);return r&&i(n,r2),n},rawBBoxfunction(){return this.geometry().bbox()},toPathfunction(){var e,t=new z,n=this.geometry().curvePoints();if(n.length0)for(t.moveTo(n[0].x,n[0].y),e=1;n.lengthe;e+=3)t.curveTo(n[e],n[e+1],n[e+2]);return t}}),X.mixins.Paintable.extend(I.fn),r(I.fn,[geometry]),M=T.extend({_changefunction(){this.geometryChange()}}),P=W.extend({initfunction(e,t,n){this.anchor(enew q),this.controlIn(t),this.controlOut(n)},bboxTofunction(e,t){var n,i=this.anchor().transformCopy(t),r=e.anchor().transformCopy(t);return n=this.controlOut()&&e.controlIn()this._curveBoundingBox(i,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),r)this._lineBoundingBox(i,r)},_lineBoundingBoxfunction(e,t){return $.fromPoints(e,t)},_curveBoundingBoxfunction(e,t,n,i){var r=[e,t,n,i],o=this._curveExtremesFor(r,x),a=this._curveExtremesFor(r,y),s=it([o.min,o.max,e.x,i.x]),l=it([a.min,a.max,e.y,i.y]);return $.fromPoints(new q(s.min,l.min),new q(s.max,l.max))},_curveExtremesForfunction(e,t){var n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{minthis._calculateCurveAt(n.min,t,e),maxthis._calculateCurveAt(n.max,t,e)}},_calculateCurveAtfunction(e,t,n){var i=1-e;return et(i,3)n[0][t]+3et(i,2)en[1][t]+3et(e,2)in[2][t]+et(e,3)n[3][t]},_curveExtremesfunction(e,t,n,i){var r,o,a=e-3t+3n-i,s=-2(e-2t+n),l=e-t,c=J.sqrt(ss-4al),d=0,u=1;return 0===a0!==s&&(d=u=-ls)isNaN(c)(d=(-s+c)(2a),u=(-s-c)(2a)),r=J.max(J.min(d,u),0),(0rr1)&&(r=0),o=J.min(J.max(d,u),1),(o10o)&&(o=1),{minr,maxo}}}),a(P.fn,[anchor,controlIn,controlOut]),j(P.fn,st),z=wt.extend({nodeTypePath,initfunction(e){wt.fn.init.call(this,e),this.segments=new M,this.segments.addObserver(this),rt(this.options.stroke)(this.stroke(#000),rt(this.options.stroke.lineJoin)this.options.set(stroke.lineJoin,miter))},moveTofunction(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this},lineTofunction(e,t){var n=rt(t)new q(e,t)e,i=new P(n);return this.segments.push(i),this},curveTofunction(e,t,n){var i,r;return this.segments.length0&&(i=ot(this.segments),r=new P(n,t),this.suspend(),i.controlOut(e),this.resume(),this.segments.push(r)),this},arcfunction(e,t,n,i,r){var o,a,s,l,c;return this.segments.length0&&(o=ot(this.segments),a=o.anchor(),s=tt.rad(e),l=new q(a.x-nJ.cos(s),a.y-iJ.sin(s)),c=new G.Arc(l,{startAnglee,endAnglet,radiusXn,radiusYi,anticlockwiser}),this._addArcSegments(c)),this},arcTofunction(e,t,n,i,r){var o,a,s;return this.segments.length0&&(o=ot(this.segments),a=o.anchor(),s=G.Arc.fromPoints(a,e,t,n,i,r),this._addArcSegments(s)),this},_addArcSegmentsfunction(e){var t,n;for(this.suspend(),t=e.curvePoints(),n=1;t.lengthn;n+=3)this.curveTo(t[n],t[n+1],t[n+2]);this.resume(),this.geometryChange()},closefunction(){return this.options.closed=!0,this.geometryChange(),this},bboxfunction(e){var t=K(this.currentTransform(e)),n=this._bbox(t),r=this.options.get(stroke.width);return r&&i(n,r2),n},rawBBoxfunction(){return this._bbox()},_bboxfunction(e){var t,n,i,r,o=this.segments,a=o.length;if(1===a)n=o[0].anchor().transformCopy(e),t=new $(n,Y.ZERO);else if(a0)for(i=1;ai;i++)r=o[i-1].bboxTo(o[i],e),t=t$.union(t,r)r;return t}}),X.mixins.Paintable.extend(z.fn),z.fromRect=function(e,t){return new z(t).moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close()},z.fromPoints=function(e,t){var n,i,r;if(e){for(n=new z(t),i=0;e.lengthi;i++)r=q.create(e[i]),r&&(0===in.moveTo(r)n.lineTo(r));return n}},z.fromArc=function(e,t){var n=new z(t),i=e.startAngle,r=e.pointAt(i);return n.moveTo(r.x,r.y),n.arc(i,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),n},F=wt.extend({nodeTypeMultiPath,initfunction(e){wt.fn.init.call(this,e),this.paths=new M,this.paths.addObserver(this),rt(this.options.stroke)this.stroke(#000)},moveTofunction(e,t){var n=new z;return n.moveTo(e,t),this.paths.push(n),this},lineTofunction(e,t){return this.paths.length0&&ot(this.paths).lineTo(e,t),this},curveTofunction(e,t,n){return this.paths.length0&&ot(this.paths).curveTo(e,t,n),this},arcfunction(e,t,n,i,r){return this.paths.length0&&ot(this.paths).arc(e,t,n,i,r),this},arcTofunction(e,t,n,i,r){return this.paths.length0&&ot(this.paths).arcTo(e,t,n,i,r),this},closefunction(){return this.paths.length0&&ot(this.paths).close(),this},bboxfunction(e){return t(this.paths,!0,this.currentTransform(e))},rawBBoxfunction(){return t(this.paths,!1)},_clippedBBoxfunction(e){return n(this.paths,this.currentTransform(e))}}),X.mixins.Paintable.extend(F.fn),R=wt.extend({nodeTypeImage,initfunction(e,t,n){wt.fn.init.call(this,n),this.src(e),this.rect(tnew G.Rect)},srcfunction(e){return rt(e)(this.options.set(src,e),this)this.options.get(src)},bboxfunction(e){var t=K(this.currentTransform(e));return this._rect.bbox(t)},rawBBoxfunction(){return this._rect.bbox()}}),r(R.fn,[rect]),B=W.extend({initfunction(e,t,n){this.options=new Z({offsete,colort,opacityrt(n)n1}),this.options.addObserver(this)}}),l(B.fn,[offset,color,opacity]),j(B.fn,st),B.create=function(e){if(rt(e)){var t;return t=e instanceof Bee.length1new B(e[0],e[1],e[2])new B(e.offset,e.color,e.opacity)}},H=T.extend({_changefunction(){this.optionsChange({fieldstops})}}),L=W.extend({nodeTypegradient,initfunction(e){this.stops=new H(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=d()},userSpacefunction(e){return rt(e)(this._userSpace=e,this.optionsChange(),this)this._userSpace},_createStopsfunction(e){var t,n=[];for(e=e[],t=0;e.lengtht;t++)n.push(B.create(e[t]));return n},addStopfunction(e,t,n){this.stops.push(new B(e,t,n))},removeStopfunction(e){var t=this.stops.indexOf(e);t=0&&this.stops.splice(t,1)}}),j(L.fn,st,{optionsChangefunction(e){this.trigger(optionsChange,{fieldgradient+(e.+e.field),valuethis})},geometryChangefunction(){this.optionsChange()}}),N=L.extend({initfunction(e){e=e{},L.fn.init.call(this,e),this.start(e.startnew q),this.end(e.endnew q(1,0))}}),a(N.fn,[start,end]),O=L.extend({initfunction(e){e=e{},L.fn.init.call(this,e),this.center(e.centernew q),this._radius=rt(e.radius)e.radius1,this._fallbackFill=e.fallbackFill},radiusfunction(e){return rt(e)(this._radius=e,this.geometryChange(),this)this._radius},fallbackFillfunction(e){return rt(e)(this._fallbackFill=e,this.optionsChange(),this)this._fallbackFill}}),a(O.fn,[center]),V=D.extend({initfunction(e,t){D.fn.init.call(this,U.deepExtend({},this._defaults,t)),this._rect=e,this._fieldMap={}},_defaults{alignContentmt,justifyContentmt,alignItemsmt,spacing0,orientation_t,lineSpacing0,wrap!0},rectfunction(e){return e(this._rect=e,this)this._rect},_initMapfunction(){var e=this.options,t=this._fieldMap;e.orientation==_t(t.sizeField=width,t.groupsSizeField=height,t.groupAxis=x,t.groupsAxis=y)(t.sizeField=height,t.groupsSizeField=width,t.groupAxis=y,t.groupsAxis=x)},reflowfunction(){var e,t,n,i,r,o,a,s,l,c,d,u,h,p,f,g,m,v,_,w,y,b,k,C,T,D;if(this._rect&&0!==this.children.length){for(this._initMap(),this.options.transform&&this.transform(null),e=this.options,t=this._fieldMap,n=this._rect,i=this._initGroups(),r=i.groups,o=i.groupsSize,a=t.sizeField,s=t.groupsSizeField,l=t.groupAxis,c=t.groupsAxis,d=x(o,n,e.alignContent,c,s),u=new q,h=new q,p=new G.Size,w=0;r.lengthw;w++){for(v=r[w],u[l]=f=x(v.size,n,e.justifyContent,l,a),u[c]=d,p[a]=v.size,p[s]=v.lineSize,_=new $(u,p),y=0;v.bboxes.lengthy;y++)m=v.elements[y],g=v.bboxes[y],h[l]=f,h[c]=x(g.size[s],_,e.alignItems,c,s),S(h,g,m),f+=g.size[a]+e.spacing;d+=v.lineSize+e.lineSpacing}!e.wrap&&v.sizen.size[a]&&(b=n.size[a]_.size[a],k=_.topLeft().scale(b,b),C=_.size[s]b,T=x(C,n,e.alignContent,c,s),D=G.transform(),x===lD.translate(n.origin.x-k.x,T-k.y)D.translate(T-k.x,n.origin.y-k.y),D.scale(b,b),this.transform(D))}},_initGroupsfunction(){var e,t,n,i=this.options,r=this.children,o=i.lineSpacing,a=this._fieldMap.sizeField,s=-o,l=[],c=this._newGroup(),d=function(){l.push(c),s+=c.lineSize+o};for(n=0;r.lengthn;n++)t=r[n],e=r[n].clippedBBox(),t.visible()&&e&&(i.wrap&&c.size+e.size[a]+i.spacingthis._rect.size[a]0===c.bboxes.length(this._addToGroup(c,e,t),d(),c=this._newGroup())(d(),c=this._newGroup(),this._addToGroup(c,e,t))this._addToGroup(c,e,t));return c.bboxes.length&&d(),{groupsl,groupsSizes}},_addToGroupfunction(e,t,n){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(n)},_newGroupfunction(){return{lineSize0,size-this.options.spacing,bboxes[],elements[]}}}),j(X,{alignu,ArcI,CircleE,Elementwt,ElementsArrayT,fit_,GradientL,GradientStopB,GroupD,ImageR,LayoutV,LinearGradientN,MultiPathF,Pathz,RadialGradientO,SegmentP,stackp,TextA,vAlignh,vStackf,vWrapm,wrapg})}(window.kendo.jQuery),function(e){function t(e){var t=[];return e.replace(g,function(e,n){t.push(parseFloat(n))}),t}function n(e,t,n){var i,r=t01;for(i=0;e.lengthi;i+=2)e.splice(i+r,0,n)}function i(e,t){return e&&tt.scaleCopy(2).translate(-e.x,-e.y)void 0}function r(e,t,n){var i=13;return t=t.clone().scale(23),{controlOutt.clone().translateWith(e.scaleCopy(i)),controlInt.translateWith(n.scaleCopy(i))}}var o=window.kendo,a=o.drawing,s=o.geometry,l=o.Class,c=s.Point,d=o.deepExtend,u=e.trim,h=o.util,p=h.last,f=([a-z]{1})([^a-z])(z)gi,g=[,s](-(d+.)d+)g,m=m,v=z,_=l.extend({parsefunction(e,n){var i,r=new a.MultiPath(n),o=new c;return e.replace(f,function(e,n,a,s){var l=n.toLowerCase(),c=l===n,d=t(u(a));if(l===m&&(c(o.x+=d[0],o.y+=d[1])(o.x=d[0],o.y=d[1]),r.moveTo(o.x,o.y),d.length2&&(l=l,d.splice(0,2))),w[l])w[l](r,{parametersd,positiono,isRelativec,previousCommandi}),s&&s.toLowerCase()===v&&r.close();else if(l!==m)throw Error(Error while parsing SVG path. Unsupported command +l);i=l}),r}}),w={lfunction(e,t){var n,i,r=t.parameters,o=t.position;for(n=0;r.lengthn;n+=2)i=new c(r[n],r[n+1]),t.isRelative&&i.translateWith(o),e.lineTo(i.x,i.y),o.x=i.x,o.y=i.y},cfunction(e,t){var n,i,r,o,a=t.parameters,s=t.position;for(o=0;a.lengtho;o+=6)n=new c(a[o],a[o+1]),i=new c(a[o+2],a[o+3]),r=new c(a[o+4],a[o+5]),t.isRelative&&(i.translateWith(s),n.translateWith(s),r.translateWith(s)),e.curveTo(n,i,r),s.x=r.x,s.y=r.y},vfunction(e,t){var i=t.isRelative0t.position.x;n(t.parameters,!0,i),this.l(e,t)},hfunction(e,t){var i=t.isRelative0t.position.y;n(t.parameters,!1,i),this.l(e,t)},afunction(e,t){var n,i,r,o,a,s,l=t.parameters,d=t.position;for(n=0;l.lengthn;n+=7)i=l[n],r=l[n+1],o=l[n+3],a=l[n+4],s=new c(l[n+5],l[n+6]),t.isRelative&&s.translateWith(d),e.arcTo(s,i,r,o,a),d.x=s.x,d.y=s.y},sfunction(e,t){var n,r,o,a,s,l=t.parameters,d=t.position,u=t.previousCommand;for((s==uc==u)&&(a=p(p(e.paths).segments).controlIn()),s=0;l.lengths;s+=4)o=new c(l[s],l[s+1]),r=new c(l[s+2],l[s+3]),t.isRelative&&(o.translateWith(d),r.translateWith(d)),n=ai(a,d)d.clone(),a=o,e.curveTo(n,o,r),d.x=r.x,d.y=r.y},qfunction(e,t){var n,i,o,a,s=t.parameters,l=t.position;for(a=0;s.lengtha;a+=4)o=new c(s[a],s[a+1]),i=new c(s[a+2],s[a+3]),t.isRelative&&(o.translateWith(l),i.translateWith(l)),n=r(l,o,i),e.curveTo(n.controlOut,n.controlIn,i),l.x=i.x,l.y=i.y},tfunction(e,t){var n,o,a,s,l,d=t.parameters,u=t.position,h=t.previousCommand;for((q==ht==h)&&(s=p(p(e.paths).segments),o=s.controlIn().clone().translateWith(u.scaleCopy(-13)).scale(1.5)),l=0;d.lengthl;l+=2)a=new c(d[l],d[l+1]),t.isRelative&&a.translateWith(u),o=oi(o,u)u.clone(),n=r(u,o,a),e.curveTo(n.controlOut,n.controlIn,a),u.x=a.x,u.y=a.y}};_.current=new _,a.Path.parse=function(e,t){return _.current.parse(e,t)},d(a,{PathParser_})}(window.kendo.jQuery),function(e){function t(e){var t,n,i,r;try{t=e.getScreenCTMe.getScreenCTM()null}catch(o){}t&&(n=-t.e%1,i=-t.f%1,r=e.style,(0!==n0!==i)&&(r.left=n+px,r.top=i+px))}function n(){var e=document.getElementsByTagName(base)[0],t=,n=document.location.href,i=n.indexOf(#);return e&&!d.support.browser.msie&&(-1!==i&&(n=n.substring(0,i)),t=n),t}function i(e){returnurl(+n()+#+e+)}function r(e){var t,n,i,r=new F({encodeText!0}),o=e.clippedBBox();return o&&(t=o.getOrigin(),n=new p.Group,n.transform(h.transform().translate(-t.x,-t.y)),n.children.push(e),e=n),r.load([e]),i=xml version='1.0' svg style='width 100%; height 100%; overflow hidden;' xmlns='+E+' xmlnsxlink='httpwww.w3.org1999xlink' version='1.1'+r.render()+svg,r.destroy(),i}function o(t,n){var i=r(t);return n&&n.raw(i=dataimagesvg+xml;base64,+g.encodeBase64(i)),e.Deferred().resolve(i).promise()}function a(e,t){returnclip==efill==e&&(!tt.nodeType==C)}function s(e){if(!e!e.indexOfe.indexOf(&)0)return e;var t=s._element;return t.innerHTML=e,t.textContentt.innerText}var l,c=document,d=window.kendo,u=d.deepExtend,h=d.geometry,p=d.drawing,f=p.BaseNode,g=d.util,m=g.defined,v=g.isTransparent,_=g.renderAttr,w=g.renderAllAttr,y=g.renderTemplate,b=e.inArray,k=butt,x=p.DASH_ARRAYS,C=gradient,S=none,T=.kendo,D=solid,A= ,E=httpwww.w3.org2000svg,I=transform,M=undefined,P=p.Surface.extend({initfunction(e,n){p.Surface.fn.init.call(this,e,n),this._root=new F(this.options),Q(this.element[0],this._template(this)),this._rootElement=this.element[0].firstElementChild,t(this._rootElement),this._root.attachTo(this._rootElement),this.element.on(click+T,this._click),this.element.on(mouseover+T,this._mouseenter),this.element.on(mouseout+T,this._mouseleave),this.resize()},typesvg,destroyfunction(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,this.element.off(T)),p.Surface.fn.destroy.call(this)},translatefunction(e){var t=d.format({0} {1} {2} {3},Math.round(e.x),Math.round(e.y),this._size.width,this._size.height);this._offset=e,this._rootElement.setAttribute(viewBox,t)},drawfunction(e){p.Surface.fn.draw.call(this,e),this._root.load([e])},clearfunction(){p.Surface.fn.clear.call(this),this._root.clear()},svgfunction(){returnxml version='1.0' +this._template(this)},exportVisualfunction(){var e,t=this._visual,n=this._offset;return n&&(e=new p.Group,e.children.push(t),e.transform(h.transform().translate(-n.x,-n.y)),t=e),t},_resizefunction(){this._offset&&this.translate(this._offset)},_templatey(svg style='width 100%; height 100%; overflow hidden;' xmlns='+E+' xmlnsxlink='httpwww.w3.org1999xlink' version='1.1'#= d._root.render() #svg)}),z=f.extend({initfunction(e){f.fn.init.call(this,e),this.definitions={}},destroyfunction(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),f.fn.destroy.call(this)},loadfunction(e,t){var n,i,r,o,a=this,s=a.element;for(o=0;e.lengtho;o++)i=e[o],r=i.children,n=new Y[i.nodeType](i),m(t)a.insertAt(n,t)a.append(n),n.createDefinitions(),r&&r.length0&&n.load(r),s&&n.attachTo(s,t)},rootfunction(){for(var e=this;e.parent;)e=e.parent;return e},attachTofunction(e,t){var n,i=c.createElement(div);Q(i,svg xmlns='+E+' version='1.1'+this.render()+svg),n=i.firstChild.firstChild,n&&(m(t)e.insertBefore(n,e.childNodes[t]null)e.appendChild(n),this.setElement(n))},setElementfunction(e){var t,n,i=this.childNodes;for(this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this,n=0;i.lengthn;n++)t=e.childNodes[n],i[n].setElement(t)},clearfunction(){var e,t;for(this.clearDefinitions(),this.element&&(this.element.innerHTML=),e=this.childNodes,t=0;e.lengtht;t++)e[t].destroy();this.childNodes=[]},removeSelffunction(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}f.fn.removeSelf.call(this)},templatey(#= d.renderChildren() #),renderfunction(){return this.template(this)},renderChildrenfunction(){var e,t=this.childNodes,n=;for(e=0;t.lengthe;e++)n+=t[e].render();return n},optionsChangefunction(e){var t=e.field,n=e.value;visible===tthis.css(display,nS)l[t]&&a(t,n)this.updateDefinition(t,n)opacity===t&&this.attr(opacity,n),f.fn.optionsChange.call(this,e)},attrfunction(e,t){this.element&&this.element.setAttribute(e,t)},allAttrfunction(e){for(var t=0;e.lengtht;t++)this.attr(e[t][0],e[t][1])},cssfunction(e,t){this.element&&(this.element.style[e]=t)},allCssfunction(e){for(var t=0;e.lengtht;t++)this.css(e[t][0],e[t][1])},removeAttrfunction(e){this.element&&this.element.removeAttribute(e)},mapTransformfunction(e){var t=[];return e&&t.push([I,matrix(+e.matrix().toString(6)+)]),t
},renderTransformfunction(){return w(this.mapTransform(this.srcElement.transform()))},transformChangefunction(e){ethis.allAttr(this.mapTransform(e))this.removeAttr(I)},mapStylefunction(){var e=this.srcElement.options,t=[[cursor,e.cursor]];return e.visible===!1&&t.push([display,S]),t},renderStylefunction(){return _(style,g.renderStyle(this.mapStyle()))},renderOpacityfunction(){return _(opacity,this.srcElement.options.opacity)},createDefinitionsfunction(){var e,t,n,i,r=this.srcElement,o=this.definitions;if(r){n=r.options;for(t in l)e=n.get(t),e&&a(t,e)&&(o[t]=e,i=!0);i&&this.definitionChange({actionadd,definitionso})}},definitionChangefunction(e){this.parent&&this.parent.definitionChange(e)},updateDefinitionfunction(e,t){var n=this.definitions,r=n[e],o=l[e],a={};r&&(a[e]=r,this.definitionChange({actionremove,definitionsa}),delete n[e]),t(a[e]=t,this.definitionChange({actionadd,definitionsa}),n[e]=t,this.attr(o,i(t.id)))r&&this.removeAttr(o)},clearDefinitionsfunction(){var e,t=this.definitions;for(e in t){this.definitionChange({actionremove,definitionst}),this.definitions={};break}},renderDefinitionsfunction(){return w(this.mapDefinitions())},mapDefinitionsfunction(){var e,t=this.definitions,n=[];for(e in t)n.push([l[e],i(t[e].id)]);return n}}),F=z.extend({initfunction(e){z.fn.init.call(this),this.options=e,this.defs=new R},attachTofunction(e){this.element=e,this.defs.attachTo(e.firstElementChild)},clearfunction(){f.fn.clear.call(this)},templatey(#=d.defs.render()##= d.renderChildren() #),definitionChangefunction(e){this.defs.definitionChange(e)}}),R=z.extend({initfunction(){z.fn.init.call(this),this.definitionMap={}},attachTofunction(e){this.element=e},templatey(defs#= d.renderChildren()#defs),definitionChangefunction(e){var t=e.definitions,n=e.action;add==nthis.addDefinitions(t)remove==n&&this.removeDefinitions(t)},createDefinitionfunction(e,t){var n;returnclip==en=Bfill==e&&(t instanceof p.LinearGradientn=qt instanceof p.RadialGradient&&(n=$)),new n(t)},addDefinitionsfunction(e){for(var t in e)this.addDefinition(t,e[t])},addDefinitionfunction(e,t){var n,i=this.definitionMap,r=t.id,o=this.element,a=i[r];aa.count++(n=this.createDefinition(e,t),i[r]={elementn,count1},this.append(n),o&&n.attachTo(this.element))},removeDefinitionsfunction(e){for(var t in e)this.removeDefinition(e[t])},removeDefinitionfunction(e){var t=this.definitionMap,n=e.id,i=t[n];i&&(i.count--,0===i.count&&(this.remove(b(i.element,this.childNodes),1),delete t[n]))}}),B=z.extend({initfunction(e){z.fn.init.call(this),this.srcElement=e,this.id=e.id,this.load([e])},templatey(clipPath id='#=d.id#'#= d.renderChildren()#clipPath)}),H=z.extend({templatey(g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()##= d.renderChildren() #g),optionsChangefunction(e){e.field==I&&this.transformChange(e.value),z.fn.optionsChange.call(this,e)}}),L=z.extend({geometryChangefunction(){this.attr(d,this.renderData()),this.invalidate()},optionsChangefunction(e){switch(e.field){casefille.valuethis.allAttr(this.mapFill(e.value))this.removeAttr(fill);break;casefill.colorthis.allAttr(this.mapFill({colore.value}));break;casestrokee.valuethis.allAttr(this.mapStroke(e.value))this.removeAttr(stroke);break;case Ithis.transformChange(e.value);break;defaultvar t=this.attributeMap[e.field];t&&this.attr(t,e.value)}z.fn.optionsChange.call(this,e)},attributeMap{fill.opacityfill-opacity,stroke.colorstroke,stroke.widthstroke-width,stroke.opacitystroke-opacity},contentfunction(){this.element&&(this.element.textContent=this.srcElement.content())},renderDatafunction(){return this.printPath(this.srcElement)},printPathfunction(e){var t,n,i,r,o,a=e.segments,s=a.length;if(s0){for(t=[],o=1;so;o++)i=this.segmentType(a[o-1],a[o]),i!==r&&(r=i,t.push(i)),t.push(L===ithis.printPoints(a[o].anchor())this.printPoints(a[o-1].controlOut(),a[o].controlIn(),a[o].anchor()));return n=M+this.printPoints(a[0].anchor())+A+t.join(A),e.options.closed&&(n+=Z),n}},printPointsfunction(){var e,t=arguments,n=t.length,i=[];for(e=0;ne;e++)i.push(t[e].toString(3));return i.join(A)},segmentTypefunction(e,t){return e.controlOut()&&t.controlIn()CL},mapStrokefunction(e){var t=[];return e&&!v(e.color)(t.push([stroke,e.color]),t.push([stroke-width,e.width]),t.push([stroke-linecap,this.renderLinecap(e)]),t.push([stroke-linejoin,e.lineJoin]),m(e.opacity)&&t.push([stroke-opacity,e.opacity]),m(e.dashType)&&t.push([stroke-dasharray,this.renderDashType(e)]))t.push([stroke,S]),t},renderStrokefunction(){return w(this.mapStroke(this.srcElement.options.stroke))},renderDashTypefunction(e){var t,n,i,r=e.width1,o=e.dashType;if(o&&o!=D){for(t=x[o.toLowerCase()],n=[],i=0;t.lengthi;i++)n.push(t[i]r);return n.join( )}},renderLinecapfunction(e){var t=e.dashType,n=e.lineCap;return t&&t!=Dkn},mapFillfunction(e){var t=[];return e&&e.nodeType==C(e&&!v(e.color)(t.push([fill,e.color]),m(e.opacity)&&t.push([fill-opacity,e.opacity]))t.push([fill,S])),t},renderFillfunction(){return w(this.mapFill(this.srcElement.options.fill))},templatey(path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #path)}),N=L.extend({renderDatafunction(){return this.printPath(this.srcElement.toPath())}}),O=L.extend({renderDatafunction(){var e,t,n=this.srcElement.paths;if(n.length0){for(e=[],t=0;n.lengtht;t++)e.push(this.printPath(n[t]));return e.join( )}}}),V=L.extend({geometryChangefunction(){var e=this.center();this.attr(cx,e.x),this.attr(cy,e.y),this.attr(r,this.radius()),this.invalidate()},centerfunction(){return this.srcElement.geometry().center},radiusfunction(){return this.srcElement.geometry().radius},templatey(circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # circle)}),U=L.extend({geometryChangefunction(){var e=this.pos();this.attr(x,e.x),this.attr(y,e.y),this.invalidate()},optionsChangefunction(e){font===e.field(this.attr(style,g.renderStyle(this.mapStyle())),this.geometryChange())content===e.field&&L.fn.content.call(this,this.srcElement.content()),L.fn.optionsChange.call(this,e)},mapStylefunction(){var e=L.fn.mapStyle.call(this),t=this.srcElement.options.font;return e.push([font,d.htmlEncode(t)]),e},posfunction(){var e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)},contentfunction(){var e=this.srcElement.content(),t=this.root().options;return t&&t.encodeText&&(e=s(e),e=d.htmlEncode(e)),e},templatey(text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() ##= d.content() #text)}),W=L.extend({geometryChangefunction(){this.allAttr(this.mapPosition()),this.invalidate()},optionsChangefunction(e){src===e.field&&this.allAttr(this.mapSource()),L.fn.optionsChange.call(this,e)},mapPositionfunction(){var e=this.srcElement.rect(),t=e.topLeft();return[[x,t.x],[y,t.y],[width,e.width()+px],[height,e.height()+px]]},renderPositionfunction(){return w(this.mapPosition())},mapSourcefunction(){return[[xlinkhref,this.srcElement.src()]]},renderSourcefunction(){return w(this.mapSource())},templatey(image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#image)}),j=z.extend({templatey(stop #=d.renderOffset()# #=d.renderStyle()# ),renderOffsetfunction(){return _(offset,this.srcElement.offset())},mapStylefunction(){var e=this.srcElement;return[[stop-color,e.color()],[stop-opacity,e.opacity()]]},optionsChangefunction(e){offset==e.fieldthis.attr(e.field,e.value)(color==e.fieldopacity==e.field)&&this.css(stop-+e.field,e.value)}}),G=z.extend({initfunction(e){z.fn.init.call(this,e),this.id=e.id,this.loadStops()},loadStopsfunction(){var e,t,n=this.srcElement,i=n.stops,r=this.element;for(t=0;i.lengtht;t++)e=new j(i[t]),this.append(e),r&&e.attachTo(r)},optionsChangefunction(e){gradient.stops==e.field(f.fn.clear.call(this),this.loadStops())e.field==C&&this.allAttr(this.mapCoordinates())},renderCoordinatesfunction(){return w(this.mapCoordinates())},mapSpacefunction(){return[gradientUnits,this.srcElement.userSpace()userSpaceOnUseobjectBoundingBox]}}),q=G.extend({templatey(linearGradient id='#=d.id#' #=d.renderCoordinates()##= d.renderChildren()#linearGradient),mapCoordinatesfunction(){var e=this.srcElement,t=e.start(),n=e.end(),i=[[x1,t.x],[y1,t.y],[x2,n.x],[y2,n.y],this.mapSpace()];return i}}),$=G.extend({templatey(radialGradient id='#=d.id#' #=d.renderCoordinates()##= d.renderChildren()#radialGradient),mapCoordinatesfunction(){var e=this.srcElement,t=e.center(),n=e.radius(),i=[[cx,t.x],[cy,t.y],[r,n],this.mapSpace()];return i}}),Y={GroupH,TextU,PathL,MultiPathO,CircleV,ArcN,ImageW},Q=function(e,t){e.innerHTML=t};!function(){var e=svg xmlns='+E+'svg,t=c.createElement(div),n=typeof DOMParser!=M;t.innerHTML=e,n&&t.firstChild.namespaceURI!=E&&(Q=function(e,t){var n=new DOMParser,i=n.parseFromString(t,textxml),r=c.adoptNode(i.documentElement);e.innerHTML=,e.appendChild(r)})}(),s._element=document.createElement(span),l={clipclip-path,fillfill},d.support.svg=function(){return c.implementation.hasFeature(httpwww.w3.orgTRSVG11feature#BasicStructure,1.1)}(),d.support.svg&&p.SurfaceFactory.current.register(svg,P,10),u(p,{exportSVGo,svg{ArcNodeN,CircleNodeV,ClipNodeB,DefinitionNodeR,GradientStopNodej,GroupNodeH,ImageNodeW,LinearGradientNodeq,MultiPathNodeO,Nodez,PathNodeL,RadialGradientNode$,RootNodeF,SurfaceP,TextNodeU,_exportGroupr}})}(window.kendo.jQuery),function(e){function t(t,n){var i,r,o,a,s,l,c={width800px,height600px,corsAnonymous},d=t.clippedBBox();return d&&(i=d.getOrigin(),r=new y.Group,r.transform(w.transform().translate(-i.x,-i.y)),r.children.push(t),t=r,o=d.getSize(),c.width=o.width+px,c.height=o.height+px),n=p(c,n),a=e(div ).css({displaynone,widthn.width,heightn.height}).appendTo(document.body),s=new T(a,n),s.draw(t),l=s.image(),l.always(function(){s.destroy(),a.remove()}),l}function n(e,t){var n,i,r;for(r=0;t.lengthr;r++)i=t[r],n=h.parseColor(i.color()),n.a=i.opacity(),e.addColorStop(i.offset(),n.toCssRgba())}var i,r,o,a,s,l,c,d,u=document,h=window.kendo,p=h.deepExtend,f=h.util,g=f.defined,m=f.isTransparent,v=f.renderTemplate,_=f.valueOrDefault,w=h.geometry,y=h.drawing,b=y.BaseNode,k=butt,x=y.DASH_ARRAYS,C=1e360,S=solid,T=y.Surface.extend({initfunction(t,n){y.Surface.fn.init.call(this,t,n),this.element[0].innerHTML=this._template(this);var r=this.element[0].firstElementChild;r.width=e(t).width(),r.height=e(t).height(),this._rootElement=r,this._root=new i(r)},destroyfunction(){y.Surface.fn.destroy.call(this),this._root&&(this._root.destroy(),this._root=null)},typecanvas,drawfunction(e){y.Surface.fn.draw.call(this,e),this._root.load([e],void 0,this.options.cors)},clearfunction(){y.Surface.fn.clear.call(this),this._root.clear()},imagefunction(){var t,n=this._root,i=this._rootElement,r=[];return n.traverse(function(e){e.loading&&r.push(e.loading)}),t=e.Deferred(),e.when.apply(e,r).done(function(){n._invalidate();try{var e=i.toDataURL();t.resolve(e)}catch(r){t.reject(r)}}).fail(function(e){t.reject(e)}),t.promise()},_resizefunction(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.invalidate()},_templatev(canvas style='width 100%; height 100%;'canvas)}),D=b.extend({initfunction(e){b.fn.init.call(this,e),e&&this.initClip()},initClipfunction(){var e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))},clearfunction(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),b.fn.clear.call(this)},clearClipfunction(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},setClipfunction(e){this.clip&&(e.beginPath(),r.fn.renderPoints(e,this.clip),e.clip())},optionsChangefunction(e){clip==e.field&&(this.clearClip(),this.initClip()),b.fn.optionsChange.call(this,e)},setTransformfunction(e){if(this.srcElement){var t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}},loadfunction(e,t,n){var i,r,o,a,s=this;for(a=0;e.lengtha;a++)r=e[a],o=r.children,i=new d[r.nodeType](r,n),o&&o.length0&&i.load(o,t,n),g(t)s.insertAt(i,t)s.append(i);s.invalidate()},setOpacityfunction(e){if(this.srcElement){var t=this.srcElement.opacity();g(t)&&this.globalAlpha(e,t)}},globalAlphafunction(e,t){t&&e.globalAlpha&&(t=e.globalAlpha),e.globalAlpha=t},visiblefunction(){var e=this.srcElement;return!ee&&e.options.visible!==!1}}),A=D.extend({renderTofunction(e){var t,n,i;if(this.visible()){for(e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),t=this.childNodes,n=0;t.lengthn;n++)i=t[n],i.visible()&&i.renderTo(e);e.restore()}}});y.mixins.Traversable.extend(A.fn,childNodes),i=A.extend({initfunction(t){A.fn.init.call(this),this.canvas=t,this.ctx=t.getContext(2d),this.invalidate=h.throttle(e.proxy(this._invalidate,this),C)},destroyfunction(){A.fn.destroy.call(this),this.canvas=null,this.ctx=null},_invalidatefunction(){this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}}),y.mixins.Traversable.extend(i.fn,childNodes),r=D.extend({renderTofunction(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()},setFillfunction(e){var t=this.srcElement.options.fill,n=!1;return t&&(gradient==t.nodeType(this.setGradientFill(e,t),n=!0)m(t.color)(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n},setGradientFillfunction(e,t){var i,r,o,a,s=this.srcElement.rawBBox();t instanceof y.LinearGradient(r=t.start(),o=t.end(),i=e.createLinearGradient(r.x,r.y,o.x,o.y))t instanceof y.RadialGradient&&(a=t.center(),i=e.createRadialGradient(a.x,a.y,0,a.x,a.y,t.radius())),n(i,t.stops),e.save(),t.userSpace()e.transform(s.width(),0,0,s.height(),s.origin.x,s.origin.y),e.fillStyle=i,e.fill(),e.restore()},setStrokefunction(e){var t=this.srcElement.options.stroke;return t&&!m(t.color)&&t.width0(e.strokeStyle=t.color,e.lineWidth=_(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0)void 0},dashTypefunction(){var e=this.srcElement.options.stroke;return e&&e.dashTypee.dashType.toLowerCase()void 0},setLineDashfunction(e){var t,n=this.dashType();n&&n!=S&&(t=x[n],e.setLineDashe.setLineDash(t)(e.mozDash=t,e.webkitLineDash=t))},setLineCapfunction(e){var t=this.dashType(),n=this.srcElement.options.stroke;t&&t!==Se.lineCap=kn&&n.lineCap&&(e.lineCap=n.lineCap)},setLineJoinfunction(e){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)},renderPointsfunction(e,t){var n,i,r,o,a,s,l=t.segments;if(0!==l.length){for(n=l[0],i=n.anchor(),e.moveTo(i.x,i.y),r=1;l.lengthr;r++)n=l[r],i=n.anchor(),o=l[r-1],a=o.controlOut(),s=n.controlIn(),a&&se.bezierCurveTo(a.x,a.y,s.x,s.y,i.x,i.y)e.lineTo(i.x,i.y);t.options.closed&&e.closePath()}}}),o=r.extend({renderPointsfunction(e){var t,n=this.srcElement.paths;for(t=0;n.lengtht;t++)r.fn.renderPoints(e,n[t])}}),a=r.extend({renderPointsfunction(e){var t=this.srcElement.geometry(),n=t.center,i=t.radius;e.arc(n.x,n.y,i,0,2Math.PI)}}),s=r.extend({renderPointsfunction(e){var t=this.srcElement.toPath();r.fn.renderPoints.call(this,e,t)}}),l=r.extend({renderTofunction(e){var t=this.srcElement,n=t.position(),i=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,this.setFill(e)&&e.fillText(t.content(),n.x,n.y+i.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+i.baseline)),e.restore()}}),c=r.extend({initfunction(t,n){var i,o;r.fn.init.call(this,t),this.onLoad=e.proxy(this.onLoad,this),this.onError=e.proxy(this.onError,this),this.loading=e.Deferred(),i=this.img=new Image,n&&!^datai.test(t.src())&&(i.crossOrigin=n),o=i.src=t.src(),i.completethis.onLoad()(i.onload=this.onLoad,i.onerror=this.onError)},renderTofunction(e){resolved===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())},optionsChangefunction(t){src===t.field(this.loading=e.Deferred(),this.img.src=this.srcElement.src())r.fn.optionsChange.call(this,t)},onLoadfunction(){this.loading.resolve(),this.invalidate()},onErrorfunction(){this.loading.reject(Error(Unable to load image '+this.img.src+'. Check for connectivity and verify CORS headers.))},drawImagefunction(e){var t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height())}}),d={GroupA,Textl,Pathr,MultiPatho,Circlea,Arcs,Imagec},h.support.canvas=function(){return!!u.createElement(canvas).getContext}(),h.support.canvas&&y.SurfaceFactory.current.register(canvas,T,20),p(h.drawing,{exportImaget,canvas{ArcNodes,CircleNodea,GroupNodeA,ImageNodec,MultiPathNodeo,NodeD,PathNoder,RootNodei,SurfaceT,TextNodel}})}(window.kendo.jQuery),function(e){function t(){if(u.namespaces&&!u.namespaces.kvml){u.namespaces.add(kvml,urnschemas-microsoft-comvml);var e=u.styleSheets.length30u.styleSheets[0]u.createStyleSheet();e.addRule(.kvml,behaviorurl(#default#VML))}}function n(e){var t=u.createElement(kvml+e);return t.className=kvml,t}function i(e){var t,n=e.length,i=[];for(t=0;nt;t++)i.push(e[t].scaleCopy(P).toString(0,,));return i.join( )}function r(e,t){var n,r,a,s,l,c=e.segments,d=c.length;if(d0){for(n=[],l=1;dl;l++)a=o(c[l-1],c[l]),a!==s&&(s=a,n.push(a)),n.push(l===ai([c[l].anchor()])i([c[l-1].controlOut(),c[l].controlIn(),c[l].anchor()]));return r=m +i([c[0].anchor()])+ +n.join( ),e.options.closed&&(r+= x),t!==!0&&(r+= e),r}}function o(e,t){return e.controlOut()&&t.controlIn()cl}function a(e){return 0===e.indexOf(fill)0===e.indexOf(F)}function s(e,t,n){var i,r=nE(t.opacity(),1);return i=el(e,t.color(),r)l(t.color(),#fff,1-r)}function l(e,t,n){var i=new x(e),r=new x(t),o=c(i.r,r.r,n),a=c(i.g,r.g,n),s=c(i.b,r.b,n);return new x(o,a,s).toHex()}function c(e,t,n){return h.round(nt+(1-n)e)}var d,u=document,h=Math,p=h.atan2,f=h.ceil,g=h.sqrt,m=window.kendo,v=m.deepExtend,_=e.noop,w=m.drawing,y=w.BaseNode,b=m.geometry,k=b.toMatrix,x=m.Color,C=m.util,S=C.isTransparent,T=C.defined,D=C.deg,A=C.round,E=C.valueOrDefault,I=none,M=.kendo,P=100,z=PP,F=gradient,R=4,B=w.Surface.extend({initfunction(e,n){w.Surface.fn.init.call(this,e,n),t(),this.element.empty(),this._root=new L,this._root.attachTo(this.element[0]),this.element.on(click+M,this._click),this.element.on(mouseover+M,this._mouseenter),this.element.on(mouseout+M,this._mouseleave)},typevml,destroyfunction(){this._root&&(this._root.destroy(),this._root=null,this.element.off(M)),w.Surface.fn.destroy.call(this)},drawfunction(e){w.Surface.fn.draw.call(this,e),this._root.load([e],void 0,null)},clearfunction(){w.Surface.fn.clear.call(this),this._root.clear()}}),H=y.extend({initfunction(e){y.fn.init.call(this,e),this.createElement(),this.attachReference()},observe_,destroyfunction(){this.element&&(this.element._kendoNode=null,this.element=null),y.fn.destroy.call(this)},clearfunction(){var e,t;for(this.element&&(this.element.innerHTML=),e=this.childNodes,t=0;e.lengtht;t++)e[t].destroy();this.childNodes=[]},removeSelffunction(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null),y.fn.removeSelf.call(this)},createElementfunction(){this.element=u.createElement(div)},attachReferencefunction(){this.element._kendoNode=this},loadfunction(e,t,n,i){var r,o,a,s,l,c;for(i=E(i,1),this.srcElement&&(i=E(this.srcElement.options.opacity,1)),r=0;e.lengthr;r++)o=e[r],a=o.children,s=o.currentTransform(n),l=iE(o.options.opacity,1),c=new at[o.nodeType](o,s,l),a&&a.length0&&c.load(a,t,s,i),T(t)this.insertAt(c,t)this.append(c),c.attachTo(this.element,t)},attachTofunction(e,t){T(t)e.insertBefore(this.element,e.children[t]null)e.appendChild(this.element)},optionsChangefunction(e){visible==e.field&&this.css(display,e.value!==!1I)},setStylefunction(){this.allCss(this.mapStyle())},mapStylefunction(){var e=[];return this.srcElement&&this.srcElement.options.visible===!1&&e.push([display,I]),e},mapOpacityTofunction(e,t){var n=E(this.opacity,1);n=E(t,1),e.push([opacity,n])},attrfunction(e,t){this.element&&(this.element[e]=t)},allAttrfunction(e){for(var t=0;e.lengtht;t++)this.attr(e[t][0],e[t][1])},cssfunction(e,t){this.element&&(this.element.style[e]=t)},allCssfunction(e){for(var t=0;e.lengtht;t++)this.css(e[t][0],e[t][1])}}),L=H.extend({createElementfunction(){H.fn.createElement.call(this),this.allCss([[width,100%],[height,100%],[position,relative],[visibility,visible]])},attachReference_}),N=m.Class.extend({initfunction(e,t){this.srcElement=e,this.observer=t,e.addObserver(this)},geometryChangefunction(){this.observer.optionsChange({fieldclip,valuethis.srcElement})},clearfunction(){this.srcElement.removeObserver(this)}}),O=H.extend({initfunction(e){H.fn.init.call(this,e),e&&this.initClip()},observefunction(){y.fn.observe.call(this)},mapStylefunction(){var e=H.fn.mapStyle.call(this);return this.srcElement&&this.srcElement.clip()&&e.push([clip,this.clipRect()]),e},optionsChangefunction(e){clip==e.field&&(this.clearClip(),this.initClip(),this.setClip()),H.fn.optionsChange.call(this,e)},clearfunction(){this.clearClip(),H.fn.clear.call(this)},initClipfunction(){this.srcElement.clip()&&(this.clip=new N(this.srcElement.clip(),this),this.clip.observer=this)},clearClipfunction(){this.clip&&(this.clip.clear(),this.clip=null,this.css(clip,this.clipRect()))},setClipfunction(){this.clip&&this.css(clip,this.clipRect())},clipRectfunction(){var e,t,n,i=d,r=this.srcElement.clip();return r&&(e=this.clipBBox(r),t=e.topLeft(),n=e.bottomRight(),i=m.format(rect({0}px {1}px {2}px {3}px),t.y,n.x,n.y,t.x)),i},clipBBoxfunction(e){var t=this.srcElement.rawBBox().topLeft(),n=e.rawBBox();return n.origin.translate(-t.x,-t.y),n}}),V=O.extend({createElementfunction(){H.fn.createElement.call(this),this.setStyle()},attachTofunction(e,t){this.css(display,I),H.fn.attachTo.call(this,e,t),this.srcElement.options.visible!==!1&&this.css(display,)},_attachTofunction(e){var t=document.createDocumentFragment();t.appendChild(this.element),e.appendChild(t)},mapStylefunction(){var e=O.fn.mapStyle.call(this);return e.push([position,absolute]),e.push([white-space,nowrap]),e},optionsChangefunction(e){transform===e.field&&this.refreshTransform(),opacity===e.field&&this.refreshOpacity(),O.fn.optionsChange.call(this,e)},refreshTransformfunction(e){var t,n=this.srcElement.currentTransform(e),i=this.childNodes,r=i.length;for(this.setClip(),t=0;rt;t++)i[t].refreshTransform(n)},currentOpacityfunction(){var e=E(this.srcElement.options.opacity,1);return this.parent&&this.parent.currentOpacity&&(e=this.parent.currentOpacity()),e},refreshOpacityfunction(){var e,t=this.childNodes,n=t.length,i=this.currentOpacity();for(e=0;ne;e++)t[e].refreshOpacity(i)},initClipfunction(){if(O.fn.initClip.call(this),this.clip){var e=this.clip.srcElement.bbox(this.srcElement.currentTransform());e&&(this.css(width,e.width()+e.origin.x),this.css(height,e.height()+e.origin.y))}},clipBBoxfunction(e){return e.bbox(this.srcElement.currentTransform())},clearClipfunction(){O.fn.clearClip.call(this)}}),U=H.extend({initfunction(e,t){this.opacity=t,H.fn.init.call(this,e)},createElementfunction(){this.element=n(stroke),this.setOpacity()},optionsChangefunction(e){0===e.field.indexOf(stroke)&&this.setStroke()},refreshOpacityfunction(e){this.opacity=e,this.setStroke()},setStrokefunction(){this.allAttr(this.mapStroke())},setOpacityfunction(){this.setStroke()},mapStrokefunction(){var e,t=this.srcElement.options.stroke,n=[];return t&&!S(t.color)&&0!==t.width(n.push([on,true]),n.push([color,t.color]),n.push([weight,(t.width1)+px]),this.mapOpacityTo(n,t.opacity),T(t.dashType)&&n.push([dashstyle,t.dashType]),T(t.lineJoin)&&n.push([joinstyle,t.lineJoin]),T(t.lineCap)&&(e=t.lineCap.toLowerCase(),butt===e&&(e=butt===eflate),n.push([endcap,e])))n.push([on,false]),n}}),W=H.extend({initfunction(e,t,n){this.opacity=n,H.fn.init.call(this,e)},createElementfunction(){this.element=n(fill),this.setFill()},optionsChangefunction(e){a(e.field)&&this.setFill()},refreshOpacityfunction(e){this.opacity=e,this.setOpacity()},setFillfunction(){this.allAttr(this.mapFill())},setOpacityfunction(){this.setFill()},attrfunction(e,t){var n,i=this.element;if(i){for(n=e.split(.);n.length1;)i=i[n.shift()];i[n[0]]=t}},mapFillfunction(){var e=this.srcElement.fill(),t=[[on,false]];return e&&(e.nodeType==Ft=this.mapGradient(e)S(e.color)(t=this.mapFillColor(e))),t},mapFillColorfunction(e){var t=[[on,true],[color,e.color]];return this.mapOpacityTo(t,e.opacity),t},mapGradientfunction(e){var t,n=this.srcElement.options,i=n.fallbackFille.fallbackFill&&e.fallbackFill();return t=e instanceof w.LinearGradientthis.mapLinearGradient(e)e instanceof w.RadialGradient&&e.supportVMLthis.mapRadialGradient(e)ithis.mapFillColor(i)[[on,false]]},mapLinearGradientfunction(e){var t=e.start(),n=e.end(),i=C.deg(p(n.y-t.y,n.x-t.x)),r=[[on,true],[type,F],[focus,0],[method,none],[angle,270-i]];return this.addColors(r),r},mapRadialGradientfunction(e){var t=this.srcElement.rawBBox(),n=e.center(),i=(n.x-t.origin.x)t.width(),r=(n.y-t.origin.y)t.height(),o=[[on,true],[type,gradienttitle],[focus,100%],[focusposition,i+ +r],[method,none]];return this.addColors(o),o},addColorsfunction(e){var t,n,i=this.srcElement.options,r=E(this.opacity,1),o=[],a=i.fill.stops,l=i.baseColor,c=this.element.colorscolors.valuecolors,d=s(l,a[0],r),u=s(l,a[a.length-1],r);for(n=0;a.lengthn;n++)t=a[n],o.push(h.round(100t.offset())+% +s(l,t,r));e.push([c,o.join(,)],[color,d],[color2,u])}}),j=H.extend({initfunction(e,t){this.transform=t,H.fn.init.call(this,e)},createElementfunction(){this.element=n(skew),this.setTransform()},optionsChangefunction(e){transform===e.field&&this.refresh(this.srcElement.currentTransform())},refreshfunction(e){this.transform=e,this.setTransform()},transformOriginfunction(){return-0.5,-0.5},setTransformfunction(){this.allAttr(this.mapTransform())},mapTransformfunction(){var e=this.transform,t=[],n=k(e);return n(n.round(R),t.push([on,true],[matrix,[n.a,n.c,n.b,n.d,0,0].join(,)],[offset,n.e+px,+n.f+px],[origin,this.transformOrigin()]))t.push([on,false]),t}}),G=O.extend({initfunction(e,t,n){this.fill=this.createFillNode(e,t,n),this.stroke=new U(e,n),this.transform=this.createTransformNode(e,t),O.fn.init.call(this,e)},attachTofunction(e,t){this.fill.attachTo(this.element),this.stroke.attachTo(this.element),this.transform.attachTo(this.element),H.fn.attachTo.call(this,e,t)},createFillNodefunction(e,t,n){return new W(e,t,n)},createTransformNodefunction(e,t){return new j(e,t)},createElementfunction(){this.element=n(shape),this.setCoordsize(),this.setStyle()},optionsChangefunction(e){a(e.field)this.fill.optionsChange(e)0===e.field.indexOf(stroke)this.stroke.optionsChange(e)transform===e.fieldthis.transform.optionsChange(e)opacity===e.field&&(this.fill.setOpacity(),this.stroke.setOpacity()),O.fn.optionsChange.call(this,e)},refreshTransformfunction(e){this.transform.refresh(this.srcElement.currentTransform(e))},refreshOpacityfunction(e){e=E(this.srcElement.options.opacity,1),this.fill.refreshOpacity(e),this.stroke.refreshOpacity(e)},mapStylefunction(e,t){var n,i=O.fn.mapStyle.call(this);return e&&t(e=t=P),i.push([position,absolute],[width,e+px],[height,t+px]),n=this.srcElement.options.cursor,n&&i.push([cursor,n]),i},setCoordsizefunction(){this.allAttr([[coordorigin,0 0],[coordsize,z+ +z]])}}),q=H.extend({createElementfunction(){this.element=n(path),this.setPathData()},geometryChangefunction(){this.setPathData()},setPathDatafunction(){this.attr(v,this.renderData())},renderDatafunction(){return r(this.srcElement)}}),$=G.extend({initfunction(e,t,n){this.pathData=this.createDataNode(e),G.fn.init.call(this,e,t,n)},attachTofunction(e,t){this.pathData.attachTo(this.element),G.fn.attachTo.call(this,e,t)},createDataNodefunction(e){return new q(e)},geometryChangefunction(){this.pathData.geometryChange(),G.fn.geometryChange.call(this)}}),Y=q.extend({renderDatafunction(){var e,t,n,i=this.srcElement.paths;if(i.length0){for(e=[],t=0;i.lengtht;t++)n=i.length-1t,e.push(r(i[t],n));return e.join( )}}}),Q=$.extend({createDataNodefunction(e){return new Y(e)}}),K=j.extend({transformOriginfunction(){var e=this.srcElement.geometry().bbox(),t=e.center(),n=-f(t.x)f(e.width()),i=-f(t.y)f(e.height());return n+,+i}}),X=G.extend({createElementfunction(){this.element=n(oval),this.setStyle()},createTransformNodefunction(e,t){return new K(e,t)},geometryChangefunction(){G.fn.geometryChange.call(this),this.setStyle(),this.refreshTransform()},mapStylefunction(){var e=this.srcElement.geometry(),t=e.radius,n=e.center,i=f(2t),r=G.fn.mapStyle.call(this,i,i);return r.push([left,f(n.x-t)+px],[top,f(n.y-t)+px]),r}}),Z=q.extend({renderDatafunction(){return r(this.srcElement.toPath())}}),J=$.extend({createDataNodefunction(e){return new Z(e)}}),et=q.extend({createElementfunction(){q.fn.createElement.call(this),this.attr(textpathok,!0)},renderDatafunction(){var e=this.srcElement.rect(),t=e.center();returnm +i([new b.Point(e.topLeft().x,t.y)])+ l +i([new b.Point(e.bottomRight().x,t.y)])}}),tt=H.extend({createElementfunction(){this.element=n(textpath),this.attr(on,!0),this.attr(fitpath,!1),this.setStyle(),this.setString()},optionsChangefunction(e){content===e.fieldthis.setString()this.setStyle(),H.fn.optionsChange.call(this,e)},mapStylefunction(){return[[font,this.srcElement.options.font]]},setStringfunction(){this.attr(string,this.srcElement.content())}}),nt=$.extend({initfunction(e,t,n){this.path=new tt(e),$.fn.init.call(this,e,t,n)},createDataNodefunction(e){return new et(e)},attachTofunction(e,t){this.path.attachTo(this.element),$.fn.attachTo.call(this,e,t)},optionsChangefunction(e){(font===e.fieldcontent===e.field)&&(this.path.optionsChange(e),this.pathData.geometryChange(e)),$.fn.optionsChange.call(this,e)}}),it=q.extend({renderDatafunction(){var e=this.srcElement.rect(),t=(new w.Path).moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();return r(t)}}),rt=j.extend({initfunction(e,t,n){this.opacity=n,j.fn.init.call(this,e,t)},createElementfunction(){this.element=n(fill),this.attr(type,frame),this.attr(rotate,!0),this.setOpacity(),this.setSrc(),this.setTransform()},optionsChangefunction(e){src===e.field&&this.setSrc(),j.fn.optionsChange.call(this,e)},geometryChangefunction(){this.refresh()},refreshOpacityfunction(e){this.opacity=e,this.setOpacity()},setOpacityfunction(){var e=[];this.mapOpacityTo(e,this.srcElement.options.opacity),this.allAttr(e)},setSrcfunction(){this.attr(src,this.srcElement.src())},mapTransformfunction(){var e,t,n,i,r,o,a,s,l=this.srcElement,c=l.rawBBox(),d=c.center(),u=P2,h=P,f=c.width()h,m=c.height()h,v=0,_=this.transform;
return _(n=k(_),i=g(n.an.a+n.bn.b),r=g(n.cn.c+n.dn.d),f=i,m=r,o=D(p(n.b,n.d)),a=D(p(-n.c,n.a)),v=(o+a)2,0!==v(s=l.bbox().center(),e=(s.x-u)h,t=(s.y-u)h)(e=(d.xi+n.e-u)h,t=(d.yr+n.f-u)h))(e=(d.x-u)h,t=(d.y-u)h),f=A(f,R),m=A(m,R),e=A(e,R),t=A(t,R),v=A(v,R),[[size,f+,+m],[position,e+,+t],[angle,v]]}}),ot=$.extend({createFillNodefunction(e,t,n){return new rt(e,t,n)},createDataNodefunction(e){return new it(e)},optionsChangefunction(e){(src===e.fieldtransform===e.field)&&this.fill.optionsChange(e),$.fn.optionsChange.call(this,e)},geometryChangefunction(){this.fill.geometryChange(),$.fn.geometryChange.call(this)},refreshTransformfunction(e){$.fn.refreshTransform.call(this,e),this.fill.refresh(this.srcElement.currentTransform(e))}}),at={GroupV,Textnt,Path$,MultiPathQ,CircleX,ArcJ,Imageot};m.support.vml=function(){var e=m.support.browser;return e.msie&&9e.version}(),d=inherit,m.support.browser.msie&&8m.support.browser.version&&(d=rect(auto auto auto auto)),m.support.vml&&w.SurfaceFactory.current.register(vml,B,30),v(w,{vml{ArcDataNodeZ,ArcNodeJ,CircleTransformNodeK,CircleNodeX,FillNodeW,GroupNodeV,ImageNodeot,ImageFillNodert,ImagePathDataNodeit,MultiPathDataNodeY,MultiPathNodeQ,NodeH,PathDataNodeq,PathNode$,RootNodeL,StrokeNodeU,SurfaceB,TextNodent,TextPathNodett,TextPathDataNodeet,TransformNodej}})}(window.kendo.jQuery),function(e,t,n){use strict;function i(n,i){function o(t){var n=new st.Group,i=t.getBoundingClientRect();return z(n,[1,0,0,1,-i.left,-i.top]),pt._clipbox=!1,pt._matrix=lt.Matrix.unit(),pt._stackingContext={elementt,groupn},e(t).addClass(k-pdf-export),tt(t,n),e(t).removeClass(k-pdf-export),n}function a(t){return null!=t(string==typeof t&&(t=kendo.template(t.replace(^s+s+$g,))),function==typeof tfunction(n){var i=t(n);return ie(i)[0]void 0}function(){return e(t).clone()[0]})void 0}function s(n,i,r,o,s,l,c){function d(){(-!=rs)&&u(y);var e=f();y.parentNode.insertBefore(e,y),e.appendChild(y),v&&w.forEach(function(e,t){var n=v({elemente,pageNumt+1,totalPagesw.length});n&&e.appendChild(n)}),setTimeout(function(){n({pagesw,containerx})},10)}function u(n){var i,o,a,l,c=b(n),d=t(k(c,padding-bottom)),h=t(k(c,border-bottom-width)),f=C;for(C+=d+h,i=!0,o=n.firstChild;o;o=o.nextSibling)if(1==o.nodeType){if(i=!1,a=e(o),a.is(r)){p(o);continue}if(!s){u(o);continue}if(!^(staticrelative)$.test(k(b(o),position)))continue;l=g(o),1==lp(o)l&&(a.data(kendoChart)^(imgtriframesvgobjectcanvasinputtextareaselectvideoh[1-6])i.test(o.tagName))p(o)u(o)}else 3==o.nodeType&&s&&(m(o,i),i=!1);C=f}function h(e){var t=e.parentNode,n=t.firstChild;if(e===n)return!0;if(e===t.children[0]){if(7==n.nodeType8==n.nodeType)return!0;if(3==n.nodeType)return!S.test(n.data)}return!1}function p(e){var t,n;return 1==e.nodeType&&e!==y&&h(e)p(e.parentNode)(t=f(),n=_.createRange(),n.setStartBefore(y),n.setEndBefore(e),t.appendChild(n.extractContents()),void y.parentNode.insertBefore(t,y))}function f(){var t=_.createElement(KENDO-PDF-PAGE);return e(t).css({displayblock,boxSizingcontent-box,widthoauto,paddingl.top+px +l.right+px +l.bottom+px +l.left+px,positionrelative,heightsauto,overflowsohiddenvisible,clearboth}),c&&c.pageClassName&&(t.className=c.pageClassName),w.push(t),t}function g(e){var t,n,i=e.getBoundingClientRect();return 0===i.width0===i.height0(t=y.getBoundingClientRect().top,n=s-C,i.heightn3i.top-tn1i.bottom-tn20)}function m(e,t){var n,i,r,o,a;S.test(e.data)&&(n=e.data.length,i=_.createRange(),i.selectNodeContents(e),r=g(i),r&&(o=e,1==rp(te.parentNodee)(!function s(t,n,r){return i.setEnd(e,n),t==nn==rng(i)s(t,t+n1,n)s(n,n+r1,r)}(0,n1,n),!S.test(+i)&&tp(e.parentNode)(o=e.splitText(i.endOffset),a=f(),i.setStartBefore(y),a.appendChild(i.extractContents()),y.parentNode.insertBefore(a,y))),m(o)))}var v=a(c.template),_=i.ownerDocument,w=[],y=e(i).clone(!0,!0)[0],x=_.createElement(KENDO-PDF-DOCUMENT),C=0;e(x).css({displayblock,positionabsolute,boxSizingcontent-box,left-10000px,top-10000px}),o&&(e(x).css({widtho,paddingLeftl.left,paddingRightl.right}),e(y).css({overflowhidden})),x.appendChild(y),i.parentNode.insertBefore(x,i),c.beforePageBreaksetTimeout(function(){c.beforePageBreak(x,d)},15)setTimeout(d,15)}i(i={});var l=e.Deferred();if(n=e(n)[0],!n)return l.reject(No element to export);if(function!=typeof window.getComputedStyle)throw Error(window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.);return kendo.pdf&&kendo.pdf.defineFont(r(n.ownerDocument)),h(n,function(){var e,t=i&&i.forcePageBreak,r=i&&i.paperSize&&auto!=i.paperSize,a=r&&kendo.pdf.getPaperOptions(function(e,t){return e in ii[e]t}),c=r&&a.paperSize[0],d=r&&a.paperSize[1],u=i.margin&&a.margin;td(u(u={left0,top0,right0,bottom0}),e=new st.Group({pdf{multiPage!0,paperSizera.paperSizeauto}}),s(function(t){if(i.progress){var n=!1,r=0;!function a(){t.pages.lengthr(e.append(o(t.pages[r])),i.progress({pageNum++r,totalPagest.pages.length,cancelfunction(){n=!0}}),nt.container.parentNode.removeChild(t.container)setTimeout(a))(t.container.parentNode.removeChild(t.container),l.resolve(e))}()}else t.pages.forEach(function(t){e.append(o(t))}),t.container.parentNode.removeChild(t.container),l.resolve(e)},n,t,cc-u.left-u.rightnull,dd-u.top-u.bottomnull,u,i))l.resolve(o(n))}),l.promise()}function r(e){function t(e){if(e){var t=null;try{t=e.cssRules}catch(n){}t&&i(e,t)}}function n(e){var t,n=k(e.style,src);return not(n).reduce(function(e,t){var n=at(t);return n&&e.push(n),e},[])(t=at(e.cssText),t[t][])}function i(e,i){var o,a,s,l,c,d,u;for(o=0;i.lengtho;++o)switch(a=i[o],a.type){case 3t(a.styleSheet);break;case 5s=a.style,l=ot(k(s,font-family)),c=^(400bold)$i.test(k(s,font-weight)),d=italic==k(s,font-style),u=n(a),u.length0&&r(e,l,c,d,u[0])}}function r(e,t,n,i,r){^[^]+.test(r)^.test(r)(r=(e.href+).replace([^]$,)+r),t.forEach(function(e){e=e.replace(^(['])(.)1$,$2),n&&(e+=bold),i&&(e+=italic),o[e]=r})}var o,a;for(null==e&&(e=document),o={},a=0;e.styleSheets.lengtha;++a)t(e.styleSheets[a]);return o}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){return e=_counter_+e,pt[e]}function s(e){var t=[],n=pt;for(e=_counter_+e;n;)o(n,e)&&t.push(n[e]),n=Object.getPrototypeOf(n);return t.reverse()}function l(e,t){var n=pt;for(e=_counter_+e;n&&!o(n,e);)n=Object.getPrototypeOf(n);n(n=pt._root),n[e]=(n[e]0)+(null==t1t)}function c(e,t){e=_counter_+e,pt[e]=null==t0t}function d(e,n,i){var r,o,a;for(r=0;e.lengthr;)o=e[r++],a=t(e[r]),isNaN(a)n(o,i)(n(o,a),++r)}function u(e,t){var n=kendo.parseColor(e);return n&&(n=n.toRGB(),tn=n.toCssRgba()0===n.a&&(n=null)),n}function h(e,t){function n(e){ht[e](ht[e]=!0,o.push(e))}function i(){--r=0&&t()}var r,o=[];!function a(e){var t,i=g(k(b(e),background-image));for(^img$i.test(e.tagName)&&n(e.src),i&&n(i),t=e.firstChild;t;t=t.nextSibling)1==t.nodeType&&a(t)}(e),r=o.length,0===r&&i(),o.forEach(function(e){var t=ht[e]=new Image;^datai.test(e)(t.crossOrigin=Anonymous),t.src=e,t.completei()(t.onload=i,t.onerror=function(){ht[e]=null,i()})})}function p(e){for(var t={1i,10x,100c,2ii,20xx,200cc,3iii,30xxx,300ccc,4iv,40xl,400cd,5v,50l,500d,6vi,60lx,600dc,7vii,70lxx,700dcc,8viii,80lxxx,800dccc,9ix,90xc,900cm,1e3m},n=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],i=;e0;)n[0]en.shift()(i+=t[n[0]],e-=n[0]);return i}function f(e){var t,i=;do t=e%26,i=String.fromCharCode(97+t)+i,e=n.floor(e26);while(e0);return i}function g(e){var t=^surl((['])(.)1)s$i.exec(e);return tt[2]void 0}function m(e,t,n){var i,r;pt=Object.create(pt),pt[e.tagName.toLowerCase()]={elemente,stylet},i=k(t,text-decoration),i&&none!=i&&(r=k(t,color),i.split(s+g).forEach(function(e){pt[e](pt[e]=r)})),y(t)&&(pt._stackingContext={elemente,groupn})}function v(){pt=Object.getPrototypeOf(pt)}function _(e){if(null!=pt._clipbox){var t=e.bbox(pt._matrix);pt._clipbox=pt._clipboxlt.Rect.intersect(pt._clipbox,t)t}}function w(){var e=pt._clipbox;return null==e!0e0===e.width()0===e.height()void 0}function y(e){function t(t){return k(e,t)}returnnone!=t(transform)static!=t(position)&&auto!=t(z-index)t(opacity)1!0void 0}function b(e,t){return window.getComputedStyle(e,tnull)}function k(e,t){return e.getPropertyValue(t)dt.webkit&&e.getPropertyValue(-webkit-+t)dt.mozilla&&e.getPropertyValue(-moz-+t)dt.opera&&e.getPropertyValue(-o-+t)dt.msie&&e.getPropertyValue(-ms-+t)}function x(e,t,n,i){e.setProperty(t,n,i),dt.webkite.setProperty(-webkit-+t,n,i)dt.mozillae.setProperty(-moz-+t,n,i)dt.operae.setProperty(-o-+t,n,i)dt.msie&&(e.setProperty(-ms-+t,n,i),t=ms+t.replace((^-)([a-z])g,function(e,t,n){return t+n.toUpperCase()}),e[t]=n)}function C(e){if(dt.msie){var t=e.getClientRects();if(2==t.length&&0==t[1].width)return t[0]}return e.getBoundingClientRect()}function S(e,n){return n=border-+n,{widtht(k(e,n+-width)),stylek(e,n+-style),coloru(k(e,n+-color),!0)}}function T(e,t){var n=e.style.cssText,i=t();return e.style.cssText=n,i}function D(e,n){var i=k(e,border-+n+-radius).split(s+g).map(t);return 1==i.length&&i.push(i[0]),B({xi[0],yi[1]})}function A(e){var t=e.getBoundingClientRect();return t=E(t,border--width,e),t=E(t,padding-,e)}function E(e,n,i){var r,o,a,s,l;returnstring==typeof n(r=b(i),o=t(k(r,n.replace(,top))),a=t(k(r,n.replace(,right))),s=t(k(r,n.replace(,bottom))),l=t(k(r,n.replace(,left))))number==typeof n&&(o=a=s=l=n),{tope.top+o,righte.right-a,bottome.bottom-s,lefte.left+l,widthe.right-e.left-a-l,heighte.bottom-e.top-s-o}}function I(e){var n,i,r=k(e,transform);returnnone==rnull(n=^smatrix(s(.)s)s$.exec(r),n(i=k(e,transform-origin),n=n[1].split(s,sg).map(t),i=i.split(s+g).map(t),{matrixn,origini})void 0)}function M(e){return 180en.PI%360}function P(e){var i=t(e);returngrad$.test(e)n.PIi200rad$.test(e)iturn$.test(e)n.PIi2deg$.test(e)n.PIi180void 0}function z(e,t){return t=new lt.Matrix(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(t),t}function F(e,t){e.clip(t)}function R(e,t,n,i){for(var r=new lt.Arc([t,n],i).curvePoints(),o=1;r.lengtho;)e.curveTo(r[o++],r[o++],r[o++])}function B(e){return(0=e.x0=e.y)&&(e.x=e.y=0),e}function H(e,t,i,r,o){var a=n.max(0,t.x),s=n.max(0,t.y),l=n.max(0,i.x),c=n.max(0,i.y),d=n.max(0,r.x),u=n.max(0,r.y),h=n.max(0,o.x),p=n.max(0,o.y),f=n.min(e.width(a+l),e.height(c+u),e.width(d+h),e.height(p+s));return 1f&&(a=f,s=f,l=f,c=f,d=f,u=f,h=f,p=f),{tl{xa,ys},tr{xl,yc},br{xd,yu},bl{xh,yp}}}function L(e,n,i){var r,o,a,s,l,c,d,u,h=b(e),p=D(h,top-left),f=D(h,top-right),g=D(h,bottom-left),m=D(h,bottom-right);return(padding==icontent==i)&&(r=S(h,top),o=S(h,right),a=S(h,bottom),s=S(h,left),p.x-=s.width,p.y-=r.width,f.x-=o.width,f.y-=r.width,m.x-=o.width,m.y-=a.width,g.x-=s.width,g.y-=a.width,content==i&&(l=t(k(h,padding-top)),c=t(k(h,padding-right)),d=t(k(h,padding-bottom)),u=t(k(h,padding-left)),p.x-=u,p.y-=l,f.x-=c,f.y-=l,m.x-=c,m.y-=d,g.x-=u,g.y-=d)),number==typeof i&&(p.x-=i,p.y-=i,f.x-=i,f.y-=i,m.x-=i,m.y-=i,g.x-=i,g.y-=i),N(n,p,f,m,g)}function N(e,t,n,i,r){var o=H(e,t,n,i,r),a=o.tl,s=o.tr,l=o.br,c=o.bl,d=new st.Path({fillnull,strokenull});return d.moveTo(e.left,e.top+a.y),a.x&&R(d,e.left+a.x,e.top+a.y,{startAngle-180,endAngle-90,radiusXa.x,radiusYa.y}),d.lineTo(e.right-s.x,e.top),s.x&&R(d,e.right-s.x,e.top+s.y,{startAngle-90,endAngle0,radiusXs.x,radiusYs.y}),d.lineTo(e.right,e.bottom-l.y),l.x&&R(d,e.right-l.x,e.bottom-l.y,{startAngle0,endAngle90,radiusXl.x,radiusYl.y}),d.lineTo(e.left+c.x,e.bottom),c.x&&R(d,e.left+c.x,e.bottom-c.y,{startAngle90,endAngle180,radiusXc.x,radiusYc.y}),d.close()}function O(e,n){var i=t(e)+;switch(n){casedecimal-leading-zeroreturn 2i.length&&(i=0+i),i;caselower-romanreturn p(e);caseupper-romanreturn p(e).toUpperCase();caselower-latincaselower-alphareturn f(e-1);caseupper-latincaseupper-alphareturn f(e-1).toUpperCase();defaultreturn i}}function V(e,t){function n(e,t,n){return n(n=n.replace(^s(['])(.)1s$,$2),s(e).map(function(e){return O(e,t)}).join(n))O(a(e)0,t)}var i,r=ot(t,^s+),o=[];return r.forEach(function(t){var r;(i=^s(['])(.)1s$.exec(t))o.push(i[2].replace(([0-9a-f]{4})gi,function(e,t){return String.fromCharCode(parseInt(t,16))}))(i=^scounter((.))s$.exec(t))(r=ot(i[1]),o.push(n(r[0],r[1])))(i=^scounters((.))s$.exec(t))(r=ot(i[1]),o.push(n(r[0],r[2],r[1])))o.push((i=^sattr((.))s$.exec(t))e.getAttribute(i[1])t)}),o.join()}function U(e){var t,n;if(e.cssText)return e.cssText;for(t=[],n=0;e.lengthn;++n)t.push(e[n]+ +k(e,e[n]));return t.join(;n)}function W(e,n){function i(n,i){var o,a=b(e,n);a.content&&normal!=a.content&&none!=a.content&&0px!=a.width&&(o=e.ownerDocument.createElement(ut),o.style.cssText=U(a),o.textContent=V(e,a.content),e.insertBefore(o,i),before!=nabsolutefixed.test(k(o.style,position))(o.style.marginLeft=t(k(o.style,margin-left))-o.offsetWidth+px),r.push(o))}if(e.tagName==ut)return void j(e,n);var r=[];i(before,e.firstChild),i(after,null),j(e,n),r.forEach(function(t){e.removeChild(t)})}function j(i,r){function o(e){var t,n,r,o,a,s;if(^td$i.test(i.tagName)&&(t=pt.table,t&&collapse==k(t.style,border-collapse))){if(n=S(t.style,left).width,r=S(t.style,top).width,0===n&&0===r)return e;if(o=t.element.getBoundingClientRect(),a=t.element.rows[0].cells[0],s=a.getBoundingClientRect(),s.top==o.tops.left==o.left)return ct.call(e).map(function(e){return{lefte.left+n,tope.top+r,righte.right+n,bottome.bottom+r,heighte.height,widthe.width}})}return e}function a(e,t,i,o,a,s,l,c){function d(t,r,o){var a=n.PI2t(t+i),s={xr.x-t,yr.y-i},l=new st.Path({fill{colore},strokenull}).moveTo(0,0);z(l,o),R(l,0,r.y,{startAngle-90,endAngle-M(a),radiusXr.x,radiusYr.y}),s.x0&&s.y0(l.lineTo(s.xn.cos(a),r.y-s.yn.sin(a)),R(l,0,r.y,{startAngle-M(a),endAngle-90,radiusXs.x,radiusYs.y,anticlockwise!0}))s.x0l.lineTo(s.x,i).lineTo(0,i)l.lineTo(s.x,i).lineTo(s.x,0),h.append(l.close())}if(!(0=i)){var u,h=new st.Group;z(h,c),r.append(h),B(s),B(l),u=new st.Path({fill{colore},strokenull}),h.append(u),u.moveTo(s.xn.max(s.x,o)0,0).lineTo(t-(l.xn.max(l.x,a)0),0).lineTo(t-n.max(l.x,a),i).lineTo(n.max(s.x,o),i).close(),s.x&&d(o,s,[-1,0,0,1,s.x,0]),l.x&&d(a,l,[1,0,0,1,t-l.x,0])}}function s(t){var n,o,a,s,c,d,u,p=new st.Group;for(F(p,N(t,W,j,Y,$)),r.append(p),A==i.tagName&&i.href&&!^#$.test(e(i).attr(href))&&(p._pdfLink={urli.href,topt.top,rightt.right,bottomt.bottom,leftt.left}),X&&(n=new st.Path({fill{colorX.toCssRgba()},strokenull}),n.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),p.append(n)),u=h.length;--u=0;)o=h[u],a=m[u]m[m.length-1],s=v[u]v[v.length-1],c=w[u]w[w.length-1],d=y[u]y[y.length-1],l(p,t,o,a,s,c,d)}function l(e,n,r,o,a,s,l){function c(e,n,r,c,d){function u(){for(;m.origin.xn.left;)m.origin.x-=r}function h(){for(;m.origin.yn.top;)m.origin.y-=c}function p(){for(;n.rightm.origin.x;)d(e,m.clone()),m.origin.x+=r}var f,g,m,v,_=rc,w=n;if(content-box==s(w=E(w,border--width,i),w=E(w,padding-,i))padding-box==s&&(w=E(w,border--width,i)),^sauto(s+auto)s$.test(l)(f=l.split(s+g),r=%$.test(f[0])w.widtht(f[0])100t(f[0]),c=1==f.lengthauto==f[1]r_%$.test(f[1])w.heightt(f[1])100t(f[1])),g=(a+).split(s+),1==g.length&&(g[1]=50%),g[0]=%$.test(g[0])t(g[0])100(w.width-r)t(g[0]),g[1]=%$.test(g[1])t(g[1])100(w.height-c)t(g[1]),m=new lt.Rect([w.left+g[0],w.top+g[1]],[r,c]),no-repeat==o)d(e,m);else if(repeat-x==o)u(),p();else if(repeat-y==o)for(h();n.bottomm.origin.y;)d(e,m.clone()),m.origin.y+=c;else if(repeat==o)for(u(),h(),v=m.origin.clone();n.bottomm.origin.y;)m.origin.x=v.x,p(),m.origin.y+=c}var d,u,h;r&&none!=r&&(^url(dataimagesvgi.test(r)(d=g(r),d(u=ht[d],u&&u.width0&&u.height0&&c(e,n,u.width,u.height,function(e,t){e.append(new st.Image(d,t))}))(h=rt(r),h&&c(e,n,n.width,n.height,G(h)))))}function c(){function e(e){T(i,function(){i.style.position=relative;var t=i.ownerDocument.createElement(ut);t.style.position=absolute,t.style.boxSizing=border-box,outside==o(t.style.width=6em,t.style.left=-6.8em,t.style.textAlign=right)t.style.left=0px,e(t),i.insertBefore(t,i.firstChild),tt(t,r),i.removeChild(t)})}function t(e){var t,n=i.parentNode.children;for(t=0;n.lengtht;++t)if(n[t]===i)return e(t,n.length)}var n,o,a=k(I,list-style-type);if(none!=a)switch(n=k(I,list-style-image),o=k(I,list-style-position),a){casecirclecasedisccasesquaree(function(e){e.style.fontSize=60%,e.style.lineHeight=200%,e.style.paddingRight=0.5em,e.style.fontFamily=DejaVu Serif,e.innerHTML={disc●,circle◯,square■}[a]});break;casedecimalcasedecimal-leading-zeroe(function(e){t(function(t){++t,decimal-leading-zero==a&&2(t+).length&&(t=0+t),e.innerHTML=t+.})});break;caselower-romancaseupper-romane(function(e){t(function(t){t=p(t+1),upper-roman==a&&(t=t.toUpperCase()),e.innerHTML=t+.})});break;caselower-latincaselower-alphacaseupper-latincaseupper-alphae(function(e){t(function(t){t=f(t),^upperi.test(a)&&(t=t.toUpperCase()),e.innerHTML=t+.})})}}function d(e,t,n){function o(e){return{xe.y,ye.x}}var l,c,d,u,h,p,f,g;if(0!==e.width&&0!==e.height&&(s(e),l=U.width0&&(t&&ltr==Kn&&rtl==K),c=O.width0&&(n&&ltr==Kt&&rtl==K),0!==P.width0!==U.width0!==O.width0!==V.width)){if(P.color==O.color&&P.color==V.color&&P.color==U.color&&P.width==O.width&&P.width==V.width&&P.width==U.width&&l&&c)return e=E(e,P.width2),d=L(i,e,P.width2),d.options.stroke={colorP.color,widthP.width},void r.append(d);if(0===W.x&&0===j.x&&0===Y.x&&0===$.x&&2P.width&&2U.width&&2O.width&&2V.width)return P.width0&&r.append(new st.Path({stroke{widthP.width,colorP.color}}).moveTo(e.left,e.top+P.width2).lineTo(e.right,e.top+P.width2)),V.width0&&r.append(new st.Path({stroke{widthV.width,colorV.color}}).moveTo(e.left,e.bottom-V.width2).lineTo(e.right,e.bottom-V.width2)),l&&r.append(new st.Path({stroke{widthU.width,colorU.color}}).moveTo(e.left+U.width2,e.top).lineTo(e.left+U.width2,e.bottom)),void(c&&r.append(new st.Path({stroke{widthO.width,colorO.color}}).moveTo(e.right-O.width2,e.top).lineTo(e.right-O.width2,e.bottom)));u=H(e,W,j,Y,$),h=u.tl,p=u.tr,f=u.br,g=u.bl,a(P.color,e.width,P.width,U.width,O.width,h,p,[1,0,0,1,e.left,e.top]),a(V.color,e.width,V.width,O.width,U.width,f,g,[-1,0,0,-1,e.right,e.bottom]),a(U.color,e.height,U.width,V.width,P.width,o(g),o(h),[0,-1,1,0,e.left,e.bottom]),a(O.color,e.height,O.width,P.width,V.width,o(p),o(f),[0,1,-1,0,e.right,e.top])}}var h,m,v,w,y,x,C,A,I=b(i),P=S(I,top),O=S(I,right),V=S(I,bottom),U=S(I,left),W=D(I,top-left),j=D(I,top-right),$=D(I,bottom-left),Y=D(I,bottom-right),K=k(I,direction),X=k(I,background-color);for(X=u(X),h=ot(k(I,background-image)),m=ot(k(I,background-repeat)),v=ot(k(I,background-position)),w=ot(k(I,background-origin)),y=ot(k(I,background-size)),dt.msie&&10dt.version&&(v=ot(i.currentStyle.backgroundPosition)),x=E(i.getBoundingClientRect(),border--width,i),function(){var e,n,i,o,a,s,l,c=k(I,clip),d=^srect((.))s$.exec(c);d&&(e=d[1].split([ ,]+g),n=auto==e[0]x.topt(e[0])+x.top,i=auto==e[1]x.rightt(e[1])+x.left,o=auto==e[2]x.bottomt(e[2])+x.top,a=auto==e[3]x.leftt(e[3])+x.left,s=new st.Group,l=(new st.Path).moveTo(a,n).lineTo(i,n).lineTo(i,o).lineTo(a,o).close(),F(s,l),r.append(s),r=s,_(l))}(),C=i.getClientRects(),1==C.length&&(C=[i.getBoundingClientRect()]),C=o(C),A=0;C.lengthA;++A)d(C[A],0===A,A==C.length-1);return C.length0&&list-item==k(I,display)&&c(C[0]),function(){function e(){var e=L(i,x,padding),t=new st.Group;F(t,e),r.append(t),r=t,_(e)}Q(i)e()^(hiddenautoscroll).test(k(I,overflow))e()^(hiddenautoscroll).test(k(I,overflow-x))e()^(hiddenautoscroll).test(k(I,overflow-y))&&e()}(),q(i,r)Z(i,r),r}function G(e){return function(i,r){{var o,a,s,l,c,d,u,h,p,f,g,m,v,_=r.width(),w=r.height();r.topLeft()}switch(e.type){caselinearswitch(o=null!=e.anglee.anglen.PI,e.to){casetopo=0;break;caselefto=-n.PI2;break;casebottomo=n.PI;break;caserighto=n.PI2;break;casetop leftcaseleft topo=-n.atan2(w,_);break;casetop rightcaseright topo=n.atan2(w,_);break;casebottom leftcaseleft bottomo=n.PI+n.atan2(w,_);break;casebottom rightcaseright bottomo=n.PI-n.atan2(w,_)}e.reverse&&(o-=n.PI),o%=2n.PI,0o&&(o+=2n.PI),a=n.abs(_n.sin(o))+n.abs(wn.cos(o)),s=n.atan(_n.tan(o)w),l=n.sin(s),c=n.cos(s),d=n.abs(l)+n.abs(c),u=d2l,h=d2c,on.PI2&&3n.PI2=o&&(u=-u,h=-h),p=[],f=0,g=e.stops.map(function(n,i){var r,o=n.percent;return oo=t(o)100n.lengtho=t(n.length)a0===io=0i==e.stops.length-1&&(o=1),r={colorn.color.toCssRgba(),offseto},null!=o(f=o,p.forEach(function(e,t){var n=e.stop;n.offset=e.left+(f-e.left)(t+1)(p.length+1)}),p=[])p.push({leftf,stopr}),r}),m=[.5-u,.5+h],v=[.5+u,.5-h],i.append(st.Path.fromRect(r).stroke(null).fill(new st.LinearGradient({startm,endv,stopsg,userSpace!1})));break;caseradialwindow.console&&window.console.log&&window.console.log(Radial gradients are not yet supported in HTML renderer)}}}function q(t,n){var i,r,o,a;return t.getAttribute(kendo.attr(role))&&(i=kendo.widgetInstance(e(t)),i&&(i.exportDOMVisuali.exportVisual))(r=i.exportDOMVisuali.exportDOMVisual()i.exportVisual())(o=new st.Group,o.children.push(r),a=t.getBoundingClientRect(),o.transform(lt.transform().translate(a.left,a.top)),n.append(o),!0)!1void 0}function $(e,t,n){var i=A(e),r=new lt.Rect([i.left,i.top],[i.width,i.height]),o=new st.Image(t,r);F(o,L(e,i,content)),n.append(o)}function Y(e,n){var i=b(e),r=b(n),o=t(k(i,z-index)),a=t(k(r,z-index)),s=k(i,position),l=k(r,position);return isNaN(o)&&isNaN(a)staticabsolute.test(s)&&staticabsolute.test(l)0static==s-1static==l10isNaN(o)0===a0a0-11isNaN(a)0===o0o01-1t(o)-t(a)}function Q(e){return^(textareaselectinput)$i.test(e.tagName)}function K(e){return e.selectedOptions&&e.selectedOptions.length0e.selectedOptions[0]e.options[e.selectedIndex]}function X(e,t){var n,i,r=e.tagName.toLowerCase(),o=e.parentNode,a=e.ownerDocument,s=a.createElement(ut);if(s.style.cssText=U(b(e)),s.style.display=inline-block,input==r&&(s.style.whiteSpace=pre),(select==rtextarea==r)&&(s.style.overflow=auto),select==r)if(e.multiple)for(i=0;e.options.lengthi;++i)n=a.createElement(ut),n.style.cssText=U(b(e.options[i])),n.style.display=block,n.textContent=e.options[i].textContent,s.appendChild(n);else n=K(e),n&&(s.textContent=n.textContent);else s.textContent=e.value;o.insertBefore(s,e),s.scrollLeft=e.scrollLeft,s.scrollTop=e.scrollTop,Z(s,t),o.removeChild(s)}function Z(e,t){var n,i,r,o,a,s,l,c,d;switch(pt._stackingContext.element===e&&(pt._stackingContext.group=t),e.tagName.toLowerCase()){caseimg$(e,e.src,t);break;casecanvastry{$(e,e.toDataURL(imagepng),t)}catch(u){}break;casetextareacaseinputcaseselectX(e,t);break;defaultfor(n=[],i=[],r=[],o=[],a=e.firstChild;a;a=a.nextSibling)switch(a.nodeType){case 3S.test(a.data)&&J(e,a,t);break;case 1s=b(a),l=k(s,display),c=k(s,float),d=k(s,position),static!=do.push(a)inline!=lnone!=ci.push(a)n.push(a)r.push(a)}n.sort(Y).forEach(function(e){tt(e,t)}),i.sort(Y).forEach(function(e){tt(e,t)}),r.sort(Y).forEach(function(e){tt(e,t)}),o.sort(Y).forEach(function(e){tt(e,t)})}}function J(e,i,r){function o(){var e,t,r,o,s,l,h,p=d,f=c.substr(d).search(S);if(d+=f,0fd=u)return!0;if(m.setStart(i,d),m.setEnd(i,d+1),e=m.getBoundingClientRect(),t=!1,_&&(f=c.substr(d).search(s),f=0&&(m.setEnd(i,d+f),r=m.getBoundingClientRect(),r.bottom==e.bottom&&(e=r,t=!0,d+=f))),!t){if(f=function g(t,n,r){m.setEnd(i,n);var o=C(m);return o.bottom!=e.bottom&&ntg(t,t+n1,n)o.right!=e.right(e=o,rng(n,n+r1,r)n)n}(d,n.min(u,d+x),u),f==d)return!0;if(d=f,f=(+m).search(s+$),0===f)return;f0&&(m.setEnd(i,m.startOffset+f),e=m.getBoundingClientRect())}if(dt.msie&&(e=m.getClientRects()[0]),o=+m,^(prepre-wrap)$i.test(y)){if(t.test(o)){for(s=0,f=p;m.startOffsetf;++f)l=c.charCodeAt(f),9==ls+=8-s%810==l13==ls=0s++;for(;(f=o.search(	))=0;)h=        .substr(0,8-(s+f)%8),o=o.substr(0,f)+h+o.substr(f+1)}}else o=o.replace(s+g, );a(o,e)}function a(e,t){var n,i,o;dt.msie&&!isNaN(p)&&(n=st.util.measureText(e,{fontf}),i=(t.top+t.bottom-n.height)2,t={topi,rightt.right,bottomi+n.height,leftt.left,heightn.height,widtht.right-t.left}),o=new it(e,new lt.Rect([t.left,t.top],[t.width,t.height]),{fontf,fill{colorg}}),r.append(o),s(t)}function s(e){function t(t,n){var i,o;t&&(i=h12,o=new st.Path({stroke{widthi,colort}}),n-=i,o.moveTo(e.left,n).lineTo(e.right,n),r.append(o))}t(pt.underline,e.bottom),t(pt[line-through],e.bottom-e.height2.7),t(pt.overline,e.top)}var l,c,d,u,h,p,f,g,m,v,_,y,x;if(!w()&&(l=b(e),!(t(k(l,text-indent))-500)&&(c=i.data,d=0,u=c.search(Ss$)+1,u&&(h=k(l,font-size),p=k(l,line-height),f=[k(l,font-style),k(l,font-variant),k(l,font-weight),h,k(l,font-family)].join( ),h=t(h),p=t(p),0!==h))))for(g=k(l,color),m=e.ownerDocument.createRange(),v=k(l,text-align),_=justify==v,y=k(l,white-space),x=e.getBoundingClientRect().widthh5,0===x&&(x=500);!o(););}function et(e,n,i){var r,o,a,s,l,c;for(auto!=i(r=pt._stackingContext.group,i=t(i))(r=n,i=0),o=r.children,a=0;o.lengtha&&!(null!=o[a]._dom_zIndex&&o[a]._dom_zIndexi);++a);return s=new st.Group,r.insertAt(s,a),s._dom_zIndex=i,r!==n&&pt._clipbox&&(l=pt._matrix.invert(),c=pt._clipbox.transformCopy(l),F(s,st.Path.fromRect(c))),s}function tt(e,n){var i,r,o,a,s,u,h,p=b(e),f=k(p,counter-reset);f&&d(ot(f,^s+),c,0),i=k(p,counter-increment),i&&d(ot(i,^s+),l,1),^(stylescriptlinkmetaiframesvgcolcolgroup)$i.test(e.tagName)null!=pt._clipbox&&(r=t(k(p,opacity)),o=k(p,visibility),a=k(p,display),0!==r&&hidden!=o&&none!=a&&(s=I(p),h=k(p,z-index),(s1r)&&auto==h&&(h=0),u=et(e,n,h),1r&&u.opacity(ru.opacity()),m(e,p,u),sT(e,function(){var t,n,i,r;x(e.style,transform,none,important),x(e.style,transition,none,important),static==k(p,position)&&x(e.style,position,relative,important),t=e.getBoundingClientRect(),n=t.left+s.origin[0],i=t.top+s.origin[1],r=[1,0,0,1,-n,-i],r=nt(r,s.matrix),r=nt(r,[1,0,0,1,n,i]),r=z(u,r),pt._matrix=pt._matrix.multiplyCopy(r),W(e,u)})W(e,u),v()))}function nt(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=t[0],c=t[1],d=t[2],u=t[3],h=t[4],p=t[5];return[nl+id,nc+iu,rl+od,rc+ou,al+sd+h,ac+su+p]}var it,rt,ot,at,st=kendo.drawing,lt=kendo.geometry,ct=Array.prototype.slice,dt=kendo.support.browser,ut=KENDO-PSEUDO-ELEMENT,ht={},pt={};pt._root=pt,it=st.Text.extend({nodeTypeText,initfunction(e,t,n){st.Text.fn.init.call(this,e,t.getOrigin(),n),this._pdfRect=t},rectfunction(){return this._pdfRect},rawBBoxfunction(){return this._pdfRect}}),st.drawDOM=i,i.getFontFaces=r,rt=function(){var e=^((-webkit--moz--o--ms-)linear-gradients)(,t=^([-0-9.]+%),n=^([-0-9.]+px),i=^(leftrighttopbottomtocenter)W,r=^([-0-9.]+(deggradradturn)),a=^(s+),s=^((),l=^()),c=^(,),d={};return function(u){function h(){var e=a.exec(u);e&&(u=u.substr(e[1].length))}function p(e){h();var t=e.exec(u);return t(u=u.substr(t[1].length),t[1])void 0}function f(){var e,i,r=kendo.parseColor(u,!0);return r(u=u.substr(r.match[0].length),r=r.toRGB(),(e=p(n))(i=p(t)),{colorr,lengthe,percenti})void 0}function g(e){var n,o,a,d,h,g,m=[],_=!1;if(p(s)){for(n=p(r),n(n=P(n),p(c))(o=p(i),to==oo=p(i)o&&^-.test(e)&&(_=!0),a=p(i),p(c)),-moz-.test(e)&&null==n&&null==o&&(d=p(t),h=p(t),_=!0,0%==do=left100%==d&&(o=right),0%==ha=top100%==h&&(a=bottom),p(c));u&&!p(l)&&(g=f());)m.push(g),p(c);return{typelinear,anglen,too&&ao+ +aooaanull,stopsm,reverse_,origv}}}var m,v=u;return o(d,v)d[v](m=p(e),m&&(m=g(m)),d[v]=m)}}(),ot=function(){var e={};return function(t,n){function i(e){return h=e.exec(t.substr(c))}function r(e){return e.replace(^s+s+$g,)}var a,s,l,c,d,u,h;if(n(n=^s,s),a=t+n,o(e,a))return e[a];for(s=[],l=0,c=0,d=0,u=!1;t.lengthc;)!u&&i(^[([{])(d++,c++)!u&&i(^[)]}])(d--,c++)!u&&i(^['])(u=h[0],c++)'==u&&i(^')c+=2''==u&&i(^)c+=2'==u&&i(^')(u=!1,c++)''==u&&i(^)(u=!1,c++)i(n)(!u&&!d&&cl&&(s.push(r(t.substring(l,c))),l=c+h[0].length),c+=h[0].length)c++;return cl&&s.push(r(t.substring(l,c))),e[a]=s}}(),at=function(){var e={};return function(t){var n,i=e[t];return i((n=url((['])([^')])1)s+format((['])truetype3).exec(t))i=e[t]=n[2](n=url((['])([^')].ttf)1).exec(t))&&(i=e[t]=n[2])),i}}()}(window.kendo.jQuery,parseFloat,Math),function(e){var t=e.noop,n=window.kendo,i=n.Class,r=n.util,o=n.animationFrame,a=n.deepExtend,s=i.extend({initfunction(e,t){var n=this;n.options=a({},n.options,t),n.element=e},options{duration500,easingswing},setupt,stept,playfunction(){var t=this,n=t.options,i=e.easing[n.easing],a=n.duration,s=n.delay0,l=r.now()+s,c=l+a;0===a(t.step(1),t.abort())setTimeout(function(){var e=function(){var n,s,d,u;t._stopped(n=r.now(),s=r.limitValue(n-l,0,a),d=sa,u=i(d,s,0,1,a),t.step(u),cno(e)t.abort())};e()},s)},abortfunction(){this._stopped=!0},destroyfunction(){this.abort()}}),l=function(){this._items=[]};l.prototype={registerfunction(e,t){this._items.push({namee,typet})},createfunction(e,t){var n,i,r,o=this._items;if(t&&t.type)for(i=t.type.toLowerCase(),r=0;o.lengthr;r++)if(o[r].name.toLowerCase()===i){n=o[r];break}return nnew n.type(e,t)void 0}},l.current=new l,s.create=function(e,t,n){return l.current.create(e,t,n)},a(n.drawing,{Animations,AnimationFactoryl})}(window.kendo.jQuery,Math),function(e){function t(t){var n,i=s.ui.validator.ruleResolvers{},r={};for(n in i)e.extend(!0,r,i[n].resolve(t));return r}function n(e){return e.replace(&ampg,&amp;).replace(&quot;g,'').replace(&#39;g,').replace(&lt;g,).replace(&gt;g,)}function i(e){return e=(e+).split(.),e.length1e[1].length0}function r(t){return e(e.parseHTMLe.parseHTML(t)t)}function o(t,n){var i,r,o,a,l=e();for(o=0,a=t.length;ao;o++)i=t[o],u.test(i.className)&&(r=i.getAttribute(s.attr(for)),r===n&&(l=l.add(i)));return l}var a,s=window.kendo,l=s.ui.Widget,c=.kendoValidator,d=k-invalid-msg,u=RegExp(d,i),h=k-invalid,p=k-valid,f=^((([a-z]d[!#$%&'+-=^_`{}~][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])+(.([a-z]d[!#$%&'+-=^_`{}~][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])+))((x22)((((x20x09)(x0dx0a))(x20x09)+)(([x01-x08x0bx0cx0e-x1fx7f]x21[x23-x5b][x5d-x7e][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(([x01-x09x0bx0cx0d-x7f][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF]))))(((x20x09)(x0dx0a))(x20x09)+)(x22)))@((([a-z]d[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(([a-z]d[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])([a-z]d-._~[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])([a-z]d[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF]))).)+(([a-z][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(([a-z][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])([a-z]d-._~[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])([a-z][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])))$i,g=^(httpsftp)(((([a-z]d-._~[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(%[da-f]{2})[!$&'()+,;=])@)(((d[1-9]d1dd2[0-4]d25[0-5]).(d[1-9]d1dd2[0-4]d25[0-5]).(d[1-9]d1dd2[0-4]d25[0-5]).(d[1-9]d1dd2[0-4]d25[0-5]))((([a-z]d[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(([a-z]d[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])([a-z]d-._~[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])([a-z]d[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF]))).)+(([a-z][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(([a-z][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])([a-z]d-._~[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])([a-z][u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF]))).)(d))(((([a-z]d-._~[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(%[da-f]{2})[!$&'()+,;=]@)+((([a-z]d-._~[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(%[da-f]{2})[!$&'()+,;=]@))))(((([a-z]d-._~[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(%[da-f]{2})[!$&'()+,;=]@)[uE000-uF8FF]))(#((([a-z]d-._~[u00A0-uD7FFuF900-uFDCFuFDF0-uFFEF])(%[da-f]{2})[!$&'()+,;=]@)))$i,m=inputnot(button,[type=submit],[type=reset],[disabled],[readonly]),v=checkboxnot([disabled],[readonly]),_=[type=number],[type=range],w=blur,y=name,b=form,k=novalidate,x=e.proxy,C=function(e,t){returnstring==typeof t&&(t=RegExp(^(+t+)$)),t.test(e)
},S=function(e,t,n){var i=e.val();return e.filter(t).length&&!==iC(i,n)!0},T=function(e,t){return e.lengthnull!=e[0].attributes[t]!1};s.ui.validator(s.ui.validator={rules{},messages{}}),a=l.extend({initfunction(n,i){var r=this,o=t(n),a=[+s.attr(validate)+!=false];i=i{},i.rules=e.extend({},s.ui.validator.rules,o.rules,i.rules),i.messages=e.extend({},s.ui.validator.messages,o.messages,i.messages),l.fn.init.call(r,n,i),r._errorTemplate=s.template(r.options.errorTemplate),r.element.is(b)&&r.element.attr(k,k),r._inputSelector=m+a,r._checkboxSelector=v+a,r._errors={},r._attachEvents(),r._isValidated=!1},events[validate,change],options{nameValidator,errorTemplate'span class=k-widget k-tooltip k-tooltip-validationspan class=k-icon k-warning span #=message#span',messages{required{0} is required,pattern{0} is not valid,min{0} should be greater than or equal to {1},max{0} should be smaller than or equal to {1},step{0} is not valid,email{0} is not valid email,url{0} is not valid URL,date{0} is not valid date,dateCompareEnd date should be greater than or equal to the start date},rules{requiredfunction(e){var t=e.filter([type=checkbox]).length&&!e.is(checked),n=e.val();return!(T(e,required)&&(===n!nt))},patternfunction(e){return e.filter([type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]).filter([pattern]).length&&!==e.val()C(e.val(),e.attr(pattern))!0},minfunction(e){if(e.filter(_+,[+s.attr(type)+=number]).filter([min]).length&&!==e.val()){var t=parseFloat(e.attr(min))0,n=s.parseFloat(e.val());return n=t}return!0},maxfunction(e){if(e.filter(_+,[+s.attr(type)+=number]).filter([max]).length&&!==e.val()){var t=parseFloat(e.attr(max))0,n=s.parseFloat(e.val());return t=n}return!0},stepfunction(e){if(e.filter(_+,[+s.attr(type)+=number]).filter([step]).length&&!==e.val()){var t,n=parseFloat(e.attr(min))0,r=parseFloat(e.attr(step))1,o=parseFloat(e.val()),a=i(r);return a(t=Math.pow(10,a),Math.floor((o-n)t)%(rt)Math.pow(100,a)===0)(o-n)%r===0}return!0},emailfunction(e){return S(e,[type=email],[+s.attr(type)+=email],f)},urlfunction(e){return S(e,[type=url],[+s.attr(type)+=url],g)},datefunction(e){return e.filter([type^=date],[+s.attr(type)+=date]).length&&!==e.val()null!==s.parseDate(e.val(),e.attr(s.attr(format)))!0}},validateOnBlur!0},destroyfunction(){l.fn.destroy.call(this),this.element.off(c)},valuefunction(){return this._isValidated0===this.errors().length!1},_submitfunction(e){return this.validate()!0(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1)},_checkElementfunction(e){var t=this.value();this.validateInput(e),this.value()!==t&&this.trigger(change)},_attachEventsfunction(){var t=this;t.element.is(b)&&t.element.on(submit+c,x(t._submit,t)),t.options.validateOnBlur&&(t.element.is(m)(t.element.on(w+c,function(){t._checkElement(t.element)}),t.element.is(v)&&t.element.on(click+c,function(){t._checkElement(t.element)}))(t.element.on(w+c,t._inputSelector,function(){t._checkElement(e(this))}),t.element.on(click+c,t._checkboxSelector,function(){t._checkElement(e(this))})))},validatefunction(){var e,t,n,i,r=!1,o=this.value();if(this._errors={},this.element.is(m))r=this.validateInput(this.element);else{for(i=!1,e=this.element.find(this._inputSelector),t=0,n=e.length;nt;t++)this.validateInput(e.eq(t))(i=!0);r=!i}return this.trigger(validate,{validr}),o!==r&&this.trigger(change),r},validateInputfunction(t){var i,o,a,l,c,u,f,g,m,v;return t=e(t),this._isValidated=!0,i=this,o=i._errorTemplate,a=i._checkValidity(t),l=a.valid,c=.+d,u=t.attr(y),f=i._findMessageContainer(u).add(t.next(c).filter(function(){var t=e(this);return t.filter([+s.attr(for)+]).lengtht.attr(s.attr(for))===u!0})).hide(),t.removeAttr(aria-invalid),ldelete i._errors[u](g=i._extractMessage(t,a.key),i._errors[u]=g,m=r(o({messagen(g)})),v=f.attr(id),i._decorateMessageContainer(m,u),v&&m.attr(id,v),f.replaceWith(m).lengthm.insertAfter(t),m.show(),t.attr(aria-invalid,!0)),t.toggleClass(h,!l),t.toggleClass(p,l),l},hideMessagesfunction(){var e=this,t=.+d,n=e.element;n.is(m)n.next(t).hide()n.find(t).hide()},_findMessageContainerfunction(t){var n,i,r,a=s.ui.validator.messageLocators,l=e();for(i=0,r=this.element.length;ri;i++)l=l.add(o(this.element[i].getElementsByTagName(),t));for(n in a)l=l.add(a[n].locate(this.element,t));return l},_decorateMessageContainerfunction(e,t){var n,i=s.ui.validator.messageLocators;e.addClass(d).attr(s.attr(for),t);for(n in i)i[n].decorate(e,t);e.attr(role,alert)},_extractMessagefunction(e,t){var n=this,i=n.options.messages[t],r=e.attr(y);return i=s.isFunction(i)i(e)i,s.format(e.attr(s.attr(t+-msg))e.attr(validationMessage)e.attr(title)i,r,e.attr(t))},_checkValidityfunction(e){var t,n=this.options.rules;for(t in n)if(!n[t].call(this,e))return{valid!1,keyt};return{valid!0}},errorsfunction(){var e,t=[],n=this._errors;for(e in n)t.push(n[e]);return t}}),s.ui.plugin(a)}(window.kendo.jQuery),function(e){function t(e,t){var n=e.x.location,i=e.y.location,r=t.x.location,o=t.y.location,a=n-r,s=i-o;return{center{x(n+r)2,y(i+o)2},distanceMath.sqrt(aa+ss)}}function n(e){var t,n,i,r=[],a=e.originalEvent,s=e.currentTarget,l=0;if(e.api)r.push({id2,evente,targete.target,currentTargete.target,locatione,typeapi});else if(e.type.match(touch))for(n=aa.changedTouches[],t=n.length;tl;l++)i=n[l],r.push({locationi,evente,targeti.target,currentTargets,idi.identifier,typetouch});else r.push(o.pointerso.msPointers{locationa,evente,targete.target,currentTargets,ida.pointerId,typepointer}{id1,evente,targete.target,currentTargets,locatione,typemouse});return r}function i(e){for(var t=r.eventMap.up.split( ),n=0,i=t.length;in;n++)e(t[n])}var r=window.kendo,o=r.support,a=window.document,s=r.Class,l=r.Observable,c=e.now,d=e.extend,u=o.mobileOS,h=u&&u.android,p=800,f=o.browser.msie50,g=press,m=hold,v=select,_=start,w=move,y=end,b=cancel,k=tap,x=release,C=gesturestart,S=gesturechange,T=gestureend,D=gesturetap,A={api0,touch0,mouse9,pointer9},E=!o.toucho.mouseAndTouchPresent,I=s.extend({initfunction(e,t){var n=this;n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=c()},movefunction(e){var t=this,n=e[page+t.axis],i=c(),r=i-t.timeStamp1;(n!h)&&(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.deltar,t.timeStamp=i)},_updateLocationDatafunction(e){var t=this,n=t.axis;t.location=e[page+n],t.client=e[client+n],t.screen=e[screen+n]}}),M=s.extend({initfunction(e,t,n){d(this,{xnew I(X,n.location),ynew I(Y,n.location),typen.type,thresholde.thresholdA[n.type],userEventse,targett,currentTargetn.currentTarget,initialTouchn.target,idn.id,pressEventn,_moved!1,_finished!1})},pressfunction(){this._holdTimeout=setTimeout(e.proxy(this,_hold),this.userEvents.minHold),this._trigger(g,this.pressEvent)},_holdfunction(){this._trigger(m,this.pressEvent)},movefunction(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(P.current&&P.current!==t.userEvents)return t.dispose();t._start(e)}t._finishedt._trigger(w,e)}},endfunction(e){var t=this;t.endTime=c(),t._finished(t._finished=!0,t._trigger(x,e),t._movedt._trigger(y,e)t._trigger(k,e),clearTimeout(t._holdTimeout),t.dispose())},disposefunction(){var t=this.userEvents,n=t.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),n.splice(e.inArray(this,n),1)},skipfunction(){this.dispose()},cancelfunction(){this.dispose()},isMovedfunction(){return this._moved},_startfunction(e){clearTimeout(this._holdTimeout),this.startTime=c(),this._moved=!0,this._trigger(_,e)},_triggerfunction(e,t){var n=this,i=t.event,r={touchn,xn.x,yn.y,targetn.target,eventi};n.userEvents.notify(e,r)&&i.preventDefault()},_withinIgnoreThresholdfunction(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(ee+tt)=this.threshold}}),P=l.extend({initfunction(t,n){var s,c,u,h=this,A=r.guid();n=n{},s=h.filter=n.filter,h.threshold=n.thresholdf,h.minHold=n.minHoldp,h.touches=[],h._maxTouches=n.multiTouch21,h.allowSelection=n.allowSelection,h.captureUpIfMoved=n.captureUpIfMoved,h.eventNS=A,t=e(t).handler(h),l.fn.init.call(h),d(h,{elementt,surfacee(n.global&&Ea.documentElementn.surfacet),stopPropagationn.stopPropagation,pressed!1}),h.surface.handler(h).on(r.applyEventMap(move,A),_move).on(r.applyEventMap(up cancel,A),_end),t.on(r.applyEventMap(down,A),s,_start),(o.pointerso.msPointers)&&t.css(-ms-touch-action,pinch-zoom double-tap-zoom),n.preventDragEvent&&t.on(r.applyEventMap(dragstart,A),r.preventDefault),t.on(r.applyEventMap(mousedown,A),s,{roott},_select),h.captureUpIfMoved&&o.eventCapture&&(c=h.surface[0],u=e.proxy(h.preventIfMoving,h),i(function(e){c.addEventListener(e,u,!0)})),h.bind([g,m,k,_,w,y,x,b,C,S,T,D,v],n)},preventIfMovingfunction(e){this._isMoved()&&e.preventDefault()},destroyfunction(){var e,t=this;t._destroyed(t._destroyed=!0,t.captureUpIfMoved&&o.eventCapture&&(e=t.surface[0],i(function(n){e.removeEventListener(n,t.preventIfMoving)})),t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData(handler),t.surface.removeData(handler),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget)},capturefunction(){P.current=this},cancelfunction(){this._disposeAll(),this.trigger(b)},notifyfunction(e,n){var i=this,r=i.touches;if(this._isMultiTouch()){switch(e){case we=S;break;case ye=T;break;case ke=D}d(n,{touchesr},t(r[0],r[1]))}return this.trigger(e,d(n,{typee}))},pressfunction(e,t,n){this._apiCall(_start,e,t,n)},movefunction(e,t){this._apiCall(_move,e,t)},endfunction(e,t){this._apiCall(_end,e,t)},_isMultiTouchfunction(){return this.touches.length1},_maxTouchesReachedfunction(){return this.touches.length=this._maxTouches},_disposeAllfunction(){for(var e=this.touches;e.length0;)e.pop().dispose()},_isMovedfunction(){return e.grep(this.touches,function(e){return e.isMoved()}).length},_selectfunction(e){(!this.allowSelectionthis.trigger(v,{evente}))&&e.preventDefault()},_startfunction(t){var i,r,o=this,a=0,s=o.filter,l=n(t),c=l.length,d=t.which;if(!(d&&d1o._maxTouchesReached()))for(P.current=null,o.currentTarget=t.currentTarget,o.stopPropagation&&t.stopPropagation();ca&&!o._maxTouchesReached();a++)r=l[a],i=se(r.currentTarget)o.element,i.length&&(r=new M(o,i,r),o.touches.push(r),r.press(),o._isMultiTouch()&&o.notify(gesturestart,{}))},_movefunction(e){this._eachTouch(move,e)},_endfunction(e){this._eachTouch(end,e)},_eachTouchfunction(e,t){var i,r,o,a,s=this,l={},c=n(t),d=s.touches;for(i=0;d.lengthi;i++)r=d[i],l[r.id]=r;for(i=0;c.lengthi;i++)o=c[i],a=l[o.id],a&&a[e](o)},_apiCallfunction(t,n,i,r){this[t]({api!0,pageXn,pageYi,clientXn,clientYi,targete(rthis.element)[0],stopPropagatione.noop,preventDefaulte.noop})}});P.defaultThreshold=function(e){f=e},P.minHold=function(e){p=e},r.getTouches=n,r.touchDelta=t,r.UserEvents=P}(window.kendo.jQuery),function(e,t){function n(t,n){try{return e.contains(t,n)t==n}catch(i){return!1}}function i(e,t){return parseInt(e.css(t),10)0}function r(e,t){return Math.min(Math.max(e,t.min),t.max)}function o(e,t){var n=x(e),r=n.left+i(e,borderLeftWidth)+i(e,paddingLeft),o=n.top+i(e,borderTopWidth)+i(e,paddingTop),a=r+e.width()-t.outerWidth(!0),s=o+e.height()-t.outerHeight(!0);return{x{minr,maxa},y{mino,maxs}}}function a(n,i,r){for(var o,a,s=0,l=i&&i.length,c=r&&r.length;n&&n.parentNode;){for(s=0;ls;s++)if(o=i[s],o.element[0]===n)return{targeto,targetElementn};for(s=0;cs;s++)if(a=r[s],e.contains(a.element[0],n)&&g.matchesSelector.call(n,a.options.filter))return{targeta,targetElementn};n=n.parentNode}return t}function s(e,t){var n,i=t.options.group,r=e[i];if(_.fn.destroy.call(t),r.length1){for(n=0;r.lengthn;n++)if(r[n]==t){r.splice(n,1);break}}else r.length=0,delete e[i]}var l,c,d,u,h,p,f=window.kendo,g=f.support,m=window.document,v=f.Class,_=f.ui.Widget,w=f.Observable,y=f.UserEvents,b=e.proxy,k=e.extend,x=f.getOffset,C={},S={},T={},D=f.elementUnderCursor,A=keyup,E=change,I=dragstart,M=hold,P=drag,z=dragend,F=dragcancel,R=hintDestroyed,B=dragenter,H=dragleave,L=drop,N=w.extend({initfunction(t,n){var i=this,r=t[0];i.capture=!1,r.addEventListener(e.each(f.eventMap.down.split( ),function(){r.addEventListener(this,b(i._press,i),!0)}),e.each(f.eventMap.up.split( ),function(){r.addEventListener(this,b(i._release,i),!0)}))(e.each(f.eventMap.down.split( ),function(){r.attachEvent(this,b(i._press,i))}),e.each(f.eventMap.up.split( ),function(){r.attachEvent(this,b(i._release,i))})),w.fn.init.call(i),i.bind([press,release],n{})},captureNextfunction(){this.capture=!0},cancelCapturefunction(){this.capture=!1},_pressfunction(e){var t=this;t.trigger(press),t.capture&&e.preventDefault()},_releasefunction(e){var t=this;t.trigger(release),t.capture&&(e.preventDefault(),t.cancelCapture())}}),O=w.extend({initfunction(t){var n=this;w.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal(n.measure=offsetWidth,n.scrollSize=scrollWidth,n.axis=x)(n.measure=offsetHeight,n.scrollSize=scrollHeight,n.axis=y)},makeVirtualfunction(){e.extend(this,{virtual!0,forcedEnabled!0,_virtualMin0,_virtualMax0})},virtualSizefunction(e,t){(this._virtualMin!==ethis._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBoundsfunction(e){return ethis.maxthis.mine},forceEnabledfunction(){this.forcedEnabled=!0},getSizefunction(){return this.container[0][this.measure]},getTotalfunction(){return this.element[0][this.scrollSize]},rescalefunction(e){this.scale=e},updatefunction(e){var t=this,n=t.virtualt._virtualMaxt.getTotal(),i=nt.scale,r=t.getSize();(0!==nt.forcedEnabled)&&(t.max=t.virtual-t._virtualMin0,t.size=r,t.total=i,t.min=Math.min(t.max,r-i),t.minScale=rn,t.centerOffset=(i-r)2,t.enabled=t.forcedEnabledir,et.trigger(E,t))}}),V=w.extend({initfunction(e){var t=this;w.fn.init.call(t),t.x=new O(k({horizontal!0},e)),t.y=new O(k({horizontal!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale100,t.bind(E,e)},rescalefunction(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinatesfunction(){return{xMath.min(0,-this.x.centerOffset),yMath.min(0,-this.y.centerOffset)}},refreshfunction(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enablede.y.enabled,e.minScale=e.forcedMinScaleMath.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(E)}}),U=w.extend({initfunction(e){var t=this;k(t,e),w.fn.init.call(t)},outOfBoundsfunction(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMovefunction(e){var t=this,n=t.dimension,i=t.axis,r=t.movable,o=r[i]+e;n.enabled&&((n.mino&&0eon.max&&e0)&&(e=t.resistance),r.translateAxis(i,e),t.trigger(E,t))}}),W=v.extend({initfunction(e){var t,n,i,r,o=this;k(o,{elastic!0},e),i=o.elastic.50,r=o.movable,o.x=t=new U({axisx,dimensiono.dimensions.x,resistancei,movabler}),o.y=n=new U({axisy,dimensiono.dimensions.y,resistancei,movabler}),o.userEvents.bind([move,end,gesturestart,gesturechange],{gesturestartfunction(e){o.gesture=e,o.offset=o.dimensions.container.offset()},gesturechangefunction(e){var i,a,s,l=o.gesture,c=l.center,d=e.center,u=e.distancel.distance,h=o.dimensions.minScale,p=o.dimensions.maxScale;h=r.scale&&1u&&(u+=.8(1-u)),r.scaleu=p&&(u=pr.scale),a=r.x+o.offset.left,s=r.y+o.offset.top,i={x(a-c.x)u+d.x-a,y(s-c.y)u+d.y-s},r.scaleWith(u),t.dragMove(i.x),n.dragMove(i.y),o.dimensions.rescale(r.scale),o.gesture=e,e.preventDefault()},movefunction(e){e.event.target.tagName.match(textareainputi)(t.dimension.enabledn.dimension.enabled(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault())e.touch.skip())},endfunction(e){e.preventDefault()}})}}),j=g.transitions.prefix+Transform;c=g.hasHW3Dfunction(e,t,n){returntranslate3d(+e+px,+t+px,0) scale(+n+)}function(e,t,n){returntranslate(+e+px,+t+px) scale(+n+)},d=w.extend({initfunction(t){var n=this;w.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin=left top,n.x=0,n.y=0,n.scale=1,n._saveCoordinates(c(n.x,n.y,n.scale))},translateAxisfunction(e,t){this[e]+=t,this.refresh()},scaleTofunction(e){this.scale=e,this.refresh()},scaleWithfunction(e){this.scale=e,this.refresh()},translatefunction(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxisfunction(e,t){this[e]=t,this.refresh()},moveTofunction(e){k(this,e),this.refresh()},refreshfunction(){var e,t=this,n=t.x,i=t.y;t.round&&(n=Math.round(n),i=Math.round(i)),e=c(n,i,t.scale),e!=t.coordinates&&(f.support.browser.msie&&10f.support.browser.version(t.element[0].style.position=absolute,t.element[0].style.left=t.x+px,t.element[0].style.top=t.y+px)t.element[0].style[j]=e,t._saveCoordinates(e),t.trigger(E))},_saveCoordinatesfunction(e){this.coordinates=e}}),u=_.extend({initfunction(e,t){var n,i=this;_.fn.init.call(i,e,t),n=i.options.group,n in SS[n].push(i)S[n]=[i]},events[B,H,L],options{nameDropTarget,groupdefault},destroyfunction(){s(S,this)},_triggerfunction(e,n){var i=this,r=C[i.options.group];return ri.trigger(e,k({},n.event,{draggabler,dropTargetn.dropTarget}))t},_overfunction(e){this._trigger(B,e)},_outfunction(e){this._trigger(H,e)},_dropfunction(e){var t=this,n=C[t.options.group];n&&(n.dropped=!t._trigger(L,e))}}),u.destroyGroup=function(e){var t,n=S[e]T[e];if(n){for(t=0;n.lengtht;t++)_.fn.destroy.call(n[t]);n.length=0,delete S[e],delete T[e]}},u._cache=S,h=u.extend({initfunction(e,t){var n,i=this;_.fn.init.call(i,e,t),n=i.options.group,n in TT[n].push(i)T[n]=[i]},destroyfunction(){s(T,this)},options{nameDropTargetArea,groupdefault,filternull}}),p=_.extend({initfunction(e,t){var n=this;_.fn.init.call(n,e,t),n._activated=!1,n.userEvents=new y(n.element,{global!0,allowSelection!0,filtern.options.filter,thresholdn.options.distance,startb(n._start,n),holdb(n._hold,n),moveb(n._drag,n),endb(n._end,n),cancelb(n._cancel,n),selectb(n._select,n)}),n._afterEndHandler=b(n._afterEnd,n),n._captureEscape=b(n._captureEscape,n)},events[M,I,P,z,F,R],options{nameDraggable,distancef.support.touch05,groupdefault,cursorOffsetnull,axisnull,containernull,filternull,ignorenull,holdToDrag!1,dropped!1},cancelHoldfunction(){this._activated=!1},_captureEscapefunction(e){var t=this;e.keyCode===f.keys.ESC&&(t._trigger(F,{evente}),t.userEvents.cancel())},_updateHintfunction(t){var n,i=this,o=i.options,a=i.boundaries,s=o.axis,l=i.options.cursorOffset;ln={leftt.x.location+l.left,topt.y.location+l.top}(i.hintOffset.left+=t.x.delta,i.hintOffset.top+=t.y.delta,n=e.extend({},i.hintOffset)),a&&(n.top=r(n.top,a.y),n.left=r(n.left,a.x)),x===sdelete n.topy===s&&delete n.left,i.hint.css(n)},_shouldIgnoreTargetfunction(t){var n=this.options.ignore;return n&&e(t).is(n)},_selectfunction(e){this._shouldIgnoreTarget(e.event.target)e.preventDefault()},_startfunction(n){var i,r=this,a=r.options,s=a.container,l=a.hint;return this._shouldIgnoreTarget(n.touch.initialTouch)a.holdToDrag&&!r._activated(r.userEvents.cancel(),t)(r.currentTarget=n.target,r.currentTargetOffset=x(r.currentTarget),l&&(r.hint&&r.hint.stop(!0,!0).remove(),r.hint=f.isFunction(l)e(l.call(r,r.currentTarget))l,i=x(r.currentTarget),r.hintOffset=i,r.hint.css({positionabsolute,zIndex2e4,lefti.left,topi.top}).appendTo(m.body),r.angular(compile,function(){r.hint.removeAttr(ng-repeat);for(var t=e(n.target);!t.data($$kendoScope)&&t.length;)t=t.parent();return{elementsr.hint.get(),scopeFromt.data($$kendoScope)}})),C[a.group]=r,r.dropped=!1,s&&(r.boundaries=o(s,r.hint)),r._trigger(I,n)&&(r.userEvents.cancel(),r._afterEnd()),r.userEvents.capture(),e(m).on(A,r._captureEscape),t)},_holdfunction(e){this.currentTarget=e.target,this._trigger(M,e)this.userEvents.cancel()this._activated=!0},_dragfunction(n){var i=this;n.preventDefault(),i._withDropTarget(n,function(i,r){if(!i)return l&&(l._trigger(H,k(n,{dropTargete(l.targetElement)})),l=null),t;if(l){if(r===l.targetElement)return;l._trigger(H,k(n,{dropTargete(l.targetElement)}))}i._trigger(B,k(n,{dropTargete(r)})),l=k(i,{targetElementr})}),i._trigger(P,k(n,{dropTargetl})),i.hint&&i._updateHint(n)},_endfunction(t){var n=this;n._withDropTarget(t,function(n,i){n&&(n._drop(k({},t,{dropTargete(i)})),l=null)}),n._trigger(z,t),n._cancel(t.event)},_cancelfunction(){var e=this;e._activated=!1,e.hint&&!e.droppedsetTimeout(function(){e.hint.stop(!0,!0).animate(e.currentTargetOffset,fast,e._afterEndHandler)},0)e._afterEnd()},_triggerfunction(e,t){var n=this;return n.trigger(e,k({},t.event,{xt.x,yt.y,currentTargetn.currentTarget,initialTargett.toucht.touch.initialTouchnull,dropTargett.dropTarget}))},_withDropTargetfunction(e,t){var i,r,o=this,s=o.options,l=S[s.group],c=T[s.group];(l&&l.lengthc&&c.length)&&(i=D(e),o.hint&&n(o.hint[0],i)&&(o.hint.hide(),i=D(e),i(i=D(e)),o.hint.show()),r=a(i,l,c),rt(r.target,r.targetElement)t())},destroyfunction(){var e=this;_.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy(),e.currentTarget=null},_afterEndfunction(){var t=this;t.hint&&t.hint.remove(),delete C[t.options.group],t.trigger(destroy),t.trigger(R),e(m).off(A,t._captureEscape)}}),f.ui.plugin(u),f.ui.plugin(h),f.ui.plugin(p),f.TapCapture=N,f.containerBoundaries=o,k(f.ui,{PaneW,PaneDimensionsV,Movabled})}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.mobile,r=n.effects,o=i.ui,a=e.proxy,s=e.extend,l=o.Widget,c=n.Class,d=n.ui.Movable,u=n.ui.Pane,h=n.ui.PaneDimensions,p=r.Transition,f=r.Animation,g=Math.abs,m=500,v=.7,_=.96,w=10,y=55,b=.5,k=5,x=km-scroller-release,C=km-scroller-refresh,S=pull,T=change,D=resize,A=scroll,E=2,I=f.extend({initfunction(e){var t=this;f.fn.init.call(t),s(t,e),t.userEvents.bind(gestureend,a(t.start,t)),t.tapCapture.bind(press,a(t.cancel,t))},enabledfunction(){return this.dimensions.minScalethis.movable.scale},donefunction(){return.01this.dimensions.minScale-this.movable.scale},tickfunction(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEndfunction(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),M=f.extend({initfunction(e){var t=this;f.fn.init.call(t),s(t,e,{transitionnew p({axise.axis,movablee.movable,onEndfunction(){t._end()}})}),t.tapCapture.bind(press,function(){t.cancel()}),t.userEvents.bind(end,a(t.start,t)),t.userEvents.bind(gestureend,a(t.start,t)),t.userEvents.bind(tap,a(t.onEnd,t))},onCancelfunction(){this.transition.cancel()},freezefunction(e){var t=this;t.cancel(),t._moveTo(e)},onEndfunction(){var e=this;e.paneAxis.outOfBounds()e._snapBack()e._end()},donefunction(){return g(this.velocity)1},startfunction(e){var t,n=this;n.dimension.enabled&&(n.paneAxis.outOfBounds()n._snapBack()(t=e.touch.id===E0e.touch[n.axis].velocity,n.velocity=Math.max(Math.min(tn.velocityMultiplier,y),-y),n.tapCapture.captureNext(),f.fn.start.call(n)))},tickfunction(){var e=this,t=e.dimension,n=e.paneAxis.outOfBounds()be.friction,i=e.velocity=n,r=e.movable[e.axis]+i;!e.elastic&&t.outOfBounds(r)&&(r=Math.max(Math.min(r,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,r)},_endfunction(){this.tapCapture.cancelCapture(),this.end()},_snapBackfunction(){var e=this,t=e.dimension,n=e.movable[e.axis]t.maxt.maxt.min;e._moveTo(n)},_moveTofunction(e){this.transition.moveTo({locatione,durationm,easep.easeOutExpo})}}),P=f.extend({initfunction(e){var t=this;n.effects.Animation.fn.init.call(this),s(t,e,{origin{},destination{},offset{}})},tickfunction(){this._updateCoordinates(),this.moveTo(this.origin)},donefunction(){return g(this.offset.y)k&&g(this.offset.x)k},onEndfunction(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinatesfunction(e,t){this.offset={},this.origin=e,this.destination=t},setCallbackfunction(e){e&&n.isFunction(e)this.callback=ee=t},_updateCoordinatesfunction(){this.offset={x(this.destination.x-this.origin.x)4,y(this.destination.y-this.origin.y)4},this.origin={ythis.origin.y+this.offset.y,xthis.origin.x+this.offset.x}}}),z=c.extend({initfunction(t){var n=this,i=x===t.axis,r=e('div class=km-touch-scrollbar km-'+(ihorizontalvertical)+'-scrollbar ');s(n,t,{elementr,elementSize0,movablenew d(r),scrollMovablet.movable,alwaysVisiblet.alwaysVisible,sizeiwidthheight}),n.scrollMovable.bind(T,a(n.refresh,n)),n.container.append(r),t.alwaysVisible&&n.show()},refreshfunction(){var e=this,t=e.axis,n=e.dimension,i=n.size,r=e.scrollMovable,o=in.total,a=Math.round(-r[t]o),s=Math.round(io);o=1this.element.css(display,none)this.element.css(display,),a+sis=i-a0a&&(s+=a,a=0),e.elementSize!=s&&(e.element.css(e.size,s+px),e.elementSize=s),e.movable.moveAxis(t,a)},showfunction(){this.element.css({opacityv,visibilityvisible})},hidefunction(){this.alwaysVisiblethis.element.css({opacity0})}}),F=l.extend({initfunction(i,r){var o,c,p,f,m,v,_,w,y,b=this;return l.fn.init.call(b,i,r),i=b.element,(b._native=b.options.useNative&&n.support.hasNativeScrolling)(i.addClass(km-native-scroller).prepend('div class=km-scroll-header'),s(b,{scrollElementi,fixedContaineri.children().first()}),t)(i.css(overflow,hidden).addClass(km-scroll-wrapper).wrapInner('div class=km-scroll-container').prepend('div class=km-scroll-header'),o=i.children().eq(1),c=new n.TapCapture(i),p=new d(o),f=new h({elemento,containeri,forcedEnabledb.options.zoom}),m=this.options.avoidScrolling,v=new n.UserEvents(i,{allowSelection!0,preventDragEvent!0,captureUpIfMoved!0,multiTouchb.options.zoom,startfunction(t){f.refresh();var n=g(t.x.velocity),i=g(t.y.velocity),r=2n=i,o=e.contains(b.fixedContainer[0],t.event.target),a=2i=n;!o&&!m(t)&&b.enabled&&(f.x.enabled&&rf.y.enabled&&a)v.capture()v.cancel()}}),_=new u({movablep,dimensionsf,userEventsv,elasticb.options.elastic}),w=new I({movablep,dimensionsf,userEventsv,tapCapturec}),y=new P({moveTofunction(e){b.scrollTo(e.x,e.y)}}),p.bind(T,function(){b.scrollTop=-p.y,b.scrollLeft=-p.x,b.trigger(A,{scrollTopb.scrollTop,scrollLeftb.scrollLeft})}),b.options.mousewheelScrolling&&i.on(DOMMouseScroll mousewheel,a(this,_wheelScroll)),s(b,{movablep,dimensionsf,zoomSnapBackw,animatedScrollery,userEventsv,pane_,tapCapturec,pulled!1,enabled!0,scrollElemento,scrollTop0,scrollLeft0,fixedContaineri.children().first()}),b._initAxis(x),b._initAxis(y),b._wheelEnd=function(){b._wheel=!1,b.userEvents.end(0,b._wheelY)},f.refresh(),b.options.pullToRefresh&&b._initPullToRefresh(),t)},_wheelScrollfunction(e){this._wheel(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=n.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()},makeVirtualfunction(){this.dimensions.y.makeVirtual()},virtualSizefunction(e,t){this.dimensions.y.virtualSize(e,t)},heightfunction(){return this.dimensions.y.size},scrollHeightfunction(){return this.scrollElement[0].scrollHeight},scrollWidthfunction(){return this.scrollElement[0].scrollWidth},options{nameScroller,zoom!1,pullOffset140,visibleScrollHints!1,elastic!0,useNative!1,mousewheelScrolling!0,avoidScrollingfunction(){return!1},pullToRefresh!1,messages{pullTemplatePull to refresh,releaseTemplateRelease to refresh,refreshTemplateRefreshing}},events[S,A,D],_resizefunction(){this._nativethis.contentResized()},setOptionsfunction(e){var t=this;l.fn.setOptions.call(t,e),e.pullToRefresh&&t._initPullToRefresh()},resetfunction(){this._nativethis.scrollElement.scrollTop(0)(this.movable.moveTo({x0,y0}),this._scale(1))},contentResizedfunction(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis(x,this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis(y,this.dimensions.y.min)},zoomOutfunction(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enablefunction(){this.enabled=!0},disablefunction(){this.enabled=!1},scrollTofunction(e,t){this._native(this.scrollElement.scrollLeft(g(e)),this.scrollElement.scrollTop(g(t)))(this.dimensions.refresh(),this.movable.moveTo({xe,yt}))},animatedScrollTofunction(e,t,n){var i,r;this._nativethis.scrollTo(e,t)(i={xthis.movable.x,ythis.movable.y},r={xe,yt},this.animatedScroller.setCoordinates(i,r),this.animatedScroller.setCallback(n),this.animatedScroller.start())},pullHandledfunction(){var e=this;e.refreshHint.removeClass(C),e.hintContainer.html(e.pullTemplate({})),e.yinertia.onEnd(),e.xinertia.onEnd(),e.userEvents.cancel()},destroyfunction(){l.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scalefunction(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefreshfunction(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=n.template(e.options.messages.pullTemplate),e.releaseTemplate=n.template(e.options.messages.releaseTemplate),e.refreshTemplate=n.template(e.options.messages.refreshTemplate),e.scrollElement.prepend('span class=km-scroller-pullspan class=km-iconspanspan class=km-loading-leftspanspan class=km-loading-rightspanspan class=km-template'+e.pullTemplate({})+spanspan),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(.km-template),e.pane.y.bind(change,a(e._paneChange,e)),e.userEvents.bind(end,a(e._dragEnd,e))},_dragEndfunction(){var e=this;e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(x).addClass(C),e.hintContainer.html(e.refreshTemplate({})),e.yinertia.freeze(e.options.pullOffset2),e.trigger(pull))},_paneChangefunction(){var e=this;e.movable.ybe.options.pullOffsete.pulled(e.pulled=!0,e.refreshHint.removeClass(C).addClass(x),e.hintContainer.html(e.releaseTemplate({})))e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(x),e.hintContainer.html(e.pullTemplate({})))},_initAxisfunction(e){var t=this,n=t.movable,i=t.dimensions[e],r=t.tapCapture,o=t.pane[e],a=new z({axise,movablen,dimensioni,containert.element,alwaysVisiblet.options.visibleScrollHints});i.bind(T,function(){a.refresh()}),o.bind(T,function(){a.show()}),t[e+inertia]=new M({axise,paneAxiso,movablen,tapCapturer,userEventst.userEvents,dimensioni,elastict.options.elastic,frictiont.options.friction_,velocityMultipliert.options.velocityMultiplierw,endfunction(){a.hide(),t.trigger(scrollEnd,{axise,scrollTopt.scrollTop,scrollLeftt.scrollLeft})}})}});o.plugin(F)}(window.kendo.jQuery),function(e,t){function n(e){return e.position().top+3}var i=window.kendo,r=i.ui.Widget,o=e.proxy,a=!1,s=.kendoGroupable,l=change,c=i.template('div class=k-group-indicator data-#=data.ns#field=${data.field} data-#=data.ns#title=${data.title  } data-#=data.ns#dir=${data.dir  asc}a href=# class=k-linkspan class=k-icon k-si-arrow-${(data.dir  asc) == asc  n  s}(sorted ${(data.dir  asc) == asc  ascending descending})span${data.title  data.title data.field}aa class=k-button k-button-icon k-button-barespan class=k-icon k-group-deletespanadiv',{useWithBlock!1}),d=function(t){return e('div class=k-header k-drag-clue ').css({widtht.width(),paddingLeftt.css(paddingLeft),paddingRightt.css(paddingRight),lineHeightt.height()+px,paddingTopt.css(paddingTop),paddingBottomt.css(paddingBottom)}).html(t.attr(i.attr(title))t.attr(i.attr(field))).prepend('span class=k-icon k-drag-status k-denied ')
},u=e('div class=k-grouping-dropclue'),h=r.extend({initfunction(c,h){var p,f,g=this,m=i.guid(),v=o(g._intializePositions,g),_=g._dropCuePositions=[];r.fn.init.call(g,c,h),a=i.support.isRtl(c),f=arightleft,g.draggable=p=g.options.draggablenew i.ui.Draggable(g.element,{filterg.options.draggableElements,hintd,groupm}),g.groupContainer=e(g.options.groupContainer,g.element).kendoDropTarget({groupp.options.group,dragenterfunction(e){g._canDrag(e.draggable.currentTarget)&&(e.draggable.hint.find(.k-drag-status).removeClass(k-denied).addClass(k-add),u.css(top,n(g.groupContainer)).css(f,0).appendTo(g.groupContainer))},dragleavefunction(e){e.draggable.hint.find(.k-drag-status).removeClass(k-add).addClass(k-denied),u.remove()},dropfunction(t){var n,r=t.draggable.currentTarget,o=r.attr(i.attr(field)),s=r.attr(i.attr(title)),l=g.indicator(o),c=g._dropCuePositions,d=c[c.length-1];(r.hasClass(k-group-indicator)g._canDrag(r))&&(d(n=g._dropCuePosition(i.getOffset(u).left+parseInt(d.element.css(marginLeft),10)(a-11)+parseInt(d.element.css(marginRight),10)),n&&g._canDrop(e(l),n.element,n.left)&&(n.beforen.element.before(lg.buildIndicator(o,s))n.element.after(lg.buildIndicator(o,s)),g._change()))(g.groupContainer.append(g.buildIndicator(o,s)),g._change()))}}).kendoDraggable({filterdiv.k-group-indicator,hintd,groupp.options.group,dragcancelo(g._dragCancel,g),dragstartfunction(e){var t=e.currentTarget,i=parseInt(t.css(marginLeft),10),r=t.position(),o=ar.left-ir.left+t.outerWidth();v(),u.css({topn(g.groupContainer),lefto}).appendTo(g.groupContainer),this.hint.find(.k-drag-status).removeClass(k-denied).addClass(k-add)},dragendfunction(){g._dragEnd(this)},drago(g._drag,g)}).on(click+s,.k-button,function(t){t.preventDefault(),g._removeIndicator(e(this).parent())}).on(click+s,.k-link,function(t){var n=e(this).parent(),r=g.buildIndicator(n.attr(i.attr(field)),n.attr(i.attr(title)),asc==n.attr(i.attr(dir))descasc);n.before(r).remove(),g._change(),t.preventDefault()}),p.bind([dragend,dragcancel,dragstart,drag],{dragendfunction(){g._dragEnd(this)},dragcancelo(g._dragCancel,g),dragstartfunction(e){var n,i,r;return g.options.allowDragg._canDrag(e.currentTarget)(v(),_.length(n=_[_.length-1].element,i=parseInt(n.css(marginRight),10),r=n.position().left+n.outerWidth()+i)r=0,t)(e.preventDefault(),t)},drago(g._drag,g)}),g.dataSource=g.options.dataSource,g.dataSource&&g._refreshHandlerg.dataSource.unbind(l,g._refreshHandler)g._refreshHandler=o(g.refresh,g),g.dataSource&&(g.dataSource.bind(change,g._refreshHandler),g.refresh())},refreshfunction(){var t=this,n=t.dataSource;t.groupContainer&&t.groupContainer.empty().append(e.map(n.group()[],function(n){var r=n.field,o=i.attr(field),a=t.element.find(t.options.filter).filter(function(){return e(this).attr(o)===r});return t.buildIndicator(n.field,a.attr(i.attr(title)),n.dir)}).join()),t._invalidateGroupContainer()},destroyfunction(){var e=this;r.fn.destroy.call(e),e.groupContainer.off(s),e.groupContainer.data(kendoDropTarget)&&e.groupContainer.data(kendoDropTarget).destroy(),e.groupContainer.data(kendoDraggable)&&e.groupContainer.data(kendoDraggable).destroy(),e.options.draggablee.draggable.destroy(),e.dataSource&&e._refreshHandler&&(e.dataSource.unbind(change,e._refreshHandler),e._refreshHandler=null),e.groupContainer=e.element=e.draggable=null},options{nameGroupable,filterth,draggableElementsth,messages{emptyDrag a column header and drop it here to group by that column}},indicatorfunction(t){var n=e(.k-group-indicator,this.groupContainer);return e.grep(n,function(n){return e(n).attr(i.attr(field))===t})[0]},buildIndicatorfunction(e,t,n){return c({fielde.replace(g,'),dirn,titlet,nsi.ns})},descriptorsfunction(){var t,n,r,o,a,s=this,l=e(.k-group-indicator,s.groupContainer);return t=s.element.find(s.options.filter).map(function(){var t=e(this),r=t.attr(i.attr(aggregates)),s=t.attr(i.attr(field));if(r&&!==r)for(n=r.split(,),r=[],o=0,a=n.length;ao;o++)r.push({fields,aggregaten[o]});return r}).toArray(),e.map(l,function(n){return n=e(n),r=n.attr(i.attr(field)),{fieldr,dirn.attr(i.attr(dir)),aggregatest[]}})},_removeIndicatorfunction(e){var t=this;e.remove(),t._invalidateGroupContainer(),t._change()},_changefunction(){var e=this;e.dataSource&&e.dataSource.group(e.descriptors())},_dropCuePositionfunction(t){var n,i,r,o,s,l=this._dropCuePositions;if(u.is(visible)&&0!==l.length)return t=Math.ceil(t),n=l[l.length-1],i=n.left,r=n.right,o=parseInt(n.element.css(marginLeft),10),s=parseInt(n.element.css(marginRight),10),t=r&&!ait&&at={leftn.element.position().left+(a-on.element.outerWidth()+s),elementn.element,before!1}(t=e.grep(l,function(e){return t=e.left&&e.right=ta&&te.right})[0],t&&(t={leftat.element.position().left+t.element.outerWidth()+st.element.position().left-o,elementt.element,before!0})),t},_dragfunction(e){var t=this._dropCuePosition(e.x.location);t&&u.css({leftt.left,rightauto})},_canDragfunction(e){var t=e.attr(i.attr(field));returnfalse!=e.attr(i.attr(groupable))&&t&&(e.hasClass(k-group-indicator)!this.indicator(t))},_canDropfunction(e,t,n){var i=e.next(),r=e[0]!==t[0]&&(!i[0]t[0]!==i[0]!a&&ni.position().lefta&&ni.position().left);return r},_dragEndfunction(t){var n=this,r=t.currentTarget.attr(i.attr(field)),o=n.indicator(r);t!==n.options.draggable&&!t.dropped&&o&&n._removeIndicator(e(o)),n._dragCancel()},_dragCancelfunction(){u.remove(),this._dropCuePositions=[]},_intializePositionsfunction(){var t,n=this,r=e(.k-group-indicator,n.groupContainer);n._dropCuePositions=e.map(r,function(n){return n=e(n),t=i.getOffset(n).left,{leftparseInt(t,10),rightparseInt(t+n.outerWidth(),10),elementn}})},_invalidateGroupContainerfunction(){var e=this.groupContainer;e&&e.is(empty)&&e.html(this.options.messages.empty)}});i.ui.plugin(h)}(window.kendo.jQuery),function(e){function t(t,n){t=e(t),nt.find(.k-drag-status).removeClass(k-add).addClass(k-denied)t.find(.k-drag-status).removeClass(k-denied).addClass(k-add)}var n=window.kendo,i=n.getOffset,r=n.ui.Widget,o=change,a=k-reorderable,s=r.extend({initfunction(s,l){var c,d=this,u=n.guid()+-reorderable;r.fn.init.call(d,s,l),s=d.element.addClass(a),l=d.options,d.draggable=c=l.draggablenew n.ui.Draggable(s,{groupu,filterl.filter,hintl.hint}),d.reorderDropCue=e('div class=k-reorder-cuediv class=k-icon k-i-arrow-sdivdiv class=k-icon k-i-arrow-ndivdiv'),s.find(c.options.filter).kendoDropTarget({groupc.options.group,dragenterfunction(e){var n,r,o,a;d._draggable&&(n=this.element,o=!d._dropTargetAllowed(n)d._isLastDraggable(),t(e.draggable.hint,o),o(r=i(n),a=r.left,l.inSameContainer&&!l.inSameContainer({sourcen,targetd._draggable,sourceIndexd._index(n),targetIndexd._index(d._draggable)})d._dropTarget=nd._index(n)d._index(d._draggable)&&(a+=n.outerWidth()),d.reorderDropCue.css({heightn.outerHeight(),topr.top,lefta}).appendTo(document.body)))},dragleavefunction(e){t(e.draggable.hint,!0),d.reorderDropCue.remove(),d._dropTarget=null},dropfunction(){var e,t,n;d._dropTarget=null,d._draggable&&(e=this.element,t=d._draggable,n=!1,d._dropTargetAllowed(e)&&!d._isLastDraggable()&&d.trigger(o,{elementd._draggable,targete,oldIndexd._index(t),newIndexd._index(e),positioni(d.reorderDropCue).lefti(e).leftafterbefore}))}}),c.bind([dragcancel,dragend,dragstart,drag],{dragcancelfunction(){d.reorderDropCue.remove(),d._draggable=null,d._elements=null},dragendfunction(){d.reorderDropCue.remove(),d._draggable=null,d._elements=null},dragstartfunction(e){d._draggable=e.currentTarget,d._elements=d.element.find(d.draggable.options.filter)},dragfunction(e){var t,n;d._dropTarget&&!this.hint.find(.k-drag-status).hasClass(k-denied)&&(t=i(d._dropTarget).left,n=d._dropTarget.outerWidth(),d.reorderDropCue.css(e.pageXt+n2{leftt+n}{leftt}))}})},options{nameReorderable,filter},events[o],_isLastDraggablefunction(){var e,t=this.options.inSameContainer,n=this._draggable[0],i=this._elements.get(),r=!1;if(!t)return!1;for(;!r&&i.length0;)e=i.pop(),r=n!==e&&t({sourcen,targete,sourceIndexthis._index(n),targetIndexthis._index(e)});return!r},_dropTargetAllowedfunction(e){var t=this.options.inSameContainer,n=this.options.dragOverContainers,i=this._draggable;return i[0]===e[0]!1t&&nt({sourcei,targete,sourceIndexthis._index(i),targetIndexthis._index(e)})!0n(this._index(i),this._index(e))!0},_indexfunction(e){return this._elements.index(e)},destroyfunction(){var t=this;r.fn.destroy.call(t),t.element.find(t.draggable.options.filter).each(function(){var t=e(this);t.data(kendoDropTarget)&&t.data(kendoDropTarget).destroy()}),t.draggable&&(t.draggable.destroy(),t.draggable.element=t.draggable=null),t.elements=t.reorderDropCue=t._elements=t._draggable=null}});n.ui.plugin(s)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui,r=i.Widget,o=e.proxy,a=n.isFunction,s=e.extend,l=horizontal,c=vertical,d=start,u=resize,h=resizeend,p=r.extend({initfunction(e,t){var n=this;r.fn.init.call(n,e,t),n.orientation=n.options.orientation.toLowerCase()!=clc,n._positionMouse=n.orientation==lxy,n._position=n.orientation==llefttop,n._sizingDom=n.orientation==louterWidthouterHeight,n.draggable=new i.Draggable(e,{distance1,filtert.handle,drago(n._resize,n),dragcancelo(n._cancel,n),dragstarto(n._start,n),dragendo(n._stop,n)}),n.userEvents=n.draggable.userEvents},events[u,h,d],options{nameResizable,orientationl},resizefunction(){},_maxfunction(e){var n=this,i=n.hintn.hint[n._sizingDom]()0,r=n.options.max;return a(r)r(e)r!==tn._initialElementPosition+r-ir},_minfunction(e){var n=this,i=n.options.min;return a(i)i(e)i!==tn._initialElementPosition+ii},_startfunction(t){var n=this,i=n.options.hint,r=e(t.currentTarget);n._initialElementPosition=r.position()[n._position],n._initialMousePosition=t[n._positionMouse].startLocation,i&&(n.hint=a(i)e(i(r))i,n.hint.css({positionabsolute}).css(n._position,n._initialElementPosition).appendTo(n.element)),n.trigger(d,t),n._maxPosition=n._max(t),n._minPosition=n._min(t),e(document.body).css(cursor,r.css(cursor))},_resizefunction(e){var n,i=this,r=i._maxPosition,o=i._minPosition,a=i._initialElementPosition+(e[i._positionMouse].location-i._initialMousePosition);n=o!==tMath.max(o,a)a,i.position=n=r!==tMath.min(r,n)n,i.hint&&i.hint.toggleClass(i.options.invalidClass,n==rn==o).css(i._position,n),i.resizing=!0,i.trigger(u,s(e,{positionn}))},_stopfunction(t){var n=this;n.hint&&n.hint.remove(),n.resizing=!1,n.trigger(h,s(t,{positionn.position})),e(document.body).css(cursor,)},_cancelfunction(e){var n=this;n.hint&&(n.position=t,n.hint.css(n._position,n._initialElementPosition),n._stop(e))},destroyfunction(){var e=this;r.fn.destroy.call(e),e.draggable&&e.draggable.destroy()},pressfunction(e){if(e){var t=e.position(),n=this;n.userEvents.press(t.left,t.top,e[0]),n.targetPosition=t,n.target=e}},movefunction(e){var n=this,i=n._position,r=n.targetPosition,o=n.position;o===t&&(o=r[i]),r[i]=o+e,n.userEvents.move(r.left,r.top)},endfunction(){this.userEvents.end(),this.target=this.position=t}});n.ui.plugin(p)}(window.kendo.jQuery),function(e,t){function n(t,n){try{return e.contains(t,n)t==n}catch(i){return!1}}function i(e){return e.clone()}function r(e){return e.clone().removeAttr(id).css(visibility,hidden)}var o=window.kendo,a=o.ui.Widget,s=start,l=beforeMove,c=move,d=end,u=change,h=cancel,p=sort,f=remove,g=receive,m=,v=-1,_=a.extend({initfunction(e,t){var n=this;a.fn.init.call(n,e,t),n.options.placeholder(n.options.placeholder=r),n.options.hint(n.options.hint=i),n._draggable=n._createDraggable()},events[s,l,c,d,u,h],options{nameSortable,hintnull,placeholdernull,filterm,holdToDrag!1,disablednull,containernull,connectWithnull,handlernull,cursorOffsetnull,axisnull,ignorenull,cursorauto},destroyfunction(){this._draggable.destroy(),a.fn.destroy.call(this)},_createDraggablefunction(){var t=this,n=t.element,i=t.options;return new o.ui.Draggable(n,{filteri.filter,hinto.isFunction(i.hint)i.hinte(i.hint),holdToDragi.holdToDrag,containeri.containere(i.container)null,cursorOffseti.cursorOffset,axisi.axis,ignorei.ignore,dragstarte.proxy(t._dragstart,t),dragcancele.proxy(t._dragcancel,t),drage.proxy(t._drag,t),dragende.proxy(t._dragend,t)})},_dragstartfunction(t){var n=this.draggedElement=t.currentTarget,i=(t.targeto.elementUnderCursor(t),this.options.disabled),r=this.options.handler,a=this.options.placeholder,l=this.placeholder=e(o.isFunction(a)a.call(this,n)a);i&&n.is(i)t.preventDefault()r&&!e(t.initialTarget).is(r)t.preventDefault()this.trigger(s,{itemn,draggableEventt})t.preventDefault()(n.css(display,none),n.before(l),this._setCursor())},_dragcancelfunction(){this._cancel(),this.trigger(h,{itemthis.draggedElement}),this._resetCursor()},_dragfunction(n){var i,r,o,a,s,l=this.draggedElement,c=this._findTarget(n),d={leftn.x.location,topn.y.location},u={xn.x.delta,yn.y.delta},h=this.options.axis,p={iteml,listthis,draggableEventn};if(x===hy===h)return this._movementByAxis(h,d,u[h],p),t;if(c){if(i=this._getElementCenter(c.element),r={leftMath.round(d.left-i.left),topMath.round(d.top-i.top)},e.extend(p,{targetc.element}),c.appendToBottom)return this._movePlaceholder(c,null,p),t;if(c.appendAfterHidden&&this._movePlaceholder(c,next,p),this._isFloating(c.element)0u.x&&0r.lefto=prevu.x0&&r.left0&&(o=next)0u.y&&0r.topo=prevu.y0&&r.top0&&(o=next),o){for(s=prev===ojQuery.fn.prevjQuery.fn.next,a=s.call(c.element);a.length&&!a.is(visible);)a=s.call(a);a[0]!=this.placeholder[0]&&this._movePlaceholder(c,o,p)}}},_dragendfunction(n){var i,r,o,a,s=this.placeholder,l=this.draggedElement,c=this.indexOf(l),h=this.indexOf(s),m=this.options.connectWith;return this._resetCursor(),o={actionp,iteml,oldIndexc,newIndexh,draggableEventn},h=0r=this.trigger(d,o)(i=s.parents(m).getKendoSortable(),o.action=f,a=e.extend({},o,{actiong,oldIndexv,newIndexi.indexOf(s)}),r=!(!this.trigger(d,o)&&!i.trigger(d,a))),rh===c(this._cancel(),t)(s.replaceWith(l),l.show(),this._draggable.dropped=!0,o={actionthis.indexOf(l)!=vpf,iteml,oldIndexc,newIndexthis.indexOf(l),draggableEventn},this.trigger(u,o),i&&(a=e.extend({},o,{actiong,oldIndexv,newIndexi.indexOf(l)}),i.trigger(u,a)),t)},_findTargetfunction(n){var i,r,o=this._findElementUnderCursor(n),a=this.options.connectWith;return e.contains(this.element[0],o)(i=this.items(),r=i.filter(o)[0]i.has(o)[0],r{elemente(r),sortablethis}null)this.element[0]==o&&this._isEmpty(){elementthis.element,sortablethis,appendToBottom!0}this.element[0]==o&&this._isLastHidden()(r=this.items().eq(0),{elementr,sortablethis,appendAfterHidden!0})athis._searchConnectedTargets(o,n)t},_findElementUnderCursorfunction(e){{var t=o.elementUnderCursor(e),i=e.sender;this.items()}return n(i.hint[0],t)&&(i.hint.hide(),t=o.elementUnderCursor(e),t(t=o.elementUnderCursor(e)),i.hint.show()),t},_searchConnectedTargetsfunction(t,n){var i,r,o,a,s=e(this.options.connectWith);for(a=0;s.lengtha;a++)if(i=s.eq(a).getKendoSortable(),e.contains(s[a],t)){if(i)return r=i.items(),o=r.filter(t)[0]r.has(t)[0],o(i.placeholder=this.placeholder,{elemente(o),sortablei})null}else if(s[a]==t){if(i&&i._isEmpty())return{elements.eq(a),sortablei,appendToBottom!0};if(this._isCursorAfterLast(i,n))return o=i.items().last(),{elemento,sortablei}}},_isCursorAfterLastfunction(e,t){var n,i,r=e.items().last(),a={leftt.x.location,topt.y.location};return n=o.getOffset(r),n.top+=r.outerHeight(),n.left+=r.outerWidth(),i=this._isFloating(r)n.left-a.leftn.top-a.top,0i!0!1},_movementByAxisfunction(t,n,i,r){var o,a=x===tn.leftn.top,s=0ithis.placeholder.prev()this.placeholder.next();s.length&&!s.is(visible)&&(s=0is.prev()s.next()),e.extend(r,{targets}),o=this._getElementCenter(s),o&&(o=x===to.lefto.top),s.length&&0i&&0a-othis._movePlaceholder({elements,sortablethis},prev,r)s.length&&i0&&a-o0&&this._movePlaceholder({elements,sortablethis},next,r)},_movePlaceholderfunction(e,t,n){var i=this.placeholder;e.sortable.trigger(l,n)(tprev===te.element.before(i)next===t&&e.element.after(i)e.element.append(i),e.sortable.trigger(c,n))},_setCursorfunction(){var t,n=this.options.cursor;n&&auto!==n&&(t=e(document.body),this._originalCursorType=t.css(cursor),t.css({cursorn}),this._cursorStylesheet(this._cursorStylesheet=e(style { cursor +n+ !important; }style)),this._cursorStylesheet.appendTo(t))},_resetCursorfunction(){this._originalCursorType&&(e(document.body).css(cursor,this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenterfunction(e){var t=e.lengtho.getOffset(e)null;return t&&(t.top+=e.outerHeight()2,t.left+=e.outerWidth()2),t},_isFloatingfunction(e){returnleftright.test(e.css(float))inlinetable-cell.test(e.css(display))},_cancelfunction(){this.draggedElement.show(),this.placeholder.remove()},_itemsfunction(){var e,t=this.options.filter;return e=tthis.element.find(t)this.element.children()},indexOffunction(e){var t=this._items(),n=this.placeholder,i=this.draggedElement;return n&&e[0]==n[0]t.not(i).index(e)t.not(n).index(e)},itemsfunction(){var e=this.placeholder,t=this._items();return e&&(t=t.not(e)),t},_isEmptyfunction(){return!this.items().length},_isLastHiddenfunction(){return 1===this.items().length&&this.items().is(hidden)}});o.ui.plugin(_)}(window.kendo.jQuery),function(e,t){function n(e,t){if(!e.is(visible))return!1;var n=r.getOffset(e),i=t.left+t.width,o=t.top+t.height;return n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(n.leftit.leftn.rightn.topot.topn.bottom)}var i,r=window.kendo,o=r.ui.Widget,a=e.proxy,s=Math.abs,l=aria-selected,c=k-state-selected,d=k-state-selecting,u=k-selectable,h=change,p=.kendoSelectable,f=k-state-unselecting,g=input,a,textarea,.k-multiselect-wrap,select,button,a.k-button.k-icon,button.k-button.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse,m=r.support.browser.msie,v=!1;!function(e){!function(){e('div class=parentspan div').on(click,,function(){v=!0}).find(span).click().end().off()}()}(e),i=o.extend({initfunction(t,n){var i,s=this;o.fn.init.call(s,t,n),s._marquee=e(div class='k-marquee'div class='k-marquee-color'divdiv),s._lastActive=null,s.element.addClass(u),s.relatedTarget=s.options.relatedTarget,i=s.options.multiple,this.options.aria&&i&&s.element.attr(aria-multiselectable,!0),s.userEvents=new r.UserEvents(s.element,{global!0,allowSelection!0,filter(v.+u+ )+s.options.filter,tapa(s._tap,s)}),i&&s.userEvents.bind(start,a(s._start,s)).bind(move,a(s._move,s)).bind(end,a(s._end,s)).bind(select,a(s._select,s))},events[h],options{nameSelectable,filter,multiple!1,relatedTargete.noop},_isElementfunction(e){var t,n=this.element,i=n.length,r=!1;for(e=e[0],t=0;it;t++)if(n[t]===e){r=!0;break}return r},_tapfunction(t){var n,i=e(t.target),r=this,o=t.event.ctrlKeyt.event.metaKey,a=r.options.multiple,s=a&&t.event.shiftKey,l=t.event.which,d=t.event.button;!r._isElement(i.closest(.+u))l&&3==ld&&2==dthis._allowSelection(t.event.target)&&(n=i.hasClass(c),a&&or.clear(),i=i.add(r.relatedTarget(i)),sr.selectRange(r._firstSelectee(),i)(n&&o(r._unselect(i),r._notify(h))r.value(i),r._lastActive=r._downTarget=i))},_startfunction(n){var i,r=this,o=e(n.target),a=o.hasClass(c),s=n.event.ctrlKeyn.event.metaKey;if(this._allowSelection(n.event.target)){if(r._downTarget=o,!r._isElement(o.closest(.+u)))return r.userEvents.cancel(),t;r.options.useAllItemsr._items=r.element.find(r.options.filter)(i=o.closest(r.element),r._items=i.find(r.options.filter)),n.sender.capture(),r._marquee.appendTo(document.body).css({leftn.x.client+1,topn.y.client+1,width0,height0}),sr.clear(),o=o.add(r.relatedTarget(o)),a&&(r._selectElement(o,!0),s&&o.addClass(f))}},_movefunction(e){var t=this,n={lefte.x.startLocatione.x.locatione.x.locatione.x.startLocation,tope.y.startLocatione.y.locatione.y.locatione.y.startLocation,widths(e.x.initialDelta),heights(e.y.initialDelta)};t._marquee.css(n),t._invalidateSelectables(n,e.event.ctrlKeye.event.metaKey),e.preventDefault()},_endfunction(){var e,t=this;t._marquee.remove(),t._unselect(t.element.find(t.options.filter+.+f)).removeClass(f),e=t.element.find(t.options.filter+.+d),e=e.add(t.relatedTarget(e)),t.value(e),t._lastActive=t._downTarget,t._items=null},_invalidateSelectablesfunction(e,t){var i,r,o,a,s=this._downTarget[0],l=this._items;for(i=0,r=l.length;ri;i++)a=l.eq(i),o=a.add(this.relatedTarget(a)),n(a,e)a.hasClass(c)t&&s!==a[0]&&o.removeClass(c).addClass(f)a.hasClass(d)a.hasClass(f)o.addClass(d)a.hasClass(d)o.removeClass(d)t&&a.hasClass(f)&&o.removeClass(f).addClass(c)},valuefunction(e){var n=this,i=a(n._selectElement,n);return e(e.each(function(){i(this)}),n._notify(h),t)n.element.find(n.options.filter+.+c)},_firstSelecteefunction(){var e,t=this;return null!==t._lastActivet._lastActive(e=t.value(),e.length0e[0]t.element.find(t.options.filter)[0])},_selectElementfunction(t,n){var i=e(t),r=!n&&this._notify(select,{elementt});i.removeClass(d),r(i.addClass(c),this.options.aria&&i.attr(l,!0))},_notifyfunction(e,t){return t=t{},this.trigger(e,t)},_unselectfunction(e){return e.removeClass(c),this.options.aria&&e.attr(l,!1),e},_selectfunction(t){this._allowSelection(t.event.target)&&(!mm&&!e(r._activeElement()).is(g))&&t.preventDefault()},_allowSelectionfunction(t){return e(t).is(g)(this.userEvents.cancel(),this._downTarget=null,!1)!0},resetTouchEventsfunction(){this.userEvents.cancel()},clearfunction(){var e=this.element.find(this.options.filter+.+c);this._unselect(e)},selectRangefunction(t,n){var i,r,o,a=this;for(a.clear(),a.element.length1&&(o=a.options.continuousItems()),o&&o.length(o=a.element.find(a.options.filter)),t=e.inArray(e(t)[0],o),n=e.inArray(e(n)[0],o),tn&&(r=t,t=n,n=r),a.options.useAllItems(n+=a.element.length-1),i=t;n=i;i++)a._selectElement(o[i]);a._notify(h)},destroyfunction(){var e=this;o.fn.destroy.call(e),e.element.off(p),e.userEvents.destroy(),e._marquee=e._lastActive=e.element=e.userEvents=null}}),i.parseOptions=function(e){var t=string==typeof e&&e.toLowerCase();return{multiplet&&t.indexOf(multiple)-1,cellt&&t.indexOf(cell)-1}},r.ui.plugin(i)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui.Widget,r=e.proxy,o=n.keys,a=click,s=k-button,l=k-button-icon,c=k-button-icontext,d=.kendoButton,u=disabled,h=k-state-disabled,p=k-state-focused,f=k-state-selected,g=i.extend({initfunction(e,t){var o=this;i.fn.init.call(o,e,t),e=o.wrapper=o.element,t=o.options,e.addClass(s).attr(role,button),t.enable=t.enable&&!e.attr(u),o.enable(t.enable),o._tabindex(),o._graphics(),e.on(a+d,r(o._click,o)).on(focus+d,r(o._focus,o)).on(blur+d,r(o._blur,o)).on(keydown+d,r(o._keydown,o)).on(keyup+d,r(o._keyup,o)),n.notify(o)},destroyfunction(){var e=this;e.wrapper.off(d),i.fn.destroy.call(e)},events[a],options{nameButton,icon,spriteCssClass,imageUrl,enable!0},_isNativeButtonfunction(){returnbutton==this.element.prop(tagName).toLowerCase()},_clickfunction(e){this.options.enable&&this.trigger(a,{evente})&&e.preventDefault()},_focusfunction(){this.options.enable&&this.element.addClass(p)},_blurfunction(){this.element.removeClass(p)},_keydownfunction(e){var t=this;t._isNativeButton()(e.keyCode==o.ENTERe.keyCode==o.SPACEBAR)&&(e.keyCode==o.SPACEBAR&&(e.preventDefault(),t.options.enable&&t.element.addClass(f)),t._click(e))},_keyupfunction(){this.element.removeClass(f)},_graphicsfunction(){var t,n,i,r=this,o=r.element,a=r.options,s=a.icon,d=a.spriteCssClass,u=a.imageUrl;(dus)&&(i=!0,o.contents().not(span.k-sprite).not(span.k-icon).not(img.k-image).each(function(t,n){(1==n.nodeType3==n.nodeType&&e.trim(n.nodeValue).length0)&&(i=!1)}),o.addClass(ilc)),s(t=o.children(span.k-icon).first(),t[0](t=e('span class=k-iconspan').prependTo(o)),t.addClass(k-i-+s))d(t=o.children(span.k-sprite).first(),t[0](t=e('span class=k-spritespan').prependTo(o)),t.addClass(d))u&&(n=o.children(img.k-image).first(),n[0](n=e('img alt=icon class=k-image ').prependTo(o)),n.attr(src,u))},enablefunction(e){var n=this,i=n.element;e===t&&(e=!0),e=!!e,n.options.enable=e,i.toggleClass(h,!e).attr(aria-disabled,!e).attr(u,!e);try{i.blur()}catch(r){}}});n.ui.plugin(g)}(window.kendo.jQuery),function(e,t){function n(e,t,n,i,r){return e({idxt,textn,nsc.ns,numerici,titler})}function i(e,t,n){return k({classNamee.substring(1),textt,wrapClassNamen})}function r(e,t,n,i){e.find(t).parent().attr(c.attr(page),n).attr(tabindex,-1).toggleClass(k-state-disabled,i)}function o(e,t){r(e,p,1,1=t)}function a(e,t){r(e,g,Math.max(1,t-1),1=t)}function s(e,t,n){r(e,m,Math.min(n,t+1),t=n)}function l(e,t,n){r(e,f,n,t=n)}var c=window.kendo,d=c.ui,u=d.Widget,h=e.proxy,p=.k-i-seek-w,f=.k-i-seek-e,g=.k-i-arrow-w,m=.k-i-arrow-e,v=change,_=.kendoPager,w=click,y=keydown,b=disabled,k=c.template('a href=# title=#=text# class=k-link k-pager-nav #= wrapClassName #span class=k-icon #= className ##=text#spana'),x=u.extend({initfunction(t,n){var r,d,b=this;u.fn.init.call(b,t,n),n=b.options,b.dataSource=c.data.DataSource.create(n.dataSource),b.linkTemplate=c.template(b.options.linkTemplate),b.selectTemplate=c.template(b.options.selectTemplate),b.currentPageTemplate=c.template(b.options.currentPageTemplate),r=b.page(),d=b.totalPages(),b._refreshHandler=h(b.refresh,b),b.dataSource.bind(v,b._refreshHandler),n.previousNext&&(b.element.find(p).length(b.element.append(i(p,n.messages.first,k-pager-first)),o(b.element,r,d)),b.element.find(g).length(b.element.append(i(g,n.messages.previous)),a(b.element,r,d))),n.numeric&&(b.list=b.element.find(.k-pager-numbers),b.list.length(b.list=e('ul class=k-pager-numbers k-reset ').appendTo(b.element))),n.input&&(b.element.find(.k-pager-input).lengthb.element.append('span class=k-pager-input k-label'+n.messages.page+'input class=k-textbox'+c.format(n.messages.of,d)+span),b.element.on(y+_,.k-pager-input input,h(b._keydown,b))),n.previousNext&&(b.element.find(m).length(b.element.append(i(m,n.messages.next)),s(b.element,r,d)),b.element.find(f).length(b.element.append(i(f,n.messages.last,k-pager-last)),l(b.element,r,d))),n.pageSizes&&(b.element.find(.k-pager-sizes).lengthe('span class=k-pager-sizes k-labelselect'+n.messages.itemsPerPage+span).appendTo(b.element).find(select).html(e.map(e.isArray(n.pageSizes)n.pageSizes[5,10,20],function(e){returnoption+e+option}).join()).end().appendTo(b.element),b.element.find(.k-pager-sizes select).val(b.pageSize()),c.ui.DropDownList&&b.element.find(.k-pager-sizes select).show().kendoDropDownList(),b.element.on(v+_,.k-pager-sizes select,h(b._change,b))),n.refresh&&(b.element.find(.k-pager-refresh).lengthb.element.append('a href=# class=k-pager-refresh k-link title='+n.messages.refresh+'span class=k-icon k-i-refresh'+n.messages.refresh+spana),b.element.on(w+_,.k-pager-refresh,h(b._refreshClick,b))),n.info&&(b.element.find(.k-pager-info).lengthb.element.append('span class=k-pager-info k-label ')),b.element.on(w+_,a,h(b._click,b)).addClass(k-pager-wrap k-widget),b.element.on(w+_,.k-current-page,h(b._toggleActive,b)),n.autoBind&&b.refresh(),c.notify(b)},destroyfunction(){var e=this;u.fn.destroy.call(e),e.element.off(_),e.dataSource.unbind(v,e._refreshHandler),e._refreshHandler=null,c.destroy(e.element),e.element=e.list=null},events[v],options{namePager,selectTemplate'lispan class=k-state-selected#=text#spanli',currentPageTemplate'li class=k-current-pagespan class=k-link k-pager-nav#=text#spanli',linkTemplate'lia tabindex=-1 href=# class=k-link data-#=ns#page=#=idx# #if (title !== ) {# title=#=title# #}##=text#ali',buttonCount10,autoBind!0,numeric!0,info!0,input!1,previousNext!0,pageSizes!1,refresh!1,messages{display{0} - {1} of {2} items,emptyNo items to display,pagePage,ofof {0},itemsPerPageitems per page,firstGo to the first page,previousGo to the previous page,nextGo to the next page,lastGo to the last page,refreshRefresh,morePagesMore pages}},setDataSourcefunction(e){var t=this;t.dataSource.unbind(v,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(v,t._refreshHandler),t.options.autoBind&&e.fetch()},refreshfunction(e){var t,i,r,d=this,u=1,h=d.page(),p=,f=d.options,g=d.pageSize(),m=d.dataSource.total(),v=d.totalPages(),_=d.linkTemplate,w=f.buttonCount;if(!eitemchange!=e.action){if(f.numeric){for(hw&&(r=h%w,u=0===rh-w+1h-r+1),i=Math.min(u+w-1,v),u1&&(p+=n(_,u-1,...,!1,f.messages.morePages)),t=u;i=t;t++)p+=n(t==hd.selectTemplate_,t,t,!0);vi&&(p+=n(_,t,...,!1,f.messages.morePages)),===p&&(p=d.selectTemplate({text0})),p=this.currentPageTemplate({texth})+p,d.list.removeClass(k-state-expanded).html(p)}f.info&&(p=m0c.format(f.messages.display,(h-1)g+1,Math.min(hg,m),m)f.messages.empty,d.element.find(.k-pager-info).html(p)),f.input&&d.element.find(.k-pager-input).html(d.options.messages.page+'input class=k-textbox'+c.format(f.messages.of,v)).find(input).val(h).attr(b,1m).toggleClass(k-state-disabled,1m),f.previousNext&&(o(d.element,h,v),a(d.element,h,v),s(d.element,h,v),l(d.element,h,v)),f.pageSizes&&d.element.find(.k-pager-sizes select).val(g).filter([+c.attr(role)+=dropdownlist]).kendoDropDownList(value,g).kendoDropDownList(text,g)}},_keydownfunction(e){if(e.keyCode===c.keys.ENTER){var t=this.element.find(.k-pager-input).find(input),n=parseInt(t.val(),10);(isNaN(n)1nnthis.totalPages())&&(n=this.page()),t.val(n),this.page(n)}},_refreshClickfunction(e){e.preventDefault(),this.dataSource.read()},_changefunction(e){var t=parseInt(e.currentTarget.value,10);isNaN(t)this.dataSource.pageSize(t)},_toggleActivefunction(){this.list.toggleClass(k-state-expanded)},_clickfunction(t){var n=e(t.currentTarget);t.preventDefault(),n.is(.k-state-disabled)this.page(n.attr(c.attr(page)))},totalPagesfunction(){return Math.ceil((this.dataSource.total()0)this.pageSize())},pageSizefunction(){return this.dataSource.pageSize()this.dataSource.total()},pagefunction(e){return e===tthis.dataSource.total()0this.dataSource.page()0(this.dataSource.page(e),this.trigger(v,{indexe}),t)}});d.plugin(x)}(window.kendo.jQuery),function(e){function t(t,n){return t===ne.contains(t,n)}var n=window.kendo,i=n.ui,r=i.Widget,o=n.support,a=n.getOffset,s=open,l=close,c=deactivate,d=activate,u=center,h=left,p=right,f=top,g=bottom,m=absolute,v=hidden,_=body,w=location,y=position,b=visible,k=effects,x=k-state-active,C=k-state-border,S=k-state-border-(w+),T=.k-picker-wrap, .k-dropdown-wrap, .k-link,D=down,A=e(document.documentElement),E=e(window),I=scroll,M=resize scroll,P=o.transitions.css,z=P+transform,F=e.extend,R=.kendoPopup,B=[font-size,font-family,font-stretch,font-style,font-weight,line-height],H=r.extend({initfunction(t,i){var o,a=this;i=i{},i.isRtl&&(i.origin=i.origing+ +p,i.position=i.positionf+ +p),r.fn.init.call(a,t,i),t=a.element,i=a.options,a.collisions=i.collisioni.collision.split( )[],a.downEvent=n.applyEventMap(D,n.guid()),1===a.collisions.length&&a.collisions.push(a.collisions[0]),o=e(a.options.anchor).closest(.k-popup,.k-group).filter(not([class^=km-])),i.appendTo=e(e(i.appendTo)[0]o[0]_),a.element.hide().addClass(k-popup k-group k-reset).toggleClass(k-rtl,!!i.isRtl).css({positionm}).appendTo(i.appendTo).on(mouseenter+R,function(){a._hovered=!0
}).on(mouseleave+R,function(){a._hovered=!1}),a.wrapper=e(),i.animation===!1&&(i.animation={open{effects{}},close{hide!0,effects{}}}),F(i.animation.open,{completefunction(){a.wrapper.css({overflowb}),a._activated=!0,a._trigger(d)}}),F(i.animation.close,{completefunction(){a._animationClose()}}),a._mousedownProxy=function(e){a._mousedown(e)},a._resizeProxy=function(e){a._resize(e)},i.toggleTarget&&e(i.toggleTarget).on(i.toggleEvent+R,e.proxy(a.toggle,a))},events[s,d,l,c],options{namePopup,toggleEventclick,origing+ +h,positionf+ +h,anchor_,appendTonull,collisionflip fit,viewportwindow,copyAnchorStyles!0,autosize!1,modal!1,adjustSize{width0,height0},animation{open{effectsslideIndown,transition!0,duration200},close{duration100,hide!0}}},_animationClosefunction(){var t,i,r,o,a=this,s=a.options;a.wrapper.hide(),t=a.wrapper.data(w),i=e(s.anchor),t&&a.wrapper.css(t),s.anchor!=_&&(r=((i.attr(class)).match(S)[,down])[1],o=C+-+r,i.removeClass(o).children(T).removeClass(x).removeClass(o),a.element.removeClass(C+-+n.directions[r].reverse)),a._closing=!1,a._trigger(c)},destroyfunction(){var t,i=this,o=i.options,a=i.element.off(R);r.fn.destroy.call(i),o.toggleTarget&&e(o.toggleTarget).off(R),o.modal(A.unbind(i.downEvent,i._mousedownProxy),i._scrollableParents().unbind(I,i._resizeProxy),E.unbind(M,i._resizeProxy)),n.destroy(i.element.children()),a.removeData(),o.appendTo[0]===document.body&&(t=a.parent(.k-animation-container),t[0]t.remove()a.remove())},openfunction(t,i){var r,a,l,c=this,d={isFixed!isNaN(parseInt(i,10)),xt,yi},u=c.element,h=c.options,p=down,g=e(h.anchor),w=u[0]&&u.hasClass(km-widget);if(!c.visible()){if(h.copyAnchorStyles&&(w&&font-size==B[0]&&B.shift(),u.css(n.getComputedStyles(g[0],B))),u.data(animating)c._trigger(s))return;c._activated=!1,h.modal(A.unbind(c.downEvent,c._mousedownProxy).bind(c.downEvent,c._mousedownProxy),o.mobileOS.ioso.mobileOS.android(c._scrollableParents().unbind(I,c._resizeProxy).bind(I,c._resizeProxy),E.unbind(M,c._resizeProxy).bind(M,c._resizeProxy))),c.wrapper=a=n.wrap(u,h.autosize).css({overflowv,displayblock,positionm}),o.mobileOS.android&&a.css(z,translatez(0)),a.css(y),e(h.appendTo)[0]==document.body&&a.css(f,-10000px),r=F(!0,{},h.animation.open),c.flipped=c._position(d),r.effects=n.parseEffects(r.effects,c.flipped),p=r.effects.slideInr.effects.slideIn.directionp,h.anchor!=_&&(l=C+-+p,u.addClass(C+-+n.directions[p].reverse),g.addClass(l).children(T).addClass(x).addClass(l)),u.data(k,r.effects).kendoStop(!0).kendoAnimate(r)}},togglefunction(){var e=this;e[e.visible()ls]()},visiblefunction(){return this.element.is(+b)},closefunction(t){var i,r,o,a,s=this,c=s.options;if(s.visible()){if(i=s.wrapper[0]s.wrappern.wrap(s.element).hide(),s._closings._trigger(l))return;s.element.find(.k-popup).each(function(){var n=e(this),i=n.data(kendoPopup);i&&i.close(t)}),A.unbind(s.downEvent,s._mousedownProxy),s._scrollableParents().unbind(I,s._resizeProxy),E.unbind(M,s._resizeProxy),tr={hide!0,effects{}}(r=F(!0,{},c.animation.close),o=s.element.data(k),a=r.effects,!a&&!n.size(a)&&o&&n.size(o)&&(r.effects=o,r.reverse=!0),s._closing=!0),s.element.kendoStop(!0),i.css({overflowv}),s.element.kendoAnimate(r)}},_triggerfunction(e){return this.trigger(e,{typee})},_resizefunction(e){var t=this;resize===e.type(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50))(!t._hoveredt._activated&&t.element.hasClass(k-list-container))&&t.close()},_mousedownfunction(i){var r=this,o=r.element[0],a=r.options,s=e(a.anchor)[0],l=a.toggleTarget,c=n.eventTarget(i),d=e(c).closest(.k-popup),u=d.parent().parent(.km-shim).length;d=d[0],(u!dd===r.element[0])&&popover!==e(i.target).closest(a).data(rel)&&(t(o,c)t(s,c)l&&t(e(l)[0],c)r.close())},_fitfunction(e,t,n){var i=0;return e+tn&&(i=n-(e+t)),0e&&(i=-e),i},_flipfunction(e,t,n,i,r,o,a){var s=0;return a=at,o!==r&&o!==u&&r!==u&&(e+ai&&(s+=-(n+t)),0e+s&&(s+=n+t)),s},_scrollableParentsfunction(){return e(this.options.anchor).parentsUntil(body).filter(function(e,t){var i=n.getComputedStyles(t,[overflow]);returnvisible!=i.overflow})},_positionfunction(t){var i,r,s,l,c,d,u,h,p,f,g,v=this,_=v.element.css(y,),b=v.wrapper,k=v.options,x=e(k.viewport),C=x.offset(),S=e(k.anchor),T=k.origin.toLowerCase().split( ),D=k.position.toLowerCase().split( ),A=v.collisions,E=o.zoomLevel(),I=10002,M=!!(x[0]==window&&window.innerWidth&&1.02=E),P=0,z=Mwindow.innerWidthx.width(),R=Mwindow.innerHeightx.height();if(M&&document.documentElement.offsetWidth-document.documentElement.clientWidth0&&(z-=n.support.scrollbar()),i=S.parents().filter(b.siblings()),i[0])if(s=Math.max(+i.css(zIndex),0))I=s+10;else for(r=S.parentsUntil(i),l=r.length;lP;P++)s=+e(r[P]).css(zIndex),s&&sI&&(I=s+10);return b.css(zIndex,I),b.css(t&&t.isFixed{leftt.x,topt.y}v._align(T,D)),c=a(b,y,S[0]===b.offsetParent()[0]),d=a(b),u=S.offsetParent().parent(.k-animation-container,.k-popup,.k-group),u.length&&(c=a(b,y,!0),d=a(b)),x[0]===window(d.top-=window.pageYOffsetdocument.documentElement.scrollTop0,d.left-=window.pageXOffsetdocument.documentElement.scrollLeft0)(d.top-=C.top,d.left-=C.left),v.wrapper.data(w)b.data(w,F({},c)),h=F({},d),p=F({},c),f=k.adjustSize,fit===A[0]&&(p.top+=v._fit(h.top,b.outerHeight()+f.height,RE)),fit===A[1]&&(p.left+=v._fit(h.left,b.outerWidth()+f.width,zE)),g=F({},p),flip===A[0]&&(p.top+=v._flip(h.top,_.outerHeight(),S.outerHeight(),RE,T[0],D[0],b.outerHeight())),flip===A[1]&&(p.left+=v._flip(h.left,_.outerWidth(),S.outerWidth(),zE,T[1],D[1],b.outerWidth())),_.css(y,m),b.css(p),p.left!=g.leftp.top!=g.top},_alignfunction(t,n){var i,r=this,o=r.wrapper,s=e(r.options.anchor),l=t[0],c=t[1],d=n[0],h=n[1],f=a(s),m=e(r.options.appendTo),v=o.outerWidth(),_=o.outerHeight(),w=s.outerWidth(),y=s.outerHeight(),b=f.top,k=f.left,x=Math.round;return m[0]!=document.body&&(i=a(m),b-=i.top,k-=i.left),l===g&&(b+=y),l===u&&(b+=x(y2)),d===g&&(b-=_),d===u&&(b-=x(_2)),c===p&&(k+=w),c===u&&(k+=x(w2)),h===p&&(k-=v),h===u&&(k-=x(v2)),{topb,leftk}}});i.plugin(H)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui.Widget,r=e.proxy,o=e.extend,a=window.setTimeout,s=click,l=show,c=hide,d=k-notification,u=.k-notification-wrap .k-i-close,h=info,p=success,f=warning,g=error,m=top,v=left,_=bottom,w=right,y=up,b=.kendoNotification,k='div class=k-widget k-notificationdiv',x='div class=k-notification-wrapspan class=k-icon k-i-note#=typeIcon#span#=content#span class=k-icon k-i-closeHidespandiv',C=i.extend({initfunction(t,r){var o=this;i.fn.init.call(o,t,r),r=o.options,r.appendTo&&e(r.appendTo).is(t)o.element.hide(),o._compileTemplates(r.templates),o._guid=_+n.guid(),o._isRtl=n.support.isRtl(t),o._compileStacking(r.stacking,r.position.top),n.notify(o)},events[l,c],options{nameNotification,position{pinned!0,topnull,leftnull,bottom20,right20},stackingdefault,hideOnClick!0,button!1,allowHideAfter0,autoHideAfter5e3,appendTonull,widthnull,heightnull,templates[],animation{open{effectsfadein,duration300},close{effectsfadeout,duration600,hide!0}}},_compileTemplatesfunction(t){var i=this,r=n.template;i._compiled={},e.each(t,function(t,n){i._compiled[n.type]=r(n.templatee(#+n.templateId).html())}),i._defaultCompiled=r(x)},_getCompiledfunction(e){var t=this,n=t._defaultCompiled;return et._compiled[e]nn},_compileStackingfunction(e,t){var n,i,r=this,o={paddingTop0,paddingRight0,paddingBottom0,paddingLeft0};switch(e){casedownn=_+ +v,i=m+ +v,delete o.paddingBottom;break;case wn=m+ +w,i=m+ +v,delete o.paddingRight;break;case vn=m+ +v,i=m+ +w,delete o.paddingLeft;break;case yn=m+ +v,i=_+ +v,delete o.paddingTop;break;defaultnull!==t(n=_+ +v,i=m+ +v,delete o.paddingBottom)(n=m+ +v,i=_+ +v,delete o.paddingTop)}r._popupOrigin=n,r._popupPosition=i,r._popupPaddings=o},_attachPopupEventsfunction(e,t){function n(e){e.on(s+b,function(){t.close()})}var i,r=e.allowHideAfter,o=!isNaN(r)&&r0;e.hideOnClickt.bind(activate,function(){oa(function(){n(t.element)},r)n(t.element)})e.button&&(i=t.element.find(u),oa(function(){n(i)},r)n(i))},_showPopupfunction(t,i){var r,s,l=this,c=i.autoHideAfter,d=i.position.left,h=i.position.top;s=e(.+l._guid).last(),r=new n.ui.Popup(t,{anchors[0]sdocument.body,originl._popupOrigin,positionl._popupPosition,animationi.animation,modal!0,collision,isRtll._isRtl,closefunction(){l._triggerHide(this.element)},deactivatefunction(e){e.sender.element.off(b),e.sender.element.find(u).off(b),e.sender.destroy()}}),l._attachPopupEvents(i,r),s[0]r.open()(null===d&&(d=e(window).width()-t.width()-i.position.right),null===h&&(h=e(window).height()-t.height()-i.position.bottom),r.open(d,h)),r.wrapper.addClass(l._guid).css(o({margin0},l._popupPaddings)),i.position.pinned(r.wrapper.css(position,fixed),s[0]&&l._togglePin(r.wrapper,!0))s[0]l._togglePin(r.wrapper,!1),c0&&a(function(){r.close()},c)},_togglePinfunction(t,n){var i=e(window),r=n-11;t.css({topparseInt(t.css(m),10)+ri.scrollTop(),leftparseInt(t.css(v),10)+ri.scrollLeft()})},_attachStaticEventsfunction(e,t){function n(e){e.on(s+b,r(i._hideStatic,i,t))}var i=this,o=e.allowHideAfter,l=!isNaN(o)&&o0;e.hideOnClickla(function(){n(t)},o)n(t)e.button&&(la(function(){n(t.find(u))},o)n(t.find(u)))},_showStaticfunction(e,t){var n=this,i=t.autoHideAfter,r=t.animation,o=t.stacking==yt.stacking==vprependToappendTo;e.addClass(n._guid)[o](t.appendTo).hide().kendoAnimate(r.open!1),n._attachStaticEvents(t,e),i0&&a(function(){n._hideStatic(e)},i)},_hideStaticfunction(e){e.kendoAnimate(o(this.options.animation.close!1,{completefunction(){e.off(b).find(u).off(b),e.remove()}})),this._triggerHide(e)},_triggerHidefunction(e){this.trigger(c,{elemente}),this.angular(cleanup,function(){return{elementse}})},showfunction(i,r){var a,s,c=this,u=c.options,p=e(k);return r(r=h),null!==i&&i!==t&&!==i&&(n.isFunction(i)&&(i=i()),s={typeIconr,content},a=e.isPlainObject(i)o(s,i)o(s,{contenti}),p.addClass(d+-+r).toggleClass(d+-button,u.button).attr(data-role,alert).css({widthu.width,heightu.height}).append(c._getCompiled(r)(a)),c.angular(compile,function(){return{elementsp,data[{dataItema}]}}),e(u.appendTo)[0]c._showStatic(p,u)c._showPopup(p,u),c.trigger(l,{elementp})),c},infofunction(e){return this.show(e,h)},successfunction(e){return this.show(e,p)},warningfunction(e){return this.show(e,f)},errorfunction(e){return this.show(e,g)},hidefunction(){var t=this,n=t.getNotifications();return n.each(t.options.appendTofunction(n,i){t._hideStatic(e(i))}function(t,n){var i=e(n).data(kendoPopup);i&&i.close()}),t},getNotificationsfunction(){var t=this,n=e(.+t._guid);return t.options.appendTonn.children(.+d)},setOptionsfunction(e){var n,r=this;i.fn.setOptions.call(r,e),n=r.options,e.templates!==t&&r._compileTemplates(n.templates),(e.stacking!==te.position!==t)&&r._compileStacking(n.stacking,n.position.top)},destroyfunction(){i.fn.destroy.call(this),this.getNotifications().off(b).find(u).off(b)}});n.ui.plugin(C)}(window.kendo.jQuery),function(e){function t(e){for(;e.length;)n(e),e=e.parent()}function n(e){var t=e.data(o.ns+title);t&&(e.attr(title,t),e.removeData(o.ns+title))}function i(e){var t=e.attr(title);t&&(e.data(o.ns+title,t),e.attr(title,))}function r(e){for(;e.length&&!e.is(body);)i(e),e=e.parent()}var o=window.kendo,a=o.ui.Widget,s=o.ui.Popup,l=o.isFunction,c=e.isPlainObject,d=e.extend,u=e.proxy,h=e(document),p=o.isLocalUrl,f=_tt_active,g=aria-describedby,m=show,v=hide,_=error,w=contentLoad,y=requestStart,b=k-content-frame,k='div role=tooltip class=k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}##if (!autoHide) {# div class=k-tooltip-buttona href=# class=k-icon k-i-closecloseadiv #}#div class=k-tooltip-contentdiv#if (callout){ #div class=k-callout k-callout-#=dir#div#}#div',x=o.template(iframe frameborder='0' class='+b+' src='#= content.url #'This page requires frames in order to show contentiframe),C=.kendoTooltip,S={bottom{originbottom center,positiontop center},top{origintop center,positionbottom center},left{origincenter left,positioncenter right,collisionfit flip},right{origincenter right,positioncenter left,collisionfit flip},center{positioncenter center,origincenter center}},T={topbottom,bottomtop,leftright,rightleft,centercenter},D={bottomn,tops,lefte,rightw,centern},A={horizontal{offsettop,sizeouterHeight},vertical{offsetleft,sizeouterWidth}},E=function(e){return e.target.data(o.ns+title)},I=a.extend({initfunction(e,t){var n,i=this;a.fn.init.call(i,e,t),n=i.options.position.match(leftright)horizontalvertical,i.dimensions=A[n],i._documentKeyDownHandler=u(i._documentKeyDown,i),i.element.on(i.options.showOn+C,i.options.filter,u(i._showOn,i)).on(mouseenter+C,i.options.filter,u(i._mouseenter,i)),this.options.autoHide&&i.element.on(mouseleave+C,i.options.filter,u(i._mouseleave,i))},options{nameTooltip,filter,contentE,showAfter100,callout!0,positionbottom,showOnmouseenter,autoHide!0,widthnull,heightnull,animation{open{effectsfadein,duration0},close{effectsfadeout,duration40,hide!0}}},events[m,v,w,_,y],_mouseenterfunction(t){r(e(t.currentTarget))},_showOnfunction(t){var n=this,i=e(t.currentTarget);n.options.showOn&&n.options.showOn.match(clickfocus)n._show(i)(clearTimeout(n.timeout),n.timeout=setTimeout(function(){n._show(i)},n.options.showAfter))},_appendContentfunction(e){var t,n=this,i=n.options.content,r=n.content,a=n.options.iframe;c(i)&&i.url(iframein n.options(a=!p(i.url)),n.trigger(y,{optionsi,targete}),a(r.hide(),t=r.find(.+b)[0],tt.src=i.urlt.srcr.html(x({contenti})),r.find(.+b).off(load+C).on(load+C,function(){n.trigger(w),r.show()}))(r.empty(),o.ui.progress(r,!0),n._ajaxRequest(i)))i&&l(i)(i=i({senderthis,targete}),r.html(i))r.html(i),n.angular(compile,function(){return{elementsr}})},_ajaxRequestfunction(e){var t=this;jQuery.ajax(d({typeGET,dataTypehtml,cache!1,errorfunction(e,n){o.ui.progress(t.content,!1),t.trigger(_,{statusn,xhre})},successu(function(e){o.ui.progress(t.content,!1),t.content.html(e),t.trigger(w)},t)},e))},_documentKeyDownfunction(e){e.keyCode===o.keys.ESC&&this.hide()},refreshfunction(){var e=this,t=e.popup;t&&t.options.anchor&&e._appendContent(t.options.anchor)},hidefunction(){this.popup&&this.popup.close()},showfunction(e){e=ethis.element,r(e),this._show(e)},_showfunction(e){var n=this,i=n.target();n.popupn._initPopup(),i&&i[0]!=e[0]&&(n.popup.close(),n.popup.element.kendoStop(!0,!0)),i&&i[0]==e[0](n._appendContent(e),n.popup.options.anchor=e),n.popup.one(deactivate,function(){t(e),e.removeAttr(g),this.element.removeAttr(id).attr(aria-hidden,!0),h.off(keydown+C,n._documentKeyDownHandler)}),n.popup.open()},_initPopupfunction(){var t=this,n=t.options,i=e(o.template(k)({calloutn.callout&&center!==n.position,dirD[n.position],autoHiden.autoHide}));t.popup=new s(i,d({activatefunction(){var e=this.options.anchor,i=e[0].idt.element[0].id;i&&(e.attr(g,i+f),this.element.attr(id,i+f)),n.callout&&t._positionCallout(),this.element.removeAttr(aria-hidden),h.on(keydown+C,t._documentKeyDownHandler),t.trigger(m)},closefunction(){t.trigger(v)},copyAnchorStyles!1,animationn.animation},S[n.position])),i.css({widthn.width,heightn.height}),t.content=i.find(.k-tooltip-content),t.arrow=i.find(.k-callout),n.autoHidei.on(mouseleave+C,u(t._mouseleave,t))i.on(click+C,.k-tooltip-button,u(t._closeButtonClick,t))},_closeButtonClickfunction(e){e.preventDefault(),this.hide()},_mouseleavefunction(n){if(this.popup){var i=e(n.currentTarget),r=i.offset(),o=n.pageX,a=n.pageY;if(r.right=r.left+i.outerWidth(),r.bottom=r.top+i.outerHeight(),or.left&&r.righto&&ar.top&&r.bottoma)return;this.popup.close()}else t(e(n.currentTarget));clearTimeout(this.timeout)},_positionCalloutfunction(){var t=this,n=t.options.position,i=t.dimensions,r=i.offset,o=t.popup,a=o.options.anchor,s=e(a).offset(),l=parseInt(t.arrow.css(border-top-width),10),c=e(o.element).offset(),d=D[o.flippedT[n]n],u=s[r]-c[r]+e(a)[i.size]()2-l;t.arrow.removeClass(k-callout-n k-callout-s k-callout-w k-callout-e).addClass(k-callout-+d).css(r,u)},targetfunction(){return this.popupthis.popup.options.anchornull},destroyfunction(){var e=this.popup;e&&(e.element.off(C),e.destroy()),this.element.off(C),h.off(keydown+C,this._documentKeyDownHandler),a.fn.destroy.call(this)}});o.ui.plugin(I)}(window.kendo.jQuery),function(e,t){function n(e,t){var n,i,r,o=t.length,a=[];for(i=0;e.lengthi;i++)for(n=e[i],r=0;or;r++)n===t[r]&&a.push({indexi,itemn});return a}function i(t,n){var r,o=!1;return t.filters&&(r=e.grep(t.filters,function(e){return o=i(e,n),e.filterse.filters.lengthe.field!=n}),ot.filters.length===r.length(o=!0),t.filters=r),o}var r,o,a=window.kendo,s=a.ui,l=s.Widget,c=a.keys,d=a.support,u=a.htmlEncode,h=a._activeElement,p=a.data.ObservableArray,f=id,g=change,m=k-state-focused,v=k-state-hover,_=k-loading,w=open,y=close,b=select,k=selected,x=progress,C=requestEnd,S=width,T=e.extend,D=e.proxy,A=e.isArray,E=d.browser,I=E.msie&&9E.version,M=g,P={ComboBoxDropDownList,DropDownListComboBox},z=a.ui.DataBoundWidget.extend({initfunction(t,n){var i,r=this,o=r.ns;l.fn.init.call(r,t,n),t=r.element,n=r.options,r._isSelect=t.is(b),r._isSelect&&r.element[0].length&&(n.dataSource(n.dataTextField=n.dataTextFieldtext,n.dataValueField=n.dataValueFieldvalue)),r.ul=e('ul unselectable=on class=k-list k-reset').attr({tabIndex-1,aria-hidden!0}),r.list=e(div class='k-list-container').append(r.ul).on(mousedown+o,D(r._listMousedown,r)),i=t.attr(f),i&&(r.list.attr(f,i+-list),r.ul.attr(f,i+_listbox)),r._header(),r._accessors(),r._initValue()},options{valuePrimitive!1,headerTemplate},setOptionsfunction(e){l.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable)},focusfunction(){this._focused.focus()},readonlyfunction(e){this._editable({readonlye===t!0e,disable!1})},enablefunction(e){this._editable({readonly!1,disable!(e=e===t!0e)})},_listOptionsfunction(e){var t=this.options;return e=e{},e={heighte.heightt.height,dataValueFielde.dataValueFieldt.dataValueField,dataTextFielde.dataTextFieldt.dataTextField,groupTemplatee.groupTemplatet.groupTemplate,fixedGroupTemplatee.fixedGroupTemplatet.fixedGroupTemplate,templatee.templatet.template},e.template(e.template=#+a.expr(e.dataTextField,data)+#),e},_initListfunction(){var n=this,i=n.options,r=i.virtual,o=!!r,s=i.value,l=D(n._listBound,n),c={autoBind!1,selectable!0,dataSourcen.dataSource,clickD(n._click,n),changeD(n._listChange,n),activateD(n._activateItem,n),deactivateD(n._deactivateItem,n),dataBindingfunction(){n.trigger(dataBinding),n._angularItems(cleanup)},dataBoundl,listBoundl,selectedItemChangeD(n._listChange,n)};c=e.extend(n._listOptions(),c,object==typeof rr{}),on.listView=new a.ui.VirtualList(n.ul,c)(n.listView=new a.ui.StaticList(n.ul,c),n.listView.setTouchScroller(n._touchScroller)),s!==t&&n.listView.value(s).done(function(){var e=i.text;n.input&&-1===n.selectedIndex&&((e===tnull===e)&&(e=s),n._accessor(s),n.input.val(e))})},_listMousedownfunction(e){this.filterInput&&this.filterInput[0]===e.targete.preventDefault()},_filterSourcefunction(e,t){var n=this,r=n.options,o=n.dataSource,a=T({},o.filter(){}),s=i(a,r.dataTextField);(es)&&n.trigger(filtering,{filtere})(e&&(a=a.filters[],a.push(e)),to.read(a)o.filter(a))},_headerfunction(){var t,n=this,i=n.options.headerTemplate;e.isFunction(i)&&(i=i({})),i&&(n.list.prepend(i),t=n.ul.prev(),n.header=t[0]tnull,n.header&&n.angular(compile,function(){return{elementsn.header}}))},_initValuefunction(){var e=this,t=e.options.value;null!==te.element.val(t)(t=e._accessor(),e.options.value=t),e._old=t},_ignoreCasefunction(){var e,t=this,n=t.dataSource.reader.model;n&&n.fields&&(e=n.fields[t.options.dataTextField],e&&e.type&&string!==e.type&&(t.options.ignoreCase=!1))},_focusfunction(e){return this.listView.focus(e)},currentfunction(e){return this._focus(e)},itemsfunction(){return this.ul[0].children},destroyfunction(){var e=this,t=e.ns;l.fn.destroy.call(e),e._unbindDataSource(),e.listView.destroy(),e.list.off(t),e._touchScroller&&e._touchScroller.destroy(),e.popup.destroy(),e._form&&e._form.off(reset,e._resetHandler)},dataItemfunction(n){var i=this;return n===ti.listView.selectedDataItems()[0](number!=typeof n&&(n=e(i.items()).index(n)),i.dataSource.flatView()[n])},_activateItemfunction(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr(aria-activedescendant,e.attr(id))},_deactivateItemfunction(){this._focused.add(this.filterInput).removeAttr(aria-activedescendant)},_accessorsfunction(){var e=this,t=e.element,n=e.options,i=a.getter,r=t.attr(a.attr(text-field)),o=t.attr(a.attr(value-field));!n.dataTextField&&r&&(n.dataTextField=r),!n.dataValueField&&o&&(n.dataValueField=o),e._text=i(n.dataTextField),e._value=i(n.dataValueField)},_ariafunction(e){var n=this,i=n.options,r=n._focused.add(n.filterInput);i.suggest!==t&&r.attr(aria-autocomplete,i.suggestbothlist),e=ee+ +n.ul[0].idn.ul[0].id,r.attr(aria-owns,e),n.ul.attr(aria-live,i.filter&&none!==i.filterpoliteoff)},_blurfunction(){var e=this;e._change(),e.close()},_changefunction(){var e,n=this,i=n.selectedIndex,r=n.options.value,o=n.value();n._isSelect&&!n.listView.isBound()&&r&&(o=r),o!==n._olde=!0i!==t&&i!==n._oldIndex&&(e=!0),e&&(n._old=o,n._oldIndex=i,n.element.trigger(g),n.trigger(g))},_datafunction(){return this.dataSource.view()},_enablefunction(){var e=this,n=e.options,i=e.element.is([disabled]);n.enable!==t&&(n.enabled=n.enable),!n.enabledie.enable(!1)e.readonly(e.element.is([readonly]))},_dataValuefunction(e){var n=this._value(e);return n===t&&(n=this._text(e)),n},_heightfunction(e){var t,n,i=this,r=i.list,o=i.options.height,a=i.popup.visible();return e&&(n=r.add(r.parent(.k-animation-container)).show(),o=i.ul[0].scrollHeightooauto,n.height(o),auto!==o&&(t=i.ul[0].offsetTop,t&&(o=r.height()-t)),i.ul.height(o),an.hide()),o},_adjustListWidthfunction(){var e,t,n=this.list,i=n[0].style.width,r=this.wrapper;if(n.data(S)!i)return e=window.getComputedStylewindow.getComputedStyle(r[0],null)0,t=eparseFloat(e.width)r.outerWidth(),e&&E.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i=border-box!==n.css(box-sizing)t-(n.outerWidth()-n.width())t,n.css({fontFamilyr.css(font-family),widthi}).data(S,i),!0},_openHandlerfunction(e){this._adjustListWidth(),this.trigger(w)e.preventDefault()(this._focused.attr(aria-expanded,!0),this.ul.attr(aria-hidden,!1))},_closeHandlerfunction(e){this.trigger(y)e.preventDefault()(this._focused.attr(aria-expanded,!1),this.ul.attr(aria-hidden,!0))},_focusItemfunction(){var e=this.listView,n=e.focus(),i=e.select();i=i[i.length-1],i===t&&this.options.highlightFirst&&!n&&(i=0),i!==te.focus(i)e.scrollToIndex(0)},_calculateGroupPaddingfunction(e){var t=this.ul,n=t.children(.k-firstfirst),i=t.prev(.k-group-header),r=0;i[0]&&none!==i[0].style.display&&(auto!==e&&(r=a.support.scrollbar()),r+=parseFloat(n.css(border-right-width),10)+parseFloat(n.children(.k-group).css(right),10),i.css(padding-right,r))},_firstOpenfunction(){var e=this._height(this.dataSource.flatView().length);this._calculateGroupPadding(e)},_popupfunction(){var e=this;e.popup=new s.Popup(e.list,T({},e.options.popup,{anchore.wrapper,openD(e._openHandler,e),closeD(e._closeHandler,e),animatione.options.animation,isRtld.isRtl(e.wrapper)})),e.options.virtuale.popup.one(w,D(e._firstOpen,e)),e._touchScroller=a.touchScroller(e.popup.element)},_makeUnselectablefunction(){I&&this.list.find().not(.k-textbox).attr(unselectable,on)},_toggleHoverfunction(t){e(t.currentTarget).toggleClass(v,mouseenter===t.type)},_togglefunction(e,n){var i=this,r=d.mobileOS&&(d.touchd.MSPointersd.pointers);e=e!==te!i.popup.visible(),nri._focused[0]===h()i._focused.focus(),i[ewy]()},_triggerCascadefunction(){var e=this;e._cascadeTriggered&&e._old===e.value()&&e._oldIndex===e.selectedIndex(e._cascadeTriggered=!0,e.trigger(cascade,{userTriggerede._userTriggered}))},_unbindDataSourcefunction(){var e=this;e.dataSource.unbind(x,e._progressHandler).unbind(C,e._requestEndHandler).unbind(error,e._errorHandler)}});T(z,{inArrayfunction(e,t){var n,i,r=t.children;if(!ee.parentNode!==t)return-1;for(n=0,i=r.length;in;n++)if(e===r[n])return n;return-1}}),a.ui.List=z,s.Select=z.extend({initfunction(e,t){z.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSourcefunction(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},closefunction(){this.popup.close()},selectfunction(e){var n=this;return e===tn.selectedIndex(n._select(e),n._old=n._accessor(),n._oldIndex=n.selectedIndex,t)},searchfunction(e){var t,n,i,r,o,a;e=string==typeof eethis.text(),t=this,n=e.length,i=t.options,r=i.ignoreCase,o=i.filter,a=i.dataTextField,clearTimeout(t._typing),(!nn=i.minLength)&&(t._state=filter,t.listView.filter(!0),none===ot._filter(e)(t._open=!0,t._filterSource({valuere.toLowerCase()e,fielda,operatoro,ignoreCaser})))},_accessorfunction(e,t){return this[this._isSelect_accessorSelect_accessorInput](e,t)},_accessorInputfunction(e){var n=this.element[0];return e===tn.value(n.value=e,t)},_accessorSelectfunction(e,n){var i,r=this.element[0],o=r.selectedIndex;return e===t(o-1&&(i=r.options[o]),i&&(e=i.value),e)(o-1&&r.options[o].removeAttribute(k),n===t&&(n=-1),!==e&&-1==nthis._custom(e)(er.value=er.selectedIndex=n,r.selectedIndex-1&&(i=r.options[r.selectedIndex]),i&&i.setAttribute(k,k)),t)},_customfunction(t){var n=this,i=n.element,r=n._customOption;r(r=e(option),n._customOption=r,i.append(r)),r.text(t),r[0].setAttribute(k,k)},_hideBusyfunction(){var e=this;clearTimeout(e._busy),e._arrow.removeClass(_),e._focused.attr(aria-busy,!1),e._busy=null},_showBusyfunction(){var e=this;e._request=!0,e._busy(e._busy=setTimeout(function(){e._arrow&&(e._focused.attr(aria-busy,!0),e._arrow.addClass(_))},100))},_requestEndfunction(){this._request=!1},_dataSourcefunction(){var t,n=this,i=n.element,r=n.options,o=r.dataSource{};o=e.isArray(o){datao}o,n._isSelect&&(t=i[0].selectedIndex,t-1&&(r.index=t),o.select=i,o.fields=[{fieldr.dataTextField},{fieldr.dataValueField}]),n.dataSourcen._unbindDataSource()(n._progressHandler=D(n._showBusy,n),n._requestEndHandler=D(n._requestEnd,n),n._errorHandler=D(n._hideBusy,n)),n.dataSource=a.data.DataSource.create(o).bind(x,n._progressHandler).bind(C,n._requestEndHandler).bind(error,n._errorHandler)},_firstItemfunction(){this.listView.first()},_lastItemfunction(){this.listView.last()},_nextItemfunction(){this.listView.next()},_prevItemfunction(){this.listView.prev()},_movefunction(e){var n,i,r,o,a=this,s=e.keyCode,l=s===c.DOWN;if(s===c.UPl){if(e.altKey)a.toggle(l);else{if(!a.listView.isBound())return a._fetch(a.dataSource.one(g,function(){a._fetch=!1,a._move(e)}),a._fetch=!0,a._filterSource()),e.preventDefault(),!0;if(r=a._focus(),a._fetchr&&!r.hasClass(k-state-selected)(l(a._nextItem(),a._focus()a._lastItem())(a._prevItem(),a._focus()a._firstItem())),a.trigger(b,{itema.listView.focus()}))return a._focus(r),t;a._select(a._focus(),!0),a.popup.visible()a._blur()}e.preventDefault(),i=!0}else if(s===c.ENTERs===c.TAB){if(a.popup.visible()&&e.preventDefault(),r=a._focus(),n=a.dataItem(),a.popup.visible()n&&a.text()===a._text(n)(r=null),o=a.filterInput&&a.filterInput[0]===h(),r){if(a.trigger(b,{itemr}))return;a._select(r)}else a.input&&(a._accessor(a.input.val()),a.listView.value(a.input.val()));a._focusElement&&a._focusElement(a.wrapper),o&&s===c.TABa.wrapper.focusout()a._blur(),a.close(),i=!0}else s===c.ESC&&(a.popup.visible()&&e.preventDefault(),a.close(),i=!0);return i},_fetchDatafunction(){var e=this,t=!!e.dataSource.view().length;e.element[0].disablede._requeste.options.cascadeFrome.listView.isBound()e._fetcht(e._fetch=!0,e.dataSource.fetch().done(function(){e._fetch=!1}))},_optionsfunction(e,n,i){var r,o,a,s,l=this,c=l.element,d=e.length,h=,p=0;for(n&&(h=n);dp;p++)r=option,o=e[p],a=l._text(o),s=l._value(o),s!==t&&(s+=,-1!==s.indexOf('')&&(s=s.replace(M,&quot;)),r+=' value='+s+''),r+=,a!==t&&(r+=u(a)),r+=option,h+=r;c.html(h),i!==t&&c.val(i)},_resetfunction(){var t=this,n=t.element,i=n.attr(form),r=ie(#+i)n.closest(form);r[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=r.on(reset,t._resetHandler))},_cascadefunction(){var t,n,r,o,a,s=this,l=s.options,c=l.cascadeFrom;if(c){if(n=e(#+c),t=n.data(kendo+l.name),t(t=n.data(kendo+P[l.name])),!t)return;l.autoBind=!1,o=l.cascadeFromFieldt.options.dataValueField,a=function(){s.dataSource.unbind(g,a);var e=s._accessor();s._userTriggereds._clearSelection(t,!0)e(e!==s.listView.value()[0]&&s.value(e),s.dataSource.view()[0]&&-1!==s.selectedIndexs._clearSelection(t,!0))s.dataSource.flatView().length&&s.select(l.index),s.enable(),s._triggerCascade(),s._userTriggered=!1},r=function(){var e,n,r,l=t.dataItem(),c=lt._value(l)null;c0===c(e=s.dataSource.filter(){},i(e,o),n=e.filters[],n.push({fieldo,operatoreq,valuec}),r=function(){s.unbind(dataBound,r),a.apply(s,arguments)},s.first(dataBound,r),s.dataSource.filter(n))(s.enable(!1),s._clearSelection(t),s._triggerCascade(),s._userTriggered=!1)},t.first(cascade,function(e){s._userTriggered=e.userTriggered,r()}),t.listView.isBound()r()t.value()s.enable(!1)}}}),r=.StaticList,o=a.ui.DataBoundWidget.extend({initfunction(t,n){l.fn.init.call(this,t,n),this.element.attr(role,listbox).css({overflowd.kineticScrollNeededauto}).on(click+r,li,D(this._click,this)).on(mouseenter+r,li,function(){e(this).addClass(v)}).on(mouseleave+r,li,function(){e(this).removeClass(v)}),this.header=this.element.before('div class=k-group-header style=displaynonediv').prev(),this._bound=!1,this._optionID=a.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var i=this.options.value;i&&(this._values=e.isArray(i)i.slice(0)[i]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=D(function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout(function(){e._renderHeader()},50)},this),this._fixedHeader()},options{nameStaticList,dataValueFieldnull,selectable!0,templatenull,groupTemplatenull,fixedGroupTemplatenull},events[click,change,activate,deactivate,dataBinding,dataBound,selectedItemChange],setDataSourcefunction(t){var n,i=this,r=t{};r=e.isArray(r){datar}r,r=a.data.DataSource.create(r),i.dataSource(i.dataSource.unbind(g,i._refreshHandler),n=i.value(),i.value([]),i._bound=!1,i.value(n))i._refreshHandler=D(i.refresh,i),i.dataSource=r.bind(g,i._refreshHandler),i._fixedHeader()},setOptionsfunction(e){l.fn.setOptions.call(this,e),this._fixedHeader(),this._getter(),this._templates(),this._render()},destroyfunction(){this.element.off(r),this._refreshHandler&&this.dataSource.unbind(g,this._refreshHandler),l.fn.destroy.call(this)},scrollToIndexfunction(e){var t=this.element[0].children[e];t&&this.scroll(t)
},_offsetHeightfunction(){var t=0,n=this.element.prevAll();return n.each(function(){var n=e(this);n.is(visible)&&(t+=n.hasClass(k-list-filter)n.children().height()n.outerHeight())}),t},setTouchScrollerfunction(e){this._touchScroller=e},scrollfunction(e){if(e){e[0]&&(e=e[0]);var t,n,i=this.element[0],r=e.offsetTop,o=e.offsetHeight,a=i.scrollTop,s=i.clientHeight,l=r+o,c=this._touchScroller;c(t=c.dimensions.y,t.update(!0),t.enabled&&rt.size&&(r=r-t.size+o+4,c.scrollTo(0,-r)))(n=this._offsetHeight(),ar-na=r-nla+s+n&&(a=l-s-n),i.scrollTop=a)}},selectedDataItemsfunction(n){var i=this._valueGetter;return n===tthis._dataItems.slice()(this._dataItems=n,this._values=e.map(n,function(e){return i(e)}),t)},nextfunction(){var e=this.focus();e=ee.next()0,this.focus(e)},prevfunction(){var e=this.focus();e=ee.prev()this.element[0].children.length-1,this.focus(e)},firstfunction(){this.focus(this.element[0].children[0])},lastfunction(){this.focus(this.element[0].children[this.element[0].children.length-1])},focusfunction(n){var i,r=this,o=r._optionID;return n===tr._current(n=r._get(n),n=n[n.length-1],n=e(this.element[0].children[n]),r._current&&(r._current.removeClass(m).removeAttr(aria-selected).removeAttr(f),r.trigger(deactivate)),i=!!n[0],i&&(n.addClass(m),r.scroll(n),n.attr(id,o)),r._current=innull,r.trigger(activate),t)},filterfunction(e){return e===tthis._filtered(this._filtered=e,t)},skipUpdatefunction(e){this._skipUpdate=e},selectfunction(n){var i,r=this,o=r.options.selectable,a=multiple!==o&&o!==!1,s=r._selectedIndices,l=[],c=[];if(n===t)return s.slice();if(n=r._get(n),1===n.length&&-1===n[0]&&(n=[]),!r._filtereda!r._deselectFiltered(n)){if(a&&!r._filtered&&-1!==e.inArray(n[n.length-1],s))return r._dataItems.length&&r._view.length&&(r._dataItems=[r._view[s[0]].item]),t;i=r._deselect(n),c=i.removed,n=i.indices,n.length&&(a&&(n=[n[n.length-1]]),l=r._select(n)),(l.lengthc.length)&&r.trigger(change,{addedl,removedc})}},removeAtfunction(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),{positione,dataItemthis._dataItems.splice(e,1)[0]}},setValuefunction(t){(===tnull===t)&&(t=[]),t=e.isArray(t)t instanceof pt.slice(0)[t],this._values=t},valuefunction(n){var i,r=this,o=r._valueDeferred;return n===tr._values.slice()(r.setValue(n),o&&resolved!==o.state()(r._valueDeferred=o=e.Deferred()),r.isBound()&&(i=r._valueIndices(r._values),multiple===r.options.selectable&&r.select(-1),r.select(i),o.resolve()),r._skipUpdate=!1,o)},_clickfunction(t){t.isDefaultPrevented()this.trigger(click,{iteme(t.currentTarget)})},_dataItemPositionfunction(e,t){var n,i=this._valueGetter(e),r=-1;for(n=0;t.lengthn;n++)if(i==t[n]){r=n;break}return r},_updateIndicesfunction(e,t){var n,i=this._view,r=0;if(!t.length)return[];for(;i.lengthr;r++)n=this._dataItemPosition(i[r].item,t),-1!==n&&(e[n]=r);return this._normalizeIndices(e)},_valueIndicesfunction(e){var t=[];return this._updateIndices(t,e)},_getterfunction(){this._valueGetter=a.getter(this.options.dataValueField)},_deselectfunction(t){var n,i,r,o=this,a=o.element[0].children,s=o.options.selectable,l=o._selectedIndices,c=o._dataItems,d=o._values,u=[],h=0,p=0;if(t=t.slice(),s!==!0&&t.length){if(multiple===s)for(;t.lengthh;h++)if(i=t[h],e(a[i]).hasClass(k-state-selected))for(n=0;l.lengthn;n++)if(r=l[n],r===i){e(a[r]).removeClass(k-state-selected),u.push({positionn+p,dataItemc.splice(n,1)[0]}),l.splice(n,1),t.splice(h,1),d.splice(n,1),p+=1,h-=1,n-=1;break}}else{for(;l.lengthh;h++)e(a[l[h]]).removeClass(k-state-selected),u.push({positionh,dataItemc[h]});o._values=[],o._dataItems=[],o._selectedIndices=[]}return{indicest,removedu}},_deselectFilteredfunction(t){for(var n,i,r,o=this.element[0].children,a=[],s=0;t.lengths;s++)i=t[s],n=this._view[i].item,r=this._dataItemPosition(n,this._values),r-1&&(a.push(this.removeAt(r)),e(o[i]).removeClass(k-state-selected));return a.length(this.trigger(change,{added[],removeda}),!0)!1},_selectfunction(t){var n,i,r=this,o=r.element[0].children,a=r._view,s=[],l=0;for(-1!==t[t.length-1]&&r.focus(t);t.lengthl;l++)i=t[l],n=a[i],-1!==i&&n&&(n=n.item,r._selectedIndices.push(i),r._dataItems.push(n),r._values.push(r._valueGetter(n)),e(o[i]).addClass(k-state-selected).attr(aria-selected,!0),s.push({dataItemn}));return s},_getfunction(n){returnnumber==typeof nn=[n]A(n)(n=e(n).data(offset-index),n===t&&(n=-1),n=[n]),n},_templatefunction(){var e=this,t=e.options,n=t.template;return n(n=a.template(n),n=function(e){return'li tabindex=-1 role=option unselectable=on class=k-item'+n(e)+li})n=a.template('li tabindex=-1 role=option unselectable=on class=k-item${'+a.expr(t.dataTextField,data)+}li,{useWithBlock!1}),n},_templatesfunction(){var e,t,n={templatethis.options.template,groupTemplatethis.options.groupTemplate,fixedGroupTemplatethis.options.fixedGroupTemplate};for(t in n)e=n[t],e&&function!=typeof e&&(n[t]=a.template(e));this.templates=n},_normalizeIndicesfunction(e){for(var n=[],i=0;e.lengthi;i++)e[i]!==t&&n.push(e[i]);return n},_firstVisibleItemfunction(){for(var t=this.element[0],n=t.scrollTop,i=e(t.children[0]).height(),r=Math.floor(ni)0,o=t.children[r]t.lastChild,a=this._offsetHeight(),s=no.offsetTop-a;o;)if(s){if(o.offsetTop+i-an!o.nextSibling)break;o=o.nextSibling}else{if(n=o.offsetTop-a!o.previousSibling)break;o=o.previousSibling}return this._view[e(o).data(offset-index)]},_fixedHeaderfunction(){this.dataSource.group().length&&this.templates.fixedGroupTemplate(this.header.show(),this.element.scroll(this._onScroll))(this.header.hide(),this.element.off(scroll,this._onScroll))},_renderHeaderfunction(){var e,t=this.templates.fixedGroupTemplate;t&&(e=this._firstVisibleItem(),e&&this.header.html(t(e.group)))},_renderItemfunction(e){var t='li tabindex=-1 role=option unselectable=on class=k-item',n=e.item,i=0!==e.index,r=e.selected;return i&&e.newGroup&&(t+= k-first),r&&(t+= k-state-selected),t+=''+(r' aria-selected=true')+' data-offset-index='+e.index+'',t+=this.templates.template(n),i&&e.newGroup&&(t+='div class=k-group'+this.templates.groupTemplate(e.group)+div),t+li},_renderfunction(){var e,t,n,i,r=,o=0,a=0,s=[],l=this.dataSource.view(),c=this.value(),d=this.dataSource.group().length;if(d)for(o=0;l.lengtho;o++)for(t=l[o],n=!0,i=0;t.items.lengthi;i++)e={selectedthis._selected(t.items[i],c),itemt.items[i],groupt.value,newGroupn,indexa},s[a]=e,a+=1,r+=this._renderItem(e),n=!1;else for(o=0;l.lengtho;o++)e={selectedthis._selected(l[o],c),iteml[o],indexo},s[o]=e,r+=this._renderItem(e);this._view=s,this.element[0].innerHTML=r,d&&s.length&&this._renderHeader()},_selectedfunction(e,t){var n=!this._filteredmultiple===this.options.selectable;return n&&-1!==this._dataItemPosition(e,t)},refreshfunction(e){var t,i=this,r=e&&e.action;i.trigger(dataBinding),i._render(),i._bound=!0,itemchange===r(t=n(i._dataItems,e.items),t.length&&i.trigger(selectedItemChange,{itemst}))i._filteredi._skipUpdate(i.focus(0),i._skipUpdate&&(i._skipUpdate=!1,i._updateIndices(i._selectedIndices,i._values)))r&&add!==ri.value(i._values),i._valueDeferred&&i._valueDeferred.resolve(),i.trigger(dataBound)},isBoundfunction(){return this._bound}}),s.plugin(o)}(window.kendo.jQuery),function(e,t){function n(e,t,n,i){var r,o=e.getFullYear(),a=t.getFullYear(),s=n.getFullYear();return o-=o%i,r=o+(i-1),ao&&(o=a),rs&&(r=s),o+-+r}function i(e){for(var t,n=0,i=e.min,r=e.max,o=e.start,a=e.setter,l=e.build,c=e.cells12,d=e.perRow4,u=e.contentM,h=e.emptyP,p=e.html'table tabindex=0 role=grid class=k-content k-meta-view cellspacing=0tbodytr role=row';cn;n++)n0&&n%d===0&&(p+='trtr role=row'),t=l(o,n),p+=s(o,i,r)u(t)h(t),a(o,1);return p+trtbodytable}function r(e,t,n){var i=e.getFullYear(),r=t.getFullYear(),o=r,a=0;return n&&(r-=r%n,o=r-r%n+n-1),ioa=1ri&&(a=-1),a}function o(){var e=new ft;return new ft(e.getFullYear(),e.getMonth(),e.getDate())}function a(e,t,n){var i=o();return e&&(i=new ft(+e)),tii=new ft(+t)in&&(i=new ft(+n)),i}function s(e,t,n){return+e=+t&&+n=+e}function l(e,t){return e.slice(t).concat(e.slice(0,t))}function c(e,t,n){t=t instanceof ftt.getFullYear()e.getFullYear()+nt,e.setFullYear(t)}function d(t){e(this).toggleClass($,it.indexOf(t.type)-1t.type==tt)}function u(e){e.preventDefault()}function h(e){return A(e).calendars.standard}function p(e){var n=gt[e.start],i=gt[e.depth],r=A(e.culture);e.format=T(e.formatr.calendars.standard.patterns.d),isNaN(n)&&(n=0,e.start=U),(i===tin)&&(e.depth=U),e.dates(e.dates=[])}function f(e){F&&e.find().attr(unselectable,on)}function g(e,t){for(var n=0,i=t.length;in;n++)if(e===+t[n])return!0;return!1}function m(e,t){return ee.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()!1}function v(e,t){return ee.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()!1}var _,w=window.kendo,y=w.support,b=w.ui,k=b.Widget,x=w.keys,C=w.parseDate,S=w.date.adjustDST,T=w._extractFormat,D=w.template,A=w.getCulture,E=w.support.transitions,I=EE.css+transform-origin,M=D('td#=data.cssClass# role=gridcella tabindex=-1 class=k-link href=# data-#=data.ns#value=#=data.dateString##=data.value#atd',{useWithBlock!1}),P=D('td role=gridcell&nbsp;td',{useWithBlock!1}),z=w.support.browser,F=z.msie&&9z.version,R=.kendoCalendar,B=click+R,H=keydown+R,L=id,N=min,O=left,V=slideIn,U=month,W=century,j=change,G=navigate,q=value,$=k-state-hover,Y=k-state-disabled,Q=k-state-focused,K=k-other-month,X=' class='+K+'',Z=k-nav-today,J=tdhas(.k-link),et=blur+R,tt=focus,nt=tt+R,it=y.touchtouchstartmouseenter,rt=y.touchtouchstart+Rmouseenter+R,ot=y.touchtouchend+R+ touchmove+Rmouseleave+R,at=6e4,st=864e5,lt=_prevArrow,ct=_nextArrow,dt=aria-disabled,ut=aria-selected,ht=e.proxy,pt=e.extend,ft=Date,gt={month0,year1,decade2,century3},mt=k.extend({initfunction(t,n){var i,r,o=this;k.fn.init.call(o,t,n),t=o.wrapper=o.element,n=o.options,n.url=window.unescape(n.url),o._templates(),o._header(),o._footer(o.footer),r=t.addClass(k-widget k-calendar).on(rt+ +ot,J,d).on(H,table.k-content,ht(o._move,o)).on(B,J,function(t){var n=t.currentTarget.firstChild;-1!=n.href.indexOf(#)&&t.preventDefault(),o._click(e(n))}).on(mouseup+R,table.k-content, .k-footer,function(){o._focusView(o.options.focusOnNav!==!1)}).attr(L),r&&(o._cellID=r+_cell_selected),p(n),i=C(n.value,n.format,n.culture),o._index=gt[n.start],o._current=new ft(+a(i,n.min,n.max)),o._addClassProxy=function(){o._active=!0,o._cell.addClass(Q)},o._removeClassProxy=function(){o._active=!1,o._cell.removeClass(Q)},o.value(i),w.notify(o)},options{nameCalendar,valuenull,minnew ft(1900,0,1),maxnew ft(2099,11,31),dates[],url,culture,footer,format,month{},startU,depthU,animation{horizontal{effectsV,reverse!0,duration500,divisor2},vertical{effectszoomIn,duration400}}},events[j,G],setOptionsfunction(e){var t=this;p(e),e.dates[0](e.dates=t.options.dates),k.fn.setOptions.call(t,e),t._templates(),t._footer(t.footer),t._index=gt[t.options.start],t.navigate()},destroyfunction(){var e=this,t=e._today;e.element.off(R),e._title.off(R),e[lt].off(R),e[ct].off(R),w.destroy(e._table),t&&w.destroy(t.off(R)),k.fn.destroy.call(e)},currentfunction(){return this._current},viewfunction(){return this._view},focusfunction(e){e=ethis._table,this._bindTable(e),e.focus()},minfunction(e){return this._option(N,e)},maxfunction(e){return this._option(max,e)},navigateToPastfunction(){this._navigate(lt,-1)},navigateToFuturefunction(){this._navigate(ct,1)},navigateUpfunction(){var e=this,t=e._index;e._title.hasClass(Y)e.navigate(e._current,++t)},navigateDownfunction(e){var n=this,i=n._index,r=n.options.depth;if(e)return i===gt[r](+n._value!=+e&&(n.value(e),n.trigger(j)),t)(n.navigate(e,--i),t)},navigatefunction(n,i){i=isNaN(i)gt[i]i;var r,o,s,l,c=this,d=c.options,u=d.culture,h=d.min,p=d.max,g=c._title,m=c._table,v=c._oldTable,w=c._value,y=c._current,b=n&&+n+y,k=i!==t&&i!==c._index;n(n=y),c._current=n=new ft(+a(n,h,p)),i===ti=c._indexc._index=i,c._view=o=_.views[i],s=o.compare,l=i===gt[W],g.toggleClass(Y,l).attr(dt,l),l=s(n,h)1,c[lt].toggleClass(Y,l).attr(dt,l),l=s(n,p)-1,c[ct].toggleClass(Y,l).attr(dt,l),m&&v&&v.data(animating)&&(v.kendoStop(!0,!0),m.kendoStop(!0,!0)),c._oldTable=m,(!mc._changeView)&&(g.html(o.title(n,h,p,u)),c._table=r=e(o.content(pt({minh,maxp,daten,urld.url,datesd.dates,formatd.format,cultureu},c[o.name]))),f(r),c._animate({fromm,tor,verticalk,futureb}),c._focus(n),c.trigger(G)),i===gt[d.depth]&&w&&c._class(k-state-selected,o.toDateString(w)),c._class(Q,o.toDateString(n)),!m&&c._cell&&c._cell.removeClass(Q),c._changeView=!0},valuefunction(e){var n=this,i=n._view,r=n.options,o=n._view,a=r.min,l=r.max;return e===tn._value(e=C(e,r.format,r.culture),null!==e&&(e=new ft(+e),s(e,a,l)(e=null)),n._value=e,o&&null===e&&n._celln._cell.removeClass(k-state-selected)(n._changeView=!ei&&0!==i.compare(e,n._current),n.navigate(e)),t)},_movefunction(t){var n,i,r,o,s=this,l=s.options,c=t.keyCode,d=s._view,u=s._index,h=new ft(+s._current),p=w.support.isRtl(s.wrapper);return t.target===s._table[0]&&(s._active=!0),t.ctrlKeyc==x.RIGHT&&!pc==x.LEFT&&p(s.navigateToFuture(),i=!0)c==x.LEFT&&!pc==x.RIGHT&&p(s.navigateToPast(),i=!0)c==x.UP(s.navigateUp(),i=!0)c==x.DOWN&&(s._click(e(s._cell[0].firstChild)),i=!0)(c==x.RIGHT&&!pc==x.LEFT&&p(n=1,i=!0)c==x.LEFT&&!pc==x.RIGHT&&p(n=-1,i=!0)c==x.UP(n=0===u-7-4,i=!0)c==x.DOWN(n=0===u74,i=!0)c==x.ENTER(s._click(e(s._cell[0].firstChild)),i=!0)c==x.HOMEc==x.END(r=c==x.HOMEfirstlast,o=d[r](h),h=new ft(o.getFullYear(),o.getMonth(),o.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()),i=!0)c==x.PAGEUP(i=!0,s.navigateToPast())c==x.PAGEDOWN&&(i=!0,s.navigateToFuture()),(nr)&&(rd.setDate(h,n),s._focus(a(h,l.min,l.max)))),i&&t.preventDefault(),s._current},_animatefunction(e){var t=this,n=e.from,i=e.to,r=t._active;nn.parent().data(animating)(n.off(R),n.parent().kendoStop(!0,!0).remove(),n.remove(),i.insertAfter(t.element[0].firstChild),t._focusView(r))n.is(visible)&&t.options.animation!==!1t[e.vertical_vertical_horizontal](n,i,e.future)(i.insertAfter(n),n.off(R).remove(),t._focusView(r))(i.insertAfter(t.element[0].firstChild),t._bindTable(i))},_horizontalfunction(e,t,n){var i=this,r=i._active,o=i.options.animation.horizontal,a=o.effects,s=e.outerWidth();a&&-1!=a.indexOf(V)&&(e.add(t).css({widths}),e.wrap(div),i._focusView(r,e),e.parent().css({positionrelative,width2s,floatO,margin-leftn0-s}),t[ninsertAfterinsertBefore](e),pt(o,{effectsV++(nrightO),completefunction(){e.off(R).remove(),i._oldTable=null,t.unwrap(),i._focusView(r)}}),e.parent().kendoStop(!0,!0).kendoAnimate(o))},_verticalfunction(e,t){var n,i,r=this,o=r.options.animation.vertical,a=o.effects,s=r._active;a&&-1!=a.indexOf(zoom)&&(t.css({positionabsolute,tope.prev().outerHeight(),left0}).insertBefore(e),I&&(n=r._cellByDate(r._view.toDateString(r._current)),i=n.position(),i=i.left+parseInt(n.width()2,10)+px +(i.top+parseInt(n.height()2,10)+px),t.css(I,i)),e.kendoStop(!0,!0).kendoAnimate({effectsfadeOut,duration600,completefunction(){e.off(R).remove(),r._oldTable=null,t.css({positionstatic,top0,left0}),r._focusView(s)}}),t.kendoStop(!0,!0).kendoAnimate(o))},_cellByDatefunction(t){return this._table.find(tdnot(.+K+)).filter(function(){return e(this.firstChild).attr(w.attr(q))===t})},_classfunction(t,n){var i=this,r=i._cellID,o=i._cell;o&&o.removeAttr(ut).removeAttr(aria-label).removeAttr(L),o=i._table.find(tdnot(.+K+)).removeClass(t).filter(function(){return e(this.firstChild).attr(w.attr(q))===n}).attr(ut,!0),t!==Qi._activei.options.focusOnNav===!1(t=),o.addClass(t),o[0]&&(i._cell=o),r&&(o.attr(L,r),i._table.removeAttr(aria-activedescendant).attr(aria-activedescendant,r))},_bindTablefunction(e){e.on(nt,this._addClassProxy).on(et,this._removeClassProxy)},_clickfunction(e){var t=this,n=t.options,i=new Date(+t._current),r=e.attr(w.attr(q)).split();r=new ft(r[0],r[1],r[2]),S(r,0),t._view.setDate(i,r),t.navigateDown(a(i,n.min,n.max))},_focusfunction(e){var t=this,n=t._view;0!==n.compare(e,t._current)t.navigate(e)(t._current=e,t._class(Q,n.toDateString(e)))},_focusViewfunction(e,t){e&&this.focus(t)},_footerfunction(n){var i=this,r=o(),a=i.element,s=a.find(.k-footer);return n(s[0](s=e('div class=k-footera href=# class=k-link k-nav-todayadiv').appendTo(a)),i._today=s.show().find(.k-link).html(n(r)).attr(title,w.toString(r,D,i.options.culture)),i._toggle(),t)(i._toggle(!1),s.hide(),t)},_headerfunction(){var e,t=this,n=t.element;n.find(.k-header)[0]n.html('div class=k-headera href=# role=button class=k-link k-nav-prevspan class=k-icon k-i-arrow-wspanaa href=# role=button aria-live=assertive aria-atomic=true class=k-link k-nav-fastaa href=# role=button class=k-link k-nav-nextspan class=k-icon k-i-arrow-espanadiv'),e=n.find(.k-link).on(rt+ +ot+ +nt+ +et,d).click(!1),t._title=e.eq(1).on(B,function(){t._active=t.options.focusOnNav!==!1,t.navigateUp()}),t[lt]=e.eq(0).on(B,function(){t._active=t.options.focusOnNav!==!1,t.navigateToPast()}),t[ct]=e.eq(2).on(B,function(){t._active=t.options.focusOnNav!==!1,t.navigateToFuture()})},_navigatefunction(e,t){var n=this,i=n._index+1,r=new ft(+n._current);e=n[e],e.hasClass(Y)(i3r.setFullYear(r.getFullYear()+100t)_.views[i].setDate(r,t),n.navigate(r))},_optionfunction(e,n){var i,r=this,o=r.options,a=r._valuer._current;return n===to[e](n=C(n,o.format,o.culture),n&&(o[e]=new ft(+n),i=e===Nnaan,(iv(a,n))&&(i&&(r._value=null),r._changeView=!0),r._changeView(r._changeView=!(!o.month.content&&!o.month.empty)),r.navigate(r._value),r._toggle()),t)},_togglefunction(e){var n=this,i=n.options,r=n._today;e===t&&(e=s(o(),i.min,i.max)),r&&(r.off(B),er.addClass(Z).removeClass(Y).on(B,ht(n._todayClick,n))r.removeClass(Z).addClass(Y).on(B,u))},_todayClickfunction(e){var t=this,n=gt[t.options.depth],i=o();e.preventDefault(),0===t._view.compare(t._current,i)&&t._index==n&&(t._changeView=!1),t._value=i,t.navigate(i,n),t.trigger(j)},_templatesfunction(){var e=this,t=e.options,n=t.footer,i=t.month,r=i.content,o=i.empty;e.month={contentD('td#=data.cssClass# role=gridcella tabindex=-1 class=k-link#=data.linkClass# href=#=data.url# '+w.attr(value)+'=#=data.dateString# title=#=data.title#'+(r#=data.value#)+atd,{useWithBlock!!r}),emptyD('td role=gridcell'+(o&nbsp;)+td,{useWithBlock!!o})},e.footer=n!==!1D(n'#= kendo.toString(data,D,'+t.culture+') #',{useWithBlock!1})null}});b.plugin(mt),_={firstDayOfMonthfunction(e){return new ft(e.getFullYear(),e.getMonth(),1)},firstVisibleDayfunction(e,t){t=tw.culture().calendar;for(var n=t.firstDay,i=new ft(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());i.getDay()!=n;)_.setTime(i,-1st);return i},setTimefunction(e,t){var n=e.getTimezoneOffset(),i=new ft(e.getTime()+t),r=i.getTimezoneOffset()-n;e.setTime(i.getTime()+rat)},views[{nameU,titlefunction(e,t,n,i){return h(i).months.names[e.getMonth()]+ +e.getFullYear()},contentfunction(e){for(var t=this,n=0,r=e.min,o=e.max,a=e.date,s=e.dates,c=e.format,d=e.culture,u=e.url,p=u&&s[0],f=h(d),m=f.firstDay,v=f.days,y=l(v.names,m),b=l(v.namesShort,m),k=_.firstVisibleDay(a,f),x=t.first(a),C=t.last(a),T=t.toDateString,D=new ft,A='table tabindex=0 role=grid class=k-content cellspacing=0theadtr role=row';7n;n++)A+='th scope=col title='+y[n]+''+b[n]+th;return D=new ft(D.getFullYear(),D.getMonth(),D.getDate()),S(D,0),D=+D,i({cells42,perRow7,htmlA+='trtheadtbodytr role=row',startnew ft(k.getFullYear(),k.getMonth(),k.getDate()),minnew ft(r.getFullYear(),r.getMonth(),r.getDate()),maxnew ft(o.getFullYear(),o.getMonth(),o.getDate()),contente.content,emptye.empty,settert.setDate,buildfunction(e){var t=[],n=e.getDay(),i=,r=#;return(xeeC)&&t.push(K),+e===D&&t.push(k-today),(0===n6===n)&&t.push(k-weekend),p&&g(+e,s)&&(r=u.replace({0},w.toString(e,c,d)),i= k-action-link),{datee,datess,nsw.ns,titlew.toString(e,D,d),valuee.getDate(),dateStringT(e),cssClasst[0]' class='+t.join( )+'',linkClassi,urlr}}})},firstfunction(e){return _.firstDayOfMonth(e)},lastfunction(e){var t=new ft(e.getFullYear(),e.getMonth()+1,0),n=_.firstDayOfMonth(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i60),t},comparefunction(e,t){var n,i=e.getMonth(),r=e.getFullYear(),o=t.getMonth(),a=t.getFullYear();return n=ra1ar-1i==o0io1-1},setDatefunction(e,t){var n=e.getHours();t instanceof fte.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())_.setTime(e,tst),S(e,n)},toDateStringfunction(e){return e.getFullYear()++e.getMonth()++e.getDate()}},{nameyear,titlefunction(e){return e.getFullYear()},contentfunction(e){var t=h(e.culture).months.namesAbbr,n=this.toDateString,r=e.min,o=e.max;return i({minnew ft(r.getFullYear(),r.getMonth(),1),maxnew ft(o.getFullYear(),o.getMonth(),1),startnew ft(e.date.getFullYear(),0,1),setterthis.setDate,buildfunction(e){return{valuet[e.getMonth()],nsw.ns,dateStringn(e),cssClass}}})},firstfunction(e){return new ft(e.getFullYear(),0,e.getDate())},lastfunction(e){return new ft(e.getFullYear(),11,e.getDate())},comparefunction(e,t){return r(e,t)},setDatefunction(e,t){var n,i=e.getHours();t instanceof ft(n=t.getMonth(),e.setFullYear(t.getFullYear(),n,e.getDate()),n!==e.getMonth()&&e.setDate(0))(n=e.getMonth()+t,e.setMonth(n),n11&&(n-=12),n0&&e.getMonth()!=n&&e.setDate(0)),S(e,i)},toDateStringfunction(e){return e.getFullYear()++e.getMonth()+1}},{namedecade,titlefunction(e,t,i){return n(e,t,i,10)},contentfunction(e){var t=e.date.getFullYear(),n=this.toDateString;return i({startnew ft(t-t%10-1,0,1),minnew ft(e.min.getFullYear(),0,1),maxnew ft(e.max.getFullYear(),0,1),setterthis.setDate,buildfunction(e,t){return{valuee.getFullYear(),nsw.ns,dateStringn(e),cssClass0===t11==tX}}})},firstfunction(e){var t=e.getFullYear();return new ft(t-t%10,e.getMonth(),e.getDate())},lastfunction(e){var t=e.getFullYear();return new ft(t-t%10+9,e.getMonth(),e.getDate())},comparefunction(e,t){return r(e,t,10)},setDatefunction(e,t){c(e,t,1)},toDateStringfunction(e){return e.getFullYear()+01}},{nameW,titlefunction(e,t,i){return n(e,t,i,100)},contentfunction(e){var t=e.date.getFullYear(),n=e.min.getFullYear(),r=e.max.getFullYear(),o=this.toDateString,a=n,s=r;return a-=a%10,s-=s%10,10s-a&&(s=a+9),i({startnew ft(t-t%100-10,0,1),minnew ft(a,0,1),maxnew ft(s,0,1),setterthis.setDate,buildfunction(e,t){var i=e.getFullYear(),a=i+9;return ni&&(i=n),ar&&(a=r),{nsw.ns,valuei+ - +a,dateStringo(e),cssClass0===t11==tX}}})},firstfunction(e){var t=e.getFullYear();return new ft(t-t%100,e.getMonth(),e.getDate())},lastfunction(e){var t=e.getFullYear();return new ft(t-t%100+99,e.getMonth(),e.getDate())},comparefunction(e,t){return r(e,t,100)},setDatefunction(e,t){c(e,t,10)},toDateStringfunction(e){var t=e.getFullYear();return t-t%10+01}}]},_.isEqualDatePart=m,_.makeUnselectable=f,_.restrictValue=a,_.isInRange=s,_.normalize=p,_.viewsEnum=gt,w.calendar=_}(window.kendo.jQuery),function(e,t){function n(t){var n=t.parseFormats,i=t.format;B.normalize(t),n=e.isArray(n)n[n],-1===e.inArray(i,n)&&n.splice(0,0,t.format),t.parseFormats=n}function i(e){e.preventDefault()}var r,o=window.kendo,a=o.ui,s=a.Widget,l=o.parseDate,c=o.keys,d=o.template,u=o._activeElement,h=div ,p=span ,f=.kendoDatePicker,g=click+f,m=open,v=close,_=change,w=disabled,y=readonly,b=k-state-default,k=k-state-focused,x=k-state-selected,C=k-state-disabled,S=k-state-hover,T=mouseenter+f+ mouseleave+f,D=mousedown+f,A=id,E=min,I=max,M=month,P=aria-disabled,z=aria-expanded,F=aria-hidden,R=aria-readonly,B=o.calendar,H=B.isInRange,L=B.restrictValue,N=B.isEqualDatePart,O=e.extend,V=e.proxy,U=Date,W=function(t){var n,i=this,r=document.body,s=e(h).attr(F,true).addClass(k-calendar-container).appendTo(r);i.options=t=t{},n=t.id,n&&(n+=_dateview,s.attr(A,n),i._dateViewID=n),i.popup=new a.Popup(s,O(t.popup,t,{namePopup,isRtlo.support.isRtl(t.anchor)})),i.div=s,i.value(t.value)};W.prototype={_calendarfunction(){var t,n=this,r=n.calendar,s=n.options;r(t=e(h).attr(A,o.guid()).appendTo(n.popup.element).on(D,i).on(g,tdhas(.k-link),V(n._click,n)),n.calendar=r=new a.Calendar(t),n._setOptions(s),o.calendar.makeUnselectable(r.element),r.navigate(n._valuen._current,s.start),n.value(n._value))},_setOptionsfunction(e){this.calendar.setOptions({focusOnNav!1,changee.change,culturee.culture,datese.dates,depthe.depth,footere.footer,formate.format,maxe.max,mine.min,monthe.month,starte.start})},setOptionsfunction(e){var t=this.options;this.options=O(t,e,{changet.change,closet.close,opent.open}),this.calendar&&this._setOptions(this.options)},destroyfunction(){this.popup.destroy()},openfunction(){var e=this;e._calendar(),e.popup.open()},closefunction(){this.popup.close()},minfunction(e){this._option(E,e)},maxfunction(e){this._option(I,e)},togglefunction(){var e=this;e[e.popup.visible()vm]()},movefunction(e){var n=this,i=e.keyCode,r=n.calendar,o=e.ctrlKey&&i==c.DOWNi==c.ENTER;if(i==c.ESC)return n.close(),t;if(e.altKey)return i==c.DOWN(n.open(),e.preventDefault())i==c.UP&&(n.close(),e.preventDefault()),t;if(n.popup.visible())return o&&r._cell.hasClass(x)(n.close(),e.preventDefault(),t)(n._current=r._move(e),t)},currentfunction(e){this._current=e,this.calendar._focus(e)},valuefunction(e){var t=this,n=t.calendar,i=t.options;t._value=e,t._current=new U(+L(e,i.min,i.max)),n&&n.value(e)},_clickfunction(e){-1!==e.currentTarget.className.indexOf(x)&&this.close()},_optionfunction(e,t){var n=this,i=n.calendar;n.options[e]=t,i&&i[e](t)}},W.normalize=n,o.DateView=W,r=s.extend({initfunction(e,t){var i,r,a=this;s.fn.init.call(a,e,t),e=a.element,t=a.options,t.min=l(e.attr(min))l(t.min),t.max=l(e.attr(max))l(t.max),n(t),a._wrapper(),a.dateView=new W(O({},t,{ide.attr(A),anchora.wrapper,changefunction(){a._change(this.value()),a.close()},closefunction(t){a.trigger(v)t.preventDefault()(e.attr(z,!1),r.attr(F,!0))},openfunction(t){var n,i=a.options;a.trigger(m)t.preventDefault()(a.element.val()!==a._oldText&&(n=l(e.val(),i.parseFormats,i.culture),a.dateView[ncurrentvalue](n)),e.attr(z,!0),r.attr(F,!1),a._updateARIA(n))}})),r=a.dateView.div,a._icon();try{e[0].setAttribute(type,text)}catch(c){e[0].type=text}e.addClass(k-input).attr({rolecombobox,aria-expanded!1,aria-ownsa.dateView._dateViewID}),a._reset(),a._template(),i=e.is([disabled]),ia.enable(!1)a.readonly(e.is([readonly])),a._old=a._update(t.valuea.element.val()),a._oldText=e.val(),o.notify(a)},events[m,v,_],options{nameDatePicker,valuenull,footer,format,culture,parseFormats[],minnew Date(1900,0,1),maxnew Date(2099,11,31),startM,depthM,animation{},month{},dates[],ARIATemplate'Current focused date is #=kendo.toString(data.current, D)#'},setOptionsfunction(e){var t=this,i=t._value;s.fn.setOptions.call(t,e),e=t.options,e.min=l(e.min),e.max=l(e.max),n(e),t.dateView.setOptions(e),i&&(t.element.val(o.toString(i,e.format,e.culture)),t._updateARIA(i))},_editablefunction(e){var t=this,n=t._dateIcon.off(f),r=t.element.off(f),o=t._inputWrapper.off(f),a=e.readonly,s=e.disable;as(o.addClass(sCb).removeClass(sbC),r.attr(w,s).attr(y,a).attr(P,s).attr(R,a))(o.addClass(b).removeClass(C).on(T,t._toggleHover),r.removeAttr(w).removeAttr(y).attr(P,!1).attr(R,!1).on(keydown+f,V(t._keydown,t)).on(focusout+f,V(t._blur,t)).on(focus+f,function(){t._inputWrapper.addClass(k)}),n.on(g,V(t._click,t)).on(D,i))},readonlyfunction(e){this._editable({readonlye===t!0e,disable!1})},enablefunction(e){this._editable({readonly!1,disable!(e=e===t!0e)})},destroyfunction(){var e=this;s.fn.destroy.call(e),e.dateView.destroy(),e.element.off(f),e._dateIcon.off(f),e._inputWrapper.off(f),e._form&&e._form.off(reset,e._resetHandler)},openfunction(){this.dateView.open()},closefunction(){this.dateView.close()},minfunction(e){return this._option(E,e)},maxfunction(e){return this._option(I,e)},valuefunction(e){var n=this;return e===tn._value(n._old=n._update(e),null===n._old&&n.element.val(),n._oldText=n.element.val(),t)},_toggleHoverfunction(t){e(t.currentTarget).toggleClass(S,mouseenter===t.type)},_blurfunction(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(k)},_clickfunction(){var e=this,t=e.element;e.dateView.toggle(),o.support.toucht[0]===u()t.focus()},_changefunction(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.element.trigger(_),t.trigger(_))},_keydownfunction(e){var t=this,n=t.dateView,i=t.element.val();n.popup.visible()e.keyCode!=c.ENTERi===t._oldText(n.move(e),t._updateARIA(n._current))t._change(i)},_iconfunction(){var t,n=this,i=n.element;t=i.next(span.k-select),t[0](t=e('span unselectable=on class=k-selectspan unselectable=on class=k-icon k-i-calendarselectspanspan').insertAfter(i)),n._dateIcon=t.attr({rolebutton,aria-controlsn.dateView._dateViewID})},_optionfunction(e,n){var i=this,r=i.options;return n===tr[e](n=l(n,r.parseFormats,r.culture),n&&(r[e]=new U(+n),i.dateView[e](n)),t)},_updatefunction(e){var t,n=this,i=n.options,r=i.min,a=i.max,s=n._value,c=l(e,i.parseFormats,i.culture),d=null===c&&null===sc instanceof Date&&s instanceof Date;return+c===+s&&d(t=o.toString(c,i.format,i.culture),t!==e&&n.element.val(null===cet),c)(null!==c&&N(c,r)c=L(c,r,a)H(c,r,a)(c=null),n._value=c,n.dateView.value(c),n.element.val(co.toString(c,i.format,i.culture)e),n._updateARIA(c),c)},_wrapperfunction(){var t,n=this,i=n.element;t=i.parents(.k-datepicker),t[0](t=i.wrap(p).parent().addClass(k-picker-wrap k-state-default),t=t.wrap(p).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width100%,heighti[0].style.height}),n.wrapper=t.addClass(k-widget k-datepicker k-header).addClass(i[0].className),n._inputWrapper=e(t[0].firstChild)},_resetfunction(){var t=this,n=t.element,i=n.attr(form),r=ie(#+i)n.closest(form);r[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue)},t._form=r.on(reset,t._resetHandler))},_templatefunction(){this._ariaTemplate=d(this.options.ARIATemplate)},_updateARIAfunction(e){var t,n=this,i=n.dateView.calendar;n.element.removeAttr(aria-activedescendant),i&&(t=i._cell,t.attr(aria-label,n._ariaTemplate({currentei.current()})),n.element.attr(aria-activedescendant,t.attr(id)))}}),a.plugin(r)}(window.kendo.jQuery),function(e,t){function n(e,t,n){return nt.substring(0,e).split(n).length-10}function i(e,t,i){return t.split(i)[n(e,t,i)]}function r(e,t,i,r){var o=t.split(r);return o.splice(n(e,t,r),1,i),r&&!==o[o.length-1]&&o.push(),o.join(r)}var o=window.kendo,a=o.support,s=o.caret,l=o._activeElement,c=a.placeholder,d=o.ui,u=d.List,h=o.keys,p=o.data.DataSource,f=aria-disabled,g=aria-readonly,m=k-state-default,v=disabled,_=readonly,w=k-state-focused,y=k-state-selected,b=k-state-disabled,k=k-state-hover,x=.kendoAutoComplete,C=mouseenter+x+ mouseleave+x,S=e.proxy,T=u.extend({initfunction(t,n){var i,r=this;r.ns=x,n=e.isArray(n){dataSourcen}n,u.fn.init.call(r,t,n),t=r.element,n=r.options,n.placeholder=n.placeholdert.attr(placeholder),c&&t.attr(placeholder,n.placeholder),r._wrapper(),r._loader(),r._dataSource(),r._ignoreCase(),t[0].type=text,i=r.wrapper,r._popup(),t.addClass(k-input).on(keydown+x,S(r._keydown,r)).on(paste+x,S(r._search,r)).on(focus+x,function(){r._prev=r._accessor(),r._placeholder(!1),i.addClass(w)
}).on(focusout+x,function(){r._change(),r._placeholder(),i.removeClass(w)}).attr({autocompleteoff,roletextbox,aria-haspopup!0}),r._enable(),r._old=r._accessor(),t[0].id&&t.attr(aria-owns,r.ul[0].id),r._aria(),r._placeholder(),r._initList(),o.notify(r)},options{nameAutoComplete,enabled!0,suggest!1,template,groupTemplate#data#,fixedGroupTemplate#data#,dataTextField,minLength1,delay200,height200,filterstartswith,ignoreCase!0,highlightFirst!1,separatornull,placeholder,animation{},valuenull},_dataSourcefunction(){var e=this;e.dataSource&&e._refreshHandlere._unbindDataSource()e._progressHandler=S(e._showBusy,e),e.dataSource=p.create(e.options.dataSource).bind(progress,e._progressHandler)},setDataSourcefunction(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource)},events[open,close,change,select,filtering,dataBinding,dataBound],setOptionsfunction(e){var t=this._listOptions(e);u.fn.setOptions.call(this,e),t.dataValueField=t.dataTextField,this.listView.setOptions(t),this._accessors(),this._aria()},_editablefunction(e){var t=this,n=t.element,i=t.wrapper.off(x),r=e.readonly,o=e.disable;ro(i.addClass(obm).removeClass(omb),n.attr(v,o).attr(_,r).attr(f,o).attr(g,r))(i.addClass(m).removeClass(b).on(C,t._toggleHover),n.removeAttr(v).removeAttr(_).attr(f,!1).attr(g,!1))},closefunction(){var e=this,t=e.listView.focus();t&&t.removeClass(y),e.popup.close()},destroyfunction(){var e=this;e.element.off(x),e.wrapper.off(x),u.fn.destroy.call(e)},refreshfunction(){this.listView.refresh()},selectfunction(e){this._select(e)},searchfunction(e){var t,n=this,r=n.options,o=r.ignoreCase,a=r.separator;e=en._accessor(),clearTimeout(n._typing),a&&(e=i(s(n.element)[0],e,a)),t=e.length,(!tt=r.minLength)&&(n._open=!0,n.listView.filter(!0),n._filterSource({valueoe.toLowerCase()e,operatorr.filter,fieldr.dataTextField,ignoreCaseo}))},suggestfunction(e){var i,r=this,o=r._last,a=r._accessor(),c=r.element[0],d=s(c)[0],p=r.options.separator,f=a.split(p),g=n(d,a,p),m=d;return o==h.BACKSPACEo==h.DELETE(r._last=t,t)(e=e,string!=typeof e&&(e[0]&&(e=r.dataSource.view()[u.inArray(e[0],r.ul[0])]),e=er._text(e)),0=d&&(d=a.toLowerCase().indexOf(e.toLowerCase())+1),i=a.substring(0,d).lastIndexOf(p),i=i-1d-(i+p.length)d,a=f[g].substring(0,i),e&&(i=e.toLowerCase().indexOf(a.toLowerCase()),i-1&&(e=e.substring(i+a.length),m=d+e.length,a+=e),p&&!==f[f.length-1]&&f.push()),f[g]=a,r._accessor(f.join(p)),c===l()&&s(c,d,m),t)},valuefunction(e){return e===tthis._accessor()(this.listView.value(e),this._accessor(e),this._old=this._accessor(),t)},_clickfunction(e){var n=e.item,i=this.element;return this.trigger(select,{itemn})(this.close(),t)(this._select(n),this._blur(),s(i,i.val().length),t)},_initListfunction(){var t=this,n=t.options.virtual,i=!!n,r=S(t._listBound,t),a={autoBind!1,selectable!0,dataSourcet.dataSource,clicke.proxy(t._click,this),changee.proxy(t._listChange,this),activateS(t._activateItem,t),deactivateS(t._deactivateItem,t),dataBindingfunction(){t.trigger(dataBinding),t._angularItems(cleanup)},dataBoundr,listBoundr};a=e.extend(t._listOptions(),a,object==typeof nn{}),a.dataValueField=a.dataTextField,t.listView=inew o.ui.VirtualList(t.ul,a)new o.ui.StaticList(t.ul,a),t.listView.value(t.options.value)},_listBoundfunction(){var e,n,i=this,r=i.popup,o=i.options,a=i.dataSource.flatView(),s=a.length,c=i.element[0]===l();i._angularItems(compile),i.listView.value([]),i.listView.focus(-1),i.listView.filter(!1),i._calculateGroupPadding(i._height(s)),r.visible()&&r._position(),s&&(n=this.listView.focus(),o.highlightFirst&&!n&&i.listView.first(),o.suggest&&c&&i.suggest(a[0])),i._open&&(i._open=!1,e=sopenclose,i._typing&&!c&&(e=close),r[e](),i._typing=t),i._touchScroller&&i._touchScroller.reset(),i._hideBusy(),i._makeUnselectable(),i._hideBusy(),i.trigger(dataBound)},_listChangefunction(){this.listView.filter()this._selectValue(this.listView.selectedDataItems()[0])},_selectValuefunction(e){var t=this.options.separator,n=;e&&(n=this._text(e)),null===n&&(n=),t&&(n=r(s(this.element)[0],this._accessor(),n,t)),this._prev=n,this._accessor(n),this._placeholder()},_accessorfunction(e){var n=this,i=n.element[0];return e===t(e=i.value,i.className.indexOf(k-readonly)-1&&e===n.options.placeholdere)(i.value=null===ee,n._placeholder(),t)},_keydownfunction(e){var t=this,n=e.keyCode,i=t.popup.visible(),r=this.listView.focus();if(t._last=n,n===h.DOWN)i&&this._move(rnextfirst),e.preventDefault();else if(n===h.UP)i&&this._move(rprevlast),e.preventDefault();else if(n===h.ENTERn===h.TAB){if(n===h.ENTER&&i&&e.preventDefault(),i&&r){if(t.trigger(select,{itemr}))return;this._select(r)}this._blur()}else n===h.ESC(i&&e.preventDefault(),t.close())t._search()},_movefunction(e){this.listView[e](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusyfunction(){var e=this;clearTimeout(e._busy),e._loading.hide(),e.element.attr(aria-busy,!1),e._busy=null},_showBusyfunction(){var e=this;e._busy(e._busy=setTimeout(function(){e.element.attr(aria-busy,!0),e._loading.show()},100))},_placeholderfunction(e){if(!c){var n,i=this,r=i.element,o=i.options.placeholder;if(o){if(n=r.val(),e===t&&(e=!n),e(o=n!==on),n===i._old&&!e)return;r.toggleClass(k-readonly,e).val(o),or[0]!==document.activeElements(r[0],0,0)}}},_searchfunction(){var e=this;clearTimeout(e._typing),e._typing=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())},e.options.delay)},_selectfunction(e){this.listView.select(e)},_loaderfunction(){this._loading=e('span class=k-icon k-loading style=displaynonespan').insertAfter(this.element)},_toggleHoverfunction(t){e(t.currentTarget).toggleClass(k,mouseenter===t.type)},_wrapperfunction(){var e,t=this,n=t.element,i=n[0];e=n.parent(),e.is(span.k-widget)(e=n.wrap(span ).parent()),e.attr(tabindex,-1),e.attr(role,presentation),e[0].style.cssText=i.style.cssText,n.css({width100%,heighti.style.height}),t._focused=t.element,t.wrapper=e.addClass(k-widget k-autocomplete k-header).addClass(i.className)}});d.plugin(T)}(window.kendo.jQuery),function(e,t){function n(e,t,n){for(var i,r=0,o=t.length-1;or;++r)i=t[r],i in e(e[i]={}),e=e[i];e[t[o]]=n}var i=window.kendo,r=i.ui,o=r.Select,a=i.support,s=i._activeElement,l=i.data.ObservableObject,c=i.keys,d=.kendoDropDownList,u=disabled,h=readonly,p=change,f=k-state-focused,g=k-state-default,m=k-state-disabled,v=aria-disabled,_=aria-readonly,w=mouseenter+d+ mouseleave+d,y=tabindex,b=filter,k=accept,x=e.proxy,C=o.extend({initfunction(n,r){var a,s,l=this,c=r&&r.index;l.ns=d,r=e.isArray(r){dataSourcer}r,o.fn.init.call(l,n,r),r=l.options,n=l.element.on(focus+d,x(l._focusHandler,l)),l._focusInputHandler=e.proxy(l._focusInput,l),l._inputTemplate(),l._reset(),l._prev=,l._word=,l.optionLabel=e(),l._wrapper(),l._tabindex(),l.wrapper.data(y,l.wrapper.attr(y)),l._span(),l._popup(),l._mobile(),l._dataSource(),l._ignoreCase(),l._filterHeader(),l._aria(),l._enable(),l._oldIndex=l.selectedIndex=-1,c!==t&&(r.index=c),l._initialIndex=r.index,l._optionLabel(),l._initList(),l._cascade(),r.autoBindl.dataSource.fetch()-1===l.selectedIndex&&(s=r.text,s(a=r.optionLabel,a&&0===r.indexs=al._isSelect&&(s=n.children(selected).text())),l._textAccessor(s)),i.notify(l)},options{nameDropDownList,enabled!0,autoBind!0,index0,textnull,valuenull,delay500,height200,dataTextField,dataValueField,optionLabel,cascadeFrom,cascadeFromField,ignoreCase!0,animation{},filternone,minLength1,virtual!1,templatenull,valueTemplatenull,optionLabelTemplatenull,groupTemplate#data#,fixedGroupTemplate#data#},events[open,close,p,select,filtering,dataBinding,dataBound,cascade],setOptionsfunction(e){o.fn.setOptions.call(this,e),this.listView.setOptions(this._listOptions(e)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.optionLabel[0]&&this.select(0)},destroyfunction(){var e=this;e.wrapper.off(d),e.element.off(d),e._inputWrapper.off(d),e._arrow.off(),e._arrow=null,e.optionLabel.off(),o.fn.destroy.call(e)},openfunction(){var e=this;e.popup.visible()(e.listView.isBound()&&e._state!==ke._allowOpening()&&(e.popup.one(activate,e._focusInputHandler),e.popup.open(),e._focusItem())(e._open=!0,e._state=rebind,e.filterInput&&(e.filterInput.val(),e._prev=),e._filterSource()))},_focusInputfunction(){this._focusElement(this.filterInput)},togglefunction(e){this._toggle(e,!0)},_allowOpeningfunction(){return this.optionLabel[0]this.filterInputthis.dataSource.view().length},currentfunction(e){var n;return e===t(n=this.listView.focus(),!n&&0===this.selectedIndex&&this.optionLabel[0]this.optionLabeln)(this._focus(e),t)},dataItemfunction(n){var i=this,r=null,o=!!i.optionLabel[0],a=i.options.optionLabel;return n===tr=i.listView.selectedDataItems()[0](number!=typeof nn=n.hasClass(k-list-optionlabel)-1e(i.items()).index(n)o&&(n-=1),r=i.dataSource.flatView()[n]),!r&&o&&(r=e.isPlainObject(a)new l(a)i._assignInstance(i._optionLabelText(),)),r},refreshfunction(){this.listView.refresh()},textfunction(e){var n,i,r=this,o=r.options.ignoreCase;return e=null===ee,e===tr._textAccessor()(string==typeof e&&(i=oe.toLowerCase()e,r._select(function(e){return e=r._text(e),o&&(e=(e+).toLowerCase()),e===i}),n=r.dataItem(),n&&(e=n)),r._textAccessor(e),t)},valuefunction(e){var n=this;return e===t(e=n._accessor()n.listView.value()[0],e===tnull===ee)(null===e&&(e=),e&&(n._initialIndex=null),n.listView.value(+e).done(function(){n._triggerCascade(),-1===n.selectedIndex&&n.text()&&n.text(),n._old=n._accessor(),n._oldIndex=n.selectedIndex}),n._fetchData(),t)},_optionLabelfunction(){var n=this,r=n.options,o=r.optionLabel,a=r.optionLabelTemplate;return o(a(a=#,a+=string==typeof odatai.expr(r.dataTextField,data),a+=#),function!=typeof a&&(a=i.template(a)),n.optionLabelTemplate=a,n.optionLabel[0](n.optionLabel=e('div class=k-list-optionlabeldiv').prependTo(n.list)),n.optionLabel.html(a(o)).off().click(x(n._click,n)).on(w,n._toggleHover),n.angular(compile,function(){return{elementsn.optionLabel}}),t)(n.optionLabel.off().remove(),n.optionLabel=e(),t)},_optionLabelTextfunction(){var e=this.options.optionLabel;returnstring==typeof eethis._text(e)},_listBoundfunction(){var e,t,n,i=this,r=i._initialIndex,o=i.options.optionLabel,a=i._state===b,s=i.element[0],l=i.dataSource.flatView(),c=l.length;i._angularItems(compile),i._presetValue=!1,i.options.virtual(t=i._height(ac1c),i._calculateGroupPadding(t)),i.popup.visible()&&i.popup._position(),i._isSelect&&(n=i.value(),co&&(o=i._option(,i._optionLabelText()))n&&(o=i._option(n,i.text())),i._options(l,o,n),-1===s.selectedIndex&&(s.selectedIndex=0)),i._hideBusy(),i._makeUnselectable(),a(i._open&&i.toggle(i._allowOpening()),i._open=!1,i._fetch(c(!i.listView.value().length&&r-1&&null!==r&&i.select(r),i._initialIndex=null,e=i.listView.selectedDataItems()[0],e&&i.text()!==i._text(e)&&i._selectValue(e))i._textAccessor()!==i._optionLabelText()&&(i.listView.value(),i._selectValue(null)))),i._hideBusy(),i.trigger(dataBound)},_listChangefunction(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValuethis._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_focusHandlerfunction(){this.wrapper.focus()},_focusinHandlerfunction(){this._inputWrapper.addClass(f),this._prevent=!1},_focusoutHandlerfunction(){var e=this,t=e._state===b,n=window.self!==window.top,i=e._focus();e._prevent(clearTimeout(e._typing),t&&i&&!e.trigger(select,{itemi})&&e._select(i,!e.dataSource.view().length),a.mobileOS.ios&&ne._change()e._blur(),e._inputWrapper.removeClass(f),e._prevent=!0,e._open=!1,e.element.blur())},_wrapperMousedownfunction(){this._prevent=!!this.filterInput},_wrapperClickfunction(e){e.preventDefault(),this.popup.unbind(activate,this._focusInputHandler),this._focused=this.wrapper,this._toggle()},_editablefunction(e){var t=this,n=t.element,i=e.disable,r=e.readonly,o=t.wrapper.add(t.filterInput).off(d),a=t._inputWrapper.off(w);rii(o.removeAttr(y),a.addClass(m).removeClass(g))(a.addClass(g).removeClass(m),o.on(focusin+d,x(t._focusinHandler,t)).on(focusout+d,x(t._focusoutHandler,t)))(n.removeAttr(u).removeAttr(h),a.addClass(g).removeClass(m).on(w,t._toggleHover),o.attr(y,o.data(y)).attr(v,!1).attr(_,!1).on(keydown+d,x(t._keydown,t)).on(focusin+d,x(t._focusinHandler,t)).on(focusout+d,x(t._focusoutHandler,t)).on(mousedown+d,x(t._wrapperMousedown,t)),t.wrapper.on(click+d,x(t._wrapperClick,t)),t.filterInputo.on(keypress+d,x(t._keypress,t))),n.attr(u,i).attr(h,r),o.attr(v,i).attr(_,r)},_optionfunction(e,t){return'option value='+e+''+t+option},_keydownfunction(e){var t,n,i=this,r=e.keyCode,o=e.altKey;i.filterInput&&(t=i.filterInput[0]===s()),r===c.LEFT(r=c.UP,n=!0)r===c.RIGHT&&(r=c.DOWN,n=!0),n&&t(e.keyCode=r,o&&r===c.UP&&i._focusElement(i.wrapper),n=i._move(e),n(i.popup.visible()&&i.filterInput(r===c.HOME(n=!0,i._firstItem())r===c.END&&(n=!0,i._lastItem()),n&&(i._select(i._focus()),e.preventDefault())),on!i.filterInputi._search()))},_matchTextfunction(e,t){var n=this,i=n.options.ignoreCase,r=!1;return e+=,i&&(e=e.toLowerCase()),0===e.indexOf(n._word)&&(n.optionLabel[0]&&(t+=1),n._select(t),n.popup.visible()n._change(),r=!0),r},_selectNextfunction(e){for(var t,n=this,i=e,r=n.dataSource.flatView(),o=r.length;oe;e++)if(t=n._text(r[e]),t&&n._matchText(t,e)&&(1!==n._word.lengthi!==n.selectedIndex))return!0;if(i0&&oi)for(e=0;i=e;e++)if(t=n._text(r[e]),t&&n._matchText(t,e))return!0;return!1},_keypressfunction(e){var t,n,r,o=this;0!==e.which&&e.keyCode!==i.keys.ENTER&&(t=String.fromCharCode(e.charCodee.keyCode),n=o.selectedIndex,r=o._word.length,o.options.ignoreCase&&(t=t.toLowerCase()), ===t&&e.preventDefault(),r(o._word=t),o._last===t&&1=r&&n-1&&o._selectNext(n)(r&&(o._word+=t),o._last=t,o._search()))},_popupOpenfunction(){var e=this.popup;e.wrapper=i.wrap(e.element),e.element.closest(.km-root)[0]&&(e.wrapper.addClass(km-popup km-widget),this.wrapper.addClass(km-widget))},_popupfunction(){o.fn._popup.call(this),this.popup.one(open,x(this._popupOpen,this))},_clickfunction(n){var i=n.iteme(n.currentTarget);return this.trigger(select,{itemi})(this.close(),t)(this._userTriggered=!0,this._select(i),this._focusElement(this.wrapper),this._blur(),t)},_focusElementfunction(e){var t=s(),n=this.wrapper,i=this.filterInput,r=e===ini,o=a.mobileOS&&(a.toucha.MSPointersa.pointers);i&&i[0]===e[0]&&oi&&r[0]===t&&(this._prevent=!0,this._focused=e.focus())},_filterfunction(e){var n,i;e&&(n=this,i=n.options.ignoreCase,i&&(e=e.toLowerCase()),n._select(function(r){var o=n._text(r);return o!==t(o+=,i&&(o=o.toLowerCase()),0===o.indexOf(e))t}))},_searchfunction(){var e=this,n=e.dataSource,i=e.selectedIndex;if(clearTimeout(e._typing),none!==e.options.filter)e._typing=setTimeout(function(){var t=e.filterInput.val();e._prev!==t&&(e._prev=t,e.search(t)),e._typing=null},e.options.delay);else{if(e._typing=setTimeout(function(){e._word=},e.options.delay),-1===i&&(i=0),!e.ul[0].firstChild)return n.fetch().done(function(){n.data()[0]&&i-1&&e._selectNext(i)}),t;e._selectNext(i)}},_getfunction(t){var n,i,r,o=e(t);if(this.optionLabel[0]&&(number==typeof tt-1&&(t-=1)o.hasClass(k-list-optionlabel)&&(t=-1)),function==typeof t){for(n=this.dataSource.flatView(),r=0;n.lengthr;r++)if(t(n[r])){t=r,i=!0;break}i(t=-1)}return t},_firstItemfunction(){this.optionLabel[0]this._focus(this.optionLabel)this.listView.first()},_lastItemfunction(){this.optionLabel.removeClass(k-state-focused),this.listView.last()},_nextItemfunction(){this.optionLabel.hasClass(k-state-focused)(this.optionLabel.removeClass(k-state-focused),this.listView.first())this.listView.next()},_prevItemfunction(){this.optionLabel.hasClass(k-state-focused)(this.listView.prev(),this.listView.focus()this.optionLabel.addClass(k-state-focused))},_focusItemfunction(){var e=this.listView,n=e.focus(),i=e.select();i=i[i.length-1],i===t&&this.options.highlightFirst&&!n&&(i=0),i!==te.focus(i)this.options.optionLabel(this._focus(this.optionLabel),this._select(this.optionLabel))e.scrollToIndex(0)},_focusfunction(e){var n=this.listView,i=this.optionLabel;return e===t(e=n.focus(),!e&&i.hasClass(k-state-focused)&&(e=i),e)(i.removeClass(k-state-focused),e=this._get(e),n.focus(e),-1===e&&i.addClass(k-state-focused),t)},_selectfunction(e,t){var n=this;e=n._get(e),n.listView.select(e),tn._state!==b(n.listView.filter(!1),n._state=k),-1===e&&n._selectValue(null)},_selectValuefunction(e){var n=this,i=n.options.optionLabel,r=n.optionLabel,o=n.listView.select(),a=,s=;o=o[o.length-1],o===t&&(o=-1),r.removeClass(k-state-focused k-state-selected),e(s=e,a=n._dataValue(e),i&&(o+=1))i&&(n._focus(r.addClass(k-state-selected)),s=n._optionLabelText(),a=string==typeof in._value(i),o=0),n.selectedIndex=o,null===a&&(a=),n._textAccessor(s),n._accessor(a,o),n._triggerCascade()},_mobilefunction(){var e=this,t=e.popup,n=a.mobileOS,i=t.element.parents(.km-root).eq(0);i.length&&n&&(t.options.animation.open.effects=n.androidn.meegofadeInn.iosn.wpslideInupt.options.animation.open.effects)},_filterHeaderfunction(){var t,n=this.options,i=none!==n.filter;this.filterInput&&(this.filterInput.off(d).parent().remove(),this.filterInput=null),i&&(t='span unselectable=on class=k-icon k-i-searchselectspan',this.filterInput=e('input class=k-textbox').attr({rolelistbox,aria-haspopup!0,aria-expanded!1}),this.list.prepend(e('span class=k-list-filter ').append(this.filterInput.add(t))))},_spanfunction(){var t,n=this,i=n.wrapper,r=span.k-input;t=i.find(r),t[0](i.append('span unselectable=on class=k-dropdown-wrap k-state-defaultspan unselectable=on class=k-input&nbsp;spanspan unselectable=on class=k-selectspan unselectable=on class=k-icon k-i-arrow-sselectspanspanspan').append(n.element),t=i.find(r)),n.span=t,n._inputWrapper=e(i[0].firstChild),n._arrow=i.find(.k-icon)},_wrapperfunction(){var e,t=this,n=t.element,i=n[0];e=n.parent(),e.is(span.k-widget)(e=n.wrap(span ).parent(),e[0].style.cssText=i.style.cssText,e[0].title=i.title),n.hide(),t._focused=t.wrapper=e.addClass(k-widget k-dropdown k-header).addClass(i.className).css(display,).attr({unselectableon,rolelistbox,aria-haspopup!0,aria-expanded!1})},_clearSelectionfunction(e){this.select(e.value()0-1)},_inputTemplatefunction(){var t=this,n=t.options.valueTemplate;n=ni.template(n)e.proxy(i.template(#this._text(data)#,{useWithBlock!1}),t),t.valueTemplate=n},_textAccessorfunction(n){var i,r=null,o=this.valueTemplate,a=this.options,s=a.optionLabel,c=this.span;return n===tc.text()(e.isPlainObject(n)n instanceof lr=ns&&this._optionLabelText()===n&&(r=s,o=this.optionLabelTemplate),r(r=this._assignInstance(n,this._accessor())),i=function(){return{elementsc.get(),data[{dataItemr}]}},this.angular(cleanup,i),c.html(o(r)),this.angular(compile,i),t)},_preselectfunction(e,t){et(t=this._optionLabelText()),this._accessor(e),this._textAccessor(t),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._initialIndex=null,this._presetValue=!0},_assignInstancefunction(e,t){var i=this.options.dataTextField,r={};return i(n(r,i.split(.),e),n(r,this.options.dataValueField.split(.),t),r=new l(r))r=e,r}});r.plugin(C)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui,r=i.List,o=i.Select,a=n.caret,s=n.support,l=s.placeholder,c=n._activeElement,d=n.keys,u=.kendoComboBox,h=click+u,p=mousedown+u,f=disabled,g=readonly,m=change,v=k-state-default,_=k-state-focused,w=k-state-disabled,y=aria-disabled,b=aria-readonly,k=filter,x=accept,C=rebind,S=mouseenter+u+ mouseleave+u,T=e.proxy,D=o.extend({initfunction(t,i){var r,a=this;a.ns=u,i=e.isArray(i){dataSourcei}i,o.fn.init.call(a,t,i),i=a.options,t=a.element.on(focus+u,T(a._focusHandler,a)),i.placeholder=i.placeholdert.attr(placeholder),a._reset(),a._wrapper(),a._input(),a._tabindex(a.input),a._popup(),a._dataSource(),a._ignoreCase(),a._enable(),a._oldIndex=a.selectedIndex=-1,a._aria(),a._initialIndex=i.index,a._initList(),a._cascade(),i.autoBinda._filterSource()(r=i.text,!r&&a._isSelect&&(r=t.children(selected).text()),r&&(a.input.val(r),a._prev=r)),ra._placeholder(),n.notify(a)},options{nameComboBox,enabled!0,index-1,textnull,valuenull,autoBind!0,delay200,dataTextField,dataValueField,minLength0,height200,highlightFirst!0,filternone,placeholder,suggest!1,cascadeFrom,cascadeFromField,ignoreCase!0,animation{},templatenull,groupTemplate#data#,fixedGroupTemplate#data#},events[open,close,m,select,filtering,dataBinding,dataBound,cascade],setOptionsfunction(e){o.fn.setOptions.call(this,e),this.listView.setOptions(e),this._accessors(),this._aria()},destroyfunction(){var e=this;e.input.off(u),e.element.off(u),e._inputWrapper.off(u),o.fn.destroy.call(e)},_focusHandlerfunction(){this.input.focus()},_arrowClickfunction(){this._toggle()},_inputFocusfunction(){this._inputWrapper.addClass(_),this._placeholder(!1)},_inputFocusoutfunction(){var e=this;e._inputWrapper.removeClass(_),clearTimeout(e._typing),e._typing=null,e.options.text!==e.input.val()&&e.text(e.text()),e._placeholder(),e._blur(),e.element.blur()},_editablefunction(e){var t=this,n=e.disable,i=e.readonly,r=t._inputWrapper.off(u),o=t.element.add(t.input.off(u)),a=t._arrow.parent().off(h+ +p);in(r.addClass(nwv).removeClass(nvw),o.attr(f,n).attr(g,i).attr(y,n).attr(b,i))(r.addClass(v).removeClass(w).on(S,t._toggleHover),o.removeAttr(f).removeAttr(g).attr(y,!1).attr(b,!1),a.on(h,T(t._arrowClick,t)).on(p,function(e){e.preventDefault()}),t.input.on(keydown+u,T(t._keydown,t)).on(focus+u,T(t._inputFocus,t)).on(focusout+u,T(t._inputFocusout,t)))},openfunction(){var e=this,t=e._state;e.popup.visible()(!e.listView.isBound()&&t!==kt===x(e._open=!0,e._state=C,e.listView.filter(!1),e._filterSource())(e.popup.open(),e._focusItem()))},_listBoundfunction(){var e,n,i,r,o=this,a=o.options,s=o._initialIndex,l=o._state===k,d=o.input[0]===c(),u=o.listView,h=u.focus(),p=this.dataSource.flatView(),f=this.dataSource.page(),g=p.length;o._angularItems(compile),o._presetValue=!1,a.virtualo._calculateGroupPadding(o._height(g)),o.popup.visible()&&o.popup._position(),o._isSelect&&(n=o.element[0].children[0],o._state===C&&(o._state=),i=!0,r=o._customOption,o._customOption=t,o._options(p,,o.value()),r&&r[0].selectedo._custom(r.val(),i)no._custom(,i)),o._hideBusy(),o._makeUnselectable(),lo._fetchl&&h&&h.removeClass(k-state-selected)(u.value().length(null!==s&&s-1(o.select(s),h=u.focus())o._accessor()&&u.value(o._accessor())),o._initialIndex=null,e=o.listView.selectedDataItems()[0],e&&o.text()&&o.text()!==o._text(e)&&o._selectValue(e)),!gf!==t&&1!==f(a.highlightFirsthu.focus(0)u.focus(-1),a.suggest&&d&&o.input.val()&&o.suggest(p[0])),o._open&&(o._open=!1,o._typing&&!do.popup.close()o.toggle(!!g),o._typing=null),o._touchScroller&&o._touchScroller.reset(),o._hideBusy(),o.trigger(dataBound)},_listChangefunction(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_getfunction(e){var t,n,i;if(function==typeof e){for(t=this.dataSource.flatView(),i=0;t.lengthi;i++)if(e(t[i])){e=i,n=!0;break}n(e=-1)}return e},_selectfunction(e,t){e=this._get(e),-1===e&&(this.input[0].value=,this._accessor()),this.listView.select(e),tthis._state!==k(this.listView.filter(!1),this._state=x)},_selectValuefunction(e){var n=this.listView.select(),i=,r=;n=n[n.length-1],n===t&&(n=-1),this.selectedIndex=n,-1===n(i=r=this.input[0].value,this.listView.focus(-1))(e&&(i=this._dataValue(e),r=this._text(e)),null===i&&(i=)),this._prev=this.input[0].value=r,this._accessor(i!==tir,n),this._placeholder(),this._triggerCascade()},refreshfunction(){this.listView.refresh()},suggestfunction(e){var n,i=this,o=i.input[0],s=i.text(),l=a(o)[0],u=i._last;return u==d.BACKSPACEu==d.DELETE(i._last=t,t)(e=e,string!=typeof e&&(e[0]&&(e=i.dataSource.view()[r.inArray(e[0],i.ul[0])]),e=ei._text(e)),0=l&&(l=s.toLowerCase().indexOf(e.toLowerCase())+1),e(n=e.toLowerCase().indexOf(s.toLowerCase()),n-1&&(s+=e.substring(n+s.length)))s=s.substring(0,l),s.length===l&&e(o.value=s,o===c()&&a(o,l,s.length)),t)},textfunction(e){var n,i,r,o,a,s;if(e=null===ee,n=this,i=n.input[0],r=n.options.ignoreCase,o=e,e===t)return i.value;if(a=n.dataItem(),n.options.autoBind!==!1n.listView.isBound()){if(a&&n._text(a)===e&&(s=n._value(a),null===ss=s+=,s===n._old))return n._triggerCascade(),t;r&&(o=o.toLowerCase()),n._select(function(e){return e=n._text(e),r&&(e=(e+).toLowerCase()),e===o}),0n.selectedIndex&&(n._accessor(e),i.value=e,n._triggerCascade()),n._prev=i.value}},togglefunction(e){this._toggle(e,!0)},valuefunction(e){var n=this,i=n.options;return e===t(e=n._accessor()n.listView.value()[0],e===tnull===ee)(null===e&&(e=),e=+e,(e!==i.valuen.input.val()!==i.text)&&(n._accessor(e),n.listView.value(e).done(function(){n._triggerCascade(),n._selectValue(n.listView.selectedDataItems()[0]),-1===n.selectedIndex&&(n._accessor(e),n.input.val(e),n._placeholder(!0)),n._old=n._accessor(),n._oldIndex=n.selectedIndex,n._prev=n.input.val(),n._state===k&&(n._state=x)}),n._fetchData()),t)},_clickfunction(e){var n=e.item;return this.trigger(select,{itemn})(this.close(),t)(this._userTriggered=!0,this._select(n),this._blur(),t)},_filterfunction(e){var n,i=this,r=i.options,o=i.dataSource,a=r.ignoreCase,s=function(n){var r=i._text(n);return r!==t(r+=,!==r&&===e!1(a&&(r=r.toLowerCase()),0===r.indexOf(e)))t};return a&&(e=e.toLowerCase()),i.ul[0].firstChild(this.listView.focus(this._get(s)),n=this.listView.focus(),n&&(r.suggest&&this.suggest(n),this.open()),this.options.highlightFirst&&!e&&this.listView.first(),i._hideBusy(),t)(o.one(m,function(){o.view()[0]&&i.search(e)}).fetch(),t)},_inputfunction(){var t,n=this,i=n.element.removeClass(k-input)[0],r=i.accessKey,o=n.wrapper,a=input.k-input,s=i.name;s&&(s='name='+s+'_input '),t=o.find(a),t[0](o.append('span tabindex=-1 unselectable=on class=k-dropdown-wrap k-state-defaultinput '+s+'class=k-input type=text autocomplete=offspan tabindex=-1 unselectable=on class=k-selectspan unselectable=on class=k-icon k-i-arrow-sselectspanspanspan').append(n.element),t=o.find(a)),t[0].style.cssText=i.style.cssText,t[0].title=i.title,i.maxLength-1&&(t[0].maxLength=i.maxLength),t.addClass(i.className).val(this.options.texti.value).css({width100%,heighti.style.height}).attr({rolecombobox,aria-expanded!1}).show(),l&&t.attr(placeholder,n.options.placeholder),r&&(i.accessKey=,t[0].accessKey=r),n._focused=n.input=t,n._inputWrapper=e(o[0].firstChild),n._arrow=o.find(.k-icon).attr({rolebutton,tabIndex-1}),i.id&&n._arrow.attr(aria-controls,n.ul[0].id)},_keydownfunction(e){var t=this,n=e.keyCode;t._last=n,clearTimeout(t._typing),t._typing=null,n==d.TABt._move(e)t._search()},_placeholderfunction(e){if(!l){var n,i=this,r=i.input,o=i.options.placeholder;if(o){if(n=i.value(),e===t&&(e=!n),r.toggleClass(k-readonly,e),!e){if(n)return;o=}r.val(o),or[0]!==c()a(r[0],0,0)}}},_searchfunction(){var e=this;e._typing=setTimeout(function(){var t=e.text();e._prev!==t&&(e._prev=t,e.search(t)),e._typing=null},e.options.delay)},_wrapperfunction(){var e=this,t=e.element,n=t.parent();n.is(span.k-widget)(n=t.hide().wrap(span ).parent(),n[0].style.cssText=t[0].style.cssText),e.wrapper=n.addClass(k-widget k-combobox k-header).addClass(t[0].className).css(display,)},_clearSelectionfunction(e,t){var n=this,i=e.value(),r=i&&-1===e.selectedIndex;(t!ir)&&(n.options.value=,n.value())},_preselectfunction(e,t){this.input.val(t),this._accessor(e),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._initialIndex=null,this._presetValue=!0}});i.plugin(D)}(window.kendo.jQuery),function(e,t){function n(e,t){var n;if(null===e&&null!==tnull!==e&&null===t)return!1;if(n=e.length,n!==t.length)return!1;for(;n--;)if(e[n]!==t[n])return!1;return!0}var i=window.kendo,r=i.ui,o=r.List,a=i.keys,s=i._activeElement,l=i.data.ObservableArray,c=e.proxy,d=id,u=li,h=accept,p=filter,f=rebind,g=open,m=close,v=change,_=progress,w=select,y=aria-disabled,b=aria-readonly,k=k-state-focused,x=k-loading-hidden,C=k-state-hover,S=k-state-disabled,T=disabled,D=readonly,A=.kendoMultiSelect,E=click+A,I=keydown+A,M=mouseenter+A,P=mouseleave+A,z=M+ +P,F=g,R=e.isArray,B=[font-family,font-size,font-stretch,font-style,font-weight,letter-spacing,text-transform,line-height],H=o.extend({initfunction(e,t){var n,r=this;r.ns=A,o.fn.init.call(r,e,t),r._optionsMap={},r._customOptions={},r._wrapper(),r._tagList(),r._input(),r._textContainer(),r._loader(),r._tabindex(r.input),e=r.element.attr(multiple,multiple).hide(),t=r.options,t.placeholder(t.placeholder=e.data(placeholder)),n=e.attr(d),n&&(r._tagID=n+_tag_active,n+=_taglist,r.tagList.attr(d,n)),r._aria(n),r._dataSource(),r._ignoreCase(),r._popup(),r._tagTemplate(),r._initList(),r._reset(),r._enable(),r._placeholder(),t.autoBindr.dataSource.fetch()t.value&&r._preselect(t.value),i.notify(r)},_preselectfunction(t,n){var r=this;R(t)(t=[t]),(e.isPlainObject(t[0])t[0]instanceof i.data.ObservableObject!r.options.dataValueField)&&(r._retrieveData=!0,r.dataSource.data(t),r.value(nr._initialValues))},options{nameMultiSelect,enabled!0,autoBind!0,autoClose!0,highlightFirst!0,dataTextField,dataValueField,filterstartswith,ignoreCase!0,minLength0,delay100,valuenull,maxSelectedItemsnull,placeholder,height200,animation{},itemTemplate,tagTemplate,groupTemplate#data#,fixedGroupTemplate#data#},events[g,m,v,w,filtering,dataBinding,dataBound],setDataSourcefunction(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptionsfunction(e){var t=this._listOptions(e);o.fn.setOptions.call(this,e),this._normalizeOptions(t),this.listView.setOptions(t),this._accessors(),this._aria(this.tagList.attr(d)),this._tagTemplate()},currentTagfunction(e){var n=this;return e===tn._currentTag(n._currentTag&&(n._currentTag.removeClass(k).removeAttr(d),n.input.removeAttr(aria-activedescendant)),e&&(e.addClass(k).attr(d,n._tagID),n.input.attr(aria-activedescendant,n._tagID)),n._currentTag=e,t)},dataItemsfunction(){return this.listView.selectedDataItems()},destroyfunction(){var e=this,t=e.ns;clearTimeout(e._busy),clearTimeout(e._typing),e.wrapper.off(t),e.tagList.off(t),e.input.off(t),o.fn.destroy.call(e)},_activateItemfunction(){o.fn._activateItem.call(this),this.currentTag(null)},_normalizeOptionsfunction(e){var t=this.options.itemTemplatethis.options.template,n=e.itemTemplatete.template;n(n=#+i.expr(e.dataTextField,data)+#),e.template=n},_initListfunction(){var t=this,n=t.options.virtual,r=!!n,o=c(t._listBound,t),a={autoBind!1,selectablemultiple,dataSourcet.dataSource,clickc(t._click,t),changec(t._listChange,t),activatec(t._activateItem,t),deactivatec(t._deactivateItem,t),dataBindingfunction(){t.trigger(dataBinding),t._angularItems(cleanup)},dataBoundo,listBoundo,selectedItemChangec(t._selectedItemChange,t)};
a=e.extend(t._listOptions(),a,object==typeof nn{}),t._normalizeOptions(a),t.listView=rnew i.ui.VirtualList(t.ul,a)new i.ui.StaticList(t.ul,a),t.listView.value(t._initialValuest.options.value)},_listChangefunction(e){this._state===f&&(this._state=,e.added=[]),this._selectValue(e.added,e.removed)},_selectedItemChangefunction(e){var t,n,i=e.items;for(n=0;i.lengthn;n++)t=i[n],this.tagList.children().eq(t.index).children(spanfirst).html(this.tagTextTemplate(t.item))},_wrapperMousedownfunction(t){var n=this,r=input!==t.target.nodeName.toLowerCase(),o=e(t.target).hasClass(k-select)e(t.target).parent().hasClass(k-select);!ro&&i.support.mobileOSt.preventDefault(),o(n.input[0]!==s()&&r&&n.input.focus(),0===n.options.minLength&&n.open())},_inputFocusfunction(){this._placeholder(!1),this.wrapper.addClass(k)},_inputFocusoutfunction(){var e=this;clearTimeout(e._typing),e.wrapper.removeClass(k),e._placeholder(!e.listView.selectedDataItems()[0],!0),e.close(),e._state===p&&(e._state=h,e.listView.filter(!1),e.listView.skipUpdate(!0)),e.element.blur()},_removeTagfunction(e){var n,i=this,r=i._state,o=e.index(),a=i.listView,s=a.value()[o],l=i._customOptions[s];l!==tr!==h&&r!==p(l=i._optionsMap[s]),l!==t(n=i.element[0].children[l],n.removeAttribute(selected),n.selected=!1,a.removeAt(o),e.remove())a.select(a.select()[o]),i.currentTag(null),i._change(),i._close()},_tagListClickfunction(t){this._removeTag(e(t.target).closest(u))},_editablefunction(t){var n=this,i=t.disable,r=t.readonly,o=n.wrapper.off(A),a=n.tagList.off(A),s=n.element.add(n.input.off(A));ri(io.addClass(S)o.removeClass(S),s.attr(T,i).attr(D,r).attr(y,i).attr(b,r))(o.removeClass(S).on(z,n._toggleHover).on(mousedown+A+ touchend+A,c(n._wrapperMousedown,n)),n.input.on(I,c(n._keydown,n)).on(paste+A,c(n._search,n)).on(focus+A,c(n._inputFocus,n)).on(focusout+A,c(n._inputFocusout,n)),s.removeAttr(T).removeAttr(D).attr(y,!1).attr(b,!1),a.on(M,u,function(){e(this).addClass(C)}).on(P,u,function(){e(this).removeClass(C)}).on(E,li.k-button .k-select,c(n._tagListClick,n)))},_closefunction(){var e=this;e.options.autoClosee.close()e.popup._position()},closefunction(){this.popup.close()},openfunction(){var e=this;e._request&&(e._retrieveData=!1),e._retrieveData!e.listView.isBound()e._state===h(e._open=!0,e._state=f,e._retrieveData=!1,e.listView.filter(!1),e.listView.skipUpdate(!0),e._filterSource())e._allowSelection()&&(e.popup.open(),e._focusItem())},togglefunction(e){e=e!==te!this.popup.visible(),this[egm]()},refreshfunction(){this.listView.refresh()},_listBoundfunction(){var e=this,n=e.dataSource.flatView(),i=e.dataSource.page(),r=n.length;e._angularItems(compile),e._render(n),e._calculateGroupPadding(e._height(r)),e._open&&(e._open=!1,e.toggle(r)),e.popup.visible()&&e.popup._position(),!e.options.highlightFirsti!==t&&1!==ie.listView.first(),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e._makeUnselectable(),e._hideBusy(),e.trigger(dataBound)},searchfunction(e){var t,n,i=this,r=i.options,o=r.ignoreCase,a=r.filter,s=r.dataTextField,l=i.input.val();r.placeholder===l&&(l=),clearTimeout(i._typing),e=string==typeof eel,n=e.length,(!nn=r.minLength)&&(i.listView.filter(!0),i._state=p,i._open=!0,t={valueoe.toLowerCase()e,fields,operatora,ignoreCaseo},i._filterSource(t,i._retrieveData),i._retrieveData=!1)},valuefunction(e){var n=this,i=n.listView.value().slice(),r=n.options.maxSelectedItems;return e===ti(e=n._normalizeValues(e),null!==r&&e.lengthr&&(e=e.slice(0,r)),n.listView.value(e),n._old=e,n._fetchData(),t)},_setOptionfunction(e,t){var n=this.element[0].children[this._optionsMap[e]];n&&(tn.setAttribute(selected,selected)n.removeAttribute(selected),n.selected=t)},_fetchDatafunction(){var e=this,t=!!e.dataSource.view().length,n=0===e.listView.value().length;ne._fetcht(e._fetch=!0,e.dataSource.fetch().done(function(){e._fetch=!1}))},_dataSourcefunction(){var e=this,t=e.element,n=e.options,r=n.dataSource{};r=R(r){datar}r,r.select=t,r.fields=[{fieldn.dataTextField},{fieldn.dataValueField}],e.dataSource&&e._refreshHandlere._unbindDataSource()e._progressHandler=c(e._showBusy,e),e.dataSource=i.data.DataSource.create(r).bind(_,e._progressHandler)},_resetfunction(){var t=this,n=t.element,i=n.attr(form),r=ie(#+i)n.closest(form);r[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initialValues),t._placeholder()})},t._form=r.on(reset,t._resetHandler))},_initValuefunction(){var e=this.options.valuethis.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValuesfunction(t){var n=this;return null===tt=[]t&&e.isPlainObject(t)t=[n._value(t)]t&&e.isPlainObject(t[0])t=e.map(t,function(e){return n._value(e)})R(t)t instanceof l(t=[t]),t},_changefunction(){var e=this,t=e.value();n(t,e._old)(e._old=t.slice(),e.trigger(v),e.element.trigger(v))},_clickfunction(e){var n=e.item;return this.trigger(w,{itemn})(this._close(),t)(this._select(n),this._change(),this._close(),t)},_keydownfunction(n){var r=this,o=n.keyCode,s=r._currentTag,l=r.listView.focus(),c=r.input.val(),d=i.support.isRtl(r.wrapper),u=r.popup.visible();if(o===a.DOWN){if(n.preventDefault(),!u)return r.open(),lthis.listView.first(),t;l(this.listView.next(),this.listView.focus()this.listView.last())this.listView.first()}else if(o===a.UP)u&&(l&&this.listView.prev(),this.listView.focus()r.close()),n.preventDefault();else if(o===a.LEFT&&!do===a.RIGHT&&d)c(s=ss.prev()e(r.tagList[0].lastChild),s[0]&&r.currentTag(s));else if(o===a.RIGHT&&!do===a.LEFT&&d)!c&&s&&(s=s.next(),r.currentTag(s[0]snull));else if(o===a.ENTER&&u){if(l){if(r.trigger(w,{iteml}))return r._close(),t;r._select(l)}r._change(),r._close(),n.preventDefault()}else o===a.ESC(un.preventDefault()r.currentTag(null),r.close())o===a.HOMEuthis.listView.first()c(s=r.tagList[0].firstChild,s&&r.currentTag(e(s)))o===a.ENDuthis.listView.last()c(s=r.tagList[0].lastChild,s&&r.currentTag(e(s)))o!==a.DELETE&&o!==a.BACKSPACEc(clearTimeout(r._typing),setTimeout(function(){r._scale()}),r._search())(o!==a.BACKSPACEs(s=e(r.tagList[0].lastChild)),s&&s[0]&&r._removeTag(s))},_hideBusyfunction(){var e=this;clearTimeout(e._busy),e.input.attr(aria-busy,!1),e._loading.addClass(x),e._request=!1,e._busy=null},_showBusyHandlerfunction(){this.input.attr(aria-busy,!0),this._loading.removeClass(x)},_showBusyfunction(){var e=this;e._request=!0,e._busy(e._busy=setTimeout(c(e._showBusyHandler,e),100))},_placeholderfunction(e,n){var r=this,o=r.input,a=s();e===t&&(e=!1,o[0]!==a&&(e=!r.listView.selectedDataItems()[0])),r._prev=,o.toggleClass(k-readonly,e).val(er.options.placeholder),o[0]!==ani.caret(o[0],0,0),r._scale()},_scalefunction(){var e,t=this,n=t.wrapper,i=n.width(),r=t._span.text(t.input.val());n.is(visible)e=r.width()+25(r.appendTo(document.documentElement),i=e=r.width()+25,r.appendTo(n)),t.input.width(eiie)},_optionfunction(e,n,r){var o=option;return e!==t&&(e+=,-1!==e.indexOf('')&&(e=e.replace(F,&quot;)),o+=' value='+e+''),r&&(o+= selected),o+=,n!==t&&(o+=i.htmlEncode(n)),o+=option},_renderfunction(e){var t,n,i,r,o,a,s=this.listView.selectedDataItems(),l=this.listView.value(),c=e.length,d=;for(l.length!==s.length&&(s=this._buildSelectedItems(l)),o={},a={},r=0;cr;r++)n=e[r],i=this._value(n),t=this._selectedItemIndex(i,s),-1!==t&&s.splice(t,1),a[i]=r,d+=this._option(i,this._text(n),-1!==t);if(s.length)for(r=0;s.lengthr;r++)n=s[r],i=this._value(n),o[i]=c,a[i]=c,c+=1,d+=this._option(i,this._text(n),!0);this._customOptions=o,this._optionsMap=a,this.element.html(d)},_buildSelectedItemsfunction(e){var t,n,i=this.options.dataValueField,r=this.options.dataTextField,o=[];for(n=0;e.lengthn;n++)t={},t[i]=e[n],t[r]=e[n],o.push(t);return o},_selectedItemIndexfunction(e,t){for(var n=this._value,i=0;t.lengthi;i++)if(e===n(t[i]))return i;return-1},_searchfunction(){var e=this;e._typing=setTimeout(function(){var t=e.input.val();e._prev!==t&&(e._prev=t,e.search(t))},e.options.delay)},_allowSelectionfunction(){var e=this.options.maxSelectedItems;return null===eethis.listView.value().length},_selectValuefunction(e,t){var n,i,r,o=this.tagList,a=this._value;for(r=t.length-1;r-1;r--)n=t[r],o[0].removeChild(o[0].children[n.position]),this._setOption(a(n.dataItem),!1);for(r=0;e.lengthr;r++)i=e[r],o.append(this.tagTemplate(i.dataItem)),this._setOption(a(i.dataItem),!0);this._placeholder()},_selectfunction(e){var t=this;t._state===f&&(t._state=),t._allowSelection()&&(this.listView.select(e),t._placeholder(),t._state===p&&(t._state=h,t.listView.filter(!1),t.listView.skipUpdate(!0)))},_inputfunction(){var t=this,n=t.element[0].accessKey,i=t._innerWrapper.children(input.k-input);i[0](i=e('input class=k-input style=width 25px ').appendTo(t._innerWrapper)),t.element.removeAttr(accesskey),t._focused=t.input=i.attr({accesskeyn,autocompleteoff,rolelistbox,aria-expanded!1})},_tagListfunction(){var t=this,n=t._innerWrapper.children(ul);n[0](n=e('ul role=listbox unselectable=on class=k-reset').appendTo(t._innerWrapper)),t.tagList=n},_tagTemplatefunction(){var e=this,t=e.options,n=t.tagTemplate,r=t.dataSource;e.element[0].length&&!r&&(t.dataTextField=t.dataTextFieldtext,t.dataValueField=t.dataValueFieldvalue),n=ni.template(n)i.template(#+i.expr(t.dataTextField,data)+#,{useWithBlock!1}),e.tagTextTemplate=n,e.tagTemplate=function(e){return'li class=k-button unselectable=onspan unselectable=on'+n(e)+'spanspan unselectable=on class=k-selectspan unselectable=on class=k-icon k-i-closedeletespanspanli'}},_loaderfunction(){this._loading=e('span class=k-icon k-loading '+x+'span').insertAfter(this.input)},_textContainerfunction(){var t=i.getComputedStyles(this.input[0],B);t.position=absolute,t.visibility=hidden,t.top=-3333,t.left=-3333,this._span=e(span).css(t).appendTo(this.wrapper)},_wrapperfunction(){var t=this,n=t.element,i=n.parent(span.k-multiselect);i[0](i=n.wrap('div class=k-widget k-multiselect k-header unselectable=on ').parent(),i[0].style.cssText=n[0].style.cssText,i[0].title=n[0].title,e('div class=k-multiselect-wrap k-floatwrap unselectable=on ').insertBefore(n)),t.wrapper=i.addClass(n[0].className).css(display,),t._innerWrapper=e(i[0].firstChild)}});r.plugin(H)}(window.kendo.jQuery),function(e,t){function n(e,t,n){var i=n k-slider-horizontal k-slider-vertical,r=e.stylee.stylet.attr(style),o=t.attr(class) +t.attr(class),a=;returnbottomRight==e.tickPlacementa= k-slider-bottomrighttopLeft==e.tickPlacement&&(a= k-slider-topleft),r=r style='+r+',div class='k-widget k-slider+i+o+'+r+div class='k-slider-wrap+(e.showButtons k-slider-buttons)+a+'divdiv}function i(e,t,n){var i=;return i=increase==tnk-i-arrow-ek-i-arrow-nnk-i-arrow-wk-i-arrow-s,a class='k-button k-button-+t+'span class='k-icon +i+' title='+e[t+ButtonTitle]+'+e[t+ButtonTitle]+spana}function r(e,t){var n,i=ul class='k-reset k-slider-items',r=k.floor(c(te.smallStep))+1;for(n=0;rn;n++)i+=li class='k-tick' role='presentation'&nbsp;li;return i+=ul}function o(e,t){var n=t.is(input)12,i=2==ne.leftDragHandleTitlee.dragHandleTitle;returndiv class='k-slider-track'div class='k-slider-selection'!-- --diva href='#' class='k-draghandle' title='+i+' role='slider' aria-valuemin='+e.min+' aria-valuemax='+e.max+' aria-valuenow='+(n1e.selectionStarte.mine.valuee.min)+'Draga+(n1a href='#' class='k-draghandle' title='+e.rightDragHandleTitle+'role='slider' aria-valuemin='+e.min+' aria-valuemax='+e.max+' aria-valuenow='+(e.selectionEnde.max)+'Draga)+div}function a(e){return function(t){return t+e}}function s(e){return function(){return e}}function l(e){return(e+).replace(.,f.cultures.current.numberFormat[.])}function c(e){e=parseFloat(e,10);var t=k.pow(10,q0);return k.round(et)t}function d(e,n){var i=w(e.getAttribute(n));return null===i&&(i=t),i}function u(e){return typeof e!==Y}function h(e){return 1e4e}var p,f=window.kendo,g=f.ui.Widget,m=f.ui.Draggable,v=e.extend,_=f.format,w=f.parseFloat,y=e.proxy,b=e.isArray,k=Math,x=f.support,C=x.pointers,S=x.msPointers,T=change,D=slide,A=.slider,E=touchstart+A+ mousedown+A,I=Cpointerdown+ASMSPointerDown+AE,M=touchend+A+ mouseup+A,P=CpointerupSMSPointerUp+AM,z=moveSelection,F=keydown+A,R=click+A,B=mouseover+A,H=focus+A,L=blur+A,N=.k-draghandle,O=.k-slider-track,V=.k-tick,U=k-state-selected,W=k-state-focused,j=k-state-default,G=k-state-disabled,q=3,$=disabled,Y=undefined,Q=tabindex,K=f.getTouches,X=g.extend({initfunction(e,t){var n,i=this;g.fn.init.call(i,e,t),t=i.options,i._distance=c(t.max-t.min),i._isHorizontal=horizontal==t.orientation,i._isRtl=i._isHorizontal&&f.support.isRtl(e),i._position=i._isHorizontalleftbottom,i._sizeFn=i._isHorizontalwidthheight,i._outerSize=i._isHorizontalouterWidthouterHeight,t.tooltip.format=t.tooltip.enabledt.tooltip.format{0}{0},i._createHtml(),i.wrapper=i.element.closest(.k-slider),i._trackDiv=i.wrapper.find(O),i._setTrackDivWidth(),i._maxSelection=i._trackDiv[i._sizeFn](),i._sliderItemsInit(),i._reset(),i._tabindex(i.wrapper.find(N)),i[t.enabledenabledisable](),n=f.support.isRtl(i.wrapper)-11,i._keyMap={37a(-1nt.smallStep),40a(-t.smallStep),39a(1nt.smallStep),38a(+t.smallStep),35s(t.max),36s(t.min),33a(+t.largeStep),34a(-t.largeStep)},f.notify(i)},events[T,D],options{enabled!0,min0,max10,smallStep1,largeStep5,orientationhorizontal,tickPlacementboth,tooltip{enabled!0,format{0}}},_resizefunction(){this._setTrackDivWidth(),this.wrapper.find(.k-slider-items).remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh()},_sliderItemsInitfunction(){var e=this,t=e.options,n=e._maxSelection((t.max-t.min)t.smallStep),i=e._calculateItemsWidth(k.floor(e._distancet.smallStep));none!=t.tickPlacement&&n=2&&(e._trackDiv.before(r(t,e._distance)),e._setItemsWidth(i),e._setItemsTitle()),e._calculateSteps(i),none!=t.tickPlacement&&n=2&&t.largeStep=t.smallStep&&e._setItemsLargeTick()},getSizefunction(){return f.dimensions(this.wrapper)},_setTrackDivWidthfunction(){var e=this,t=2parseFloat(e._trackDiv.css(e._isRtlrighte._position),10);e._trackDiv[e._sizeFn](e.wrapper[e._sizeFn]()-2-t)},_setItemsWidthfunction(t){var n,i=this,r=i.options,o=0,a=t.length-1,s=i.wrapper.find(V),l=0,c=2,d=s.length,u=0;for(n=0;d-2n;n++)e(s[n+1])[i._sizeFn](t[n]);if(i._isHorizontal(e(s[o]).addClass(k-first)[i._sizeFn](t[a-1]),e(s[a]).addClass(k-last)[i._sizeFn](t[a]))(e(s[a]).addClass(k-first)[i._sizeFn](t[a]),e(s[o]).addClass(k-last)[i._sizeFn](t[a-1])),i._distance%r.smallStep!==0&&!i._isHorizontal){for(n=0;t.lengthn;n++)u+=t[n];l=i._maxSelection-u,l+=parseFloat(i._trackDiv.css(i._position),10)+c,i.wrapper.find(.k-slider-items).css(padding-top,l)}},_setItemsTitlefunction(){for(var t=this,n=t.options,i=t.wrapper.find(V),r=n.min,o=i.length,a=t._isHorizontal&&!t._isRtl0o-1,s=t._isHorizontal&&!t._isRtlo-1,l=t._isHorizontal&&!t._isRtl1-1;a-s!==0;a+=l)e(i[a]).attr(title,_(n.tooltip.format,c(r))),r+=n.smallStep},_setItemsLargeTickfunction(){var t,n,i,r=this,o=r.options,a=r.wrapper.find(V),s=0;if(h(o.largeStep)%h(o.smallStep)===0r._distanceo.largeStep=3)for(r._isHorizontalr._isRtl(a=e.makeArray(a).reverse()),s=0;a.lengths;s++)t=e(a[s]),n=r._values[s],i=c(h(n-this.options.min)),i%h(o.smallStep)===0&&i%h(o.largeStep)===0&&(t.addClass(k-tick-large).html(span class='k-label'+t.attr(title)+span),0!==s&&s!==a.length-1&&t.css(line-height,t[r._sizeFn]()+px))},_calculateItemsWidthfunction(e){var t,n,i,r=this,o=r.options,a=parseFloat(r._trackDiv.css(r._sizeFn))+1,s=ar._distance;for(r._distanceo.smallStep-k.floor(r._distanceo.smallStep)0&&(a-=r._distance%o.smallSteps),t=ae,n=[],i=0;e-1i;i++)n[i]=t;return n[e-1]=n[e]=t2,r._roundWidths(n)},_roundWidthsfunction(e){var t,n=0,i=e.length;for(t=0;it;t++)n+=e[t]-k.floor(e[t]),e[t]=k.floor(e[t]);return n=k.round(n),this._addAdditionalSize(n,e)},_addAdditionalSizefunction(e,t){if(0===e)return t;var n,i=parseFloat(t.length-1)parseFloat(1==eee-1);for(n=0;en;n++)t[parseInt(k.round(in),10)]+=1;return t},_calculateStepsfunction(e){var t,n=this,i=n.options,r=i.min,o=0,a=k.ceil(n._distancei.smallStep),s=1;if(a+=n._distancei.smallStep%1===010,e.splice(0,0,2e[a-2]),e.splice(a-1,1,2e.pop()),n._pixelSteps=[o],n._values=[r],0!==a){for(;as;)o+=(e[s-1]+e[s])2,n._pixelSteps[s]=o,r+=i.smallStep,n._values[s]=c(r),s++;t=n._distance%i.smallStep===0a-1a,n._pixelSteps[t]=n._maxSelection,n._values[t]=i.max,n._isRtl&&(n._pixelSteps.reverse(),n._values.reverse())}},_getValueFromPositionfunction(e,t){var n,i=this,r=i.options,o=k.max(r.smallStep(i._maxSelectioni._distance),0),a=0,s=o2;if(i._isHorizontal(a=e-t.startPoint,i._isRtl&&(a=i._maxSelection-a))a=t.startPoint-e,i._maxSelection-(parseInt(i._maxSelection%o,10)-3)2a)return r.max;for(n=0;i._pixelSteps.lengthn;n++)if(k.abs(i._pixelSteps[n]-a)-1=s)return c(i._values[n])},_getFormattedValuefunction(e,t){var n,i,r,o=this,a=,s=o.options.tooltip;return b(e)(i=e[0],r=e[1])t&&t.type&&(i=t.selectionStart,r=t.selectionEnd),t&&(n=t.tooltipTemplate),!n&&s.template&&(n=f.template(s.template)),b(e)t&&t.typena=n({selectionStarti,selectionEndr})(i=_(s.format,i),r=_(s.format,r),a=i+ - +r)(t&&(t.val=e),a=nn({valuee})_(s.format,e)),a},_getDraggableAreafunction(){var e=this,t=f.getOffset(e._trackDiv);return{startPointe._isHorizontalt.leftt.top+e._maxSelection,endPointe._isHorizontalt.left+e._maxSelectiont.top}},_createHtmlfunction(){var e=this,t=e.element,r=e.options,a=t.find(input);2==a.length(a.eq(0).prop(value,l(r.selectionStart)),a.eq(1).prop(value,l(r.selectionEnd)))t.prop(value,l(r.value)),t.wrap(n(r,t,e._isHorizontal)).hide(),r.showButtons&&t.before(i(r,increase,e._isHorizontal)).before(i(r,decrease,e._isHorizontal)),t.before(o(r,t))},_focusfunction(t){var n=this,i=t.target,r=n.value(),o=n._drag;o(i==n.wrapper.find(N).eq(0)[0](o=n._firstHandleDrag,n._activeHandle=0)(o=n._lastHandleDrag,n._activeHandle=1),r=r[n._activeHandle]),e(i).addClass(W+ +U),o&&(n._activeHandleDrag=o,o.selectionStart=n.options.selectionStart,o.selectionEnd=n.options.selectionEnd,o._updateTooltip(r))},_focusWithMousefunction(t){t=e(t);var n=this,i=t.is(N)t.index()0;window.setTimeout(function(){n.wrapper.find(N)[2==i10].focus()},1),n._setTooltipTimeout()},_blurfunction(t){var n=this,i=n._activeHandleDrag;e(t.target).removeClass(W+ +U),i&&(i._removeTooltip(),delete n._activeHandleDrag,delete n._activeHandle)},_setTooltipTimeoutfunction(){var e=this;e._tooltipTimeout=window.setTimeout(function(){var t=e._drage._activeHandleDrag;t&&t._removeTooltip()},300)},_clearTooltipTimeoutfunction(){var e,t=this;window.clearTimeout(this._tooltipTimeout),e=t._dragt._activeHandleDrag,e&&e.tooltipDiv&&e.tooltipDiv.stop(!0,!1).css(opacity,1)},_resetfunction(){var t=this,n=t.element,i=n.attr(form),r=ie(#+i)n.closest(form);r[0]&&(t._form=r.on(reset,y(t._formResetHandler,t)))},destroyfunction(){this._form&&this._form.off(reset,this._formResetHandler),g.fn.destroy.call(this)}}),Z=X.extend({initfunction(n,i){var r,o=this;n.type=text,i=v({},{valued(n,value),mind(n,min),maxd(n,max),smallStepd(n,step)},i),n=e(n),i&&i.enabled===t&&(i.enabled=!n.is([disabled])),X.fn.init.call(o,n,i),i=o.options,u(i.value)&&null!==i.value(i.value=i.min,n.prop(value,l(i.min))),i.value=k.max(k.min(i.value,i.max),i.min),r=o.wrapper.find(N),new Z.Selection(r,o,i),o._drag=new Z.Drag(r,,o,i)},options{nameSlider,showButtons!0,increaseButtonTitleIncrease,decreaseButtonTitleDecrease,dragHandleTitledrag,tooltip{format{0#,#.##}},valuenull},enablefunction(n){var i,r,o,a=this,s=a.options;a.disable(),n!==!1&&(a.wrapper.removeClass(G).addClass(j),a.wrapper.find(input).removeAttr($),i=function(n){var i,r,o,s=K(n)[0];if(s){if(i=a._isHorizontals.location.pageXs.location.pageY,r=a._getDraggableArea(),o=e(n.target),o.hasClass(k-draghandle))return o.addClass(W+ +U),t;a._update(a._getValueFromPosition(i,r)),a._focusWithMouse(n.target),a._drag.dragstart(n),n.preventDefault()}},a.wrapper.find(V+, +O).on(I,i).end().on(I,function(){e(document.documentElement).one(selectstart,f.preventDefault)}).on(P,function(){a._drag._end()}),a.wrapper.find(N).attr(Q,0).on(M,function(){a._setTooltipTimeout()}).on(R,function(e){a._focusWithMouse(e.target),e.preventDefault()}).on(H,y(a._focus,a)).on(L,y(a._blur,a)),r=y(function(e){var t=a._nextValueByIndex(a._valueIndex+1e);a._setValueInRange(t),a._drag._updateTooltip(t)},a),s.showButtons&&(o=y(function(e,t){this._clearTooltipTimeout(),(1===e.whichx.touch&&0===e.which)&&(r(t),this.timeout=setTimeout(y(function(){this.timer=setInterval(function(){r(t)},60)},this),200))},a),a.wrapper.find(.k-button).on(M,y(function(e){this._clearTimer(),a._focusWithMouse(e.target)},a)).on(B,function(t){e(t.currentTarget).addClass(k-state-hover)}).on(mouseout+A,y(function(t){e(t.currentTarget).removeClass(k-state-hover),this._clearTimer()},a)).eq(0).on(E,y(function(e){o(e,1)},a)).click(!1).end().eq(1).on(E,y(function(e){o(e,-1)},a)).click(f.preventDefault)),a.wrapper.find(N).off(F,!1).on(F,y(this._keydown,a)),s.enabled=!0)},disablefunction(){var t=this;t.wrapper.removeClass(j).addClass(G),e(t.element).prop($,$),t.wrapper.find(.k-button).off(E).on(E,f.preventDefault).off(M).on(M,f.preventDefault).off(mouseleave+A).on(mouseleave+A,f.preventDefault).off(B).on(B,f.preventDefault),t.wrapper.find(V+, +O).off(I).off(P),t.wrapper.find(N).attr(Q,-1).off(M).off(F).off(R).off(H).off(L),t.options.enabled=!1},_updatefunction(e){var t=this,n=t.value()!=e;t.value(e),n&&t.trigger(T,{valuet.options.value})},valuefunction(e){var n=this,i=n.options;return e=c(e),isNaN(e)i.value(e=i.min&&i.max=e&&i.value!=e&&(n.element.prop(value,l(e)),i.value=e,n._refreshAriaAttr(e),n._refresh()),t)},_refreshfunction(){this.trigger(z,{valuethis.options.value})},_refreshAriaAttrfunction(e){var t,n=this,i=n._drag;t=i&&i._tooltipDivi._tooltipDiv.text()n._getFormattedValue(e,null),this.wrapper.find(N).attr(aria-valuenow,e).attr(aria-valuetext,t)},_clearTimerfunction(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydownfunction(e){var t=this;e.keyCode in t._keyMap&&(t._clearTooltipTimeout(),t._setValueInRange(t._keyMap[e.keyCode](t.options.value)),t._drag._updateTooltip(t.value()),e.preventDefault())},_setValueInRangefunction(e){var n=this,i=n.options;return e=c(e),isNaN(e)(n._update(i.min),t)(e=k.max(k.min(e,i.max),i.min),n._update(e),t)},_nextValueByIndexfunction(e){var t=this._values.length;return this._isRtl&&(e=t-1-e),this._values[k.max(0,k.min(e,t-1))]},_formResetHandlerfunction(){var e=this,t=e.options.min;setTimeout(function(){var n=e.element[0].value;e.value(===nisNaN(n)tn)})},destroyfunction(){var e=this;X.fn.destroy.call(e),e.wrapper.off(A).find(.k-button).off(A).end().find(N).off(A).end().find(V+, +O).off(A).end(),e._drag.draggable.destroy(),e._drag._removeTooltip(!0)}});Z.Selection=function(e,t,n){function i(i){var r=i-n.min,o=t._valueIndex=k.ceil(c(rn.smallStep)),a=parseInt(t._pixelSteps[o],10),s=t._trackDiv.find(.k-slider-selection),l=parseInt(e[t._outerSize]()2,10),d=t._isRtl20;s[t._sizeFn](t._isRtlt._maxSelection-aa),e.css(t._position,a-l-d)}i(n.value),t.bind([T,D,z],function(e){i(parseFloat(e.value,10))})},Z.Drag=function(e,t,n,i){var r=this;r.owner=n,r.options=i,r.element=e,r.type=t,r.draggable=new m(e,{distance0,dragstarty(r._dragstart,r),dragy(r.drag,r),dragendy(r.dragend,r),dragcancely(r.dragcancel,r)}),e.click(!1)},Z.Drag.prototype={dragstartfunction(e){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this.draggable.userEvents._start(e)},_dragstartfunction(n){var i=this,r=i.owner,o=i.options;return o.enabled(this.owner._activeDragHandle=this,r.element.off(B),r.wrapper.find(.+W).removeClass(W+ +U),i.element.addClass(W+ +U),e(document.documentElement).css(cursor,pointer),i.dragableArea=r._getDraggableArea(),i.step=k.max(o.smallStep(r._maxSelectionr._distance),0),i.type(i.selectionStart=o.selectionStart,i.selectionEnd=o.selectionEnd,r._setZIndex(i.type))i.oldVal=i.val=o.value,i._removeTooltip(!0),i._createTooltip(),t)(n.preventDefault(),t)},_createTooltipfunction(){var t,n,i=this,r=i.owner,o=i.options.tooltip,a=,s=e(window);o.enabled&&(o.template&&(t=i.tooltipTemplate=f.template(o.template)),e(.k-slider-tooltip).remove(),i.tooltipDiv=e(div class='k-widget k-tooltip k-slider-tooltip'!-- --div).appendTo(document.body),a=r._getFormattedValue(i.valr.value(),i),i.type(n=k-callout-+(r._isHorizontalse),i.tooltipInnerDiv=div class='k-callout +n+'!-- --div,a+=i.tooltipInnerDiv),i.tooltipDiv.html(a),i._scrollOffset={tops.scrollTop(),lefts.scrollLeft()},i.moveTooltip())},dragfunction(e){var t,n=this,i=n.owner,r=e.x.location,o=e.y.location,a=n.dragableArea.startPoint,s=n.dragableArea.endPoint;e.preventDefault(),n.val=i._isHorizontali._isRtln.constrainValue(r,a,s,sr)n.constrainValue(r,a,s,r=s)n.constrainValue(o,s,a,s=o),n.oldVal!=n.val&&(n.oldVal=n.val,n.type(firstHandle==n.typen.selectionStart=n.selectionEndn.valn.valn.selectionEnd=n.valn.valn.selectionStartn.selectionEnd=n.valn.selectionStart=n.selectionEnd=n.val,t={values[n.selectionStart,n.selectionEnd],value[n.selectionStart,n.selectionEnd]})t={valuen.val},i.trigger(D,t)),n._updateTooltip(n.val)},_updateTooltipfunction(e){var t=this,n=t.options,i=n.tooltip,r=;i.enabled&&(t.tooltipDivt._createTooltip(),r=t.owner._getFormattedValue(c(e),t),t.type(r+=t.tooltipInnerDiv),t.tooltipDiv.html(r),t.moveTooltip())},dragcancelfunction(){return this.owner._refresh(),e(document.documentElement).css(cursor,),this._end()},dragendfunction(){var t=this,n=t.owner;return e(document.documentElement).css(cursor,),t.typen._update(t.selectionStart,t.selectionEnd)(n._update(t.val),t.draggable.userEvents._disposeAll()),t._end()},_endfunction(){var e=this,t=e.owner;return t._focusWithMouse(e.element),t.element.on(B),!1},_removeTooltipfunction(t){var n=this,i=n.owner;n.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled&&(t(n.tooltipDiv.remove(),n.tooltipDiv=null)n.tooltipDiv.fadeOut(slow,function(){e(this).remove(),n.tooltipDiv=null}))},moveTooltipfunction(){var t,n,i,r,o=this,a=o.owner,s=0,l=0,c=o.element,d=f.getOffset(c),u=8,h=e(window),p=o.tooltipDiv.find(.k-callout),g=o.tooltipDiv.outerWidth(),m=o.tooltipDiv.outerHeight();o.type(t=a.wrapper.find(N),d=f.getOffset(t.eq(0)),n=f.getOffset(t.eq(1)),a._isHorizontal(s=n.top,l=d.left+(n.left-d.left)2)(s=d.top+(n.top-d.top)2,l=n.left),r=t.eq(0).outerWidth()+2u)(s=d.top,l=d.left,r=c.outerWidth()+2u),a._isHorizontal(l-=parseInt((g-c[a._outerSize]())2,10),s-=m+p.height()+u)(s-=parseInt((m-c[a._outerSize]())2,10),l-=g+p.width()+u),a._isHorizontal(i=o._flip(s,m,r,h.outerHeight()+o._scrollOffset.top),s+=i,l+=o._fit(l,g,h.outerWidth()+o._scrollOffset.left))(i=o._flip(l,g,r,h.outerWidth()+o._scrollOffset.left),s+=o._fit(s,m,h.outerHeight()+o._scrollOffset.top),l+=i),i0&&p&&(p.removeClass(),p.addClass(k-callout k-callout-+(a._isHorizontalnw))),o.tooltipDiv.css({tops,leftl})},_fitfunction(e,t,n){var i=0;return e+tn&&(i=n-(e+t)),0e&&(i=-e),i},_flipfunction(e,t,n,i){var r=0;return e+ti&&(r+=-(n+t)),0e+r&&(r+=n+t),r},constrainValuefunction(e,t,n,i){var r=this,o=0;return o=et&&ner.owner._getValueFromPosition(e,r.dragableArea)ir.options.maxr.options.min}},f.ui.plugin(Z),p=X.extend({initfunction(n,i){var r,o=this,a=e(n).find(input),s=a.eq(0)[0],c=a.eq(1)[0];s.type=text,c.type=text,i=v({},{selectionStartd(s,value),mind(s,min),maxd(s,max),smallStepd(s,step)},{selectionEndd(c,value),mind(c,min),maxd(c,max),smallStepd(c,step)},i),i&&i.enabled===t&&(i.enabled=!a.is([disabled])),X.fn.init.call(o,n,i),i=o.options,u(i.selectionStart)&&null!==i.selectionStart(i.selectionStart=i.min,a.eq(0).prop(value,l(i.min))),u(i.selectionEnd)&&null!==i.selectionEnd(i.selectionEnd=i.max,a.eq(1).prop(value,l(i.max))),r=o.wrapper.find(N),new p.Selection(r,o,i),o._firstHandleDrag=new Z.Drag(r.eq(0),firstHandle,o,i),o._lastHandleDrag=new Z.Drag(r.eq(1),lastHandle,o,i)},options{nameRangeSlider,leftDragHandleTitledrag,rightDragHandleTitledrag,tooltip{format{0#,#.##}},selectionStartnull,selectionEndnull},enablefunction(n){var i,r=this,o=r.options;r.disable(),n!==!1&&(r.wrapper.removeClass(G).addClass(j),r.wrapper.find(input).removeAttr($),i=function(n){var i,a,s,l,c,d,u,h=K(n)[0];if(h){if(i=r._isHorizontalh.location.pageXh.location.pageY,a=r._getDraggableArea(),s=r._getValueFromPosition(i,a),l=e(n.target),l.hasClass(k-draghandle))return r.wrapper.find(.+W).removeClass(W+ +U),l.addClass(W+ +U),t;o.selectionStarts(c=s,d=o.selectionEnd,u=r._firstHandleDrag)sr.selectionEnd(c=o.selectionStart,d=s,u=r._lastHandleDrag)o.selectionEnd-s=s-o.selectionStart(c=s,d=o.selectionEnd,u=r._firstHandleDrag)(c=o.selectionStart,d=s,u=r._lastHandleDrag),u.dragstart(n),r._setValueInRange(c,d),r._focusWithMouse(u.element)}},r.wrapper.find(V+, +O).on(I,i).end().on(I,function(){e(document.documentElement).one(selectstart,f.preventDefault)}).on(P,function(){r._activeDragHandle&&r._activeDragHandle._end()}),r.wrapper.find(N).attr(Q,0).on(M,function(){r._setTooltipTimeout()}).on(R,function(e){r._focusWithMouse(e.target),e.preventDefault()}).on(H,y(r._focus,r)).on(L,y(r._blur,r)),r.wrapper.find(N).off(F,f.preventDefault).eq(0).on(F,y(function(e){this._keydown(e,firstHandle)},r)).end().eq(1).on(F,y(function(e){this._keydown(e,lastHandle)},r)),r.options.enabled=!0)},disablefunction(){var e=this;e.wrapper.removeClass(j).addClass(G),e.wrapper.find(input).prop($,$),e.wrapper.find(V+, +O).off(I).off(P),e.wrapper.find(N).attr(Q,-1).off(M).off(F).off(R).off(H).off(L),e.options.enabled=!1},_keydownfunction(e,t){var n,i,r,o=this,a=o.options.selectionStart,s=o.options.selectionEnd;e.keyCode in o._keyMap&&(o._clearTooltipTimeout(),firstHandle==t(r=o._activeHandleDrag=o._firstHandleDrag,a=o._keyMap[e.keyCode](a),as&&(s=a))(r=o._activeHandleDrag=o._lastHandleDrag,s=o._keyMap[e.keyCode](s),as&&(a=s)),o._setValueInRange(a,s),n=Math.max(a,o.options.selectionStart),i=Math.min(s,o.options.selectionEnd),r.selectionEnd=Math.max(i,o.options.selectionStart),r.selectionStart=Math.min(n,o.options.selectionEnd),r._updateTooltip(o.value()[o._activeHandle]),e.preventDefault())},_updatefunction(e,t){var n=this,i=n.value(),r=i[0]!=ei[1]!=t;n.value([e,t]),r&&n.trigger(T,{values[e,t],value[e,t]})},valuefunction(e){return e&&e.lengththis._value(e[0],e[1])this._value()},_valuefunction(e,n){var i=this,r=i.options,o=r.selectionStart,a=r.selectionEnd;return isNaN(e)&&isNaN(n)[o,a](e=c(e),n=c(n),e=r.min&&r.max=e&&n=r.min&&r.max=n&&n=e&&(o!=ea!=n)&&(i.element.find(input).eq(0).prop(value,l(e)).end().eq(1).prop(value,l(n)),r.selectionStart=e,r.selectionEnd=n,i._refresh(),i._refreshAriaAttr(e,n)),t)},valuesfunction(e,t){return b(e)this._value(e[0],e[1])this._value(e,t)},_refreshfunction(){var e=this,t=e.options;e.trigger(z,{values[t.selectionStart,t.selectionEnd],value[t.selectionStart,t.selectionEnd]}),t.selectionStart==t.max&&t.selectionEnd==t.max&&e._setZIndex(firstHandle)},_refreshAriaAttrfunction(e,t){var n,i=this,r=i.wrapper.find(N),o=i._activeHandleDrag;n=i._getFormattedValue([e,t],o),r.eq(0).attr(aria-valuenow,e),r.eq(1).attr(aria-valuenow,t),r.attr(aria-valuetext,n)
},_setValueInRangefunction(e,t){var n=this.options;e=k.max(k.min(e,n.max),n.min),t=k.max(k.min(t,n.max),n.min),e==n.max&&t==n.max&&this._setZIndex(firstHandle),this._update(k.min(e,t),k.max(e,t))},_setZIndexfunction(t){this.wrapper.find(N).each(function(n){e(this).css(z-index,firstHandle==t1-nn)})},_formResetHandlerfunction(){var e=this,t=e.options;setTimeout(function(){var n=e.element.find(input),i=n[0].value,r=n[1].value;e.values(===iisNaN(i)t.mini,===risNaN(r)t.maxr)})},destroyfunction(){var e=this;X.fn.destroy.call(e),e.wrapper.off(A).find(V+, +O).off(A).end().find(N).off(A),e._firstHandleDrag.draggable.destroy(),e._lastHandleDrag.draggable.destroy()}}),p.Selection=function(e,t,n){function i(i){i=i[];var o=i[0]-n.min,a=i[1]-n.min,s=k.ceil(c(on.smallStep)),l=k.ceil(c(an.smallStep)),d=t._pixelSteps[s],u=t._pixelSteps[l],h=parseInt(e.eq(0)[t._outerSize]()2,10),p=t._isRtl20;e.eq(0).css(t._position,d-h-p).end().eq(1).css(t._position,u-h-p),r(d,u)}function r(e,n){var i,r,o=t._trackDiv.find(.k-slider-selection);i=k.abs(e-n),o[t._sizeFn](i),t._isRtl(r=k.max(e,n),o.css(right,t._maxSelection-r-1))(r=k.min(e,n),o.css(t._position,r-1))}i(t.value()),t.bind([T,D,z],function(e){i(e.values)})},f.ui.plugin(p)}(window.kendo.jQuery),function(e,t,n){function i(e,t,n){n=d(n),n&&!n.equals(e.color())&&(change==t&&(e._value=n),n=1!=n.an.toCssRgba()n.toCss(),e.trigger(t,{valuen}))}function r(e,t,n){var i,r;return e=Array.prototype.slice.call(e),i=e.length,r=e.indexOf(t),0r0ne[i-1]e[0](r+=n,0rr+=ir%=i,e[r])}function o(e){e.preventDefault()}function a(e,t){return function(){return e.apply(t,arguments)}}var s=window.kendo,l=s.ui,c=l.Widget,d=s.parseColor,u=s.Color,h=s.keys,p=background-color,f=k-state-selected,g=000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7,m=FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000,v={applyApply,cancelCancel},_=.kendoColorTools,w=click+_,y=keydown+_,b=s.support.browser,k=b.msie&&9b.version,x=c.extend({initfunction(e,t){var n,i=this;c.fn.init.call(i,e,t),e=i.element,t=i.options,i._value=t.value=d(t.value),i._tabIndex=e.attr(tabIndex)0,n=i._ariaId=t.ariaId,n&&e.attr(aria-labelledby,n),t._standalone&&(i._triggerSelect=i._triggerChange)},options{nameColorSelector,valuenull,_standalone!0},events[change,select,cancel],colorfunction(e){return e!==n&&(this._value=d(e),this._updateUI(this._value)),this._value},valuefunction(e){return e=this.color(e),e&&(e=this.options.opacitye.toCssRgba()e.toCss()),enull},enablefunction(t){0===arguments.length&&(t=!0),e(.k-disabled-overlay,this.wrapper).remove(),tthis.wrapper.append(div class='k-disabled-overlay'div),this._onEnable(t)},_selectfunction(e,t){var n=this._value;e=this.color(e),t(this.element.trigger(change),e.equals(n)this._standalonethis.trigger(cancel)this.trigger(change,{valuethis.value()}))},_triggerSelectfunction(e){i(this,select,e)},_triggerChangefunction(e){i(this,change,e)},destroyfunction(){this.element&&this.element.off(_),this.wrapper&&this.wrapper.off(_).find().off(_),this.wrapper=null,c.fn.destroy.call(this)},_updateUIe.noop,_selectOnHidefunction(){return null},_cancelfunction(){this.trigger(cancel)}}),C=x.extend({initfunction(t,n){var i,r,o,l,c=this;if(x.fn.init.call(c,t,n),t=c.wrapper=c.element,n=c.options,i=n.palette,websafe==i(i=m,n.columns=18)basic==i&&(i=g),string==typeof i&&(i=i.split(,)),e.isArray(i)&&(i=e.map(i,function(e){return d(e)})),c._selectedID=(n.ariaIds.guid())+_selected,t.addClass(k-widget k-colorpalette).attr(role,grid).attr(aria-readonly,true).append(e(c._template({colorsi,columnsn.columns,tileSizen.tileSize,valuec._value,idn.ariaId}))).on(w,.k-item,function(t){c._select(e(t.currentTarget).css(p))}).attr(tabIndex,c._tabIndex).on(y,a(c._keydown,c)),r=n.tileSize){if(numberstring.test(typeof r))o=l=parseFloat(r);else{if(object!=typeof r)throw Error(Unsupported value for the 'tileSize' argument);o=parseFloat(r.width),l=parseFloat(r.height)}t.find(.k-item).css({widtho,heightl})}},focusfunction(){this.wrapper.focus()},options{nameColorPalette,columns10,tileSizenull,palettebasic},_onEnablefunction(e){ethis.wrapper.attr(tabIndex,this._tabIndex)this.wrapper.removeAttr(tabIndex)},_keydownfunction(t){var n,i,a=this.wrapper,s=a.find(.k-item),l=s.filter(.+f).get(0),c=t.keyCode;if(c==h.LEFTn=r(s,l,-1)c==h.RIGHTn=r(s,l,1)c==h.DOWNn=r(s,l,this.options.columns)c==h.UPn=r(s,l,-this.options.columns)c==h.ENTER(o(t),l&&this._select(e(l).css(p)))c==h.ESC&&this._cancel(),n){o(t),this._current(n);try{i=d(n.css(p)),this._triggerSelect(i)}catch(u){}}},_currentfunction(t){this.wrapper.find(.+f).removeClass(f).attr(aria-selected,!1).removeAttr(id),e(t).addClass(f).attr(aria-selected,!0).attr(id,this._selectedID),this.element.removeAttr(aria-activedescendant).attr(aria-activedescendant,this._selectedID)},_updateUIfunction(t){var i=null;this.wrapper.find(.k-item).each(function(){var r=d(e(this).css(p));return r&&r.equals(t)(i=this,!1)n}),this._current(i)},_templates.template('table class=k-palette k-reset role=presentationtr role=row# for (var i = 0; i  colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # trtr role=row # } #td role=gridcell unselectable=on style=background-color#= colors[i].toCss() ##= selected   aria-selected=true   # #=(id && i === 0)  id=+id+    # class=k-item#= selected   '+f+'   # aria-label=#= colors[i].toCss() #td# } #trtable')}),S=x.extend({initfunction(t,n){var i=this;x.fn.init.call(i,t,n),n=i.options,t=i.element,i.wrapper=t.addClass(k-widget k-flatcolorpicker).append(i._template(n)),i._hueElements=e(.k-hsv-rectangle, .k-transparency-slider .k-slider-track,t),i._selectedColor=e(.k-selected-color-display,t),i._colorAsText=e(input.k-color-value,t),i._sliders(),i._hsvArea(),i._updateUI(i._valued(#f00)),t.find(input.k-color-value).on(y,function(t){var n,r,o=this;if(t.keyCode==h.ENTER)try{n=d(o.value),r=i.color(),i._select(n,n.equals(r))}catch(a){e(o).addClass(k-state-error)}else i.options.autoupdate&&setTimeout(function(){var e=d(o.value,!0);e&&i._updateUI(e,!0)},10)}).end().on(w,.k-controls button.apply,function(){i._select(i._getHSV())}).on(w,.k-controls button.cancel,function(){i._updateUI(i.color()),i._cancel()}),k&&i._applyIEFilter()},destroyfunction(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,x.fn.destroy.call(this)},options{nameFlatColorPicker,opacity!1,buttons!1,input!0,preview!0,autoupdate!0,messagesv},_applyIEFilterfunction(){var e=this.element.find(.k-hue-slider .k-slider-track)[0],t=e.currentStyle.backgroundImage;t=t.replace(^url([']['])$g,),e.style.filter=progidDXImageTransform.Microsoft.AlphaImageLoader(src='+t+', sizingMethod='scale')},_slidersfunction(){function e(e){n._updateUI(n._getHSV(e.value,null,null,null))}function t(e){n._updateUI(n._getHSV(null,null,null,e.value100))}var n=this,i=n.element;n._hueSlider=i.find(.k-hue-slider).kendoSlider({min0,max359,tickPlacementnone,showButtons!1,slidee,changee}).data(kendoSlider),n._opacitySlider=i.find(.k-transparency-slider).kendoSlider({min0,max100,tickPlacementnone,showButtons!1,slidet,changet}).data(kendoSlider)},_hsvAreafunction(){function e(e,n){var i=this.offset,r=e-i.left,o=n-i.top,a=this.width,s=this.height;r=0r0raar,o=0o0osso,t._svChange(ra,1-os)}var t=this,n=t.element,i=n.find(.k-hsv-rectangle),r=i.find(.k-draghandle).attr(tabIndex,0).on(y,a(t._keydown,t));t._hsvEvents=new s.UserEvents(i,{global!0,pressfunction(t){this.offset=s.getOffset(i),this.width=i.width(),this.height=i.height(),r.focus(),e.call(this,t.x.location,t.y.location)},startfunction(){i.addClass(k-dragging),r.focus()},movefunction(t){t.preventDefault(),e.call(this,t.x.location,t.y.location)},endfunction(){i.removeClass(k-dragging)}}),t._hsvRect=i,t._hsvHandle=r},_onEnablefunction(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find(input).attr(disabled,!e);var t=this._hsvRect.find(.k-draghandle);et.attr(tabIndex,this._tabIndex)t.removeAttr(tabIndex)},_keydownfunction(e){function t(t,n){var r=i._getHSV();r[t]+=n(e.shiftKey.01.05),0r[t]&&(r[t]=0),r[t]1&&(r[t]=1),i._updateUI(r),o(e)}function n(t){var n=i._getHSV();n.h+=t(e.shiftKey15),0n.h&&(n.h=0),n.h359&&(n.h=359),i._updateUI(n),o(e)}var i=this;switch(e.keyCode){case h.LEFTe.ctrlKeyn(-1)t(s,-1);break;case h.RIGHTe.ctrlKeyn(1)t(s,1);break;case h.UPt(e.ctrlKey&&i._opacitySliderav,1);break;case h.DOWNt(e.ctrlKey&&i._opacitySliderav,-1);break;case h.ENTERi._select(i._getHSV());break;case h.F2i.wrapper.find(input.k-color-value).focus().select();break;case h.ESCi._cancel()}},focusfunction(){this._hsvHandle.focus()},_getHSVfunction(e,t,n,i){var r=this._hsvRect,o=r.width(),a=r.height(),s=this._hsvHandle.position();return null==e&&(e=this._hueSlider.value()),null==t&&(t=s.lefto),null==n&&(n=1-s.topa),null==i&&(i=this._opacitySliderthis._opacitySlider.value()1001),u.fromHSV(e,t,n,i)},_svChangefunction(e,t){var n=this._getHSV(null,e,t,null);this._updateUI(n)},_updateUIfunction(e,t){var n=this,i=n._hsvRect;e&&(this._colorAsText.removeClass(k-state-error),n._selectedColor.css(p,e.toDisplay()),tn._colorAsText.val(n._opacitySlidere.toCssRgba()e.toCss()),n._triggerSelect(e),e=e.toHSV(),n._hsvHandle.css({lefte.si.width()+px,top(1-e.v)i.height()+px}),n._hueElements.css(p,u.fromHSV(e.h,1,1,1).toCss()),n._hueSlider.value(e.h),n._opacitySlider&&n._opacitySlider.value(100e.a))},_selectOnHidefunction(){return this.options.buttonsnullthis._getHSV()},_templates.template('# if (preview) { #div class=k-selected-colordiv class=k-selected-color-displayinput class=k-color-value #= !data.input  'style=visibility hidden;'   #divdiv# } #div class=k-hsv-rectanglediv class=k-hsv-gradientdivdiv class=k-draghandledivdivinput class=k-hue-slider # if (opacity) { #input class=k-transparency-slider # } ## if (buttons) { #div unselectable=on class=k-controlsbutton class=k-button k-primary apply# messages.apply #button button class=k-button cancel# messages.cancel #buttondiv# } #')}),T=c.extend({initfunction(t,n){var i,r,o,a,s,l=this;c.fn.init.call(l,t,n),n=l.options,t=l.element,i=t.attr(value)t.val(),i=id(i,!0)d(n.value,!0),l._value=n.value=i,r=l.wrapper=e(l._template(n)),t.hide().after(r),t.is(input)&&(t.appendTo(r),o=t.closest(label),a=t.attr(id),a&&(o=o.add('label[for='+a+']')),o.click(function(e){l.open(),e.preventDefault()})),l._tabIndex=t.attr(tabIndex)0,l.enable(!t.attr(disabled)),s=t.attr(accesskey),s&&(t.attr(accesskey,null),r.attr(accesskey,s)),l.bind(activate,function(e){e.isDefaultPrevented()l.toggle()}),l._updateUI(i)},destroyfunction(){this.wrapper.off(_).find().off(_),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,c.fn.destroy.call(this)},enablefunction(e){var t=this,n=t.wrapper,i=n.children(.k-picker-wrap),r=i.find(.k-select);0===arguments.length&&(e=!0),t.element.attr(disabled,!e),n.attr(aria-disabled,!e),r.off(_).on(mousedown+_,o),n.addClass(k-state-disabled).removeAttr(tabIndex).add(,n).off(_),e&&n.removeClass(k-state-disabled).attr(tabIndex,t._tabIndex).on(mouseenter+_,function(){i.addClass(k-state-hover)}).on(mouseleave+_,function(){i.removeClass(k-state-hover)}).on(focus+_,function(){i.addClass(k-state-focused)}).on(blur+_,function(){i.removeClass(k-state-focused)}).on(y,a(t._keydown,t)).on(w,.k-icon,a(t.toggle,t)).on(w,t.options.toolIcon.k-tool-icon.k-selected-color,function(){t.trigger(activate)})},_templates.template('span role=textbox aria-haspopup=true class=k-widget k-colorpicker k-headerspan class=k-picker-wrap k-state-default# if (toolIcon) { #span class=k-tool-icon #= toolIcon #span class=k-selected-colorspanspan# } else { #span class=k-selected-colorspan# } #span class=k-select unselectable=onspan class=k-icon k-i-arrow-s unselectable=onspanspanspanspan'),options{nameColorPicker,palettenull,columns10,toolIconnull,valuenull,messagesv,opacity!1,buttons!0,preview!0,ARIATemplate'Current selected color is #=data  #'},events[activate,change,select,open,close],openfunction(){this._getPopup().open()},closefunction(){this._getPopup().close()},togglefunction(){this._getPopup().toggle()},colorx.fn.color,valuex.fn.value,_selectx.fn._select,_triggerSelectx.fn._triggerSelect,_isInputTypeColorfunction(){var e=this.element[0];return^input$i.test(e.tagName)&&^color$i.test(e.type)},_updateUIfunction(e){var t=;e&&(t=this._isInputTypeColor()1==e.ae.toCss()e.toCssRgba(),this.element.val(t)),this._ariaTemplate(this._ariaTemplate=s.template(this.options.ARIATemplate)),this.wrapper.attr(aria-label,this._ariaTemplate(t)),this._triggerSelect(e),this.wrapper.find(.k-selected-color).css(p,ee.toDisplay()transparent)},_keydownfunction(e){var t=e.keyCode;this._getPopup().visible()(t==h.ESCthis._selector._cancel()this._selector._keydown(e),o(e))(t==h.ENTERt==h.DOWN)&&(this.open(),o(e))},_getPopupfunction(){var t,i,r,o,a=this,l=a._popup;return l(t=a.options,i=t.paletteCS,t._standalone=!1,delete t.select,delete t.change,delete t.cancel,r=s.guid(),o=a._selector=new i(e('div id='+r+'').appendTo(document.body),t),a.wrapper.attr(aria-owns,r),a._popup=l=o.wrapper.kendoPopup({anchora.wrapper,adjustSize{width5,height0}}).data(kendoPopup),o.bind({selectfunction(e){a._updateUI(d(e.value))},changefunction(){a._select(o.color()),a.close()},cancelfunction(){a.close()}}),l.bind({closefunction(e){if(a.trigger(close))return e.preventDefault(),n;a.wrapper.children(.k-picker-wrap).removeClass(k-state-focused);var t=o._selectOnHide();ta._select(t)(a.wrapper.focus(),a._updateUI(a.color()))},openfunction(e){a.trigger(open)e.preventDefault()a.wrapper.children(.k-picker-wrap).addClass(k-state-focused)},activatefunction(){o._select(a.color(),!0),o.focus(),a.wrapper.children(.k-picker-wrap).addClass(k-state-focused)}})),l}});l.plugin(C),l.plugin(S),l.plugin(T)}(jQuery,parseInt),function(e,t){function n(e,t){return'span unselectable=on class=k-linkspan unselectable=on class=k-icon k-i-arrow-'+e+' title='+t+''+t+spanspan}var i=window.kendo,r=i.caret,o=i.keys,a=i.ui,s=a.Widget,l=i._activeElement,c=i._extractFormat,d=i.parseFloat,u=i.support.placeholder,h=i.getCulture,p=i._round,f=change,g=disabled,m=readonly,v=k-input,_=spin,w=.kendoNumericTextBox,y=touchend,b=mouseleave+w,k=mouseenter+w+ +b,x=k-state-default,C=k-state-focused,S=k-state-hover,T=focus,D=.,A=k-state-selected,E=k-state-disabled,I=aria-disabled,M=aria-readonly,P=^(-)(d)$,z=null,F=e.proxy,R=s.extend({initfunction(e,n){var r,o,a,l,d,u=this,h=n&&n.step!==t;s.fn.init.call(u,e,n),n=u.options,e=u.element.on(focusout+w,F(u._focusout,u)).attr(role,spinbutton),n.placeholder=n.placeholdere.attr(placeholder),u._reset(),u._wrapper(),u._arrows(),u._input(),i.support.mobileOSu._text.on(y+w+ +T+w,function(){u._toggleText(!1),e.focus()})u._text.on(T+w,F(u._click,u)),r=u.min(e.attr(min)),o=u.max(e.attr(max)),a=u._parse(e.attr(step)),n.min===z&&r!==z&&(n.min=r),n.max===z&&o!==z&&(n.max=o),ha===z(n.step=a),e.attr(aria-valuemin,n.min).attr(aria-valuemax,n.max),n.format=c(n.format),l=n.value,u.value(l!==zle.val()),d=e.is([disabled]),du.enable(!1)u.readonly(e.is([readonly])),i.notify(u)},options{nameNumericTextBox,decimalsz,minz,maxz,valuez,step1,culture,formatn,spinners!0,placeholder,upArrowTextIncrease value,downArrowTextDecrease value},events[f,_],_editablefunction(e){var t=this,n=t.element,i=e.disable,r=e.readonly,o=t._text.add(n),a=t._inputWrapper.off(k);t._toggleText(!0),t._upArrowEventHandler.unbind(press),t._downArrowEventHandler.unbind(press),n.off(keydown+w).off(keypress+w).off(paste+w),ri(a.addClass(iEx).removeClass(ixE),o.attr(g,i).attr(m,r).attr(I,i).attr(M,r))(a.addClass(x).removeClass(E).on(k,t._toggleHover),o.removeAttr(g).removeAttr(m).attr(I,!1).attr(M,!1),t._upArrowEventHandler.bind(press,function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(A)}),t._downArrowEventHandler.bind(press,function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(A)}),t.element.on(keydown+w,F(t._keydown,t)).on(keypress+w,F(t._keypress,t)).on(paste+w,F(t._paste,t)))},readonlyfunction(e){this._editable({readonlye===t!0e,disable!1})},enablefunction(e){this._editable({readonly!1,disable!(e=e===t!0e)})},destroyfunction(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(w),e._upArrowEventHandler.destroy(),e._downArrowEventHandler.destroy(),e._form&&e._form.off(reset,e._resetHandler),s.fn.destroy.call(e)},minfunction(e){return this._option(min,e)},maxfunction(e){return this._option(max,e)},stepfunction(e){return this._option(step,e)},valuefunction(e){var n,i=this;return e===ti._value(e=i._parse(e),n=i._adjust(e),e===n&&(i._update(e),i._old=i._value),t)},focusfunction(){this._focusin()},_adjustfunction(e){var t=this,n=t.options,i=n.min,r=n.max;return e===ze(i!==z&&iee=ir!==z&&er&&(e=r),e)},_arrowsfunction(){var t,r=this,o=function(){clearTimeout(r._spinning),t.removeClass(A)},a=r.options,s=a.spinners,l=r.element;t=l.siblings(.k-icon),t[0](t=e(n(n,a.upArrowText)+n(s,a.downArrowText)).insertAfter(l),t.wrapAll('span class=k-select')),s(t.parent().toggle(s),r._inputWrapper.addClass(k-expand-padding)),r._upArrow=t.eq(0),r._upArrowEventHandler=new i.UserEvents(r._upArrow,{releaseo}),r._downArrow=t.eq(1),r._downArrowEventHandler=new i.UserEvents(r._downArrow,{releaseo})},_blurfunction(){var e=this;e._toggleText(!0),e._change(e.element.val())},_clickfunction(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n,i,o,a=e.target,s=r(a)[0],l=a.value.substring(0,s),c=t._format(t.options.format),d=c[,],u=0;d&&(i=RegExp(+d,g),o=RegExp(([d+d+]+)(+c[D]+)(d+))),o&&(n=o.exec(l)),n&&(u=n[0].replace(i,).length,-1!=l.indexOf(()&&0t._value&&u++),t._focusin(),r(t.element[0],u)})},_changefunction(e){var t=this;t._update(e),e=t._value,t._old!=e&&(t._old=e,t.element.trigger(f),t.trigger(f))},_culturefunction(e){return eh(this.options.culture)},_focusinfunction(){var e=this;e._inputWrapper.addClass(C),e._toggleText(!1),e.element[0].focus()},_focusoutfunction(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(C).removeClass(S),e._blur()},_formatfunction(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf(c)-1n=n.currencye.indexOf(p)-1&&(n=n.percent),n},_inputfunction(){var t,n=this,i=k-formatted-value,r=n.element.addClass(v).show()[0],o=r.accessKey,a=n.wrapper;t=a.find(D+i),t[0](t=e('input type=text').insertBefore(r).addClass(i));try{r.setAttribute(type,text)}catch(s){r.type=text}t[0].tabIndex=r.tabIndex,t[0].style.cssText=r.style.cssText,t[0].title=r.title,t.prop(placeholder,n.options.placeholder),o&&(t.attr(accesskey,o),r.accessKey=),n._text=t.addClass(r.className)},_keydownfunction(e){var t=this,n=e.keyCode;t._key=n,n==o.DOWNt._step(-1)n==o.UPt._step(1)n==o.ENTER&&t._change(t.element.val())},_keypressfunction(e){var t,n,i,a,s,l,c,d,u,h,p;0===e.whiche.metaKeye.ctrlKeye.keyCode===o.BACKSPACEe.keyCode===o.ENTER(t=this,n=t.options.min,i=t.element,a=r(i),s=a[0],l=a[1],c=String.fromCharCode(e.which),d=t._format(t.options.format),u=t._key===o.NUMPAD_DOT,h=i.val(),u&&(c=d[D]),h=h.substring(0,s)+c+h.substring(l),p=t._numericRegex(d).test(h),p&&u(i.val(h),r(i,s+c.length),e.preventDefault())(null!==n&&n=0&&-===h.charAt(0)!p)&&e.preventDefault(),t._key=0)},_numericRegexfunction(e){var t=this,n=e[D],i=t.options.decimals;return n===D&&(n=+n),i===z&&(i=e.decimals),0===iP(t._separator!==n&&(t._separator=n,t._floatRegExp=RegExp(^(-)(((d+(+n+d))(+n+d)))$)),t._floatRegExp)},_pastefunction(e){var t=this,n=e.target,i=n.value;setTimeout(function(){t._parse(n.value)===z&&t._update(i)})},_optionfunction(e,n){var i=this,r=i.options;return n===tr[e](n=i._parse(n),(nstep!==e)&&(r[e]=n,i.element.attr(aria-value+e,n).attr(e,n)),t)},_spinfunction(e,t){var n=this;t=t500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50)},t),n._step(e)},_stepfunction(e){var t=this,n=t.element,i=t._parse(n.val())0;l()!=n[0]&&t._focusin(),i+=t.options.stepe,t._update(t._adjust(i)),t.trigger(_)},_toggleHoverfunction(t){e(t.currentTarget).toggleClass(S,mouseenter===t.type)},_toggleTextfunction(e){var t=this;t._text.toggle(e),t.element.toggle(!e)},_parsefunction(e,t){return d(e,this._culture(t),this.options.format)},_updatefunction(e){var t,n=this,r=n.options,o=r.format,a=r.decimals,s=n._culture(),l=n._format(o,s);a===z&&(a=l.decimals),e=n._parse(e,s),t=e!==z,t&&(e=parseFloat(p(e,a))),n._value=e=n._adjust(e),n._placeholder(i.toString(e,o,s)),t(e=+e,-1!==e.indexOf(e)&&(e=p(+e,a)),e=e.replace(D,l[D]))e=,n.element.val(e).attr(aria-valuenow,e)},_placeholderfunction(e){this._text.val(e),uethis._text.val(this.options.placeholder)},_wrapperfunction(){var t,n=this,i=n.element,r=i[0];t=i.parents(.k-numerictextbox),t.is(span.k-numerictextbox)(t=i.hide().wrap('span class=k-numeric-wrap k-state-default ').parent(),t=t.wrap(span).parent()),t[0].style.cssText=r.style.cssText,r.style.width=,n.wrapper=t.addClass(k-widget k-numerictextbox).addClass(r.className).css(display,),n._inputWrapper=e(t[0].firstChild)},_resetfunction(){var t=this,n=t.element,i=n.attr(form),r=ie(#+i)n.closest(form);r[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value)})},t._form=r.on(reset,t._resetHandler))}});a.plugin(R)}(window.kendo.jQuery),function(e,t){function n(t,i){t.filters&&(t.filters=e.grep(t.filters,function(e){return n(e,i),e.filterse.filters.lengthe.field!=i}))}function i(e){var t,n,i,r,o,a;if(e&&e.length)for(a=[],t=0,n=e.length;nt;t++)i=e[t],o=i.texti.valuei,r=null==i.valuei.textii.value,a[t]={texto,valuer};return a}function r(t,n){return e.grep(t,function(t){return t.filters(t.filters=e.grep(t.filters,function(e){return e.field!=n}),t.filters.length)t.field!=n})}function o(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return o(e,n),e.filterse.filters.lengthe.field==n&&eq==e.operator}))}function a(n){returnand==n.logic&&n.filters.length1[]n.filterse.map(n.filters,function(e){return a(e)})null!==n.value&&n.value!==t[n.value][]}function s(e,n){for(var i,r,o=c.getter(n,!0),a=[],s=0,l={};e.lengths;)i=e[s++],r=o(i),r===tnull===rl.hasOwnProperty(r)(a.push(i),l[r]=!0);return a}function l(e,t){return function(n){var i=e(n);return s(i,t)}}var c=window.kendo,d=c.ui,u=e.proxy,h=kendoPopup,p=init,f=refresh,g=change,m=.kendoFilterMenu,v=Is equal to,_=Is not equal to,w={numbernumerictextbox,datedatepicker},y={stringtext,numbernumber,datedate},b=c.isFunction,k=d.Widget,x='divdiv class=k-filter-help-text#=messages.info#divlabelinput type=radio data-#=ns#bind=checked filters[0].value value=true name=filters[0].value#=messages.isTrue#labellabelinput type=radio data-#=ns#bind=checked filters[0].value value=false name=filters[0].value#=messages.isFalse#labeldivbutton type=submit class=k-button k-primary#=messages.filter#buttonbutton type=reset class=k-button#=messages.clear#buttondivdiv',C='divdiv class=k-filter-help-text#=messages.info#divselect data-#=ns#bind=value filters[0].operator data-#=ns#role=dropdownlist#for(var op in operators){#option value=#=op##=operators[op]#option#}#select#if(values){#select data-#=ns#bind=valuefilters[0].value data-#=ns#text-field=text data-#=ns#value-field=value data-#=ns#source='#=kendo.stringify(values).replace('g,&#39;)#' data-#=ns#role=dropdownlist data-#=ns#option-label=#=messages.selectValue#select#}else{#input data-#=ns#bind=valuefilters[0].value class=k-textbox type=text #=role  data- + ns + role=' + role + '  # #}##if(extra){#select class=k-filter-and data-#=ns#bind=value logic data-#=ns#role=dropdownlistoption value=and#=messages.and#optionoption value=or#=messages.or#optionselectselect data-#=ns#bind=value filters[1].operator data-#=ns#role=dropdownlist#for(var op in operators){#option value=#=op##=operators[op]#option#}#select#if(values){#select data-#=ns#bind=valuefilters[1].value data-#=ns#text-field=text data-#=ns#value-field=value data-#=ns#source='#=kendo.stringify(values).replace('g,&#39;)#' data-#=ns#role=dropdownlist data-#=ns#option-label=#=messages.selectValue#select#}else{#input data-#=ns#bind=value filters[1].value class=k-textbox type=text #=role  data- + ns + role=' + role + '  ##}##}#divbutton type=submit class=k-button k-primary#=messages.filter#buttonbutton type=reset class=k-button#=messages.clear#buttondivdiv',S='div data-#=ns#role=view data-#=ns#init-widgets=false class=k-grid-filter-menudiv data-#=ns#role=header class=k-headerbutton class=k-button k-cancel#=messages.cancel#button#=title#button type=submit class=k-button k-submit#=messages.filter#buttondivform class=k-filter-menu k-mobile-listul class=k-filter-help-textlispan class=k-link#=messages.info#spanulli class=k-itemlabel class=k-label#=messages.operator#select data-#=ns#bind=value filters[0].operator#for(var op in operators){#option value=#=op##=operators[op]#option#}#selectlabellili class=k-itemlabel class=k-label#=messages.value##if(values){#select data-#=ns#bind=valuefilters[0].valueoption value=#=messages.selectValue#option#for(var val in values){#option value=#=values[val].value##=values[val].text#option#}#select#}else{#input data-#=ns#bind=valuefilters[0].value class=k-textbox type=#=inputType# #=useRole  data- + ns + role=' + role + '  # #}#labelli#if(extra){#ulul class=k-filter-help-textlispan class=k-linkspanli class=k-itemlabel class=k-labelinput type=radio name=logic class=k-check data-#=ns#bind=checked logic value=and #=messages.and#labellili class=k-itemlabel class=k-labelinput type=radio name=logic class=k-check data-#=ns#bind=checked logic value=or #=messages.or#labelliulul class=k-filter-help-textlispan class=k-linkspanli class=k-itemlabel class=k-label#=messages.operator#select data-#=ns#bind=value filters[1].operator#for(var op in operators){#option value=#=op##=operators[op]#option#}#selectlabellili class=k-itemlabel class=k-label#=messages.value##if(values){#select data-#=ns#bind=valuefilters[1].valueoption value=#=messages.selectValue#option#for(var val in values){#option value=#=values[val].value##=values[val].text#option#}#select#}else{#input data-#=ns#bind=valuefilters[1].value class=k-textbox type=#=inputType# #=useRole  data- + ns + role=' + role + '  # #}#labelli#}#ullili class=k-button-containerbutton type=reset class=k-button#=messages.clear#buttonliuldivformdiv',T='div data-#=ns#role=view data-#=ns#init-widgets=false class=k-grid-filter-menudiv data-#=ns#role=header class=k-headerbutton class=k-button k-cancel#=messages.cancel#button#=title#button type=submit class=k-button k-submit#=messages.filter#buttondivform class=k-filter-menu k-mobile-listul class=k-filter-help-textlispan class=k-link#=messages.info#spanulli class=k-itemlabel class=k-labelinput class=k-check type=radio data-#=ns#bind=checked filters[0].value value=true name=filters[0].value#=messages.isTrue#labellili class=k-itemlabel class=k-labelinput class=k-check type=radio data-#=ns#bind=checked filters[0].value value=false name=filters[0].value#=messages.isFalse#labelliullili class=k-button-containerbutton type=reset class=k-button#=messages.clear#buttonliulformdiv',D=k.extend({initfunction(t,n){var i,r,o,a,s=this,l=string;k.fn.init.call(s,t,n),i=s.operators=n.operators{},t=s.element,n=s.options,n.appendToElement(o=t.addClass(k-with-icon k-filterable).find(.k-grid-filter),o[0](o=t.prepend('a class=k-grid-filter href=#span class=k-icon k-filtera').find(.k-grid-filter)),o.attr(tabindex,-1).on(click+m,u(s._click,s))),s.link=oe(),s.dataSource=n.dataSource,s.field=n.fieldt.attr(c.attr(field)),s.model=s.dataSource.reader.model,s._parse=function(e){return e+},s.model&&s.model.fields&&(a=s.model.fields[s.field],a&&(l=a.typestring,a.parse&&(s._parse=u(a.parse,a)))),n.values&&(l=enums),s.type=l,i=i[l]n.operators[l];for(r in i)break;s._defaultFilter=function(){return{fields.field,operatorreq,value}},s._refreshHandler=u(s.refresh,s),s.dataSource.bind(g,s._refreshHandler),n.appendToElements._init()s.refresh()},_initfunction(){var t,n=this,i=n.options.ui,r=b(i);n.pane=n.options.pane,n.pane&&(n._isMobile=!0),r(t=iw[n.type]),n._isMobilen._createMobileForm(t)n._createForm(t),n.form.on(submit+m,u(n._submit,n)).on(reset+m,u(n._reset,n)),r&&n.form.find(.k-textbox).removeClass(k-textbox).each(function(){i(e(this))}),n.form.find([+c.attr(role)+=numerictextbox]).removeClass(k-textbox).end().find([+c.attr(role)+=datetimepicker]).removeClass(k-textbox).end().find([+c.attr(role)+=timepicker]).removeClass(k-textbox).end().find([+c.attr(role)+=datepicker]).removeClass(k-textbox),n.refresh(),n.trigger(p,{fieldn.field,containern.form})
},_createFormfunction(t){var n=this,r=n.options,o=n.operators{},a=n.type;o=o[a]r.operators[a],n.form=e('form class=k-filter-menu').html(c.template(boolean===axC)({fieldn.field,formatr.format,nsc.ns,messagesr.messages,extrar.extra,operatorso,typea,rolet,valuesi(r.values)})),r.appendToElement(n.element.append(n.form),n.popup=n.element.closest(.k-popup).data(h))n.popup=n.form[h]({anchorn.link,openu(n._open,n),activateu(n._activate,n),closefunction(){n.options.closeCallback&&n.options.closeCallback(n.element)}}).data(h),n.form.on(keydown+m,u(n._keydown,n))},_createMobileFormfunction(t){var n=this,r=n.options,o=n.operators{},a=n.type;o=o[a]r.operators[a],n.form=e(div ).html(c.template(boolean===aTS)({fieldn.field,titler.titlen.field,formatr.format,nsc.ns,messagesr.messages,extrar.extra,operatorso,typea,rolet,useRole!c.support.input.date&&date===anumber===a,inputTypey[a],valuesi(r.values)})),n.view=n.pane.append(n.form.html()),n.form=n.view.element.find(form),n.view.element.on(click,.k-submit,function(e){n.form.submit(),e.preventDefault()}).on(click,.k-cancel,function(e){n._closeForm(),e.preventDefault()})},refreshfunction(){var e=this,t=e.dataSource.filter(){filters[],logicand};e.filterModel=c.observable({logicand,filters[e._defaultFilter(),e._defaultFilter()]}),e.form&&c.bind(e.form.children().first(),e.filterModel),e._bind(t)e.link.addClass(k-state-active)e.link.removeClass(k-state-active)},destroyfunction(){var e=this;k.fn.destroy.call(e),e.form&&(c.unbind(e.form),c.destroy(e.form),e.form.unbind(m),e.popup&&(e.popup.destroy(),e.popup=null),e.form=null),e.view&&(e.view.purge(),e.view=null),e.link.unbind(m),e._refreshHandler&&(e.dataSource.unbind(g,e._refreshHandler),e.dataSource=null),e.element=e.link=e._refreshHandler=e.filterModel=null},_bindfunction(e){var t,n,i,r,o=this,a=e.filters,s=!1,l=0,c=o.filterModel;for(t=0,n=a.length;nt;t++)r=a[t],r.field==o.field(c.set(logic,e.logic),i=c.filters[l],i(c.filters.push({fieldo.field}),i=c.filters[l]),i.set(value,o._parse(r.value)),i.set(operator,r.operator),l++,s=!0)r.filters&&(s=so._bind(r));return s},_mergefunction(t){var i,r,o,a=this,s=t.logicand,l=t.filters,c=a.dataSource.filter(){filters[],logicand};for(n(c,a.field),l=e.grep(l,function(e){return!==e.value&&null!=e.value}),r=0,o=l.length;or;r++)i=l[r],i.value=a._parse(i.value);return l.length&&(c.filters.length(t.filters=l,and!==c.logic&&(c.filters=[{logicc.logic,filtersc.filters}],c.logic=and),c.filters.push(l.length1tl[0]))(c.filters=l,c.logic=s)),c},filterfunction(e){e=this._merge(e),e.filters.length&&this.dataSource.filter(e)},clearfunction(){var t=this,n=t.dataSource.filter(){filters[]};n.filters=e.grep(n.filters,function(e){return e.filters(e.filters=r(e.filters,t.field),e.filters.length)e.field!=t.field}),n.filters.length(n=null),t.dataSource.filter(n)},_submitfunction(e){e.preventDefault(),e.stopPropagation(),this.filter(this.filterModel.toJSON()),this._closeForm()},_resetfunction(){this.clear(),this._closeForm()},_closeFormfunction(){this._isMobilethis.pane.navigate(,this.options.animations.right)this.popup.close()},_clickfunction(e){e.preventDefault(),e.stopPropagation(),this.popupthis.panethis._init(),this._isMobilethis.pane.navigate(this.view,this.options.animations.left)this.popup.toggle()},_openfunction(){var t;e(.k-filter-menu).not(this.form).each(function(){t=e(this).data(h),t&&t.close()})},_activatefunction(){this.form.find(kendoFocusablefirst).focus()},_keydownfunction(e){e.keyCode==c.keys.ESC&&this.popup.close()},events[p],options{nameFilterMenu,extra!0,appendToElement!1,typestring,operators{string{eqv,neq_,startswithStarts with,containsContains,doesnotcontainDoes not contain,endswithEnds with},number{eqv,neq_,gteIs greater than or equal to,gtIs greater than,lteIs less than or equal to,ltIs less than},date{eqv,neq_,gteIs after or equal to,gtIs after,lteIs before or equal to,ltIs before},enums{eqv,neq_}},messages{infoShow items with value that,isTrueis true,isFalseis false,filterFilter,clearClear,andAnd,orOr,selectValue-Select value-,operatorOperator,valueValue,cancelCancel},animations{leftslide,rightslideright}}}),A=.kendoFilterMultiCheck,E=c.data.DataSource,I=k.extend({initfunction(t,n){var i,r;k.fn.init.call(this,t,n),n=this.options,this.element=e(t),i=this.field=this.options.fieldthis.element.attr(c.attr(field)),r=n.checkSource,n.forceUnique(r=n.dataSource.options,delete r.pageSize,this.checkSource=E.create(r),this.checkSource.reader.data=l(this.checkSource.reader.data,this.field))this.checkSource=E.create(r),this.dataSource=n.dataSource,this.model=this.dataSource.reader.model,this._parse=function(e){return e+},this.model&&this.model.fields&&(i=this.model.fields[this.field],i&&(i.parse&&(this._parse=u(i.parse,i)),this.type=i.typestring)),n.appendToElementthis._init()this._createLink(),this._refreshHandler=u(this.refresh,this),this.dataSource.bind(g,this._refreshHandler)},_createLinkfunction(){var e=this.element,t=e.addClass(k-with-icon k-filterable).find(.k-grid-filter);t[0](t=e.prepend('a class=k-grid-filter href=#span class=k-icon k-filtera').find(.k-grid-filter)),this._link=t.attr(tabindex,-1).on(click+m,u(this._click,this))},_initfunction(){var e=this,t=this.options.forceUnique,n=this.options;this.pane=n.pane,this.pane&&(this._isMobile=!0),this._createForm(),t&&!this.checkSource.options.serverPaging&&this.dataSource.data().length(this.checkSource.data(s(this.dataSource.data(),this.field)),this.refresh())(d.progress(e.container,!0),this.checkSource.fetch(function(){d.progress(e.container,!1),e.refresh.call(e)})),this.options.forceUnique(this.checkChangeHandler=function(){e.container.empty(),e.refresh()},this.checkSource.bind(g,this.checkChangeHandler)),this.form.on(keydown+A,u(this._keydown,this)).on(submit+A,u(this._filter,this)).on(reset+A,u(this._reset,this)),this.trigger(p,{fieldthis.field,containerthis.form})},_createFormfunction(){var t,n,i=this.options,r=ul class='k-reset k-multicheck-wrap'ulbutton type='submit' class='k-button k-primary'+i.messages.filter+button;r+=button type='reset' class='k-button'+i.messages.clear+button,this.form=e('form class=k-filter-menu').html(r),this.container=this.form.find(.k-multicheck-wrap),this._isMobile(this.view=this.pane.append(this.form.addClass(k-mobile-list).wrap(div).parent().html()),t=this.view.element,this.form=t.find(form),this.container=t.find(.k-multicheck-wrap),n=this,t.on(click,.k-primary,function(e){n.form.submit(),e.preventDefault()}).on(click,[type=reset],function(e){n._reset(),e.preventDefault()}))i.appendToElement(this.popup=this.element.closest(.k-popup).data(h),this.element.append(this.form))this.popup=this.form.kendoPopup({anchorthis._link}).data(h)},createCheckAllItemfunction(){var t=this.options,n=c.template(t.itemTemplate({fieldall,mobilethis._isMobile})),i=e(n({allt.messages.checkAll}));this.container.prepend(i),this.checkBoxAll=i.find(checkbox).eq(0).addClass(k-check-all),this.checkAllHandler=u(this.checkAll,this),this.checkBoxAll.on(g+A,this.checkAllHandler)},updateCheckAllStatefunction(){if(this.checkBoxAll){var e=this.container.find(checkboxnot(.k-check-all)).length==this.container.find(checkednot(.k-check-all)).length;this.checkBoxAll.prop(checked,e)}},refreshfunction(e){var t=this.options.forceUnique,n=this.dataSource,i=this.getFilterArray();this._link&&this._link.toggleClass(k-state-active,0!==i.length),this.form&&(!e!te.sender!==nn.options.serverPagingitemchange!=e.action&&add!=e.action&&remove!=e.action(this.checkSource.data(s(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(empty)&&this.createCheckBoxes(),this.checkValues(i),this.trigger(f))},getFilterArrayfunction(){var t,n=e.extend(!0,{},{filters[],logicand},this.dataSource.filter());return o(n,this.field),t=a(n)},createCheckBoxesfunction(){var e,t=this.options,n={fieldthis.field,formatt.format,mobilethis._isMobile,typethis.type},i=c.template(t.itemTemplate(n)),r=this.checkSource.data();t.values&&(r=t.values,n.valueField=value,n.field=text,i=c.template(t.itemTemplate(n))),e=c.render(i,r),t.checkAll&&(this.createCheckAllItem(),this.container.on(g+A,checkbox,u(this.updateCheckAllState,this))),this.container.append(e)},checkAllfunction(){var e=this.checkBoxAll.is(checked);this.container.find(checkbox).prop(checked,e)},checkValuesfunction(t){var n=this;e(e.grep(this.container.find(checkbox).prop(checked,!1),function(i){var r,o,a=!1;if(!e(i).is(.k-check-all))for(r=n._parse(e(i).val()),o=0;t.lengtho;o++)if(a=date==n.typet[o].getTime()==r.getTime()t[o]==r)return a})).prop(checked,!0),this.updateCheckAllState()},_filterfunction(t){var n,i;t.preventDefault(),t.stopPropagation(),n={logicor},i=this,n.filters=e.map(this.form.find(checkboxcheckednot(.k-check-all)),function(t){return{valuee(t).val(),operatoreq,fieldi.field}}),n=this._merge(n),n.filters.length&&this.dataSource.filter(n),this._closeForm()},destroyfunction(){var e=this;k.fn.destroy.call(e),e.form&&(c.unbind(e.form),c.destroy(e.form),e.form.unbind(A),e.popup&&(e.popup.destroy(),e.popup=null),e.form=null,e.container&&(e.container.unbind(A),e.container=null),e.checkBoxAll&&e.checkBoxAll.unbind(A)),e.view&&(e.view.purge(),e.view=null),e._link&&e._link.unbind(m),e._refreshHandler&&(e.dataSource.unbind(g,e._refreshHandler),e.dataSource=null),e.checkChangeHandler&&e.checkSource.unbind(g,e.checkChangeHandler),e.element=e.checkSource=e.container=e.checkBoxAll=e._link=e._refreshHandler=e.checkAllHandler=null},options{nameFilterMultiCheck,itemTemplatefunction(e){var n=e.field,i=e.format,r=e.valueField,o=e.mobile,a=;return r===t&&(r=n),date==e.type&&(a=yyyy-MM-ddTHHmmsszzz),li class='k-item'label class='k-label'input type='checkbox' class='+(ok-check)+'  value='#kendo.format('{0+a+}',+r+)#'#kendo.format('+(ii{0})+', +n+)#labelli},checkAll!0,appendToElement!1,messages{checkAllSelect All,clearClear,filterFilter},forceUnique!0,animations{leftslide,rightslideright}},events[p,f]});e.extend(I.fn,{_clickD.fn._click,_keydownD.fn._keydown,_resetD.fn._reset,_closeFormD.fn._closeForm,clearD.fn.clear,_mergeD.fn._merge}),d.plugin(D),d.plugin(I)}(window.kendo.jQuery),function(e,t){function n(e,t){return e=e.split( )[!t+0]e,e.replace(top,up).replace(bottom,down)}function i(e,t,n){e=e.split( )[!t+0]e;var i={origin[bottom,nrightleft],position[top,nrightleft]},r=leftright.test(e);return r(i.origin=[top,e],i.position[1]=c.directions[e].reverse)(i.origin[0]=e,i.position[0]=c.directions[e].reverse),i.origin=i.origin.join( ),i.position=i.position.join( ),i}function r(t,n){try{return e.contains(t,n)}catch(i){return!1}}function o(t){t=e(t),t.addClass(k-item).children(x).addClass(M),t.children(a).addClass(T).children(x).addClass(M),t.filter(not([disabled])).addClass(G),t.filter(.k-separatorempty).append(&nbsp;),t.filter(li[disabled]).addClass(Y).removeAttr(disabled).attr(aria-disabled,!0),t.filter([role]).lengtht.attr(role,menuitem),t.children(.+T).lengtht.contents().filter(function(){return!(this.nodeName.match(b)3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll(span class='+T+'),a(t),s(t)}function a(t){t=e(t),t.find( .k-link  [class=k-i-arrow]not(.k-sprite)).remove(),t.filter(has(.k-menu-group)).children(.k-linknot(has([class=k-i-arrow]not(.k-sprite)))).each(function(){var t=e(this),n=t.parent().parent();t.append(span class='k-icon +(n.hasClass(S+-horizontal)k-i-arrow-sk-i-arrow-e)+')})}function s(t){t=e(t),t.filter(.k-firstnot(first-child)).removeClass(I),t.filter(.k-lastnot(last-child)).removeClass(D),t.filter(first-child).addClass(I),t.filter(last-child).addClass(D)}var l,c=window.kendo,d=c.ui,u=c._activeElement,h=c.support.touch&&c.support.mobileOS,p=mousedown,f=click,g=e.extend,m=e.proxy,v=e.each,_=c.template,w=c.keys,y=d.Widget,b=^(uladiv)$i,k=.kendoMenu,x=img,C=open,S=k-menu,T=k-link,D=k-last,A=close,E=timer,I=k-first,M=k-image,P=select,z=zIndex,F=activate,R=deactivate,B=touchstart+k+ MSPointerDown+k+ pointerdown+k,H=c.support.pointers,L=c.support.msPointers,N=LH,O=HpointeroverLMSPointerOvermouseenter,V=HpointeroutLMSPointerOutmouseleave,U=hN,W=e(document.documentElement),j=kendoPopup,G=k-state-default,q=k-state-hover,$=k-state-focused,Y=k-state-disabled,Q=.k-menu,K=.k-menu-group,X=K+,.k-animation-container,Z=not(.k-list)  .k-item,J=.k-item.k-state-disabled,et=.k-itemnot(.k-state-disabled),tt=.k-itemnot(.k-state-disabled)  .k-link,nt=not(.k-item.k-separator),it=nt+eq(0),rt=nt+last,ot= divnot(.k-animation-container,.k-list-container),at={21,touch1},st={content_(div class='k-content #= groupCssClass() #' tabindex='-1'#= content(item) #div),group_(ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'#= renderItems(data) #ul),itemWrapper_(#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) ##= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) ##= tag(item) #),item_(li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items  aria-haspopup='true' ##=item.enabled === false  aria-disabled='true'  ''##= itemWrapper(data) ## if (item.items) { ##= subGroup({ items item.items, menu menu, group { expanded item.expanded } }) ## } else if (item.content  item.contentUrl) { ##= renderContent(data) ## } #li),image_(img class='k-image' alt='' src='#= imageUrl #' ),arrow_(span class='#= arrowClass(item, group) #'span),sprite_(span class='k-sprite #= spriteCssClass #'span),empty_()},lt={wrapperCssClassfunction(e,t){var n=k-item,i=t.index;return n+=t.enabled===!1 k-state-disabled k-state-default,e.firstLevel&&0===i&&(n+= k-first),i==e.length-1&&(n+= k-last),t.cssClass&&(n+= +t.cssClass),n},textClassfunction(){return T},textAttributesfunction(e){return e.url href='+e.url+'},arrowClassfunction(e,t){var n=k-icon;return n+=t.horizontal k-i-arrow-s k-i-arrow-e},textfunction(e){return e.encoded===!1e.textc.htmlEncode(e.text)},tagfunction(e){return e.urlaspan},groupAttributesfunction(e){return e.expanded!==!0 style='displaynone'},groupCssClassfunction(){returnk-group k-menu-group},contentfunction(e){return e.contente.content&nbsp;}},ct=y.extend({initfunction(t,n){var i=this;y.fn.init.call(i,t,n),t=i.wrapper=i.element,n=i.options,i._initData(n),i._updateClasses(),i._animations(n),i.nextItemZIndex=100,i._tabindex(),i._focusProxy=m(i._focusHandler,i),t.on(B,et,i._focusProxy).on(f+k,J,!1).on(f+k,et,m(i._click,i)).on(keydown+k,m(i._keydown,i)).on(focus+k,m(i._focus,i)).on(focus+k,.k-content,m(i._focus,i)).on(B+ +p+k,.k-content,m(i._preventClose,i)).on(blur+k,m(i._removeHoverItem,i)).on(blur+k,[tabindex],m(i._checkActiveElement,i)).on(O+k,et,m(i._mouseenter,i)).on(V+k,et,m(i._mouseleave,i)).on(O+k+ +V+k+ +p+k+ +f+k,tt,m(i._toggleHover,i)),n.openOnClick&&(i.clicked=!1,i._documentClickHandler=m(i._documentClick,i),e(document).click(i._documentClickHandler)),t.attr(role,menubar),t[0].id&&(i._ariaId=c.format({0}_mn_active,t[0].id)),c.notify(i)},events[C,A,F,R,P],options{nameMenu,animation{open{duration200},close{duration100}},orientationhorizontal,directiondefault,openOnClick!1,closeOnClick!0,hoverDelay100,popupCollisiont},_initDatafunction(e){var t=this;e.dataSource&&(t.angular(cleanup,function(){return{elementst.element.children()}}),t.element.empty(),t.append(e.dataSource,t.element),t.angular(compile,function(){return{elementst.element.children()}}))},setOptionsfunction(e){var t=this.options.animation;this._animations(e),e.animation=g(!0,t,e.animation),dataSourcein e&&this._initData(e),this._updateClasses(),y.fn.setOptions.call(this,e)},destroyfunction(){var t=this;y.fn.destroy.call(t),t.element.off(k),t._documentClickHandler&&e(document).unbind(click,t._documentClickHandler),c.destroy(t.element)},enablefunction(e,t){return this._toggleDisabled(e,t!==!1),this},disablefunction(e){return this._toggleDisabled(e,!1),this},appendfunction(e,t){t=this.element.find(t);var n=this._insert(e,t,t.lengtht.find( .k-menu-group,  .k-animation-container  .k-menu-group)null);return v(n.items,function(){n.group.append(this),a(this)}),a(t),s(n.group.find(.k-first, .k-last).add(n.items)),this},insertBeforefunction(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return v(n.items,function(){t.before(this),a(this),s(this)}),s(t),this},insertAfterfunction(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return v(n.items,function(){t.after(this),a(this),s(this)}),s(t),this},_insertfunction(t,n,i){var r,a,s,l,c=this;return n&&n.length(i=c.element),s=e.isPlainObject(t),l={firstLeveli.hasClass(S),horizontali.hasClass(S+-horizontal),expanded!0,lengthi.children().length},n&&!i.length&&(i=e(ct.renderGroup({groupl})).appendTo(n)),se.isArray(t)r=e(e.map(s[t]t,function(t,n){returnstring==typeof te(t).get()e(ct.renderItem({groupl,itemg(t,{indexn})})).get()}))(r=string==typeof t&&!=t.charAt(0)c.element.find(t)e(t),a=r.find( ul).addClass(k-menu-group).attr(role,menu),r=r.filter(li),r.add(a.find( li)).each(function(){o(this)})),{itemsr,groupi}},removefunction(e){var t,n,i,r;return e=this.element.find(e),t=this,n=e.parentsUntil(t.element,Z),i=e.parent(ulnot(.k-menu)),e.remove(),i&&!i.children(Z).length&&(r=i.parent(.k-animation-container),r.lengthr.remove()i.remove()),n.length&&(n=n.eq(0),a(n),s(n)),t},openfunction(r){var o=this,a=o.options,s=horizontal==a.orientation,l=a.direction,d=c.support.isRtl(o.wrapper);return r=o.element.find(r),^(topbottomdefault)$.test(l)&&(l=ds(l+ left).replace(default,bottom)lefts(l+ right).replace(default,bottom)right),r.siblings().find(.k-popupvisible,.k-animation-container.k-popupvisible).each(function(){var t=e(this).data(kendoPopup);t&&t.close()}),r.each(function(){var r=e(this);clearTimeout(r.data(E)),r.data(E,setTimeout(function(){var u,p,f,m,v,_,w,y,b=r.find(.k-menu-groupfirsthidden);b[0]&&o._triggerEvent({itemr[0],typeC})===!1&&(!b.find(.k-menu-group)[0]&&b.children(.k-item).length1(p=e(window).height(),f=function(){b.css({maxHeightp-(b.outerHeight()-b.height())-c.getShadows(b).bottom,overflowauto})},c.support.browser.msie&&7=c.support.browser.versionsetTimeout(f,0)f())b.css({maxHeight,overflow}),r.data(z,r.css(z)),r.css(z,o.nextItemZIndex++),u=b.data(j),m=r.parent().hasClass(S),v=m&&s,_=i(l,m,d),w=a.animation.open.effects,y=w!==twslideIn+n(l,m),u(u=b.data(j),u.options.origin=_.origin,u.options.position=_.position,u.options.animation.open.effects=y)u=b.kendoPopup({activatefunction(){o._triggerEvent({itemthis.wrapper.parent(),typeF})},deactivatefunction(e){e.sender.element.removeData(targetTransform).css({opacity}),o._triggerEvent({itemthis.wrapper.parent(),typeR})},origin_.origin,position_.position,collisiona.popupCollision!==ta.popupCollisionvfitfit flip,anchorr,appendTor,animation{openg(!0,{effectsy},a.animation.open),closea.animation.close},closefunction(e){var t=e.sender.wrapper.parent();o._triggerEvent({itemt[0],typeA})e.preventDefault()(t.css(z,t.data(z)),t.removeData(z),h&&(t.removeClass(q),o._removeHoverItem()))}}).data(j),b.removeAttr(aria-hidden),u.open())},o.options.hoverDelay))}),o},closefunction(t,n){var i=this,r=i.element;return t=r.find(t),t.length(t=r.find(.k-item)),t.each(function(){var t=e(this);!n&&i._isRootItem(t)&&(i.clicked=!1),clearTimeout(t.data(E)),t.data(E,setTimeout(function(){var e=t.find(.k-menu-groupnot(.k-list-container)not(.k-calendar-container)firstvisible).data(j);e&&(e.close(),e.element.attr(aria-hidden,!0))},i.options.hoverDelay))}),i},_toggleDisabledfunction(t,n){this.element.find(t).each(function(){e(this).toggleClass(G,n).toggleClass(Y,!n).attr(aria-disabled,!n)})},_toggleHoverfunction(t){var n=e(c.eventTarget(t)t.target).closest(Z),i=t.type==O-1!==p.indexOf(t.type);n.parents(li.+Y).lengthn.toggleClass(q,imousedown==t.typeclick==t.type),this._removeHoverItem()},_preventClosefunction(){this.options.closeOnClick(this._closurePrevented=!0)},_checkActiveElementfunction(t){var n=this,i=e(tt.currentTargetthis._hoverItem()),o=n._findRootParent(i)[0];this._closurePreventedsetTimeout(function(){(!document.hasFocus()!r(o,c._activeElement())&&t&&!r(o,t.currentTarget))&&n.close(o)},0),this._closurePrevented=!1},_removeHoverItemfunction(){var e=this._hoverItem();e&&e.hasClass($)&&(e.removeClass($),this._oldHoverItem=null)},_updateClassesfunction(){var e,t=this.element,n=.k-menu-init div ul;t.removeClass(k-menu-horizontal k-menu-vertical),t.addClass(k-widget k-reset k-header k-menu-init +S).addClass(S+-+this.options.orientation),t.find(li  ul).filter(function(){return!c.support.matchesSelector.call(this,n)}).addClass(k-group k-menu-group).attr(role,menu).attr(aria-hidden,t.is(visible)).end().find(li  div).addClass(k-content).attr(tabindex,-1),e=t.find( li,.k-menu-group  li),t.removeClass(k-menu-init),e.each(function(){o(this)})},_mouseenterfunction(t){var n=this,i=e(t.currentTarget),o=i.children(.k-animation-container).lengthi.children(K).length;t.delegateTarget==i.parents(Q)[0]&&(n.options.openOnClick&&!n.clickedh(HL)&&t.originalEvent.pointerType in at&&n._isRootItem(i.closest(Z))!r(t.currentTarget,t.relatedTarget)&&o&&n.open(i),(n.options.openOnClick&&n.clickedU)&&i.siblings().each(m(function(e,t){n.close(t,!0)},n)))},_mouseleavefunction(n){var i=this,o=e(n.currentTarget),a=o.children(.k-animation-container).lengtho.children(K).length;return o.parentsUntil(.k-animation-container,.k-list-container,.k-calendar-container)[0](n.stopImmediatePropagation(),t)(i.options.openOnClickh(HL)&&n.originalEvent.pointerType in atr(n.currentTarget,n.relatedTargetn.target)!ar(n.currentTarget,c._activeElement())i.close(o),t)},_clickfunction(n){var i,r,o,a=this,s=a.options,l=e(c.eventTarget(n)),d=l[0]l[0].nodeName.toUpperCase(),u=INPUT==dSELECT==dBUTTON==dLABEL==d,h=l.closest(.+T),p=l.closest(Z),f=h.attr(href),g=l.attr(href),m=e(a href='#' ).attr(href),v=!!f&&f!==m,_=v&&!!f.match(^#),w=!!g&&g!==m,y=s.openOnClick&&o&&a._isRootItem(p);if(!l.closest(ot,p[0]).length){if(p.hasClass(Y))return n.preventDefault(),t;if(n.handled!a._triggerEvent({itemp[0],typeP})un.preventDefault(),n.handled=!0,r=p.children(X),o=r.is(visible),s.closeOnClick&&(!v_)&&(!r.lengthy))return p.removeClass(q).css(height),a._oldHoverItem=a._findRootParent(p),a.close(h.parentsUntil(a.element,Z)),a.clicked=!1,-1!=MSPointerUp.indexOf(n.type)&&n.preventDefault(),t;v&&n.enterKey&&h[0].click(),(a._isRootItem(p)&&s.openOnClickc.support.touch(HL)&&a._isRootItem(p.closest(Z)))&&(vuwn.preventDefault(),a.clicked=!0,i=r.is(visible)AC,(s.closeOnClicki!=A)&&a[i](p))}},_documentClickfunction(e){r(this.element[0],e.target)(this.clicked=!1)},_focusfunction(n){var i=this,r=n.target,o=i._hoverItem(),a=u();return r==i.wrapper[0]e(r).is(kendoFocusable)(a===n.currentTarget&&(o.lengthi._moveHover([],o)i._oldHoverItemi._moveHover([],i.wrapper.children().first())),t)(n.stopPropagation(),e(r).closest(.k-content).closest(.k-menu-group).closest(.k-item).addClass($),i.wrapper.focus(),t)},_keydownfunction(e){var n,i,r,o=this,a=e.keyCode,s=o._oldHoverItem,l=c.support.isRtl(o.wrapper);if(e.target==e.currentTargeta==w.ESC){if(s(s=o._oldHoverItem=o._hoverItem()),i=o._itemBelongsToVertival(s),r=o._itemHasChildren(s),a==w.RIGHT)n=o[l_itemLeft_itemRight](s,i,r);else if(a==w.LEFT)n=o[l_itemRight_itemLeft](s,i,r);else if(a==w.DOWN)n=o._itemDown(s,i,r);else if(a==w.UP)n=o._itemUp(s,i,r);else if(a==w.ESC)n=o._itemEsc(s,i);else if(a==w.ENTERa==w.SPACEBAR)n=s.children(.k-link),n.length0&&(o._click({targetn[0],preventDefaultfunction(){},enterKey!0}),o._moveHover(s,o._findRootParent(s)));else if(a==w.TAB)return n=o._findRootParent(s),o._moveHover(s,n),o._checkActiveElement(),t;n&&n[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItemfunction(){return this.wrapper.find(.k-item.k-state-hover,.k-item.k-state-focused).filter(visible)},_itemBelongsToVertivalfunction(e){var t=this.wrapper.hasClass(k-menu-vertical);return e.lengthe.parent().hasClass(k-menu-group)tt},_itemHasChildrenfunction(e){return e.lengthe.children(ul.k-menu-group, div.k-animation-container).length0!1},_moveHoverfunction(t,n){var i=this,r=i._ariaId;t.length&&n.length&&t.removeClass($),n.length&&(n[0].id&&(r=n[0].id),n.addClass($),i._oldHoverItem=n,r&&(i.element.removeAttr(aria-activedescendant),e(#+r).removeAttr(id),n.attr(id,r),i.element.attr(aria-activedescendant,r)))},_findRootParentfunction(e){return this._isRootItem(e)ee.parentsUntil(Q,li.k-item).last()},_isRootItemfunction(e){return e.parent().hasClass(S)},_itemRightfunction(e,t,n){var i,r,o=this;if(!e.hasClass(Y))return tn(o.open(e),i=e.find(.k-menu-group).children().first())horizontal==o.options.orientation&&(r=o._findRootParent(e),o.close(r),i=r.nextAll(it))(i=e.nextAll(it),i.length(i=e.prevAll(rt))),i&&!i.lengthi=o.wrapper.children(.k-item).first()i(i=[]),o._moveHover(e,i),i},_itemLeftfunction(e,t){var n,i=this;return t(n=e.parent().closest(.k-item),i.close(n),i._isRootItem(n)&&horizontal==i.options.orientation&&(n=n.prevAll(it)))(n=e.prevAll(it),n.length(n=e.nextAll(rt))),n.length(n=i.wrapper.children(.k-item).last()),i._moveHover(e,n),n},_itemDownfunction(e,t,n){var i,r=this;if(t)i=e.nextAll(it);else{if(!ne.hasClass(Y))return;r.open(e),i=e.find(.k-menu-group).children().first()}return!i.length&&e.lengthi=e.parent().children().first()e.length(i=r.wrapper.children(.k-item).first()),r._moveHover(e,i),i},_itemUpfunction(e,t){var n,i=this;if(t)return n=e.prevAll(it),!n.length&&e.lengthn=e.parent().children().last()e.length(n=i.wrapper.children(.k-item).last()),i._moveHover(e,n),n},_itemEscfunction(e,t){var n,i=this;return t(n=e.parent().closest(.k-item),i.close(n),i._moveHover(e,n),n)e},_triggerEventfunction(e){var t=this;return t.trigger(e.type,{typee.type,iteme.item})},_focusHandlerfunction(t){var n=this,i=e(c.eventTarget(t)).closest(Z);setTimeout(function(){n._moveHover([],i),i.children(.k-content)[0]&&i.parent().closest(.k-item).removeClass($)},200)},_animationsfunction(e){e&&animationin e&&!e.animation&&(e.animation={open{effects{}},close{hide!0,effects{}}})}});g(ct,{renderItemfunction(e){e=g({menu{},group{}},e);var t=st.empty,n=e.item;return st.item(g(e,{imagen.imageUrlst.imaget,spriten.spriteCssClassst.spritet,itemWrapperst.itemWrapper,renderContentct.renderContent,arrown.itemsn.contentst.arrowt,subGroupct.renderGroup},lt))},renderGroupfunction(e){return st.group(g({renderItemsfunction(e){for(var t=,n=0,i=e.items,r=ii.length0,o=g({lengthr},e.group);rn;n++)t+=ct.renderItem(g(e,{groupo,itemg({indexn},i[n])}));return t}},e,lt))},renderContentfunction(e){return st.content(g(e,lt))}}),l=ct.extend({initfunction(t,n){var i=this;ct.fn.init.call(i,t,n),i.target=e(i.options.target),i._popup(),i._wire()},options{nameContextMenu,filternull,showOncontextmenu,orientationvertical,alignToAnchor!1,targetbody},events[C,A,F,R,P],setOptionsfunction(t){var n=this;ct.fn.setOptions.call(n,t),n.target.off(n.showOn+k,n._showProxy),n.userEvents&&n.userEvents.destroy(),n.target=e(n.options.target),t.orientation&&n.popup.wrapper[0]&&n.popup.element.unwrap(),n._wire(),ct.fn.setOptions.call(this,t)},destroyfunction(){var e=this;e.target.off(e.options.showOn+k),W.off(c.support.mousedown+k,e._closeProxy),e.userEvents&&e.userEvents.destroy(),ct.fn.destroy.call(e)},openfunction(n,i){var o=this;return n=e(n)[0],r(o.element[0],e(n)[0])ct.fn.open.call(o,n)o._triggerEvent({itemo.element,typeC})===!1&&(o.popup.visible()&&o.options.filter&&o.popup.close(!0),i!==t(o.popup.wrapper.hide(),o.popup.open(n,i))(o.popup.options.anchor=(nno.popup.anchor)o.target,o.popup.open()),W.off(o.popup.downEvent,o.popup._mousedownProxy),W.on(c.support.mousedown+k,o._closeProxy)),o},closefunction(){var t=this;r(t.element[0],e(arguments[0])[0])ct.fn.close.call(t,arguments[0])t.popup.visible()&&t._triggerEvent({itemt.element,typeA})===!1&&(t.popup.close(),W.off(c.support.mousedown+k,t._closeProxy),t.unbind(P,t._closeTimeoutProxy))},_showHandlerfunction(e){var t,n=e,i=this,o=i.options;e.event&&(n=e.event,n.pageX=e.x.location,n.pageY=e.y.location),r(i.element[0],e.relatedTargete.target)(i._eventOrigin=n,n.preventDefault(),n.stopImmediatePropagation(),i.element.find(.+$).removeClass($),(o.filter&&c.support.matchesSelector.call(n.currentTarget,o.filter)!o.filter)&&(o.alignToAnchori.open(n.currentTarget)(i.popup.options.anchor=n.currentTarget,i._targetChild(t=i.target.offset(),i.open(n.pageX-t.left,n.pageY-t.top))i.open(n.pageX,n.pageY))))},_closeHandlerfunction(t){var n,i=this,o=e(t.relatedTargett.target),a=o.closest(i.target.selector)[0]==i.target[0],s=o.closest(et).children(X),l=r(i.element[0],o[0]);i._eventOrigin=t,n=3!==t.which,i.popup.visible()&&(n&&a!a)&&(i.options.closeOnClick&&!s[0]&&l!l)&&(l(this.unbind(P,this._closeTimeoutProxy),i.bind(P,i._closeTimeoutProxy))i.close())},_wirefunction(){var e=this,t=e.options,n=e.target;e._showProxy=m(e._showHandler,e),e._closeProxy=m(e._closeHandler,e),e._closeTimeoutProxy=m(e.close,e),n[0]&&(c.support.mobileOS&&contextmenu==t.showOn(e.userEvents=new c.UserEvents(n,{filtert.filter,allowSelection!1}),n.on(t.showOn+k,!1),e.userEvents.bind(hold,e._showProxy))t.filtern.on(t.showOn+k,t.filter,e._showProxy)n.on(t.showOn+k,e._showProxy))},_triggerEventfunction(n){var i=this,r=e(i.popup.options.anchor)[0],o=i._eventOrigin;return i._eventOrigin=t,i.trigger(n.type,g({typen.type,itemn.itemthis.element[0],targetr},o{evento}{}))},_popupfunction(){var e=this;e._triggerProxy=m(e._triggerEvent,e),e.popup=e.element.addClass(k-context-menu).kendoPopup({anchore.targetbody,copyAnchorStylese.options.copyAnchorStyles,collisione.options.popupCollisionfit,animatione.options.animation,activatee._triggerProxy,deactivatee._triggerProxy}).data(kendoPopup),e._targetChild=r(e.target[0],e.popup.element[0])}}),d.plugin(ct),d.plugin(l)}(window.kendo.jQuery),function(e,t){function n(t){return e.trim(t).replace(&nbsp;gi,)}function i(e,t){var n,i,r,o={};for(n=0,i=e.length;in;n++)r=e[n],o[r[t]]=r;return o}function r(e){var t,n=[];for(t=0;e.lengtht;t++)e[t].columnsn=n.concat(r(e[t].columns))n.push(e[t]);return n}var o=window.kendo,a=o.ui,s=e.proxy,l=e.extend,c=e.grep,d=e.map,u=e.inArray,h=k-state-selected,p=asc,f=desc,g=change,m=init,v=select,_=kendoPopup,w=kendoFilterMenu,y=kendoMenu,b=.kendoColumnMenu,k=a.Widget,x=k.extend({initfunction(t,n){var i,r=this;k.fn.init.call(r,t,n),t=r.element,n=r.options,r.owner=n.owner,r.dataSource=n.dataSource,r.field=t.attr(o.attr(field)),r.title=t.attr(o.attr(title)),i=t.find(.k-header-column-menu),i[0](i=t.addClass(k-with-icon).prepend('a class=k-header-column-menu href=#span class=k-icon k-i-arrowhead-sa').find(.k-header-column-menu)),r.link=i.attr(tabindex,-1).on(click+b,s(r._click,r)),r.wrapper=e('div class=k-column-menu')
},_initfunction(){var e=this;e.pane=e.options.pane,e.pane&&(e._isMobile=!0),e._isMobilee._createMobileMenu()e._createMenu(),e._angularItems(compile),e._refreshHandler=s(e.refresh,e),e.dataSource.bind(g,e._refreshHandler),e._sort(),e._columns(),e._filter(),e._lockColumns(),e.trigger(m,{fielde.field,containere.wrapper})},events[m],options{nameColumnMenu,messages{sortAscendingSort Ascending,sortDescendingSort Descending,filterFilter,columnsColumns,doneDone,settingsColumn Settings,lockLock,unlockUnlock},filter,columns!0,sortable!0,filterable!0,animations{leftslide}},_createMenufunction(){var e=this,t=e.options;e.wrapper.html(o.template(C)({nso.ns,messagest.messages,sortablet.sortable,filterablet.filterable,columnse._ownerColumns(),showColumnst.columns,lockedColumnst.lockedColumns})),e.popup=e.wrapper[_]({anchore.link,opens(e._open,e),activates(e._activate,e),closefunction(){e.options.closeCallback&&e.options.closeCallback(e.element)}}).data(_),e.menu=e.wrapper.children()[y]({orientationvertical,closeOnClick!1}).data(y)},_createMobileMenufunction(){var e=this,t=e.options,n=o.template(S)({nso.ns,fielde.field,titlee.titlee.field,messagest.messages,sortablet.sortable,filterablet.filterable,columnse._ownerColumns(),showColumnst.columns,lockedColumnst.lockedColumns});e.view=e.pane.append(n),e.wrapper=e.view.element.find(.k-column-menu),e.menu=new T(e.wrapper.children(),{panee.pane}),e.view.element.on(click,.k-done,function(t){e.close(),t.preventDefault()}),e.options.lockedColumns&&e.view.bind(show,function(){e._updateLockedColumns()})},_angularItemsfunction(t){var n=this;n.angular(t,function(){var t=n.wrapper.find(.k-columns-item input[+o.attr(field)+]).map(function(){return e(this).closest(li)}),i=d(n._ownerColumns(),function(e){return{columne._originalObject}});return{elementst,datai}})},destroyfunction(){var e=this;e._angularItems(cleanup),k.fn.destroy.call(e),e.filterMenu&&e.filterMenu.destroy(),e._refreshHandler&&e.dataSource.unbind(g,e._refreshHandler),e.options.columns&&e.owner&&(e._updateColumnsMenuHandler&&(e.owner.unbind(columnShow,e._updateColumnsMenuHandler),e.owner.unbind(columnHide,e._updateColumnsMenuHandler)),e._updateColumnsLockedStateHandler&&(e.owner.unbind(columnLock,e._updateColumnsLockedStateHandler),e.owner.unbind(columnUnlock,e._updateColumnsLockedStateHandler))),e.menu&&(e.menu.element.off(b),e.menu.destroy()),e.wrapper.off(b),e.popup&&e.popup.destroy(),e.view&&e.view.purge(),e.link.off(b),e.owner=null,e.wrapper=null,e.element=null},closefunction(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off(keydown+b))},_clickfunction(e){e.preventDefault(),e.stopPropagation();var t=this.options;t.filter&&this.element.is(!t.filter)(this.popupthis.panethis._init(),this._isMobilethis.pane.navigate(this.view,this.options.animations.left)this.popup.toggle())},_openfunction(){var t=this;e(.k-column-menu).not(t.wrapper).each(function(){e(this).data(_).close()}),t.popup.element.on(keydown+b,function(e){e.keyCode==o.keys.ESC&&t.close()}),t.options.lockedColumns&&t._updateLockedColumns()},_activatefunction(){this.menu.element.focus()},_ownerColumnsfunction(){var e=r(this.owner.columns),t=c(e,function(e){var t=!0,i=n(e.title);return(e.menu===!1!e.field&&!i.length)&&(t=!1),t});return d(t,function(t){return{originalFieldt.field,fieldt.fieldt.title,titlet.titlet.field,hiddent.hidden,indexu(t,e),locked!!t.locked,_originalObjectt}})},_sortfunction(){var t=this;t.options.sortable&&(t.refresh(),t.menu.bind(v,function(n){var i,r=e(n.item);r.hasClass(k-sort-asc)i=pr.hasClass(k-sort-desc)&&(i=f),i&&(r.parent().find(.k-sort-+(i==pfp)).removeClass(h),t._sortDataSource(r,i),t.close())}))},_sortDataSourcefunction(e,n){var i,r,o=this,a=o.options.sortable,s=null===a.compareta.compare,l=o.dataSource,c=l.sort()[];if(e.hasClass(h)&&a&&a.allowUnsort!==!1(e.removeClass(h),n=t)e.addClass(h),multiple===a.mode){for(i=0,r=c.length;ri;i++)if(c[i].field===o.field){c.splice(i,1);break}c.push({fieldo.field,dirn,compares})}else c=[{fieldo.field,dirn,compares}];l.sort(c)},_columnsfunction(){var t=this;t.options.columns&&(t._updateColumnsMenu(),t._updateColumnsMenuHandler=s(t._updateColumnsMenu,t),t.owner.bind([columnHide,columnShow],t._updateColumnsMenuHandler),t._updateColumnsLockedStateHandler=s(t._updateColumnsLockedState,t),t.owner.bind([columnUnlock,columnLock],t._updateColumnsLockedStateHandler),t.menu.bind(v,function(n){var i,a,s,l=e(n.item),d=r(t.owner.columns);t._isMobile&&n.preventDefault(),l.parent().closest(li.k-columns-item)[0]&&(i=l.find(checkbox),i.attr(disabled)(s=i.attr(o.attr(field)),a=c(d,function(e){return e.field==se.title==s})[0],a.hidden===!0t.owner.showColumn(a)t.owner.hideColumn(a)))}))},_updateColumnsMenufunction(){var e,t,n,i,r,a,s=o.attr(field),l=o.attr(locked),h=c(this._ownerColumns(),function(e){return!e.hidden}),p=c(h,function(e){return e.originalField}),f=c(p,function(e){return e.locked===!0}).length,g=c(p,function(e){return e.locked!==!0}).length;for(h=d(h,function(e){return e.field}),a=this.wrapper.find(.k-columns-item input[+s+]).prop(disabled,!1).prop(checked,!1),e=0,t=a.length;te;e++)n=a.eq(e),r=true===n.attr(l),i=!1,u(n.attr(s),h)-1&&(i=!0,n.prop(checked,i)),i&&(1==f&&r&&n.prop(disabled,!0),1!=grn.prop(disabled,!0))},_updateColumnsLockedStatefunction(){var e,t,n,r,a=o.attr(field),s=o.attr(locked),l=i(this._ownerColumns(),field),c=this.wrapper.find(.k-columns-item input[type=checkbox]);for(e=0,t=c.length;te;e++)n=c.eq(e),r=l[n.attr(a)],r&&n.attr(s,r.locked);this._updateColumnsMenu()},_filterfunction(){var t=this,n=w,i=t.options;i.filterable!==!1&&(i.filterable.multi&&(n=kendoFilterMultiCheck,i.filterable.dataSource&&(i.filterable.checkSource=i.filterable.dataSource,delete i.filterable.dataSource)),t.filterMenu=t.wrapper.find(.k-filterable)[n](l(!0,{},{appendToElement!0,dataSourcei.dataSource,valuesi.values,fieldt.field,titlet.title},i.filterable)).data(n),t._isMobile&&t.menu.bind(v,function(n){var i=e(n.item);i.hasClass(k-filter-item)&&t.pane.navigate(t.filterMenu.view,t.options.animations.left)}))},_lockColumnsfunction(){var t=this;t.menu.bind(v,function(n){var i=e(n.item);i.hasClass(k-lock)(t.owner.lockColumn(t.field),t.close())i.hasClass(k-unlock)&&(t.owner.unlockColumn(t.field),t.close())})},_updateLockedColumnsfunction(){var e,t,n,i,r=this.field,o=this.owner.columns,a=c(o,function(e){return e.field==re.title==r})[0];a&&(e=a.locked===!0,t=c(o,function(t){return!t.hidden&&(t.locked&&e!t.locked&&!e)}).length,n=this.wrapper.find(.k-lock).removeClass(k-state-disabled),i=this.wrapper.find(.k-unlock).removeClass(k-state-disabled),(e1==t)&&n.addClass(k-state-disabled),e&&1!=ti.addClass(k-state-disabled),this._updateColumnsLockedState())},refreshfunction(){var e,t,n,i=this,r=i.options.dataSource.sort()[],o=i.field;for(i.wrapper.find(.k-sort-asc, .k-sort-desc).removeClass(h),t=0,n=r.length;nt;t++)e=r[t],o==e.field&&i.wrapper.find(.k-sort-+e.dir).addClass(h);i.link[i._filterExist(i.dataSource.filter())addClassremoveClass](k-state-active)},_filterExistfunction(e){var t,n,i,r=!1;if(e){for(e=e.filters,n=0,i=e.length;in;n++)t=e[n],t.field==this.fieldr=!0t.filters&&(r=rthis._filterExist(t));return r}}}),C='ul#if(sortable){#li class=k-item k-sort-ascspan class=k-linkspan class=k-sprite k-i-sort-ascspan${messages.sortAscending}spanlili class=k-item k-sort-descspan class=k-linkspan class=k-sprite k-i-sort-descspan${messages.sortDescending}spanli#if(showColumns  filterable){#li class=k-separatorli#}##}##if(showColumns){#li class=k-item k-columns-itemspan class=k-linkspan class=k-sprite k-i-columnsspan${messages.columns}spanul#for (var idx = 0; idx  columns.length; idx++) {#liinput type=checkbox data-#=ns#field=#=columns[idx].field.replace(g,&#34;)# data-#=ns#index=#=columns[idx].index# data-#=ns#locked=#=columns[idx].locked##=columns[idx].title#li#}#ulli#if(filterable  lockedColumns){#li class=k-separatorli#}##}##if(filterable){#li class=k-item k-filter-itemspan class=k-linkspan class=k-sprite k-filterspan${messages.filter}spanullidiv class=k-filterabledivliulli#if(lockedColumns){#li class=k-separatorli#}##}##if(lockedColumns){#li class=k-item k-lockspan class=k-linkspan class=k-sprite k-i-lockspan${messages.lock}spanlili class=k-item k-unlockspan class=k-linkspan class=k-sprite k-i-unlockspan${messages.unlock}spanli#}#ul',S='div data-#=ns#role=view data-#=ns#init-widgets=false class=k-grid-column-menudiv data-#=ns#role=header class=k-header${messages.settings}button class=k-button k-done#=messages.done#buttondivdiv class=k-column-menu k-mobile-listullispan class=k-link${title}spanul#if(sortable){#li class=k-item k-sort-ascspan class=k-linkspan class=k-sprite k-i-sort-ascspan${messages.sortAscending}spanlili class=k-item k-sort-descspan class=k-linkspan class=k-sprite k-i-sort-descspan${messages.sortDescending}spanli#}##if(lockedColumns){#li class=k-item k-lockspan class=k-linkspan class=k-sprite k-i-lockspan${messages.lock}spanlili class=k-item k-unlockspan class=k-linkspan class=k-sprite k-i-unlockspan${messages.unlock}spanli#}##if(filterable){#li class=k-item k-filter-itemspan class=k-link k-filterablespan class=k-sprite k-filterspan${messages.filter}spanli#}#ulli#if(showColumns){#li class=k-columns-itemspan class=k-link${messages.columns}spanul#for (var idx = 0; idx  columns.length; idx++) {#li class=k-itemlabel class=k-labelinput type=checkbox class=k-check data-#=ns#field=#=columns[idx].field.replace(g,&#34;)# data-#=ns#index=#=columns[idx].index# data-#=ns#locked=#=columns[idx].locked##=columns[idx].title#labelli#}#ulli#}#uldivdiv',T=k.extend({initfunction(e,t){k.fn.init.call(this,e,t),this.element.on(click+b,li.k-itemnot(.k-separator)not(.k-state-disabled),_click)},events[v],_clickfunction(t){e(t.target).is([type=checkbox])t.preventDefault(),this.trigger(v,{itemt.currentTarget})},closefunction(){this.options.pane.navigate()},destroyfunction(){k.fn.destroy.call(this),this.element.off(b)}});a.plugin(x)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui,r=i.Widget,o=dir,a=asc,s=single,l=field,c=desc,d=.kendoColumnSorter,u=.k-link,h=aria-sort,p=e.proxy,f=r.extend({initfunction(e,t){var n,i=this;r.fn.init.call(i,e,t),i._refreshHandler=p(i.refresh,i),i.dataSource=i.options.dataSource.bind(change,i._refreshHandler),n=i.element.find(u),n[0](n=i.element.wrapInner('a class=k-link href=#').find(u)),i.link=n,i.element.on(click+d,p(i._click,i))},options{nameColumnSorter,modes,allowUnsort!0,comparenull,filter},destroyfunction(){var e=this;r.fn.destroy.call(e),e.element.off(d),e.dataSource.unbind(change,e._refreshHandler),e._refreshHandler=e.element=e.link=e.dataSource=null},refreshfunction(){var t,i,r,s,d=this,u=d.dataSource.sort()[],p=d.element,f=p.attr(n.attr(l));for(p.removeAttr(n.attr(o)),p.removeAttr(h),t=0,i=u.length;it;t++)r=u[t],f==r.field&&p.attr(n.attr(o),r.dir);s=p.attr(n.attr(o)),p.find(.k-i-arrow-n,.k-i-arrow-s).remove(),s===a(e('span class=k-icon k-i-arrow-n ').appendTo(d.link),p.attr(h,ascending))s===c&&(e('span class=k-icon k-i-arrow-s ').appendTo(d.link),p.attr(h,descending))},_clickfunction(e){var i,r,d=this,u=d.element,h=u.attr(n.attr(l)),p=u.attr(n.attr(o)),f=d.options,g=null===d.options.comparetd.options.compare,m=d.dataSource.sort()[];if(e.preventDefault(),!f.filteru.is(f.filter)){if(p=p===acp===c&&f.allowUnsortta,f.mode===s)m=[{fieldh,dirp,compareg}];else if(multiple===f.mode){for(i=0,r=m.length;ri;i++)if(m[i].field===h){m.splice(i,1);break}m.push({fieldh,dirp,compareg})}this.dataSource.sort(m)}}});i.plugin(f)}(window.kendo.jQuery),function(e,t){function n(t){return t=null!=tt,t.typee.type(t)string}function i(t){t.find(inputnot(button, [+s.attr(role)+=upload], [+s.attr(skip)+], [type=file]), select).each(function(){var t=s.attr(bind),n=this.getAttribute(t),i=checkbox===this.typeradio===this.typecheckedvalue,r=this.name;-1===n.indexOf(i)&&r&&(n+=(n.length,)+i+r,e(this).attr(t,n))})}function r(e){var t,i,r=(e.model.fieldse.model)[e.field],o=n(r),a=rr.validation{},l=s.attr(type),c=s.attr(bind),d={namee.field};for(t in a)i=a[t],f(t,_)=0d[l]=th(i)(d[t]=p(i)i.valueti),d[s.attr(t+-msg)]=i.message;return f(o,_)=0&&(d[l]=o),d[c]=(boolean===ocheckedvalue)+e.field,d}function o(e){var t,n,i,r,o,a;if(e&&e.length)for(a=[],t=0,n=e.length;nt;t++)i=e[t],o=i.texti.valuei,r=null==i.valuei.textii.value,a[t]={texto,valuer};return a}function a(e,t){var n,i,r=ee.validation{}{};for(n in r)i=r[n],p(i)&&i.value&&(i=i.value),h(i)&&(t[n]=i)}var s=window.kendo,l=s.ui,c=l.Widget,d=e.extend,u=s.support.browser.msie&&9s.support.browser.version,h=s.isFunction,p=e.isPlainObject,f=e.inArray,g=(%'[]$.,;+&!#()=@^{}~`)g,m='div class=k-widget k-tooltip k-tooltip-validation style=margin0.5emspan class=k-icon k-warning span#=message#div class=k-callout k-callout-ndivdiv',v=change,_=[url,email,number,date,boolean],w={numberfunction(t,n){var i=r(n);e('input type=text').attr(i).appendTo(t).kendoNumericTextBox({formatn.format}),e(span +s.attr(for)+'='+n.field+' class=k-invalid-msg').hide().appendTo(t)},datefunction(t,n){var i=r(n),o=n.format;o&&(o=s._extractFormat(o)),i[s.attr(format)]=o,e('input type=text').attr(i).appendTo(t).kendoDatePicker({formatn.format}),e(span +s.attr(for)+'='+n.field+' class=k-invalid-msg').hide().appendTo(t)},stringfunction(t,n){var i=r(n);e('input type=text class=k-input k-textbox').attr(i).appendTo(t)},booleanfunction(t,n){var i=r(n);e('input type=checkbox ').attr(i).appendTo(t)},valuesfunction(t,n){var i=r(n);e(select +s.attr(text-field)+'=text'+s.attr(value-field)+'=value'+s.attr(source)+='+s.stringify(o(n.values)).replace('g,&apos;)+'+s.attr(role)+'=dropdownlist').attr(i).appendTo(t),e(span +s.attr(for)+'='+n.field+' class=k-invalid-msg').hide().appendTo(t)}},y=c.extend({initfunction(t,n){var i=this;n.target&&(n.$angular=n.target.options.$angular),c.fn.init.call(i,t,n),i._validateProxy=e.proxy(i._validate,i),i.refresh()},events[v],options{nameEditable,editorsw,clearContainer!0,errorTemplatem},editorfunction(e,t){var i=this,r=i.options.editors,o=p(e),a=oe.fielde,l=i.options.model{},c=o&&e.values,u=cvaluesn(t),h=o&&e.editor,f=he.editorr[u],m=i.element.find([+s.attr(container-for)+=+a.replace(g,$1)+]);f=ffr.string,h&&string==typeof e.editor&&(f=function(t){t.append(e.editor)}),m=m.lengthmi.element,f(m,d(!0,{},oe{fielda},{modell}))},_validatefunction(t){var n,i=this,r=t.value,o=i._validationEventInProgress,a={},l=s.attr(bind),c=t.field.replace(g,$1),d=RegExp((valuechecked)ss+c+s(,$));a[t.field]=t.value,n=e(input[+l+'='+c+']',i.element).filter([+s.attr(validate)+!='false']).filter(function(){return d.test(e(this).attr(l))}),n.length1&&(n=n.filter(function(){var t=e(this);return!t.is(radio)t.val()==r}));try{i._validationEventInProgress=!0,(!i.validatable.validateInput(n)!o&&i.trigger(v,{valuesa}))&&t.preventDefault()}finally{i._validationEventInProgress=!1}},endfunction(){return this.validatable.validate()},destroyfunction(){var e=this;e.angular(cleanup,function(){return{elementse.element}}),c.fn.destroy.call(e),e.options.model.unbind(set,e._validateProxy),s.unbind(e.element),e.validatable&&e.validatable.destroy(),s.destroy(e.element),e.element.removeData(kendoValidator)},refreshfunction(){var n,r,o,l,c,d,h,f,g=this,m=g.options.fields[],v=g.options.clearContainerg.element.empty()g.element,_=g.options.model{},w={};for(e.isArray(m)(m=[m]),n=0,r=m.length;rn;n++)o=m[n],l=p(o),c=lo.fieldo,d=(_.fields_)[c],a(d,w),g.editor(o,d);if(g.options.target&&g.angular(compile,function(){return{elementsv,data[{dataItem_}]}}),!r){h=_.fields_;for(c in h)a(h[c],w)}i(v),g.validatable&&g.validatable.destroy(),s.bind(v,g.options.model),g.options.model.unbind(set,g._validateProxy),g.options.model.bind(set,g._validateProxy),g.validatable=new s.ui.Validator(v,{validateOnBlur!1,errorTemplateg.options.errorTemplatet,rulesw}),f=v.find(kendoFocusable).eq(0).focus(),u&&f.focus()}});l.plugin(y)}(window.kendo.jQuery),function(e,t){function n(e){return t!==e}function i(e,t,n){return Math.max(Math.min(parseInt(e,10),10===nnparseInt(n,10)),parseInt(t,10))}function r(e,t){return function(){var n=this,i=n.wrapper,r=i[0].style,o=n.options;return o.isMaximizedo.isMinimizedn(n.restoreOptions={widthr.width,heightr.height},i.children(x).hide().end().children(b).find(G).parent().hide().eq(0).before(J.action({nameRestore})),t.call(n),maximize==en.wrapper.children(b).find(Y).parent().hide()n.wrapper.children(b).find(Y).parent().show(),n)}}function o(){return!this.typethis.type.toLowerCase().indexOf(script)=0}function a(e){var t=this;t.owner=e,t._draggable=new d(e.wrapper,{filter+x,groupe.wrapper.id+-resizing,dragstartp(t.dragstart,t),dragp(t.drag,t),dragendp(t.dragend,t)}),t._draggable.userEvents.bind(press,p(t.addOverlay,t)),t._draggable.userEvents.bind(release,p(t.removeOverlay,t))}function s(e,t){var n=this;n.owner=e,n._draggable=new d(e.wrapper,{filtert,groupe.wrapper.id+-moving,dragstartp(n.dragstart,n),dragp(n.drag,n),dragendp(n.dragend,n),dragcancelp(n.dragcancel,n)}),n._draggable.userEvents.stopPropagation=!1}var l=window.kendo,c=l.ui.Widget,d=l.ui.Draggable,u=e.isPlainObject,h=l._activeElement,p=e.proxy,f=e.extend,g=e.each,m=l.template,v=body,_=.kendoWindow,w=.k-window,y=.k-window-title,b=y+bar,k=.k-window-content,x=.k-resize-handle,C=.k-overlay,S=k-content-frame,T=k-loading,D=k-state-hover,A=k-state-focused,E=k-window-maximized,I=visible,M=hidden,P=cursor,z=open,F=activate,R=deactivate,B=close,H=refresh,L=resize,N=resizeEnd,O=dragstart,V=dragend,U=error,W=overflow,j=zIndex,G=.k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize,q=.k-i-pin,$=.k-i-unpin,Y=q+,+$,Q=.k-window-titlebar .k-window-action,K=.k-window-titlebar .k-i-refresh,X=l.isLocalUrl,Z=c.extend({initfunction(i,r){var a,s,d,h,f,g,m,v=this,x={},C=!1,S=r&&r.actions&&!r.actions.length;c.fn.init.call(v,i,r),r=v.options,h=r.position,i=v.element,f=r.content,S&&(r.actions=[]),v.appendTo=e(r.appendTo),v._animations(),f&&!u(f)&&(f=r.content={urlf}),i.find(script).filter(o).remove(),i.parent().is(v.appendTo)h.top!==t&&h.left!==t(i.is(I)(x=i.offset(),C=!0)(s=i.css(visibility),d=i.css(display),i.css({visibilityM,display}),x=i.offset(),i.css({visibilitys,displayd})),h.top===t&&(h.top=x.top),h.left===t&&(h.left=x.left)),n(r.visible)&&null!==r.visible(r.visible=i.is(I)),a=v.wrapper=i.closest(w),i.is(.k-content)&&a[0](i.addClass(k-window-content k-content),v._createWindow(i,r),a=v.wrapper=i.closest(w),v._dimensions()),v._position(),r.pinned&&v.pin(!0),f&&v.refresh(f),r.visible&&v.toFront(),g=a.children(k),v._tabindex(g),r.visible&&r.modal&&v._overlay(a.is(I)).css({opacity.5}),a.on(mouseenter+_,Q,p(v._buttonEnter,v)).on(mouseleave+_,Q,p(v._buttonLeave,v)).on(click+_, +Q,p(v._windowActionHandler,v)),g.on(keydown+_,p(v._keydown,v)).on(focus+_,p(v._focus,v)).on(blur+_,p(v._blur,v)),this._resizable(),this._draggable(),m=i.attr(id),m&&(m+=_wnd_title,a.children(b).children(y).attr(id,m),g.attr({roledialog,aria-labelledbym})),a.add(a.children(.k-resize-handle,+b)).on(mousedown+_,p(v.toFront,v)),v.touchScroller=l.touchScroller(i),v._resizeHandler=p(v._onDocumentResize,v),v._marker=l.guid().substring(0,8),e(window).on(resize+_+v._marker,v._resizeHandler),r.visible&&(v.trigger(z),v.trigger(F)),l.notify(v)},_buttonEnterfunction(t){e(t.currentTarget).addClass(D)},_buttonLeavefunction(t){e(t.currentTarget).removeClass(D)},_focusfunction(){this.wrapper.addClass(A)},_blurfunction(){this.wrapper.removeClass(A)},_dimensionsfunction(){var e,t,n=this.wrapper,r=this.options,o=r.width,a=r.height,s=r.maxHeight,l=[minWidth,minHeight,maxWidth,maxHeight];for(this.title(r.title),e=0;l.lengthe;e++)t=r[l[e]],t&&10!=t&&n.css(l[e],t);s&&10!=s&&this.element.css(maxHeight,s),o&&n.width((+o).indexOf(%)0oi(o,r.minWidth,r.maxWidth)),a&&n.height((+a).indexOf(%)0ai(a,r.minHeight,r.maxHeight)),r.visiblen.hide()},_positionfunction(){var e=this.wrapper,t=this.options.position;0===t.top&&(t.top=+t.top),0===t.left&&(t.left=+t.left),e.css({topt.top,leftt.left})},_animationsfunction(){var e=this.options;e.animation===!1&&(e.animation={open{effects{}},close{hide!0,effects{}}})},_resizefunction(){l.resize(this.element.children())},_resizablefunction(){var t=this.options.resizable,n=this.wrapper;this.resizing&&(n.off(dblclick+_).children(x).remove(),this.resizing.destroy(),this.resizing=null),t&&(n.on(dblclick+_,b,p(function(t){e(t.target).closest(.k-window-action).lengththis.toggleMaximization()},this)),g(n e s w se sw ne nw.split( ),function(e,t){n.append(J.resizeHandle(t))}),this.resizing=new a(this)),n=null},_draggablefunction(){var e=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),e&&(this.dragging=new s(this,e.dragHandleb))},_actionsfunction(){var t=this.options.actions,n=this.wrapper.children(b),i=n.find(.k-window-actions);t=e.map(t,function(e){return{namee}}),i.html(l.render(J.action,t))},setOptionsfunction(e){c.fn.setOptions.call(this,e),this._animations(),this._dimensions(),this._position(),this._resizable(),this._draggable(),this._actions()},events[z,F,R,B,H,L,N,O,V,U],options{nameWindow,animation{open{effects{zoom{directionin},fade{directionin}},duration350},close{effects{zoom{directionout,properties{scale.7}},fade{directionout}},duration350,hide!0}},title,actions[Close],autoFocus!0,modal!1,resizable!0,draggable!0,minWidth90,minHeight50,maxWidth10,maxHeight10,pinned!1,position{},contentnull,visiblenull,heightnull,widthnull,appendTobody},_closablefunction(){return e.inArray(close,e.map(this.options.actions,function(e){return e.toLowerCase()}))-1},_keydownfunction(e){var t,n,r,o,a,s,c=this,d=c.options,u=l.keys,h=e.keyCode,p=c.wrapper,f=10,g=c.options.isMaximized;e.target!=e.currentTargetc._closing(h==u.ESC&&c._closable()&&c._close(!1),!d.draggablee.ctrlKeyg(t=l.getOffset(p),h==u.UPn=p.css(top,t.top-f)h==u.DOWNn=p.css(top,t.top+f)h==u.LEFTn=p.css(left,t.left-f)h==u.RIGHT&&(n=p.css(left,t.left+f))),d.resizable&&e.ctrlKey&&!g&&(h==u.UP(n=!0,o=p.height()-f)h==u.DOWN&&(n=!0,o=p.height()+f),h==u.LEFT(n=!0,r=p.width()-f)h==u.RIGHT&&(n=!0,r=p.width()+f),n&&(a=i(r,d.minWidth,d.maxWidth),s=i(o,d.minHeight,d.maxHeight),isNaN(a)(p.width(a),c.options.width=a+px),isNaN(s)(p.height(s),c.options.height=s+px),c.resize())),n&&e.preventDefault())},_overlayfunction(t){var n=this.appendTo.children(C),i=this.wrapper;return n.length(n=e(div class='k-overlay' )),n.insertBefore(i[0]).toggle(t).css(j,parseInt(i.css(j),10)-1),n},_actionForIconfunction(e){var t=bk-i-w+b.exec(e[0].className)[0];return{k-i-close_close,k-i-maximizemaximize,k-i-minimizeminimize,k-i-restorerestore,k-i-refreshrefresh,k-i-pinpin,k-i-unpinunpin}[t]},_windowActionHandlerfunction(n){var i,r;if(!this._closing)return i=e(n.target).closest(.k-window-action).find(.k-icon),r=this._actionForIcon(i),r(n.preventDefault(),this[r](),!1)t},_modalsfunction(){var t=this,n=e(w).filter(function(){var n=e(this),i=t._object(n),r=i&&i.options;return r&&r.modal&&r.visible&&n.is(I)}).sort(function(t,n){return+e(t).css(zIndex)-+e(n).css(zIndex)});return t=null,n},_objectfunction(e){var t=e.children(k);return t.data(kendoWindow)t.data(kendo+this.options.name)},centerfunction(){var t,n,i=this,r=i.options.position,o=i.wrapper,a=e(window),s=0,l=0;return i.options.isMaximizedi(i.options.pinned(s=a.scrollTop(),l=a.scrollLeft()),n=l+Math.max(0,(a.width()-o.width())2),t=s+Math.max(0,(a.height()-o.height()-parseInt(o.css(paddingTop),10))2),o.css({leftn,topt}),r.top=t,r.left=n,i)},titlefunction(e){var t,n=this,i=n.wrapper,r=n.options,o=i.children(b),a=o.children(y);return arguments.length(e===!1(i.addClass(k-window-titleless),o.remove())(o.lengtha.html(e)(i.prepend(J.titlebar(r)),n._actions(),o=i.children(b)),t=o.outerHeight(),i.css(padding-top,t),o.css(margin-top,-t)),n.options.title=e,n)a.text()},contentfunction(e,t){var i=this.wrapper.children(k),r=i.children(.km-scroll-container);return i=r[0]ri,n(e)(this.angular(cleanup,function(){return{elementsi.children()}}),l.destroy(this.element.children()),i.empty().html(e),this.angular(compile,function(){var e,n=[];for(e=i.length;--e=0;)n.push({dataItemt});return{elementsi.children(),datan}}),this)i.html()},openfunction(){var t,n,i=this,r=i.wrapper,o=i.options,a=o.animation.open,s=r.children(k);return i.trigger(z)(i._closing&&r.kendoStop(!0,!0),i._closing=!1,i.toFront(),o.autoFocus&&i.element.focus(),o.visible=!0,o.modal&&(t=i._overlay(!1),t.kendoStop(!0,!0),a.duration&&l.effects.Fade(n=l.fx(t).fadeIn(),n.duration(a.duration0),n.endValue(.5),n.play())t.css(opacity,.5),t.show()),r.is(I)(s.css(W,M),r.show().kendoStop().kendoAnimate({effectsa.effects,durationa.duration,completep(this._activate,this)}))),o.isMaximized&&(i._documentScrollTop=e(document).scrollTop(),e(html, body).css(W,M)),i},_activatefunction(){this.options.autoFocus&&this.element.focus(),this.trigger(F),this.wrapper.children(k).css(W,)},_removeOverlayfunction(n){var i,r=this._modals(),o=this.options,a=o.modal&&!r.length,s=o.modalthis._overlay(!0)e(t),c=o.animation.close;a!n&&c.duration&&l.effects.Fade(i=l.fx(s).fadeOut(),i.duration(c.duration0),i.startValue(.5),i.play())this._overlay(!1).remove()r.length&&this._object(r.last())._overlay(!0)},_closefunction(t){var n=this,i=n.wrapper,r=n.options,o=r.animation.open,a=r.animation.close;if(i.is(I)&&!n.trigger(B,{userTriggered!t})){if(n._closing)return;n._closing=!0,r.visible=!1,e(w).each(function(t,n){var r=e(n).children(k);n!=i&&r.find( .+S).length0&&r.children(C).remove()}),this._removeOverlay(),i.kendoStop().kendoAnimate({effectsa.effectso.effects,reversea.reverse===!0,durationa.duration,completep(this._deactivate,this)})}n.options.isMaximized&&(e(html, body).css(W,),n._documentScrollTop&&n._documentScrollTop0&&e(document).scrollTop(n._documentScrollTop))},_deactivatefunction(){this.wrapper.hide().css(opacity,),this.trigger(R);var e=this._object(this._modals().last());e&&e.toFront()},closefunction(){return this._close(!0),this},_actionablefunction(t){return e(t).is(Q+,+Q+ .k-icon,input,a)},_shouldFocusfunction(t){var n=h(),i=this.element;return!(!this.options.autoFocuse(n).is(i)this._actionable(t)i.find(n).length&&i.find(t).length)},toFrontfunction(t){var n,i,r=this,o=r.wrapper,a=o[0],s=+o.css(j),l=s,c=t&&t.targetnull;return e(w).each(function(t,n){var i=e(n),r=i.css(j),o=i.children(k);isNaN(r)(s=Math.max(+r,s)),n!=a&&o.find( .+S).length0&&o.append(J.overlay)}),(!o[0].style.zIndexsl)&&o.css(j,s+2),r.element.find( .k-overlay).remove(),r._shouldFocus(c)&&(r.element.focus(),n=e(window).scrollTop(),i=parseInt(o.position().top,10),i0&&ni&&(n0e(window).scrollTop(i)o.css(top,n))),o=null,r},toggleMaximizationfunction(){return this._closingthisthis[this.options.isMaximizedrestoremaximize]()},restorefunction(){var t=this,n=t.options,i=n.minHeight,r=t.restoreOptions;return n.isMaximizedn.isMinimized(i&&10!=i&&t.wrapper.css(min-height,i),t.wrapper.css({positionn.pinnedfixedabsolute,leftr.left,topr.top,widthr.width,heightr.height}).removeClass(E).find(.k-window-content,.k-resize-handle).show().end().find(.k-window-titlebar .k-i-restore).parent().remove().end().end().find(G).parent().show().end().end().find(Y).parent().show(),t.options.width=r.width,t.options.height=r.height,e(html, body).css(W,),this._documentScrollTop&&this._documentScrollTop0&&e(document).scrollTop(this._documentScrollTop),n.isMaximized=n.isMinimized=!1,t.resize(),t)t},maximizer(maximize,function(){var t=this,n=t.wrapper,i=n.position();f(t.restoreOptions,{lefti.left,topi.top}),n.css({left0,top0,positionfixed}).addClass(E),this._documentScrollTop=e(document).scrollTop(),e(html, body).css(W,M),t.options.isMaximized=!0,t._onDocumentResize()}),minimizer(minimize,function(){var e=this;e.wrapper.css({height,minHeight}),e.element.hide(),e.options.isMinimized=!0}),pinfunction(t){var n=this,i=e(window),r=n.wrapper,o=parseInt(r.css(top),10),a=parseInt(r.css(left),10);(t!n.options.pinned&&!n.options.isMaximized)&&(r.css({positionfixed,topo-i.scrollTop(),lefta-i.scrollLeft()}),r.children(b).find(q).addClass(k-i-unpin).removeClass(k-i-pin),n.options.pinned=!0)},unpinfunction(){var t=this,n=e(window),i=t.wrapper,r=parseInt(i.css(top),10),o=parseInt(i.css(left),10);t.options.pinned&&!t.options.isMaximized&&(i.css({position,topr+n.scrollTop(),lefto+n.scrollLeft()}),i.children(b).find($).addClass(k-i-pin).removeClass(k-i-unpin),t.options.pinned=!1)},_onDocumentResizefunction(){var t,n,i=this,r=i.wrapper,o=e(window),a=l.support.zoomLevel();i.options.isMaximized&&(t=o.width()a,n=o.height()a-parseInt(r.css(padding-top),10),r.css({widtht,heightn}),i.options.width=t,i.options.height=n,i.resize())},refreshfunction(t){var i,r,o,a=this,s=a.options,l=e(a.element);return u(t)(t={urlt}),t=f({},s.content,t),r=n(s.iframe)s.iframet.iframe,o=t.url,o(n(r)(r=!X(o)),r(i=l.find(.+S)[0],ii.src=oi.srcl.html(J.contentFrame(f({},s,{contentt}))),l.find(.+S).unbind(load+_).on(load+_,p(this._triggerRefresh,this)))a._ajaxRequest(t))(t.template&&a.content(m(t.template)({})),a.trigger(H)),l.toggleClass(k-window-iframecontent,!!r),a},_triggerRefreshfunction(){this.trigger(H)},_ajaxCompletefunction(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(K).removeClass(T)},_ajaxErrorfunction(e,t){this.trigger(U,{statust,xhre})},_ajaxSuccessfunction(e){return function(t){var n=t;e&&(n=m(e)(t{})),this.content(n,t),this.element.prop(scrollTop,0),this.trigger(H)}},_showLoadingfunction(){this.wrapper.find(K).addClass(T)},_ajaxRequestfunction(t){this._loadingIconTimeout=setTimeout(p(this._showLoading,this),100),e.ajax(f({typeGET,dataTypehtml,cache!1,errorp(this._ajaxError,this),completep(this._ajaxComplete,this),successp(this._ajaxSuccess(t.template),this)},t))},destroyfunction(){var n=this;n.resizing&&n.resizing.destroy(),n.dragging&&n.dragging.destroy(),n.wrapper.off(_).children(k).off(_).end().find(.k-resize-handle,.k-window-titlebar).off(_),e(window).off(resize+_+n._marker),clearTimeout(n._loadingIconTimeout),c.fn.destroy.call(n),n.unbind(t),l.destroy(n.wrapper),n._removeOverlay(!0),n.wrapper.empty().remove(),n.wrapper=n.appendTo=n.element=e()},_createWindowfunction(){var t,n,i=this.element,r=this.options,o=l.support.isRtl(i);r.scrollable===!1&&i.attr(style,overflowhidden;),n=e(J.wrapper(r)),t=i.find(iframenot(.k-content)).map(function(){var e=this.getAttribute(src);return this.src=,e
}),n.toggleClass(k-rtl,o).appendTo(this.appendTo).append(i).find(iframenot(.k-content)).each(function(e){this.src=t[e]}),n.find(.k-window-title).css(oleftright,n.find(.k-window-actions).outerWidth()+10),i.css(visibility,).show(),i.find([data-role=editor]).each(function(){var t=e(this).data(kendoEditor);t&&t.refresh()}),n=i=null}}),J={wrapperm(div class='k-widget k-window' ),actionm(a role='button' href='#' class='k-window-action k-link'span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'#= name #spana),titlebarm(div class='k-window-titlebar k-header'&nbsp;span class='k-window-title'#= title #spandiv class='k-window-actions' div),overlaydiv class='k-overlay' ,contentFramem(iframe frameborder='0' title='#= title #' class='+S+' src='#= content.url #'This page requires frames in order to show contentiframe),resizeHandlem(div class='k-resize-handle k-resize-#= data #'div)};a.prototype={addOverlayfunction(){this.owner.wrapper.append(J.overlay)},removeOverlayfunction(){this.owner.wrapper.find(C).remove()},dragstartfunction(t){var n=this,i=n.owner,r=i.wrapper;n.elementPadding=parseInt(r.css(padding-top),10),n.initialPosition=l.getOffset(r,position),n.resizeDirection=t.currentTarget.prop(className).replace(k-resize-handle k-resize-,),n.initialSize={widthr.width(),heightr.height()},n.containerOffset=l.getOffset(i.appendTo,position),r.children(x).not(t.currentTarget).hide(),e(v).css(P,t.currentTarget.css(P))},dragfunction(e){var t,n,r,o,a=this,s=a.owner,l=s.wrapper,c=s.options,d=a.resizeDirection,u=a.containerOffset,h=a.initialPosition,p=a.initialSize,f=Math.max(e.x.location,u.left),g=Math.max(e.y.location,u.top);d.indexOf(e)=0(t=f-h.left,l.width(i(t,c.minWidth,c.maxWidth)))d.indexOf(w)=0&&(o=h.left+p.width,t=i(o-f,c.minWidth,c.maxWidth),l.css({lefto-t-u.left,widtht})),d.indexOf(s)=0(n=g-h.top-a.elementPadding,l.height(i(n,c.minHeight,c.maxHeight)))d.indexOf(n)=0&&(r=h.top+p.height,n=i(r-g,c.minHeight,c.maxHeight),l.css({topr-n-u.top,heightn})),t&&(s.options.width=t+px),n&&(s.options.height=n+px),s.resize()},dragendfunction(t){var n=this,i=n.owner,r=i.wrapper;return r.children(x).not(t.currentTarget).show(),e(v).css(P,),i.touchScroller&&i.touchScroller.reset(),27==t.keyCode&&r.css(n.initialPosition).css(n.initialSize),i.trigger(N),!1},destroyfunction(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},s.prototype={dragstartfunction(t){var n=this.owner,i=n.element,r=i.find(.k-window-actions),o=l.getOffset(n.appendTo);n.trigger(O),n.initialWindowPosition=l.getOffset(n.wrapper,position),n.startPosition={leftt.x.client-n.initialWindowPosition.left,topt.y.client-n.initialWindowPosition.top},n.minLeftPosition=r.length0r.outerWidth()+parseInt(r.css(right),10)-i.outerWidth()20-i.outerWidth(),n.minLeftPosition-=o.left,n.minTopPosition=-o.top,n.wrapper.append(J.overlay).children(x).hide(),e(v).css(P,t.currentTarget.css(P))},dragfunction(t){var n=this.owner,i=n.options.position,r=Math.max(t.y.client-n.startPosition.top,n.minTopPosition),o=Math.max(t.x.client-n.startPosition.left,n.minLeftPosition),a={lefto,topr};e(n.wrapper).css(a),i.top=r,i.left=o},_finishDragfunction(){var t=this.owner;t.wrapper.children(x).toggle(!t.options.isMinimized).end().find(C).remove(),e(v).css(P,)},dragcancelfunction(e){this._finishDrag(),e.currentTarget.closest(w).css(this.owner.initialWindowPosition)},dragendfunction(){return this._finishDrag(),this.owner.trigger(V),!1},destroyfunction(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},l.ui.plugin(Z)}(window.kendo.jQuery),function(e,t){function n(e){var t,n,i=e.find(k(popover)),r=s.roles;for(t=0,n=i.length;nt;t++)o.initWidget(i[t],{},r)}function i(e){o.triggeredByInput(e)e.preventDefault()}function r(t){t.each(function(){o.initWidget(e(this),{},s.roles)})}var o=window.kendo,a=o.mobile,s=a.ui,l=o.attr,c=s.Widget,d=o.ViewClone,u=init,h='div style=height 100%; width 100%; position absolute; top 0; left 0; z-index 20000; display none ',p=beforeShow,f=show,g=afterShow,m=beforeHide,v=transitionEnd,_=transitionStart,w=hide,y=destroy,b=o.attrValue,k=o.roleSelector,x=o.directiveSelector,C=o.compileMobileDirective,S=c.extend({initfunction(t,n){c.fn.init.call(this,t,n),this.params={},e.extend(this,n),this.transition=this.transitionthis.defaultTransition,this._id(),this.options.$angularthis._overlay()(this._layout(),this._overlay(),this._scroller(),this._model())},events[u,p,f,g,m,w,y,_,v],options{nameView,title,layoutnull,getLayoute.noop,reload!1,transition,defaultTransition,useNativeScrolling!1,stretch!1,zoom!1,modelnull,modelScopewindow,scroller{},initWidgets!0},enablefunction(e){t===e&&(e=!0),ethis.overlay.hide()this.overlay.show()},destroyfunction(){this.layout&&this.layout.detach(this),this.trigger(y),c.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),this.options.$angular&&this.element.scope().$destroy(),o.destroy(this.element)},purgefunction(){this.destroy(),this.element.remove()},triggerBeforeShowfunction(){return this.trigger(p,{viewthis})!1!0},triggerBeforeHidefunction(){return this.trigger(m,{viewthis})!1!0},showStartfunction(){var e=this.element;e.css(display,),this.initedthis._invokeNgController()(this.inited=!0,this.trigger(u,{viewthis})),this.layout&&this.layout.attach(this),this._padIfNativeScrolling(),this.trigger(f,{viewthis}),o.resize(e)},showEndfunction(){this.trigger(g,{viewthis}),this._padIfNativeScrolling()},hideEndfunction(){var e=this;e.element.hide(),e.trigger(w,{viewe}),e.layout&&e.layout.trigger(w,{viewe,layoute.layout})},beforeTransitionfunction(e){this.trigger(_,{typee})},afterTransitionfunction(e){this.trigger(v,{typee})},_padIfNativeScrollingfunction(){if(a.appLevelNativeScrolling()){var e=o.support.mobileOS&&o.support.mobileOS.android,t=a.application.skin(),n=a.application.os.androidt.indexOf(android)-1,i=flat===tt.indexOf(material)-1,r=!e&&!niheaderfooter,s=!e&&!nifooterheader;this.content.css({paddingTopthis[r].height(),paddingBottomthis[s].height()})}},contentElementfunction(){var e=this;return e.options.stretche.contente.scrollerContent},clonefunction(){return new d(this)},_scrollerfunction(){var t=this;a.appLevelNativeScrolling()(t.options.stretcht.content.addClass(km-stretched-view)(t.content.kendoMobileScroller(e.extend(t.options.scroller,{zoomt.options.zoom,useNativet.options.useNativeScrolling})),t.scroller=t.content.data(kendoMobileScroller),t.scrollerContent=t.scroller.scrollElement),o.support.kineticScrollNeeded&&(e(t.element).on(touchmove,.km-header,i),t.options.useNativeScrollinge(t.element).on(touchmove,.km-content,i)))},_modelfunction(){var e=this,t=e.element,i=e.options.model;string==typeof i&&(i=o.getter(i)(e.options.modelScope)),e.model=i,n(t),e.element.css(display,),e.options.initWidgets&&(io.bind(t,i,s,o.ui,o.dataviz.ui)a.init(t.children())),e.element.css(display,none)},_idfunction(){var e=this.element,t=e.attr(id);this.id=b(e,url)#+t,#==this.id&&(this.id=o.guid(),e.attr(id,this.id))},_layoutfunction(){var e=k(content),t=this.element;t.addClass(km-view),this.header=t.children(k(header)).addClass(km-header),this.footer=t.children(k(footer)).addClass(km-footer),t.children(e)[0]t.wrapInner(div +l(role)+'=contentdiv'),this.content=t.children(k(content)).addClass(km-content),this.element.prepend(this.header).append(this.footer),this.layout=this.options.getLayout(this.layout),this.layout&&this.layout.setup(this)},_overlayfunction(){this.overlay=e(h).appendTo(this.element)},_invokeNgControllerfunction(){var t,n,i;this.options.$angular&&(t=this.element.controller(),n=this.element.scope(),t&&(i=e.proxy(this,_callController,t,n),^$(digestapply)$.test(n.$$phase)i()n.$apply(i)))},_callControllerfunction(e,t){this.element.injector().invoke(e.constructor,e,{$scopet})}}),T=c.extend({initfunction(e,t){c.fn.init.call(this,e,t),e=this.element,this.header=e.children(this._locate(header)).addClass(km-header),this.footer=e.children(this._locate(footer)).addClass(km-footer),this.elements=this.header.add(this.footer),n(e),this.options.$angularo.mobile.init(this.element.children()),this.element.detach(),this.trigger(u,{layoutthis})},_locatefunction(e){return this.options.$angularx(e)k(e)},options{nameLayout,idnull,platformnull},events[u,f,w],setupfunction(e){e.header[0](e.header=this.header),e.footer[0](e.footer=this.footer)},detachfunction(e){var t=this;e.header===t.header&&t.header[0]&&e.element.prepend(t.header.detach()[0].cloneNode(!0)),e.footer===t.footer&&t.footer.length&&e.element.append(t.footer.detach()[0].cloneNode(!0))},attachfunction(e){var t=this,n=t.currentView;n&&t.detach(n),e.header===t.header&&(t.header.detach(),e.element.children(k(header)).remove(),e.element.prepend(t.header)),e.footer===t.footer&&(t.footer.detach(),e.element.children(k(footer)).remove(),e.element.append(t.footer)),t.trigger(f,{layoutt,viewe}),t.currentView=e}}),D=o.Observable,A=body[^](([u000au000du2028u2029].))bodyi,E=loadStart,I=loadComplete,M=showStart,P=sameViewRequested,z=viewShow,F=viewTypeDetermined,R=after,B=D.extend({initfunction(t){var n,i,a,s,l=this;if(D.fn.init.call(l),e.extend(l,t),l.sandbox=e(div ),a=l.container,n=l._hideViews(a),l.rootView=n.first(),!l.rootView[0]&&t.rootNeeded)throw i=a[0]==o.mobile.application.element[0]'Your kendo mobile application element does not contain any direct child elements with data-role=view attribute set. Make sure that you instantiate the mobile application using the correct container.''Your pane element does not contain any direct child elements with data-role=view attribute set.',Error(i);l.layouts={},l.viewContainer=new o.ViewContainer(l.container),l.viewContainer.bind(accepted,function(e){e.view.params=l.params}),l.viewContainer.bind(complete,function(e){l.trigger(z,{viewe.view})}),l.viewContainer.bind(R,function(){l.trigger(R)}),this.getLayoutProxy=e.proxy(this,_getLayout),l._setupLayouts(a),s=a.children(l._locate(modalview drawer)),l.$angular(l.$angular[0].viewOptions={defaultTransitionl.transition,loaderl.loader,containerl.container,getLayoutl.getLayoutProxy},s.each(function(n,i){C(e(i),t.$angular[0])}))r(s),this.bind(this.events,t)},events[M,R,z,E,I,P,F],destroyfunction(){o.destroy(this.container);for(var e in this.layouts)this.layouts[e].destroy()},viewfunction(){return this.viewContainer.view},showViewfunction(e,t,n){if(e=e.replace(RegExp(^+this.remoteViewURLPrefix),),===e&&this.remoteViewURLPrefix&&(e=),e.replace(^#,)===this.url)return this.trigger(P),!1;this.trigger(M);var i=this,r=function(n){return i.viewContainer.show(n,t,e)},a=i._findViewElement(e),s=o.widgetInstance(a);return i.url=e.replace(^#,),i.params=n,s&&s.reload&&(s.purge(),a=[]),this.trigger(F,{remote0===a.length,urle}),a[0](s(s=i._createView(a)),r(s))(this.serverNavigationlocation.href=ei._loadView(e,r),!0)},appendfunction(e,t){var n,i,o,a=this.sandbox,s=(t).split()[0],c=this.container;return A.test(e)&&(e=RegExp.$1),a[0].innerHTML=e,c.append(a.children(script, style)),n=this._hideViews(a),o=n.first(),o.length(n=o=a.wrapInner(div data-role=view ).children()),s&&o.hide().attr(l(url),s),this._setupLayouts(a),i=a.children(this._locate(modalview drawer)),c.append(a.children(this._locate(layout modalview drawer)).add(n)),r(i),this._createView(o)},_locatefunction(e){return this.$angularx(e)k(e)},_findViewElementfunction(e){var t,n=e.split()[0];return n(t=this.container.children([+l(url)+='+n+']),t[0]-1!==n.indexOf()(t=this.container.children(#===n.charAt(0)n#+n)),t)this.rootView},_createViewfunction(e){return this.$angularC(e,this.$angular[0])o.initWidget(e,{defaultTransitionthis.transition,loaderthis.loader,containerthis.container,getLayoutthis.getLayoutProxy,modelScopethis.modelScope,reloadb(e,reload)},s.roles)},_getLayoutfunction(e){return===enullethis.layouts[e]this.layouts[this.layout]},_loadViewfunction(t,n){this._xhr&&this._xhr.abort(),this.trigger(E),this._xhr=e.get(o.absoluteURL(t,this.remoteViewURLPrefix),html).always(e.proxy(this,_xhrComplete,n,t))},_xhrCompletefunction(e,t,n){var i=!0;if(object==typeof n&&0===n.status){if(!(n.responseText&&n.responseText.length0))return;i=!0,n=n.responseText}this.trigger(I),i&&e(this.append(n,t))},_hideViewsfunction(e){return e.children(this._locate(view splitview)).hide()},_setupLayoutsfunction(t){var n,i=this;t.children(i._locate(layout)).each(function(){n=i.$angularC(e(this),i.$angular[0])o.initWidget(e(this),{},s.roles);var t=n.options.platform;t&&t!==a.application.os.namen.destroy()i.layouts[n.options.id]=n})}});o.mobile.ViewEngine=B,s.plugin(S),s.plugin(T)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile.ui,i=n.Widget,r=e.map(t.eventMap,function(e){return e}).join( ).split( ),o=i.extend({initfunction(t,n){var r=this,o=e('div class=km-loaderspan class=km-loading km-spinspanspan class=km-loading-leftspanspan class=km-loading-rightspandiv');i.fn.init.call(r,o,n),r.container=t,r.captureEvents=!1,r._attachCapture(),o.append(r.options.loading).hide().appendTo(t)},options{nameLoader,loadingh1Loading...h1,timeout100},showfunction(){var e=this;clearTimeout(e._loading),e.options.loading!==!1&&(e.captureEvents=!0,e._loading=setTimeout(function(){e.element.show()},e.options.timeout))},hidefunction(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide()},changeMessagefunction(e){this.options.loading=e,this.element.find(h1).html(e)},transitionfunction(){this.captureEvents=!0,this.container.css(pointer-events,none)},transitionDonefunction(){this.captureEvents=!1,this.container.css(pointer-events,)},_attachCapturefunction(){function e(e){n.captureEvents&&e.preventDefault()}var t,n=this;for(n.captureEvents=!1,t=0;r.lengtht;t++)n.container[0].addEventListener(r[t],e,!0)}});n.plugin(o)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.mobile,r=n.roleSelector,o=i.ui,a=o.Widget,s=i.ViewEngine,l=o.View,c=i.ui.Loader,d=external,u=href,h=#!,p=navigate,f=viewShow,g=sameViewRequested,m=n.support.mobileOS,v=m.ios&&!m.appMode&&m.flatVersion=700,_=popoveractionsheetmodalviewdrawer,w=#back,y=n.attrValue,b=a.extend({initfunction(e,t){var i=this;a.fn.init.call(i,e,t),t=i.options,e=i.element,e.addClass(km-pane),i.options.collapsible&&e.addClass(km-collapsible-pane),this.history=[],this.historyCallback=function(e,t,n){var r=i.transition;return i.transition=null,v&&n&&(r=none),i.viewEngine.showView(e,r,t)},this._historyNavigate=function(e){if(e===w){if(1===i.history.length)return;i.history.pop(),e=i.history[i.history.length-1]}else i.history.push(e);i.historyCallback(e,n.parseQueryStringParams(e))},this._historyReplace=function(e){var t=n.parseQueryStringParams(e);i.history[i.history.length-1]=e,i.historyCallback(e,t)},i.loader=new c(e,{loadingi.options.loading}),i.viewEngine=new s({containere,transitiont.transition,modelScopet.modelScope,rootNeeded!t.initial,serverNavigationt.serverNavigation,remoteViewURLPrefixt.root,layoutt.layout,$angulart.$angular,loaderi.loader,showStartfunction(){i.loader.transition(),i.closeActiveDialogs()},afterfunction(){i.loader.transitionDone()},viewShowfunction(e){i.trigger(f,e)},loadStartfunction(){i.loader.show()},loadCompletefunction(){i.loader.hide()},sameViewRequestedfunction(){i.trigger(g)},viewTypeDeterminedfunction(e){e.remote&&i.options.serverNavigationi.trigger(p,{urle.url})}}),this._setPortraitWidth(),n.onResize(function(){i._setPortraitWidth()}),i._setupAppLinks()},closeActiveDialogsfunction(){var t=this.element.find(r(actionsheet popover modalview)).filter(visible);t.each(function(){n.widgetInstance(e(this),o).close()})},navigateToInitialfunction(){var e=this.options.initial;e&&this.navigate(e)},options{namePane,portraitWidth,transition,layout,collapsible!1,initialnull,modelScopewindow,loadingh1Loading...h1},events[p,f,g],appendfunction(e){return this.viewEngine.append(e)},destroyfunction(){a.fn.destroy.call(this),this.viewEngine.destroy(),this.userEvents.destroy()},navigatefunction(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyNavigate(e)},replacefunction(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyReplace(e)},bindToRouterfunction(e){var t=this,i=this.history,r=this.viewEngine;e.bind(init,function(t){var o,a=t.url,s=e.pushStatea;r.rootView.attr(n.attr(url),s),o=i.length,===a&&o&&(e.navigate(i[o-1],!0),t.preventDefault())}),e.bind(routeMissing,function(e){t.historyCallback(e.url,e.params,e.backButtonPressed)e.preventDefault()}),e.bind(same,function(){t.trigger(g)}),t._historyNavigate=function(t){e.navigate(t)},t._historyReplace=function(t){e.replace(t)}},hideLoadingfunction(){this.loader.hide()},showLoadingfunction(){this.loader.show()},changeLoadingMessagefunction(e){this.loader.changeMessage(e)},viewfunction(){return this.viewEngine.view()},_setPortraitWidthfunction(){var e,t=this.options.portraitWidth;t&&(e=n.mobile.application.element.is(.km-vertical)tauto,this.element.css(width,e))},_setupAppLinksfunction(){var e=this,t=tab,i=[data-+n.ns+navigate-on-press],o=r(button)+not(+i+),a=r(backbutton detailbutton listview-link)+,+o;this.element.handler(this).on(down,r(t)+,+i,_mouseup).on(click,r(t)+,+a+,+i,_appLinkClick),this.userEvents=new n.UserEvents(this.element,{filtera,tapfunction(t){t.event.currentTarget=t.touch.currentTarget,e._mouseup(t.event)}}),this.element.css(-ms-touch-action,)},_appLinkClickfunction(t){var n=e(t.currentTarget).attr(href),i=n&&#!==n[0]&&this.options.serverNavigation;iy(e(t.currentTarget),rel)==dt.preventDefault()},_mouseupfunction(r){if(!(r.which1r.isDefaultPrevented())){var a=this,s=e(r.currentTarget),l=y(s,transition),c=y(s,rel),p=y(s,target),f=s.attr(u),g=v&&0===s[0].offsetHeight,m=f&&#!==f[0]&&this.options.serverNavigation;gmc===dt===ff===h(s.attr(u,h),setTimeout(function(){s.attr(u,f)}),c.match(_)(n.widgetInstance(e(f),o).openFor(s),(actionsheet===cdrawer===c)&&r.stopPropagation())(_top===pa=i.application.panep&&(a=e(#+p).data(kendoMobilePane)),a.navigate(f,l)),r.preventDefault())}}});b.wrap=function(e){e.is(r(view))(e=e.wrap(div data-+n.ns+'role=view data-stretch=truediv').parent());var t=e.wrap('div class=km-pane-wrapperdivdivdiv').parent(),i=new b(t);return i.navigate(),i},o.plugin(b)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile,i=n.ui,r=hide,o=open,a=close,s='div class=km-popup-wrapper ',l='div class=km-popup-arrow ',c='div class=km-popup-overlay ',d=km-up km-down km-left km-right,u=i.Widget,h={down{originbottom center,positiontop center},up{origintop center,positionbottom center},left{origincenter left,positioncenter right,collisionfit flip},right{origincenter right,positioncenter left,collisionfit flip}},p={animation{open{effectsfadein,duration0},close{effectsfadeout,duration400}}},f={horizontal{offsettop,sizeheight},vertical{offsetleft,sizewidth}},g={updown,downup,leftright,rightleft},m=u.extend({initfunction(n,i){var o,a,d=this,g=n.closest(.km-modalview-wrapper),m=n.closest(.km-root).children(.km-pane).first(),v=g[0]gm;i.viewportm=i.viewportm[0](m=window),i.containerv=i.containerv[0](v=document.body),o={viewportm,copyAnchorStyles!1,autosize!0,openfunction(){d.overlay.show()},activatee.proxy(d._activate,d),deactivatefunction(){d.overlay.hide(),d._apiCalld.trigger(r),d._apiCall=!1}},u.fn.init.call(d,n,i),n=d.element,i=d.options,n.wrap(s).addClass(km-popup).show(),a=d.options.direction.match(leftright)horizontalvertical,d.dimensions=f[a],d.wrapper=n.parent().css({widthi.width,heighti.height}).addClass(km-popup-wrapper km-+i.direction).hide(),d.arrow=e(l).prependTo(d.wrapper).hide(),d.overlay=e(c).appendTo(v).hide(),o.appendTo=d.overlay,i.className&&d.overlay.addClass(i.className),d.popup=new t.ui.Popup(d.wrapper,e.extend(!0,o,p,h[i.direction]))},options{namePopup,width240,height,directiondown,containernull,viewportnull},events[r],showfunction(t){this.popup.options.anchor=e(t),this.popup.open()},hidefunction(){this._apiCall=!0,this.popup.close()},destroyfunction(){u.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove()},targetfunction(){return this.popup.options.anchor},_activatefunction(){var t=this,n=t.options.direction,i=t.dimensions,r=i.offset,o=t.popup,a=o.options.anchor,s=e(a).offset(),l=e(o.element).offset(),c=o.flippedg[n]n,u=2t.arrow[i.size](),h=t.element[i.size]()-t.arrow[i.size](),p=e(a)[i.size](),f=s[r]-l[r]+p2;uf&&(f=u),fh&&(f=h),t.wrapper.removeClass(d).addClass(km-+c),t.arrow.css(r,f).show()}}),v=u.extend({initfunction(n,r){var o,s=this;s.initialOpen=!1,u.fn.init.call(s,n,r),o=e.extend({classNamekm-popover-root,hidefunction(){s.trigger(a)}},this.options.popup),s.popup=new m(s.element,o),s.popup.overlay.on(move,function(e){e.target==s.popup.overlay[0]&&e.preventDefault()}),s.pane=new i.Pane(s.element,e.extend(this.options.pane,{$angularthis.options.$angular})),s.pane.navigateToInitial(),t.notify(s,i)},options{namePopOver,popup{},pane{}},events[o,a],openfunction(e){this.popup.show(e),this.initialOpenthis.pane.view()._invokeNgController()(this.pane.navigate(),this.popup.popup._position(),this.initialOpen=!0)},openForfunction(e){this.open(e),this.trigger(o,{targetthis.popup.target()})},closefunction(){this.popup.hide()},destroyfunction(){u.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),t.destroy(this.element)}});i.plugin(m),i.plugin(v)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.mobile.ui,r=n.ui.Popup,o='div class=km-shim',a=hide,s=i.Widget,l=s.extend({initfunction(t,i){var l=this,c=n.mobile.application,d=n.support.mobileOS,u=cc.os.namedd.nameios,h=ios===uwp===u(cc.os.skin!1),p=blackberry===u,f=i.align(hbottom centerpcenter rightcenter center),g=i.position(hbottom centerpcenter rightcenter center),m=i.effect(hslideInuppslideInleftfadein),v=e(o).handler(l).hide();s.fn.init.call(l,t,i),l.shim=v,t=l.element,i=l.options,i.className&&l.shim.addClass(i.className),i.modall.shim.on(up,_hide),(cc.elemente(document.body)).append(v),l.popup=new r(l.element,{anchorv,modal!0,appendTov,originf,positiong,animation{open{effectsm,durationi.duration},close{durationi.duration}},closefunction(e){var t=!1;l._apiCall(t=l.trigger(a)),t&&e.preventDefault(),l._apiCall=!1},deactivatefunction(){v.hide()},openfunction(){v.show()}}),n.notify(l)},events[a],options{nameShim,modal!1,alignt,positiont,effectt,duration200},showfunction(){this.popup.open()},hidefunction(){this._apiCall=!0,this.popup.close()},destroyfunction(){s.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()},_hidefunction(t){t&&e.contains(this.shim.children().children(.k-popup)[0],t.target)this.popup.close()}});i.plugin(l)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.support,i=t.mobile.ui,r=i.Shim,o=i.Popup,a=i.Widget,s=open,l=close,c=command,d=lia,u=actionsheetContext,h='div class=km-actionsheet-wrapper ',p=t.template('li class=km-actionsheet-cancela href=##cancel#ali'),f=a.extend({initfunction(s,l){var c,u,f,g=this,m=n.mobileOS;a.fn.init.call(g,s,l),l=g.options,f=l.type,s=g.element,u=auto===fm&&m.tablettablet===f,c=uor,l.cancelTemplate&&(p=t.template(l.cancelTemplate)),s.addClass(km-actionsheet).append(p({cancelg.options.cancel})).wrap(h).on(up,d,_click).on(click,d,t.preventDefault),g.view().bind(destroy,function(){g.destroy()}),g.wrapper=s.parent().addClass(f km-actionsheet-+f),g.shim=new c(g.wrapper,e.extend({modalm.ios&&7m.majorVersion,classNamekm-actionsheet-root},g.options.popup)),g._closeProxy=e.proxy(g,_close),g.shim.bind(hide,g._closeProxy),u&&t.onResize(g._closeProxy),t.notify(g,i)},events[s,l,c],options{nameActionSheet,cancelCancel,typeauto,popup{heightauto}},openfunction(t,n){var i=this;i.target=e(t),i.context=n,i.shim.show(t)},closefunction(){this.context=this.target=null,this.shim.hide()},openForfunction(e){var t=this,n=e.data(u);t.open(e,n),t.trigger(s,{targete,contextn})},destroyfunction(){a.fn.destroy.call(this),t.unbindResize(this._closeProxy),this.shim.destroy()},_clickfunction(n){var i,r,o,a;n.isDefaultPrevented()(i=e(n.currentTarget),r=i.data(action),r&&(o={targetthis.target,contextthis.context},a=this.options.$angular,athis.element.injector().get($parse)(r)(a[0])(o)t.getter(r)(window)(o)),this.trigger(c,{targetthis.target,contextthis.context,currentTargeti}),n.preventDefault(),this._close())},_closefunction(e){this.trigger(l)e.preventDefault()this.close()}});i.plugin(f)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui,r=i.Widget,o=horizontal,a=vertical,s=0,l=100,c=0,d=5,u=k-progressbar,h=k-progressbar-reverse,p=k-progressbar-indeterminate,f=k-complete,g=k-state-selected,m=k-progress-status,v=k-state-selected,_=k-state-default,w=k-state-disabled,y={VALUEvalue,PERCENTpercent,CHUNKchunk},b=change,k=complete,x=boolean,C=Math,S=e.extend,T=e.proxy,D=100,A=400,E=3,I={progressStatusspan class='k-progress-status-wrap'span class='k-progress-status'spanspan},M=r.extend({initfunction(e,t){var n=this;r.fn.init.call(this,e,t),t=n.options,n._progressProperty=t.orientation===owidthheight,n._fields(),t.value=n._validateValue(t.value),n._validateType(t.type),n._wrapper(),n._progressAnimation(),t.value!==t.min&&t.value!==!1&&n._updateProgress()},setOptionsfunction(e){var t=this;r.fn.setOptions.call(t,e),e.hasOwnProperty(reverse)&&t.wrapper.toggleClass(k-progressbar-reverse,e.reverse),e.hasOwnProperty(enable)&&t.enable(e.enable),t._progressAnimation(),t._validateValue(),t._updateProgress()},events[b,k],options{nameProgressBar,orientationo,reverse!1,mins,maxl,valuec,enable!0,typey.VALUE,chunkCountd,showStatus!0,animation{}},_fieldsfunction(){var t=this;t._isStarted=!1,t.progressWrapper=t.progressStatus=e()},_validateTypefunction(i){var r=!1;if(e.each(y,function(e,n){return n===i(r=!0,!1)t}),!r)throw Error(n.format(Invalid ProgressBar type '{0}',i))},_wrapperfunction(){var e,t=this,n=t.wrapper=t.element,i=t.options,r=i.orientation;n.addClass(k-widget +u),n.addClass(u+-+(r===ooa)),i.enable===!1&&n.addClass(w),i.reverse&&n.addClass(h),i.value===!1&&n.addClass(p),i.type===y.CHUNKt._addChunkProgressWrapper()i.showStatus&&(t.progressStatus=t.wrapper.prepend(I.progressStatus).find(.+m),e=i.value!==!1i.valuei.min,t.progressStatus.text(i.type===y.VALUEet._calculatePercentage(e)+%))},valuefunction(e){return this._value(e)},_valuefunction(e){var n,i=this,r=i.options;return e===tr.value(typeof e!==x(e=i._roundValue(e),isNaN(e)(n=i._validateValue(e),n!==r.value&&(i.wrapper.removeClass(p),r.value=n,i._isStarted=!0,i._updateProgress())))e(i.wrapper.addClass(p),r.value=!1),t)},_roundValuefunction(e){e=parseFloat(e);var t=C.pow(10,E);return C.floor(et)t},_validateValuefunction(e){var t=this,n=t.options;if(e!==!1){if(n.min=ee===!0)return n.min;if(e=n.max)return n.max}else if(e===!1)return!1;return isNaN(t._roundValue(e))n.mine},_updateProgressfunction(){var e=this,t=e.options,n=e._calculatePercentage();t.type===y.CHUNK(e._updateChunks(n),e._onProgressUpdateAlways(t.value))e._updateProgressWrapper(n)},_updateChunksfunction(e){var t,n=this,i=n.options,r=i.chunkCount,s=parseInt(Dr100,10)100,l=parseInt(100e,10)100,c=C.floor(ls);t=n.wrapper.find(i.orientation===o&&!i.reversei.orientation===a&&i.reverseli.k-itemlt(+c+)li.k-itemgt(-+(c+1)+)),n.wrapper.find(.+v).removeClass(v).addClass(_),t.removeClass(_).addClass(v)},_updateProgressWrapperfunction(e){var t=this,n=t.options,i=t.wrapper.find(.+g),r=t._isStartedt._animation.duration0,o={};0===i.length&&t._addRegularProgressWrapper(),o[t._progressProperty]=e+%,t.progressWrapper.animate(o,{durationr,startT(t._onProgressAnimateStart,t),progressT(t._onProgressAnimate,t),completeT(t._onProgressAnimateComplete,t,n.value),alwaysT(t._onProgressUpdateAlways,t,n.value)})},_onProgressAnimateStartfunction(){this.progressWrapper.show()},_onProgressAnimatefunction(e){var t,n=this,i=n.options,r=parseFloat(e.elem.style[n._progressProperty],10);i.showStatus&&(t=1e4parseFloat(n.progressWrapper[0].style[n._progressProperty]),n.progressWrapper.find(.k-progress-status-wrap).css(n._progressProperty,t+%)),i.type!==y.CHUNK&&98=r&&n.progressWrapper.removeClass(f)},_onProgressAnimateCompletefunction(e){var t=this,n=t.options,i=parseFloat(t.progressWrapper[0].style[t._progressProperty]);n.type!==y.CHUNK&&i98&&t.progressWrapper.addClass(f),n.showStatus&&t.progressStatus.text(n.type===y.VALUEeC.floor(t._calculatePercentage(e))+%),e===n.min&&t.progressWrapper.hide()},_onProgressUpdateAlwaysfunction(e){var t=this,n=t.options;t._isStarted&&t.trigger(b,{valuee}),e===n.max&&t._isStarted&&t.trigger(k,{valuen.max})},enablefunction(e){var n=this,i=n.options;i.enable=t===e!0e,n.wrapper.toggleClass(w,!i.enable)},destroyfunction(){var e=this;r.fn.destroy.call(e)},_addChunkProgressWrapperfunction(){var e,t=this,n=t.options,i=t.wrapper,r=Dn.chunkCount,o=;for(1=n.chunkCount&&(n.chunkCount=d),o+=ul class='k-reset',e=n.chunkCount-1;e=0;e--)o+=li class='k-item k-state-default'li;o+=ul,i.append(o).find(.k-item).css(t._progressProperty,r+%).first().addClass(k-first).end().last().addClass(k-last),t._normalizeChunkSize()},_normalizeChunkSizefunction(){var e=this,t=e.options,n=e.wrapper.find(.k-itemlast),i=parseFloat(n[0].style[e._progressProperty]),r=D-t.chunkCounti;r0&&n.css(e._progressProperty,i+r+%)},_addRegularProgressWrapperfunction(){var t=this;t.progressWrapper=e(div class='+g+'div).appendTo(t.wrapper),t.options.showStatus&&(t.progressWrapper.append(I.progressStatus),t.progressStatus=t.wrapper.find(.+m))},_calculateChunkSizefunction(){var e=this,t=e.options.chunkCount,n=e.wrapper.find(ul.k-reset);return(parseInt(n.css(e._progressProperty),10)-(t-1))t},_calculatePercentagefunction(e){var n=this,i=n.options,r=e!==tei.value,o=i.min,a=i.max;return n._onePercent=C.abs((a-o)100),C.abs((r-o)n._onePercent)},_progressAnimationfunction(){var e=this,t=e.options,n=t.animation;e._animation=n===!1{duration0}S({durationA},t.animation)}});n.ui.plugin(M)}(window.kendo.jQuery),function(e,t,n){use strict;function i(){function e(){var t,r,o;for(t=0;arguments.lengtht;++t){if(r=arguments[t],r===n)throw Error(Cannot output undefined to PDF);if(r instanceof b)r.beforeRender(e),r.render(e);else if(V(r))g(r,e);else if(f(r))m(r,e);else if(number==typeof r){if(isNaN(r))throw Error(Cannot output NaN to PDF);o=r.toFixed(7),o.indexOf(.)=0&&(o=o.replace(.0+$,)),-0==o&&(o=0),i.writeString(o)}elsestringboolean.test(typeof r)i.writeString(r+)function==typeof r.geti.write(r.get())object==typeof r&&(re(new q(r))i.writeString(null))}}var t=0,i=z();return e.writeData=function(e){i.write(e)},e.withIndent=function(n){++t,n(e),--t},e.indent=function(){e(it,u(,2t,  )),e.apply(null,arguments)},e.offset=function(){return i.offset()},e.toString=function(){throw Error(FIX CALLER)},e.get=function(){return i.get()},e.stream=function(){return i},e}function r(e,t){var n=e.beforeRender,i=e.render;
e.beforeRender=function(){},e.render=function(e){e(t, 0 R)},e.renderFull=function(r){e._offset=r.offset(),r(t, 0 obj ),n.call(e,r),i.call(e,r),r( endobj)}}function o(e){var t,n=e(paperSize,at.a4);if(!n)return{};if(string==typeof n&&(n=at[n.toLowerCase()],null==n))throw Error(Unknown paper size);return n[0]=y(n[0]),n[1]=y(n[1]),e(landscape,!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]),t=e(margin),t&&(string==typeof tnumber==typeof t(t=y(t,0),t={leftt,topt,rightt,bottomt})t={lefty(t.left,0),topy(t.top,0),righty(t.right,0),bottomy(t.bottom,0)},e(addMargin)&&(n[0]+=t.left+t.right,n[1]+=t.top+t.bottom)),{paperSizen,margint}}function a(e){function t(t,n){return e&&null!=e[t]e[t]n}var n,a,s=this,l=i(),c=0,d=[];s.getOption=t,s.attach=function(e){return d.indexOf(e)0&&(r(e,++c),d.push(e)),e},s.pages=[],s.FONTS={},s.IMAGES={},s.GRAD_COL_FUNCTIONS={},s.GRAD_OPC_FUNCTIONS={},s.GRAD_COL={},s.GRAD_OPC={},n=s.attach(new Y),a=s.attach(new Q),n.setPages(a),s.addPage=function(e){var t,n,r,l=o(function(t,n){return e&&null!=e[t]e[t]n}),c=l.paperSize,d=l.margin,u=c[0],h=c[1];return d&&(u-=d.left+d.right,h-=d.top+d.bottom),t=new $(i(),null,!0),n={Contentss.attach(t),Parenta,MediaBox[0,0,c[0],c[1]]},r=new J(s,n),r._content=t,a.addPage(s.attach(r)),r.transform(1,0,0,-1,0,c[1]),d&&(r.translate(d.left,d.top),r.rect(0,0,u,h),r.clip()),s.pages.push(r),r},s.render=function(){var e,i;for(l(%PDF-1.4,it,%ÂÁÚÏÎ,it,it),e=0;d.lengthe;++e)d[e].renderFull(l),l(it,it);for(i=l.offset(),l(xref,it,0, ,d.length+1,it),l(0000000000 65535 f ,it),e=0;d.lengthe;++e)l(h(d[e]._offset,10), 00000 n ,it);return l(it),l(trailer,it),l(new q({Sized.length+1,Rootn,Infonew q({Producernew U(t(producer,Kendo UI PDF Generator)),Titlenew U(t(title,)),Authornew U(t(author,)),Subjectnew U(t(subject,)),Keywordsnew U(t(keywords,)),Creatornew U(t(creator,Kendo UI PDF Generator)),CreationDatet(date,new Date)})}),it,it),l(startxref,it,i,it),l(%%EOF,it),l.stream().offset(0)}}function s(t,n){function i(){e.console&&(e.console.errore.console.error(Cannot load URL %s,t)e.console.log(Cannot load URL %s,t)),n(null)}var r=new XMLHttpRequest;r.open(GET,t,!0),nt&&(r.responseType=arraybuffer),r.onload=function(){200==r.status304==r.statusn(ntnew Uint8Array(r.response)new VBArray(r.responseBody).toArray())i()},r.onerror=i,r.send(null)}function l(e,t){var n=st[e];nt(n)s(e,function(n){if(null==n)throw Error(Cannot load font from +e);var i=new tt.pdf.TTFFont(n);st[e]=i,t(i)})}function c(e,t){function i(e){c.src=e,c.complete&&!tt.support.browser.msieo()(c.onload=o,c.onerror=r)}function r(){t(lt[e]=TAINTED)}function o(){var i,o,l,d,u,h,p,f,g,m,v,_;if(s&&^imagejpeg$i.test(s.type))return i=new FileReader,i.onload=function(){c=new C(c.width,c.height,z(new Uint8Array(this.result))),URL.revokeObjectURL(a),t(lt[e]=c)},i.readAsArrayBuffer(s),n;o=document.createElement(canvas),o.width=c.width,o.height=c.height,l=o.getContext(2d),l.drawImage(c,0,0);try{d=l.getImageData(0,0,c.width,c.height)}catch(w){return r()}finally{a&&URL.revokeObjectURL(a)}for(u=!1,h=z(),p=z(),f=d.data,g=0;f.lengthg;)h.writeByte(f[g++]),h.writeByte(f[g++]),h.writeByte(f[g++]),m=f[g++],255m&&(u=!0),p.writeByte(m);uc=new S(c.width,c.height,h,p)(v=o.toDataURL(imagejpeg),v=v.substr(v.indexOf(;base64,)+8),_=z(),_.writeBase64(v),_.offset(0),c=new C(c.width,c.height,_)),t(lt[e]=c)}var a,s,l,c=lt[e];ct(c)(c=new Image,^datai.test(e)(c.crossOrigin=Anonymous),nt&&!^datai.test(e)(l=new XMLHttpRequest,l.onload=function(){s=l.response,a=URL.createObjectURL(s),i(a)},l.onerror=r,l.open(GET,e,!0),l.responseType=blob,l.send())i(e))}function d(e){return function(t,n){var i=t.length,r=i;if(0===i)return n();for(;r--0;)e(t[r],function(){0===--i&&n()})}}function u(e,t,n){for(;te.length;)e=n+e;return e}function h(e,t){return u(e+,t,0)}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){return e instanceof Date}function g(e,t){t([),e.length0&&t.withIndent(function(){for(var n=0;e.lengthn;++n)n0&&n%8===0t.indent(e[n])t( ,e[n])}),t( ])}function m(e,t){t((D,h(e.getUTCFullYear(),4),h(e.getUTCMonth()+1,2),h(e.getUTCDate(),2),h(e.getUTCHours(),2),h(e.getUTCMinutes(),2),h(e.getUTCSeconds(),2),Z))}function v(e){return e(7225.4)}function _(e){return v(10e)}function w(e){return 72e}function y(e,n){var i,r;if(number==typeof e)return e;if(string==typeof e&&(i=^s([0-9.]+)s(mmcminpt)s$.exec(e),i&&(r=t(i[1]),!isNaN(r))))returnpt==i[2]r{mmv,cm_,inw}[i[2]](r);if(null!=n)return n;throw Error(Can't parse unit +e)}function b(){}function k(e,t,n){n(n=b),e.prototype=new n;for(var i in t)p(t,i)&&(e.prototype[i]=t[i]);return e}function x(e){return p(G,e)G[e]G[e]=new j(e)}function C(e,t,n){this.asStream=function(){var i=new $(n,{Typex(XObject),Subtypex(Image),Widthe,Heightt,BitsPerComponent8,ColorSpacex(DeviceRGB),Filterx(DCTDecode)});return i._resourceName=x(I+ ++rt),i}}function S(e,t,n,i){this.asStream=function(r){var o=new $(i,{Typex(XObject),Subtypex(Image),Widthe,Heightt,BitsPerComponent8,ColorSpacex(DeviceGray)},!0),a=new $(n,{Typex(XObject),Subtypex(Image),Widthe,Heightt,BitsPerComponent8,ColorSpacex(DeviceRGB),SMaskr.attach(o)},!0);return a._resourceName=x(I+ ++rt),a}}function T(e){return e.map(function(e){return V(e)T(e)number==typeof e(Math.round(1e3e)1e3).toFixed(3)e}).join( )}function D(e,t,n,i,r,o,a){var s=T([t,n,i,r,o,a]),l=e.GRAD_COL_FUNCTIONS[s];return l(l=e.GRAD_COL_FUNCTIONS[s]=e.attach(new q({FunctionType2,Domain[0,1],Range[0,1,0,1,0,1],N1,C0[t,n,i],C1[r,o,a]}))),l}function A(e,t,n){var i=T([t,n]),r=e.GRAD_OPC_FUNCTIONS[i];return r(r=e.GRAD_OPC_FUNCTIONS[i]=e.attach(new q({FunctionType2,Domain[0,1],Range[0,1],N1,C0[t],C1[n]}))),r}function E(e,t){function n(e){return 1==e.lengthe[0]{FunctionType3,Functionse,Domain[0,1],Boundsu,Encodeh}}var i,r,o,a,s,l=!1,c=[],d=[],u=[],h=[];for(i=1;t.lengthi;++i)r=t[i-1],o=t[i],a=r.color,s=o.color,d.push(D(e,a.r,a.g,a.b,s.r,s.g,s.b)),(1a.a1s.a)&&(l=!0),u.push(o.offset),h.push(0,1);if(l)for(i=1;t.lengthi;++i)r=t[i-1],o=t[i],a=r.color,s=o.color,c.push(A(e,a.a,s.a));return u.pop(),{hasAlphal,colorsn(d),opacitiesln(c)null}}function I(e,t,n,i,r,o){var a,s,l;return o(l=[t].concat(i),n.forEach(function(e){l.push(e.offset,e.color.r,e.color.g,e.color.b)}),s=T(l),a=e.GRAD_COL[s]),a(a=new q({Typex(Shading),ShadingTypet32,ColorSpacex(DeviceRGB),Coordsi,Domain[0,1],Functionr,Extend[!0,!0]}),e.attach(a),a._resourceName=S+ ++rt,s&&(e.GRAD_COL[s]=a)),a}function M(e,t,n,i,r,o){var a,s,l;return o(l=[t].concat(i),n.forEach(function(e){l.push(e.offset,e.color.a)}),s=T(l),a=e.GRAD_OPC[s]),a(a=new q({Typex(ExtGState),AIS!1,CA1,ca1,SMask{Typex(Mask),Sx(Luminosity),Ge.attach(new $(a0 gs s0 sh,{Typex(XObject),Subtypex(Form),FormType1,BBoxo[o.left,o.top+o.height,o.left+o.width,o.top][0,1,1,0],Group{Typex(Group),Sx(Transparency),CSx(DeviceGray),I!0},Resources{ExtGState{a0{CA1,ca1}},Shading{s0{ColorSpacex(DeviceGray),Coordsi,Domain[0,1],ShadingTypet32,Functionr,Extend[!0,!0]}}}}))}}),e.attach(a),a._resourceName=O+ ++rt,s&&(e.GRAD_OPC[s]=a)),a}function P(e,t,n){var i=radial==t.type,r=E(e,t.stops),o=i[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r][t.start.x,t.start.y,t.end.x,t.end.y],a=I(e,i,t.stops,o,r.colors,t.userSpace&&n),s=r.hasAlphaM(e,i,t.stops,o,r.opacities,t.userSpace&&n)null;return{hasAlphar.hasAlpha,shadinga,opacitys}}function z(t){function n(){return T=D}function i(){return DTt[T++]0}function r(e){b(T),t[T++]=255&e,TD&&(D=T)}function o(){return i()8i()}function a(e){r(e8),r(e)}function s(){var e=o();return e=32768e-65536e}function l(e){a(0ee+65536e)}function c(){return 65536o()+o()}function d(e){a(e16&65535),a(65535&e)}function u(){var e=c();return e=2147483648e-4294967296e}function h(e){d(0ee+4294967296e)}function p(){return c()65536}function f(e){d(Math.round(65536e))}function g(){return u()65536}function m(e){h(Math.round(65536e))}function v(e){return y(e,i)}function _(e){return String.fromCharCode.apply(String,v(e))}function w(e){for(var t=0;e.lengtht;++t)r(e.charCodeAt(t))}function y(e,t){for(var n=Array(e),i=0;ei;++i)n[i]=t();return n}var b,k,x,C,S,T=0,D=0;return null==tt=ntnew Uint8Array(256)[]D=t.length,b=ntfunction(e){if(e=t.length){var n=new Uint8Array(Math.max(e+256,2t.length));n.set(t,0),t=n}}function(){},k=ntfunction(){return new Uint8Array(t.buffer,0,D)}function(){return t},x=ntfunction(e){if(string==typeof e)return w(e);var n=e.length;b(T+n),t.set(e,T),T+=n,TD&&(D=T)}function(e){if(string==typeof e)return w(e);for(var t=0;e.lengtht;++t)r(e[t])},C=ntfunction(e,n){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(e,e+n));var i=new Uint8Array(n);return i.set(new Uint8Array(t.buffer,e,n)),i}function(e,n){return t.slice(e,e+n)},S={eofn,readBytei,writeByter,readShorto,writeShorta,readLongc,writeLongd,readFixedp,writeFixedf,readShort_s,writeShort_l,readLong_u,writeLong_h,readFixed_g,writeFixed_m,readv,writex,readString_,writeStringw,timesy,getk,sliceC,offsetfunction(e){return null!=e(T=e,S)T},skipfunction(e){T+=e},toStringfunction(){throw Error(FIX CALLER.  BinaryStream is no longer convertible to string!)},lengthfunction(){return D},saveExcursionfunction(e){var t=T;try{return e()}finally{T=t}},writeBase64function(t){e.atobw(e.atob(t))x(ot.decode(t))},base64function(){return ot.encode(k())}}}function F(e){return e.replace(^s(['])(.)1s$,$2)}function R(e){var t,n=^s((normalitalic)s+)((normalsmall-caps)s+)((normalboldd+)s+)(([0-9.]+)(pxpt))((([0-9.]+)(pxpt)normal))s+(.)s$i,i=n.exec(e);return i(t=i[8]parseInt(i[8],10)12,{italici[2]&&italic==i[2].toLowerCase(),varianti[4],boldi[6]&&bold700i.test(i[6]),fontSizet,lineHeighti[12]normal==i[12]tparseInt(i[12],10)null,fontFamilyi[14].split(s,sg).map(F)}){fontSize12,fontFamilysans-serif}}function B(e){function t(t){return e.bold&&(t+=bold),e.italic&&(t+=italic),t.toLowerCase()}var n,i,r,o=e.fontFamily;if(o instanceof Array)for(r=0;o.lengthr&&(n=t(o[r]),!(i=et[n]));++r);else i=et[o.toLowerCase()];for(;function==typeof i;)i=i();return i(i=Times-Roman),i}function H(e,t){e=e.toLowerCase(),et[e]=function(){return et[t]},et[e+bold]=function(){return et[t+bold]},et[e+italic]=function(){return et[t+italic]},et[e+bolditalic]=function(){return et[t+bolditalic]}}function L(e,t){if(1==arguments.length)for(var n in e)p(e,n)&&L(n,e[n]);else switch(e=e.toLowerCase(),et[e]=t,e){casedejavu sanset[sans-serif]=t;break;casedejavu sansboldet[sans-serifbold]=t;break;casedejavu sansitalicet[sans-serifitalic]=t;break;casedejavu sansbolditalicet[sans-serifbolditalic]=t;break;casedejavu serifet.serif=t;break;casedejavu serifboldet[serifbold]=t;break;casedejavu serifitalicet[serifitalic]=t;break;casedejavu serifbolditalicet[serifbolditalic]=t;break;casedejavu monoet.monospace=t;break;casedejavu monoboldet[monospacebold]=t;break;casedejavu monoitalicet[monospaceitalic]=t;break;casedejavu monobolditalicet[monospacebolditalic]=t}}function N(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=t[0],c=t[1],d=t[2],u=t[3],h=t[4],p=t[5];return[nl+id,nc+iu,rl+od,rc+ou,al+sd+h,ac+su+p]}function O(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]}var V,U,W,j,G,q,$,Y,Q,K,X,Z,J,et,tt=e.kendo,nt=!!e.Uint8Array,it=n,rt=0,ot=function(){var e=ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+=;return{decodefunction(t){for(var n,i,r,o,a,s,l,c=t.replace([^A-Za-z0-9+=]g,),d=0,u=c.length,h=[];ud;)n=e.indexOf(c.charAt(d++)),i=e.indexOf(c.charAt(d++)),r=e.indexOf(c.charAt(d++)),o=e.indexOf(c.charAt(d++)),a=n2i4,s=(15&i)4r2,l=(3&r)6o,h.push(a),64!=r&&h.push(s),64!=o&&h.push(l);return h},encodefunction(t){for(var n,i,r,o,a,s,l,c=0,d=t.length,u=;dc;)n=t[c++],i=t[c++],r=t[c++],o=n2,a=(3&n)4i4,s=(15&i)2r6,l=63&r,c-d==2s=l=64c-d==1&&(l=64),u+=e.charAt(o)+e.charAt(a)+e.charAt(s)+e.charAt(l);return u}}}(),at={a0[2383.94,3370.39],a1[1683.78,2383.94],a2[1190.55,1683.78],a3[841.89,1190.55],a4[595.28,841.89],a5[419.53,595.28],a6[297.64,419.53],a7[209.76,297.64],a8[147.4,209.76],a9[104.88,147.4],a10[73.7,104.88],b0[2834.65,4008.19],b1[2004.09,2834.65],b2[1417.32,2004.09],b3[1000.63,1417.32],b4[708.66,1000.63],b5[498.9,708.66],b6[354.33,498.9],b7[249.45,354.33],b8[175.75,249.45],b9[124.72,175.75],b10[87.87,124.72],c0[2599.37,3676.54],c1[1836.85,2599.37],c2[1298.27,1836.85],c3[918.43,1298.27],c4[649.13,918.43],c5[459.21,649.13],c6[323.15,459.21],c7[229.61,323.15],c8[161.57,229.61],c9[113.39,161.57],c10[79.37,113.39],executive[521.86,756],folio[612,936],legal[612,1008],letter[612,792],tabloid[792,1224]},st={Times-Roman!0,Times-Bold!0,Times-Italic!0,Times-BoldItalic!0,Helvetica!0,Helvetica-Bold!0,Helvetica-Oblique!0,Helvetica-BoldOblique!0,Courier!0,Courier-Bold!0,Courier-Oblique!0,Courier-BoldOblique!0,Symbol!0,ZapfDingbats!0},lt={},ct=d(l),dt=d(c);a.prototype={loadFontsct,loadImagesdt,getFontfunction(e){var t=this.FONTS[e];if(!t){if(t=st[e],!t)throw Error(Font +e+ has not been loaded);t=this.attach(t===!0new K(e)new X(this,t)),this.FONTS[e]=t}return t},getImagefunction(e){var t=this.IMAGES[e];if(!t){if(t=lt[e],!t)throw Error(Image +e+ has not been loaded);if(TAINTED===t)return null;t=this.IMAGES[e]=this.attach(t.asStream(this))}return t},getOpacityGSfunction(e,n){var i,r,o,a=t(e).toFixed(3);return e=t(a),a+=nSF,i=this._opacityGSCache(this._opacityGSCache={}),r=i[a],r(o={Typex(ExtGState)},no.CA=eo.ca=e,r=this.attach(new q(o)),r._resourceName=x(GS+ ++rt),i[a]=r),r},dictfunction(e){return new q(e)},namefunction(e){return x(e)},streamfunction(e,t){return new $(t,e)}},V=Array.isArrayfunction(e){return e instanceof Array},b.prototype.beforeRender=function(){},U=k(function(e){this.value=e},{renderfunction(e){var t,n=,i=this.escape();for(t=0;i.lengtht;++t)n+=String.fromCharCode(255&i.charCodeAt(t));e((,n,))},escapefunction(){return this.value.replace(([()])g,$1)},toStringfunction(){return this.value}}),W=k(function(e){this.value=e},{renderfunction(e){e();for(var t=0;this.value.lengtht;++t)e(h(this.value.charCodeAt(t).toString(16),4));e()}},U),j=k(function(e){this.name=e},{renderfunction(e){e(+this.escape())},escapefunction(){return this.name.replace([^x21-x7E]g,function(e){return#+h(e.charCodeAt(0).toString(16),2)})},toStringfunction(){return this.name}}),G={},j.get=x,q=k(function(e){this.props=e},{renderfunction(e){var t=this.props,n=!0;e(),e.withIndent(function(){for(var i in t)p(t,i)&&!^_.test(i)&&(n=!1,e.indent(x(i), ,t[i]))}),ne.indent(),e()}}),$=k(function(e,t,n){if(string==typeof e){var i=z();i.write(e),e=i}this.data=e,this.props=t{},this.compress=n},{renderfunction(t){var n=this.data.get(),i=this.props;this.compress&&e.pako&&function==typeof e.pako.deflate&&(i.Filteri.Filter instanceof Array(i.Filter=[i.Filter])i.Filter=[],i.Filter.unshift(x(FlateDecode)),n=e.pako.deflate(n)),i.Length=n.length,t(new q(i), stream,it),t.writeData(n),t(it,endstream)}}),Y=k(function(e){e=this.props=e{},e.Type=x(Catalog)},{setPagesfunction(e){this.props.Pages=e}},q),Q=k(function(){this.props={Typex(Pages),Kids[],Count0}},{addPagefunction(e){this.props.Kids.push(e),this.props.Count++}},q),K=k(function(e){this.props={Typex(Font),Subtypex(Type1),BaseFontx(e)},this._resourceName=x(F+ ++rt)},{encodeTextfunction(e){return new U(e+)}},q),X=k(function(e,t,n){var i,r;n=this.props=n{},n.Type=x(Font),n.Subtype=x(Type0),n.Encoding=x(Identity-H),this._pdf=e,this._font=t,this._sub=t.makeSubset(),this._resourceName=x(F+ ++rt),i=t.head,this.name=t.psName,r=this.scale=t.scale,this.bbox=[i.xMinr,i.yMinr,i.xMaxr,i.yMaxr],this.italicAngle=t.post.italicAngle,this.ascent=t.ascentr,this.descent=t.descentr,this.lineGap=t.lineGapr,this.capHeight=t.os2.capHeightthis.ascent,this.xHeight=t.os2.xHeight0,this.stemV=0,this.familyClass=(t.os2.familyClass0)8,this.isSerif=this.familyClass=1&&7=this.familyClass,this.isScript=10==this.familyClass,this.flags=(t.post.isFixedPitch10)(this.isSerif20)(this.isScript80)(0!==this.italicAngle640)32},{encodeTextfunction(e){return new W(this._sub.encodeText(e+))},getTextWidthfunction(e,t){var n,i,r=0,o=this._font.cmap.getUnicodeEntry().codeMap;for(n=0;t.lengthn;++n)i=o[t.charCodeAt(n)],r+=this._font.widthOfGlyph(i0);return re1e3},beforeRenderfunction(){var e,t,n,r,o=this,a=o._sub,s=a.render(),l=new $(z(s),{Length1s.length},!0),c=o._pdf.attach(new q({Typex(FontDescriptor),FontNamex(o._sub.psName),FontBBoxo.bbox,Flagso.flags,StemVo.stemV,ItalicAngleo.italicAngle,Ascento.ascent,Descento.descent,CapHeighto.capHeight,XHeighto.xHeight,FontFile2o._pdf.attach(l)})),d=a.ncid2ogid,u=a.firstChar,h=a.lastChar,p=[];!function f(e,t){if(h=e){var n=d[e];null==nf(e+1)(tp.push(e,t=[]),t.push(o._font.widthOfGlyph(n)),f(e+1,t))}}(u),e=new q({Typex(Font),Subtypex(CIDFontType2),BaseFontx(o._sub.psName),CIDSystemInfonew q({Registrynew U(Adobe),Orderingnew U(Identity),Supplement0}),FontDescriptorc,FirstCharu,LastCharh,DWMath.round(o._font.widthOfGlyph(0)),Wp,CIDToGIDMapo._pdf.attach(o._makeCidToGidMap())}),t=o.props,t.BaseFont=x(o._sub.psName),t.DescendantFonts=[o._pdf.attach(e)],n=new Z(u,h,a.subset),r=new $(i(),null,!0),r.data(n),t.ToUnicode=o._pdf.attach(r)},_makeCidToGidMapfunction(){return new $(z(this._sub.cidToGidMap()),null,!0)}},q),Z=k(function(e,t,n){this.firstChar=e,this.lastChar=t,this.map=n},{renderfunction(e){e.indent(CIDInit ProcSet findresource begin),e.indent(12 dict begin),e.indent(begincmap),e.indent(CIDSystemInfo ),e.indent(  Registry (Adobe)),e.indent(  Ordering (UCS)),e.indent(  Supplement 0),e.indent( def),e.indent(CMapName Adobe-Identity-UCS def),e.indent(CMapType 2 def),e.indent(1 begincodespacerange),e.indent(  0000ffff),e.indent(endcodespacerange);var t=this;e.indent(t.lastChar-t.firstChar+1, beginbfchar),e.withIndent(function(){var n,i;for(n=t.firstChar;t.lastChar=n;++n)i=t.map[n],e.indent(,h(n.toString(16),4),,,h(i.toString(16),4),)}),e.indent(endbfchar),e.indent(endcmap),e.indent(CMapName currentdict CMap defineresource pop),e.indent(end),e.indent(end)}}),J=k(function(e,t){this._pdf=e,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],t=this.props=t{},t.Type=x(Page),t.ProcSet=[x(PDF),x(Text),x(ImageB),x(ImageC),x(ImageI)],t.Resources=new q({Fontnew q(this._fontResources),ExtGStatenew q(this._gsResources),XObjectnew q(this._xResources),Patternnew q(this._patResources),Shadingnew q(this._shResources)}),t.Annots=this._annotations},{_outfunction(){this._content.data.apply(null,arguments)},transformfunction(e,t,n,i,r,o){O(arguments)(this._matrix=N(arguments,this._matrix),this._out(e, ,t, ,n, ,i, ,r, ,o, cm),this._out(it))},translatefunction(e,t){this.transform(1,0,0,1,e,t)},scalefunction(e,t){this.transform(e,0,0,t,0,0)},rotatefunction(e){var t=Math.cos(e),n=Math.sin(e);this.transform(t,n,-n,t,0,0)},beginTextfunction(){this._textMode=!0,this._out(BT,it)},endTextfunction(){this._textMode=!1,this._out(ET,it)},_requireTextModefunction(){if(!this._textMode)throw Error(Text mode required; call page.beginText() first)},_requireFontfunction(){if(!this._font)throw Error(No font selected; call page.setFont() first)},setFontfunction(e,t){this._requireTextMode(),null==ee=this._fonte instanceof X(e=this._pdf.getFont(e)),null==t&&(t=this._fontSize),this._fontResources[e._resourceName]=e,this._font=e,this._fontSize=t,this._out(e._resourceName, ,t, Tf,it)},setTextLeadingfunction(e){this._requireTextMode(),this._out(e, TL,it)},setTextRenderingModefunction(e){this._requireTextMode(),this._out(e, Tr,it)},showTextfunction(e,t){var n,i;this._requireFont(),e.length1&&t&&this._font instanceof X&&(n=this._font.getTextWidth(this._fontSize,e),i=tn100,this._out(i, Tz )),this._out(this._font.encodeText(e), Tj,it)},showTextNLfunction(e){this._requireFont(),this._out(this._font.encodeText(e), ',it)},addLinkfunction(e,t){var n=this._toPage({xt.left,yt.bottom}),i=this._toPage({xt.right,yt.top});this._annotations.push(new q({Typex(Annot),Subtypex(Link),Rect[n.x,n.y,i.x,i.y],Border[0,0,0],Anew q({Typex(Action),Sx(URI),URInew U(e)})}))},setStrokeColorfunction(e,t,n){this._out(e, ,t, ,n, RG,it)},setOpacityfunction(e){this.setFillOpacity(e),this.setStrokeOpacity(e),this._opacity=e},setStrokeOpacityfunction(e){if(1e){var t=this._pdf.getOpacityGS(this._opacitye,!0);this._gsResources[t._resourceName]=t,this._out(t._resourceName, gs,it)}},setFillColorfunction(e,t,n){this._out(e, ,t, ,n, rg,it)},setFillOpacityfunction(e){if(1e){var t=this._pdf.getOpacityGS(this._opacitye,!1);this._gsResources[t._resourceName]=t,this._out(t._resourceName, gs,it)}},gradientfunction(e,t){var n,i,r;this.save(),this.rect(t.left,t.top,t.width,t.height),this.clip(),e.userSpacethis.transform(t.width,0,0,t.height,t.left,t.top),n=P(this._pdf,e,t),i=n.shading._resourceName,this._shResources[i]=n.shading,n.hasAlpha&&(r=n.opacity._resourceName,this._gsResources[r]=n.opacity,this._out(+r+ gs )),this._out(+i+ sh,it),this.restore()},setDashPatternfunction(e,t){this._out(e, ,t, d,it)},setLineWidthfunction(e){this._out(e, w,it)},setLineCapfunction(e){this._out(e, J,it)},setLineJoinfunction(e){this._out(e, j,it)},setMitterLimitfunction(e){this._out(e, M,it)},savefunction(){this._contextStack.push(this._context()),this._out(q,it)},restorefunction(){this._out(Q,it),this._context(this._contextStack.pop())},moveTofunction(e,t){this._out(e, ,t, m,it)},lineTofunction(e,t){this._out(e, ,t, l,it)},bezierfunction(e,t,n,i,r,o){this._out(e, ,t, ,n, ,i, ,r, ,o, c,it)},bezier1function(e,t,n,i){this._out(e, ,t, ,n, ,i, y,it)},bezier2function(e,t,n,i){this._out(e, ,t, ,n, ,i, v,it)},closefunction(){this._out(h,it)},rectfunction(e,t,n,i){this._out(e, ,t, ,n, ,i, re,it)},ellipsefunction(e,t,n,i){function r(t){return e+t}function o(e){return t+e}var a=.5522847498307936;this.moveTo(r(0),o(i)),this.bezier(r(na),o(i),r(n),o(ia),r(n),o(0)),this.bezier(r(n),o(-ia),r(na),o(-i),r(0),o(-i)),this.bezier(r(-na),o(-i),r(-n),o(-ia),r(-n),o(0)),this.bezier(r(-n),o(ia),r(-na),o(i),r(0),o(i))},circlefunction(e,t,n){this.ellipse(e,t,n,n)},strokefunction(){this._out(S,it)},nopfunction(){this._out(n,it)},clipfunction(){this._out(W n,it)},clipStrokefunction(){this._out(W S,it)},closeStrokefunction(){this._out(s,it)},fillfunction(){this._out(f,it)},fillStrokefunction(){this._out(B,it)},drawImagefunction(e){var t=this._pdf.getImage(e);t&&(this._xResources[t._resourceName]=t,this._out(t._resourceName, Do,it))},commentfunction(e){var t=this;e.split(rng).forEach(function(e){t._out(% ,e,it)})},_contextfunction(e){return null==e{opacitythis._opacity,matrixthis._matrix}(this._opacity=e.opacity,this._matrix=e.matrix,n)},_toPagefunction(e){var t=this._matrix,n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5];return{xne.x+re.y+a,yie.x+oe.y+s}}},q),et={serifTimes-Roman,serifboldTimes-Bold,serifitalicTimes-Italic,serifbolditalicTimes-BoldItalic,sans-serifHelvetica,sans-serifboldHelvetica-Bold,sans-serifitalicHelvetica-Oblique,sans-serifbolditalicHelvetica-BoldOblique,monospaceCourier,monospaceboldCourier-Bold,monospaceitalicCourier-Oblique,monospacebolditalicCourier-BoldOblique,zapfdingbatsZapfDingbats,zapfdingbatsboldZapfDingbats,zapfdingbatsitalicZapfDingbats,zapfdingbatsbolditalicZapfDingbats},H(Times New Roman,serif),H(Courier New,monospace),H(Arial,sans-serif),H(Helvetica,sans-serif),H(Verdana,sans-serif),H(Tahoma,sans-serif),H(Georgia,sans-serif),H(Monaco,monospace),H(Andale Mono,monospace),tt.pdf={Documenta,BinaryStreamz,defineFontL,parseFontDefR,getFontURLB,loadFontsct,loadImagesdt,getPaperOptionso,TEXT_RENDERING_MODE{fill0,stroke1,fillAndStroke2,invisible3,fillAndClip4,strokeAndClip5,fillStrokeClip6,clip7}}}(window,parseFloat),function(e){use strict;function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(e){return Object.keys(e).sort(function(e,t){return e-t}).map(parseFloat)}function i(e){var t,n,i;for(this.raw=e,this.scalerType=e.readLong(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),t=this.tables={},n=0;this.tableCountn;++n)i={tage.readString(4),checksume.readLong(),offsete.readLong(),lengthe.readLong()},t[i.tag]=i}function r(e){function n(e,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=e,this.rawData=e.raw,this.parse(e.raw)}n.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var i in e)t(e,i)&&(n[i]=n.prototype[i]=e[i]);return n}function o(){var e,t=,n=_+;for(e=0;n.lengthe;++e)t+=String.fromCharCode(n.charCodeAt(e)-48+65);return++_,t}function a(e){this.font=e,this.subset={},this.unicodes={},this.ogid2ngid={00},this.ngid2ogid={00},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=o()+++this.font.psName}function s(e,t){var n,i,r,o,a=this,s=a.contents=y(e);if(ttcf==s.readString(4)){if(!t)throw Error(Must specify a name for TTC files);for(n=s.readLong(),i=s.readLong(),r=0;ir;++r)if(o=s.readLong(),s.saveExcursion(function(){s.offset(o),a.parse()}),a.psName==t)return;throw Error(Font +t+ not found in collection)}s.offset(0),a.parse()}var l,c,d,u,h,p,f,g,m,v,_,w=e.kendo.pdf,y=w.BinaryStream;i.prototype={readTablefunction(e,t){var n=this.tables[e];if(!n)throw Error(Table +e+ not found in directory);return this[e]=n.table=new t(this,n)},renderfunction(e){var n,i,r,o,a,s,l,c,d=Object.keys(e).length,u=Math.pow(2,Math.floor(Math.log(d)Math.LN2)),h=16u,p=Math.floor(Math.log(u)Math.LN2),f=16d-h,g=y();g.writeLong(this.scalerType),g.writeShort(d),g.writeShort(h),g.writeShort(p),g.writeShort(f),n=16d,i=g.offset()+n,r=null,o=y();for(a in e)if(t(e,a))for(s=e[a],g.writeString(a),g.writeLong(this.checksum(s)),g.writeLong(i),g.writeLong(s.length),o.write(s),head==a&&(r=i),i+=s.length;i%4;)o.writeByte(0),i++;return g.write(o.get()),l=this.checksum(g.get()),c=2981146554-l,g.offset(r+8),g.writeLong(c),g.get()},checksumfunction(e){e=y(e);for(var t=0;!e.eof();)t+=e.readLong();return 4294967295&t}},l=r({parsefunction(e){e.offset(this.offset),this.version=e.readLong(),this.revision=e.readLong(),this.checkSumAdjustment=e.readLong(),this.magicNumber=e.readLong(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.read(8),this.modified=e.read(8),this.xMin=e.readShort_(),this.yMin=e.readShort_(),this.xMax=e.readShort_(),this.yMax=e.readShort_(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort_(),this.indexToLocFormat=e.readShort_(),this.glyphDataFormat=e.readShort_()},renderfunction(e){var t=y();return t.writeLong(this.version),t.writeLong(this.revision),t.writeLong(0),t.writeLong(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.write(this.created),t.write(this.modified),t.writeShort_(this.xMin),t.writeShort_(this.yMin),t.writeShort_(this.xMax),t.writeShort_(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort_(this.fontDirectionHint),t.writeShort_(e),t.writeShort_(this.glyphDataFormat),t.get()}}),c=r({parsefunction(e){e.offset(this.offset);var t=this.file.head.indexToLocFormat;this.offsets=0===te.times(this.length2,function(){return 2e.readShort()})e.times(this.length4,e.readLong)},offsetOffunction(e){return this.offsets[e]},lengthOffunction(e){return this.offsets[e+1]-this.offsets[e]},renderfunction(e){var t,n=y(),i=e[e.length-1]65535;for(t=0;e.lengtht;++t)in.writeLong(e[t])n.writeShort(e[t]2);return{formati10,tablen.get()}}}),d=r({parsefunction(e){e.offset(this.offset),this.version=e.readLong(),this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort_(),this.minRightSideBearing=e.readShort_(),this.xMaxExtent=e.readShort_(),this.caretSlopeRise=e.readShort_(),this.caretSlopeRun=e.readShort_(),this.caretOffset=e.readShort_(),e.skip(8),this.metricDataFormat=e.readShort_(),this.numOfLongHorMetrics=e.readShort()},renderfunction(e){var t=y();return t.writeLong(this.version),t.writeShort_(this.ascent),t.writeShort_(this.descent),t.writeShort_(this.lineGap),t.writeShort(this.advanceWidthMax),t.writeShort_(this.minLeftSideBearing),t.writeShort_(this.minRightSideBearing),t.writeShort_(this.xMaxExtent),t.writeShort_(this.caretSlopeRise),t.writeShort_(this.caretSlopeRun),t.writeShort_(this.caretOffset),t.write([0,0,0,0,0,0,0,0]),t.writeShort_(this.metricDataFormat),t.writeShort(e.length),t.get()}}),u=r({parsefunction(e){e.offset(this.offset),this.version=e.readLong(),this.numGlyphs=e.readShort(),this.maxPoints=e.readShort(),this.maxContours=e.readShort(),this.maxComponentPoints=e.readShort(),this.maxComponentContours=e.readShort(),this.maxZones=e.readShort(),this.maxTwilightPoints=e.readShort(),this.maxStorage=e.readShort(),this.maxFunctionDefs=e.readShort(),this.maxInstructionDefs=e.readShort(),this.maxStackElements=e.readShort(),this.maxSizeOfInstructions=e.readShort(),this.maxComponentElements=e.readShort(),this.maxComponentDepth=e.readShort()},renderfunction(e){var t=y();return t.writeLong(this.version),t.writeShort(e.length),t.writeShort(this.maxPoints),t.writeShort(this.maxContours),t.writeShort(this.maxComponentPoints),t.writeShort(this.maxComponentContours),t.writeShort(this.maxZones),t.writeShort(this.maxTwilightPoints),t.writeShort(this.maxStorage),t.writeShort(this.maxFunctionDefs),t.writeShort(this.maxInstructionDefs),t.writeShort(this.maxStackElements),t.writeShort(this.maxSizeOfInstructions),t.writeShort(this.maxComponentElements),t.writeShort(this.maxComponentDepth),t.get()}}),h=r({parsefunction(e){var t,n,i;e.offset(this.offset),t=this.file,n=t.hhea,this.metrics=e.times(n.numOfLongHorMetrics,function(){return{advancee.readShort(),lsbe.readShort_()}}),i=t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics,this.leftSideBearings=e.times(i,e.readShort_)},forGlyphfunction(e){var t=this.metrics,n=t.length;return net[e]{advancet[n-1].advance,lsbthis.leftSideBearings[e-n]}},renderfunction(e){var t,n,i=y();for(t=0;e.lengtht;++t)n=this.forGlyph(e[t]),i.writeShort(n.advance),i.writeShort_(n.lsb);return i.get()}}),p=function(){function e(e){this.raw=e}function n(e){var t,n,r;for(this.raw=e,t=this.glyphIds=[],n=this.idOffsets=[];;){if(r=e.readShort(),n.push(e.offset()),t.push(e.readShort()),!(r&a))break;e.skip(r&i42),r&le.skip(8)r&se.skip(4)r&o&&e.skip(2)}}var i,o,a,s,l,c;return e.prototype={compound!1,renderfunction(){return this.raw.get()}},i=1,o=8,a=32,s=64,l=128,c=256,n.prototype={compound!0,renderfunction(e){var t,n,i=y(this.raw.get());for(t=0;this.glyphIds.lengtht;++t)n=this.glyphIds[t],i.offset(this.idOffsets[t]),i.writeShort(e[n]);return i.get()}},r({parsefunction(){this.cache={}
},glyphForfunction(i){var r,o,a,s,l,c,d,u,h,p,f,g=this.cache;return t(g,i)g[i](r=this.file.loca,o=r.lengthOf(i),0===og[i]=null(a=this.rawData,s=this.offset+r.offsetOf(i),l=y(a.slice(s,o)),c=l.readShort_(),d=l.readShort_(),u=l.readShort_(),h=l.readShort_(),p=l.readShort_(),f=g[i]=-1==cnew n(l)new e(l),f.numberOfContours=c,f.xMin=d,f.yMin=u,f.xMax=h,f.yMax=p,f))},renderfunction(e,t,n){var i,r,o,a=y(),s=[];for(i=0;t.lengthi;++i)r=t[i],o=e[r],s.push(a.offset()),o&&a.write(o.render(n));return s.push(a.offset()),{tablea.get(),offsetss}}})}(),f=function(){function e(e,t){this.text=e,this.length=e.length,this.platformID=t.platformID,this.platformSpecificID=t.platformSpecificID,this.languageID=t.languageID,this.nameID=t.nameID}return r({parsefunction(t){var n,i,r,o,a,s,l,c;for(t.offset(this.offset),n=t.readShort(),i=t.readShort(),r=this.offset+t.readShort(),o=t.times(i,function(){return{platformIDt.readShort(),platformSpecificIDt.readShort(),languageIDt.readShort(),nameIDt.readShort(),lengtht.readShort(),offsett.readShort()+r}}),a=this.strings={},s=0;o.lengths;++s)l=o[s],t.offset(l.offset),c=t.readString(l.length),a[l.nameID](a[l.nameID]=[]),a[l.nameID].push(new e(c,l));this.postscriptEntry=a[6][0],this.postscriptName=this.postscriptEntry.text.replace([^x20-x7F]g,)},renderfunction(n){var i,r,o,a,s,l,c=this.strings,d=0;for(i in c)t(c,i)&&(d+=c[i].length);r=y(),o=y(),r.writeShort(0),r.writeShort(d),r.writeShort(6+12d);for(i in c)if(t(c,i))for(a=6==i[new e(n,this.postscriptEntry)]c[i],s=0;a.lengths;++s)l=a[s],r.writeShort(l.platformID),r.writeShort(l.platformSpecificID),r.writeShort(l.languageID),r.writeShort(l.nameID),r.writeShort(l.length),r.writeShort(o.offset()),o.writeString(l.text);return r.write(o.get()),r.get()}})}(),g=function(){var e=.notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat.split(s+g);return r({parsefunction(e){var t,n;switch(e.offset(this.offset),this.format=e.readLong(),this.italicAngle=e.readFixed_(),this.underlinePosition=e.readShort_(),this.underlineThickness=e.readShort_(),this.isFixedPitch=e.readLong(),this.minMemType42=e.readLong(),this.maxMemType42=e.readLong(),this.minMemType1=e.readLong(),this.maxMemType1=e.readLong(),this.format){case 65536case 196608break;case 131072for(t=e.readShort(),this.glyphNameIndex=e.times(t,e.readShort),this.names=[],n=this.offset+this.length;e.offset()n;)this.names.push(e.readString(e.readByte()));break;case 151552t=e.readShort(),this.offsets=e.read(t);break;case 262144this.map=e.times(this.file.maxp.numGlyphs,e.readShort)}},glyphForfunction(t){switch(this.format){case 65536return e[t].notdef;case 131072var n=this.glyphNameIndex[t];return e.lengthne[n]this.names[n-e.length].notdef;case 151552case 196608return.notdef;case 262144return this.map[t]65535}},renderfunction(t){var n,i,r,o,a,s,l;if(196608==this.format)return this.raw();for(n=y(this.rawData.slice(this.offset,32)),n.writeLong(131072),n.offset(32),i=[],r=[],o=0;t.lengtho;++o)a=t[o],s=this.glyphFor(a),l=e.indexOf(s),l=0i.push(l)(i.push(e.length+r.length),r.push(s));for(n.writeShort(t.length),o=0;i.lengtho;++o)n.writeShort(i[o]);for(o=0;r.lengtho;++o)n.writeByte(r[o].length),n.writeString(r[o]);return n.get()}})}(),m=function(){function e(e,t){var n=this;n.platformID=e.readShort(),n.platformSpecificID=e.readShort(),n.offset=t+e.readLong(),e.saveExcursion(function(){var t,i,r,o,a,s,l,c,d,u,h,p,f;switch(e.offset(n.offset),n.format=e.readShort(),n.length=e.readShort(),n.language=e.readShort(),n.isUnicode=3==n.platformID&&1==n.platformSpecificID&&4==n.format0===n.platformID&&4==n.format,n.codeMap={},n.format){case 0for(t=0;256t;++t)n.codeMap[t]=e.readByte();break;case 4for(i=e.readShort()2,e.skip(6),r=e.times(i,e.readShort),e.skip(2),o=e.times(i,e.readShort),a=e.times(i,e.readShort_),s=e.times(i,e.readShort),l=(n.length+n.offset-e.offset())2,c=e.times(l,e.readShort),t=0;it;++t)for(d=o[t],u=r[t],h=d;u=h;++h)0===s[t]p=h+a[t](f=s[t]2-(i-t)+(h-d),p=c[f]0,0!==p&&(p+=a[t])),n.codeMap[h]=65535&p}})}function t(e,t){function i(n){return t[e[n]]}var r,o,a,s,l,c,d,u,h,p,f,g,m,v,_,w,b,k=n(e),x=[],C=[],S=null,T=null;for(r=0;k.lengthr;++r)o=k[r],a=i(o),s=a-o,(null==Ss!==T)&&(S&&C.push(S),x.push(o),T=s),S=o;for(S&&C.push(S),C.push(65535),x.push(65535),l=x.length,c=2l,d=2Math.pow(2,Math.floor(Math.log(l)Math.LN2)),u=Math.log(d2)Math.LN2,h=c-d,p=[],f=[],g=[],r=0;lr;++r){if(m=x[r],v=C[r],65535==m){p.push(0),f.push(0);break}if(_=i(m),m-_=32768)for(p.push(0),f.push(2(g.length+l-r)),w=m;v=w;++w)g.push(i(w));else p.push(_-m),f.push(0)}return b=y(),b.writeShort(3),b.writeShort(1),b.writeLong(12),b.writeShort(4),b.writeShort(16+8l+2g.length),b.writeShort(0),b.writeShort(c),b.writeShort(d),b.writeShort(u),b.writeShort(h),C.forEach(b.writeShort),b.writeShort(0),x.forEach(b.writeShort),p.forEach(b.writeShort_),f.forEach(b.writeShort),g.forEach(b.writeShort),b.get()}return r({parsefunction(t){var n,i=this,r=i.offset;t.offset(r),i.version=t.readShort(),n=t.readShort(),i.unicodeEntry=null,i.tables=t.times(n,function(){var n=new e(t,r);return n.isUnicode&&(i.unicodeEntry=n),n})},renderfunction(e,n){var i=y();return i.writeShort(0),i.writeShort(1),i.write(t(e,n)),i.get()},getUnicodeEntryfunction(){if(!this.unicodeEntry)throw Error(Font doesn't have an Unicode encoding);return this.unicodeEntry}})}(),v=r({parsefunction(e){e.offset(this.offset),this.version=e.readShort(),this.averageCharWidth=e.readShort_(),this.weightClass=e.readShort(),this.widthClass=e.readShort(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort_(),this.ySubscriptYSize=e.readShort_(),this.ySubscriptXOffset=e.readShort_(),this.ySubscriptYOffset=e.readShort_(),this.ySuperscriptXSize=e.readShort_(),this.ySuperscriptYSize=e.readShort_(),this.ySuperscriptXOffset=e.readShort_(),this.ySuperscriptYOffset=e.readShort_(),this.yStrikeoutSize=e.readShort_(),this.yStrikeoutPosition=e.readShort_(),this.familyClass=e.readShort_(),this.panose=e.times(10,e.readByte),this.charRange=e.times(4,e.readLong),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version0&&(this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=e.times(2,e.readLong),this.version1&&(this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()))},renderfunction(){return this.raw()}}),_=1e5,a.prototype={usefunction(e){var t,n,i,r,o;if(string==typeof e){for(n=,i=0;e.lengthi;++i)t=this.use(e.charCodeAt(i)),n+=String.fromCharCode(t);return n}return t=this.unicodes[e],t(t=this.next++,this.subset[t]=e,this.unicodes[e]=t,r=this.font.cmap.getUnicodeEntry().codeMap[e],r&&(this.ncid2ogid[t]=r,null==this.ogid2ngid[r]&&(o=this.nextGid++,this.ogid2ngid[r]=o,this.ngid2ogid[o]=r))),t},encodeTextfunction(e){return this.use(e)},glyphIdsfunction(){return n(this.ogid2ngid)},glyphsForfunction(e,t){var n,i,r;for(t(t={}),n=0;e.lengthn;++n)i=e[n],t[i](r=t[i]=this.font.glyf.glyphFor(i),r&&r.compound&&this.glyphsFor(r.glyphIds,t));return t},renderfunction(){var e,i,r,o,a,s,l,c,d=this.glyphsFor(this.glyphIds());for(e in d)t(d,e)&&(e=parseInt(e,10),null==this.ogid2ngid[e]&&(i=this.nextGid++,this.ogid2ngid[e]=i,this.ngid2ogid[i]=e));return r=n(this.ngid2ogid),o=r.map(function(e){return this.ngid2ogid[e]},this),a=this.font,s=a.glyf.render(d,o,this.ogid2ngid),l=a.loca.render(s.offsets),this.lastChar=this.next-1,c={cmapm.render(this.ncid2ogid,this.ogid2ngid),glyfs.table,local.table,hmtxa.hmtx.render(o),hheaa.hhea.render(o),maxpa.maxp.render(o),posta.post.render(o),namea.name.render(this.psName),heada.head.render(l.format),OS2a.os2.render()},this.font.directory.render(c)},cidToGidMapfunction(){var e,t,n,i=y(),r=0;for(e=this.firstChar;this.nexte;++e){for(;er;)i.writeShort(0),r++;t=this.ncid2ogid[e],t(n=this.ogid2ngid[t],i.writeShort(n))i.writeShort(0),r++}return i.get()}},s.prototype={parsefunction(){var e=this.directory=new i(this.contents);this.head=e.readTable(head,l),this.loca=e.readTable(loca,c),this.hhea=e.readTable(hhea,d),this.maxp=e.readTable(maxp,u),this.hmtx=e.readTable(hmtx,h),this.glyf=e.readTable(glyf,p),this.name=e.readTable(name,f),this.post=e.readTable(post,g),this.cmap=e.readTable(cmap,m),this.os2=e.readTable(OS2,v),this.psName=this.name.postscriptName,this.ascent=this.os2.ascentthis.hhea.ascent,this.descent=this.os2.descentthis.hhea.descent,this.lineGap=this.os2.lineGapthis.hhea.lineGap,this.scale=1e3this.head.unitsPerEm},widthOfGlyphfunction(e){return this.hmtx.forGlyph(e).advancethis.scale},makeSubsetfunction(){return new a(this)}},w.TTFFont=s}(window),function(e,t){use strict;function n(t,n){function i(e,t,n){return n(n=d),n.pdf&&null!=n.pdf[e]n.pdf[e]t}function r(){function r(e){var t,n,r,o,l,c=e.options,d=S(e),u=d.bbox;e=d.root,t=i(paperSize,i(paperSize,auto),c),n=!1,auto==t&&(u(r=u.getSize(),t=[r.width,r.height],n=!0,o=u.getOrigin(),d=new T.Group,d.transform(new D.Matrix(1,0,0,1,-o.x,-o.y)),d.append(e),e=d)t=A4),l=a.addPage({paperSizet,margini(margin,i(margin),c),addMarginn,landscapei(landscape,i(landscape,!1),c)}),s(e,l,a)}if(!(--o0)){var a=new e.pdf.Document({produceri(producer),titlei(title),authori(author),subjecti(subject),keywordsi(keywords),creatori(creator),datei(date)});ut.children.forEach(r)r(t),n(a.render(),a)}}var o,l=[],c=[],d=t.options,u=i(multiPage);t.traverse(function(t){a({Imagefunction(e){c.indexOf(e.src())0&&c.push(e.src())},Textfunction(t){var n=e.pdf.parseFontDef(t.options.font),i=e.pdf.getFontURL(n);l.indexOf(i)0&&l.push(i)}},t)}),o=2,e.pdf.loadFonts(l,r),e.pdf.loadImages(c,r)}function i(e,t){n(e,function(e){t(dataapplicationpdf;base64,+e.base64())})}function r(e,t){n(e,function(e){t(new Blob([e.get()],{typeapplicationpdf}))})}function o(t,n,o,a){window.Blob&&!e.support.browser.safarir(t,function(t){e.saveAs({dataURIt,fileNamen}),a&&a(t)})i(t,function(t){e.saveAs({dataURIt,fileNamen,proxyURLo}),a&&a(t)})}function a(e,t){var n=e[t.nodeType];return nn.call.apply(n,arguments)t}function s(e,t,n){var i,r,o;e.options._pdfDebug&&t.comment(BEGIN +e.options._pdfDebug),i=e.transform(),r=e.opacity(),t.save(),null!=r&&1r&&t.setOpacity(r),l(e,t,n),c(e,t,n),d(e,t,n),i&&(o=i.matrix(),t.transform(o.a,o.b,o.c,o.d,o.e,o.f)),a({Pathm,MultiPathv,Circle_,Arcw,Texty,Imagek,Groupb},e,t,n),t.restore(),e.options._pdfDebug&&t.comment(END +e.options._pdfDebug)}function l(e,t){var n,i,r,o,a,s,l=e.stroke&&e.stroke();if(l){if(n=l.color){if(n=C(n),null==n)return;t.setStrokeColor(n.r,n.g,n.b),1!=n.a&&t.setStrokeOpacity(n.a)}if(i=l.width,null!=i){if(0===i)return;t.setLineWidth(i)}r=l.dashType,r&&t.setDashPattern(E[r],0),o=l.lineCap,o&&t.setLineCap(I[o]),a=l.lineJoin,a&&t.setLineJoin(M[a]),s=l.opacity,null!=s&&t.setStrokeOpacity(s)}}function c(e,t){var n,i,r=e.fill&&e.fill();if(r&&!(r instanceof T.Gradient)){if(n=r.color){if(n=C(n),null==n)return;t.setFillColor(n.r,n.g,n.b),1!=n.a&&t.setFillOpacity(n.a)}i=r.opacity,null!=i&&t.setFillOpacity(i)}}function d(e,t,n){var i=e.clip();i&&(g(i,t,n),t.clip())}function u(e){return e&&(e instanceof T.Gradiente.color&&!^(nonetransparent)$i.test(e.color)&&(null==e.widthe.width0)&&(null==e.opacitye.opacity0))}function h(e,t,n,i){var r,o,a,s,l,c,d,u=e.fill();return u instanceof T.Gradient(it.clipStroke()t.clip(),r=u instanceof T.RadialGradient,r(o={xu.center().x,yu.center().y,r0},a={xu.center().x,yu.center().y,ru.radius()})(o={xu.start().x,yu.start().y},a={xu.end().x,yu.end().y}),s={typerradiallinear,starto,enda,userSpaceu.userSpace(),stopsu.stops.elements().map(function(e){var t,n=e.offset();return n=%$.test(n)parseFloat(n)100parseFloat(n),t=C(e.color()),t.a=e.opacity(),{offsetn,colort}})},l=e.rawBBox(),c=l.topLeft(),d=l.getSize(),l={leftc.x,topc.y,widthd.width,heightd.height},t.gradient(s,l),!0)void 0}function p(e,t,n){u(e.fill())&&u(e.stroke())h(e,t,n,!0)t.fillStroke()u(e.fill())h(e,t,n,!1)t.fill()u(e.stroke())t.stroke()t.nop()}function f(e,t){var n,i,r,o=e.segments;if(4==o.length&&e.options.closed){for(n=[],i=0;o.lengthi;++i){if(o[i].controlIn())return!1;n[i]=o[i].anchor()}if(r=n[0].y==n[1].y&&n[1].x==n[2].x&&n[2].y==n[3].y&&n[3].x==n[0].xn[0].x==n[1].x&&n[1].y==n[2].y&&n[2].x==n[3].x&&n[3].y==n[0].y)return t.rect(n[0].x,n[0].y,n[2].x-n[0].x,n[2].y-n[0].y),!0}}function g(e,t,n){var i,r,o,a,s,l,c=e.segments;if(0!==c.length&&!f(e,t,n)){for(r=0;c.lengthr;++r)o=c[r],a=o.anchor(),i(s=i.controlOut(),l=o.controlIn(),s&&lt.bezier(s.x,s.y,l.x,l.y,a.x,a.y)t.lineTo(a.x,a.y))t.moveTo(a.x,a.y),i=o;e.options.closed&&t.close()}}function m(e,t,n){g(e,t,n),p(e,t,n)}function v(e,t,n){var i,r=e.paths;for(i=0;r.lengthi;++i)g(r[i],t,n);p(e,t,n)}function _(e,t,n){var i=e.geometry();t.circle(i.center.x,i.center.y,i.radius),p(e,t,n)}function w(e,t,n){var i,r=e.geometry().curvePoints();for(t.moveTo(r[0].x,r[0].y),i=1;r.lengthi;)t.bezier(r[i].x,r[i++].y,r[i].x,r[i++].y,r[i].x,r[i++].y);p(e,t,n)}function y(t,n){var i,r=e.pdf.parseFontDef(t.options.font),o=t._position;t.fill()&&t.stroke()i=A.fillAndStroket.fill()i=A.fillt.stroke()&&(i=A.stroke),n.transform(1,0,0,-1,o.x,o.y+r.fontSize),n.beginText(),n.setFont(e.pdf.getFontURL(r),r.fontSize),n.setTextRenderingMode(i),n.showText(t.content(),t._pdfRectt._pdfRect.width()null),n.endText()}function b(e,t,n){var i,r;for(e._pdfLink&&t.addLink(e._pdfLink.url,e._pdfLink),i=e.children,r=0;i.lengthr;++r)s(i[r],t,n)}function k(e,t){var n,i,r,o=e.src();o&&(n=e.rect(),i=n.getOrigin(),r=n.getSize(),t.transform(r.width,0,0,-r.height,i.x,i.y+r.height),t.drawImage(o))}function x(e,n){var i,r=t.Deferred();for(i in n)e.options.set(pdf.+i,n[i]);return T.pdf.toDataURL(e,r.resolve),r.promise()}function C(t){var n=e.parseColor(t,!0);return nn.toRGB()null}function S(e){function t(e){return l=!0,e}function n(e){return e.visible()&&e.opacity()0&&(u(e.fill())u(e.stroke()))}function i(e){var t,n,i=[];for(t=0;e.lengtht;++t)n=s(e[t]),null!=n&&i.push(n);return i}function r(e,t){var n,i=c,r=d;e.transform()&&(d=d.multiplyCopy(e.transform().matrix())),n=e.clip(),n&&(n=n.bbox(),n&&(n=n.bbox(d),c=cD.Rect.intersect(c,n)n));try{return t()}finally{c=i,d=r}}function o(e){if(null==c)return!1;var t=e.rawBBox().bbox(d);return c&&t&&(t=D.Rect.intersect(t,c)),t}function s(s){return r(s,function(){if(!(s instanceof T.Groups instanceof T.MultiPath)){var r=o(s);if(!r)return t(null);h=hD.Rect.union(h,r)r}return a({Pathfunction(e){return 0!==e.segments.length&&n(e)et(null)},MultiPathfunction(e){if(!n(e))return t(null);var r=new T.MultiPath(e.options);return r.paths=i(e.paths),0===r.paths.lengtht(null)r},Circlefunction(e){return n(e)et(null)},Arcfunction(e){return n(e)et(null)},Textfunction(e){returnS.test(e.content())&&n(e)et(null)},Imagefunction(e){return e.visible()&&e.opacity()0et(null)},Groupfunction(n){var r=new T.Group(n.options);return r.children=i(n.children),r._pdfLink=n._pdfLink,n===e0!==r.children.lengthn._pdfLinkrt(null)}},s)})}var l,c=!1,d=D.Matrix.unit(),h=null;do l=!1,e=s(e);while(e&&l);return{roote,bboxh}}var T=e.drawing,D=e.geometry,A=e.pdf.TEXT_RENDERING_MODE,E={dash[4],dashDot[4,2,1,2],dot[1,2],longDash[8,2],longDashDot[8,2,1,2],longDashDotDot[8,2,1,2,1,2],solid[]},I={butt0,round1,square2},M={miter0,round1,bevel2};e.deepExtend(T,{exportPDFx,pdf{toDataURLi,toBlobr,saveAso,toStreamn}})}(window.kendo,window.kendo.jQuery),function(e,t){e.PDFMixin={extendfunction(e){e.events.push(pdfExport),e.options.pdf=this.options,e.saveAsPDF=this.saveAsPDF,e._drawPDF=this._drawPDF,e._drawPDFShadow=this._drawPDFShadow},options{fileNameExport.pdf,proxyURL,paperSizeauto,allPages!1,landscape!1,marginnull,titlenull,authornull,subjectnull,keywordsnull,creatorKendo UI PDF Generator,datenull},saveAsPDFfunction(){var n,i=new t.Deferred,r=i.promise(),o={promiser};if(!this.trigger(pdfExport,o))return n=this.options.pdf,n.multiPage=n.allPages,this._drawPDF(i).then(function(t){return e.drawing.exportPDF(t,n)}).done(function(t){e.saveAs({dataURIt,fileNamen.fileName,proxyURLn.proxyURL,forceProxyn.forceProxy}),i.resolve()}).fail(function(e){i.reject(e)}),r},_drawPDFfunction(){return e.drawing.drawDOM(this.wrapper)},_drawPDFShadowfunction(n){var i,r=this.wrapper,o=t(div class='k-pdf-export-shadow').css(width,r.width());return r.before(o),o.append(nr.clone(!0,!0)),i=e.drawing.drawDOM(o),i.always(function(){o.remove()}),i}}}(kendo,window.kendo.jQuery),function(e,t){function n(e){return Array(e+1).join('td class=k-group-cell&nbsp;td')}function i(e){var t,n= ;if(e){if(typeof e===un)return e;for(t in e)n+=t+'='+e[t]+''}return n}function r(t,n){e(th, th .k-grid-filter, th .k-link,t).add(document.body).css(cursor,n)}function o(t,n,i,r,o){var a,s=n;for(n=e(),o=o1,a=0;oa;a++)n=n.add(t.eq(s+a));number==typeof in[rinsertBeforeinsertAfter](t.eq(i))n.appendTo(i)}function a(t,n,i){return e(t).add(n).find(i)}function s(e,t,n){var i,r,o,a;for(n=St(n)n[n],i=0,r=n.length;ri;i++)o=n[i],bt(o)&&o.click&&(a=o.nameo.text,t.on(sn+Ot,a.k-grid-+(a).replace(sg,),{commandNamea},At(o.click,e)))}function l(e,t,n){return xt(e,function(e){e=typeof e===un{fielde}e;var i;return(!p(e)n)&&(e.attributes=W(e.attributes),e.footerAttributes=W(e.footerAttributes),e.headerAttributes=W(e.headerAttributes),i=!0),e.columns&&(e.columns=l(e.columns,t,i)),kt({encodedt,hiddeni},e)})}function c(e,t){var n=[];return d(e,t,n),n[n.length-1]}function d(e,t,n){var i,r;for(n=n[],i=0;t.lengthi;i++){if(e===t[i])return!0;if(t[i].columns){if(r=n.length,n.push(t[i]),d(e,t[i].columns,n))return!0;n.splice(r,n.length-r)}}return!1}function u(e,t){var n=tjW;e.hidden=!t,e.attributes=n(e.attributes),e.footerAttributes=n(e.footerAttributes),e.headerAttributes=n(e.headerAttributes)}function h(){returnnone!==this.style.display}function p(e){return f([e]).length0}function f(e){return Ct(e,function(e){var t=!e.hidden;return t&&e.columns&&(t=f(e.columns).length0),t})}function g(t){return e(t).map(function(){return this.toArray()})}function m(e,t,n){var i=w(z(t)),r=w(F(t)),o=e.rowSpan;e.rowSpan=niro-(i-r)1o+(r-i)iro+(i-r)o-(r-i)1}function v(t,n,i,r,o,a,s){var l,c,d=w(t),u=w([n]);du&&(l=Array(s+1).join('th class=k-group-cell k-header&nbsp;th'),c=a.children(not(.k-filter-row)),e(Array(d-u+1).join(tr+l+tr)).insertAfter(c.last())),I(a,d-u),y(i,r,o,a)}function _(t,n,i){var r,o,a,s,l,c,d,u;for(i=i0,a=n,n=L(n),s={},l=t.find(trnot(.k-filter-row)),c=function(){var t=e(this);return!t.hasClass(k-group-cell)&&!t.hasClass(k-hierarchy-cell)},d=0,u=n.length;ud;d++)r=b(n[d],a),s[r.row](s[r.row]=l.eq(r.row).find(.k-header).filter(c)),o=s[r.row].eq(r.cell),o.attr(pt.attr(index),i+d);return n.length}function w(e){var t,n,i=1,r=0;for(t=0;e.lengtht;t++)e[t].columns&&(n=w(e[t].columns),nr&&(r=n));return i+r}function y(t,n,i,r){var o,a,s=C(t[0],n),l=i.find(trnot(.k-filter-row)eq(+s.row+)th.k-header),c=e(),d=s.cell;for(o=0;t.lengtho;o++)c=c.add(l.eq(d+o));for(r.find(trnot(.k-filter-row)).eq(s.row).append(c),a=[],o=0;t.lengtho;o++)t[o].columns&&(a=a.concat(t[o].columns));a.length&&y(a,n,i,r)}function b(e,t,n,i){var r,o;for(n=n0,i=i{},i[n]=i[n]0,o=0;t.lengtho;o++){if(t[o]==e){r={celli[n],rown};break}if(t[o].columns&&(r=b(e,t[o].columns,n+1,i)))break;i[n]++}return r}function k(e,t,n,i){var r,o=n.locked;do r=e[t],t+=i1-1;while(r&&t-1&&e.lengtht&&r!=n&&!r.columns&&r.locked==o);return r}function x(e,t,n,i){var r,o,a,s;return t.columns(t=t.columns,t[i0t.length-1])(r=c(t,e),o=rr.columnse,a=Tt(t,o),0===a&&ia++a!=o.length-1i(a00===a&&!i)&&(a+=i-11)a--,s=Tt(n,o),t=k(o,a,n,sa),t&&t!=n&&t.columnsx(e,t,n,i)null)}function C(e,t,n,i){var r,o;for(n=n0,i=i{},i[n]=i[n]0,o=0;t.lengtho;o++){if(t[o]==e){r={celli[n],rown};break}if(t[o].columns&&(r=C(e,t[o].columns,n+1,i)))break;t[o].hiddeni[n]++}return r}function S(e){var t=T(z(e));return t.concat(T(F(e)))}function T(e){var t,n=[],i=[];for(t=0;e.lengtht;t++)n.push(e[t]),e[t].columns&&(i=i.concat(e[t].columns));return i.length&&(n=n.concat(T(i))),n}function D(e){var t,n,i=0;for(n=0;e.lengthn;n++)t=e[n],t.columnsi+=D(t.columns)t.hidden&&i++;return i}function A(e){var t,n,i,r=0;for(n=0,i=e.length;in;n++)t=e[n].style.width,t&&-1==t.indexOf(%)&&(r+=parseInt(t,10));return r}function E(e,t){var n,i,r=e.find(trnot(.k-filter-row) thnot(.k-group-cell,.k-hierarchy-cell));for(i=0;r.lengthi;i++)n=r[i].rowSpan,n1&&(r[i].rowSpan=n-t1)}function I(e,t){var n,i=e.find(trnot(.k-filter-row) thnot(.k-group-cell,.k-hierarchy-cell));for(n=0;i.lengthn;n++)i[n].rowSpan+=t}function M(t){var n,i=t.find(trnot(.k-filter-row)),r=i.filter(function(){return!e(this).children().length}).remove().length,o=i.find(thnot(.k-group-cell,.k-hierarchy-cell));for(n=0;o.lengthn;n++)o[n].rowSpan1&&(o[n].rowSpan-=r);return i.length-r}function P(e,t,n,i,r){var o,a,s,l=[];for(o=0,s=e.length;so;o++)a=n[i][],a.push(t.eq(r+o)),n[i]=a,e[o].columns&&(l=l.concat(e[o].columns));l.length&&P(l,t,n,i+1,r+e.length)}function z(e){return Ct(e,function(e){return e.locked})}function F(e){return Ct(e,function(e){return!e.locked})}function R(e){return Ct(e,function(e){return!e.locked&&p(e)})}function B(e){return Ct(e,function(e){return e.locked&&p(e)})}function H(e){var t,n=[];for(t=0;e.lengtht;t++)e[t].hidden(e[t].columnsn=n.concat(H(e[t].columns))n.push(e[t]));return n}function L(e){var t,n=[];for(t=0;e.lengtht;t++)e[t].columnsn=n.concat(L(e[t].columns))n.push(e[t]);return n}function N(n){var i,r=n.find(trnot(.k-filter-row)),o=function(){var t=e(this);return!t.hasClass(k-group-cell)&&!t.hasClass(k-hierarchy-cell)},a=e();return r.length1&&(a=r.find(th).filter(o).filter(function(){return this.rowSpan1})),a=a.add(r.last().find(th).filter(o)),i=pt.attr(index),a.sort(function(n,r){var o,a;return n=e(n),r=e(r),o=n.attr(i),a=r.attr(i),o===t&&(o=e(n).index()),a===t&&(a=e(r).index()),o=parseInt(o,10),a=parseInt(a,10),oa1ao-10}),a}function O(t){var n,i,r,o,a,s,l,c=t.closest(table),d=e().add(t),u=t.closest(tr),h=c.find(trnot(.k-filter-row)),p=h.index(u);if(p0){for(n=h.eq(p-1),i=n.find(thnot(.k-group-cell,.k-hierarchy-cell)).filter(function(){return!e(this).attr(rowspan)}),r=0,o=u.find(thnot(.k-group-cell,.k-hierarchy-cell)).index(t),a=t.prevAll(not(.k-group-cell,.k-hierarchy-cell)).filter(function(){return this.colSpan1}),s=0;a.lengths;s++)r+=a[s].colSpan1;for(o+=Math.max(r-1,0),r=0,s=0;i.lengths;s++)if(l=i.eq(s),r+=l.attr(colSpan)l[0].colSpan1,o=s&&ro){d=O(l).add(d);break}}return d}function V(t){var n,i,r,o,a,s,l,c,d=t.closest(table),u=e().add(t),h=t.closest(tr),p=d.find(trnot(.k-filter-row)),f=p.index(h)+t[0].rowSpan,g=pt.attr(colspan);if(p.length-1=f){for(n=h.next(),i=h.find(thnot(.k-group-cell,.k-hierarchy-cell)).index(t),r=t.prevAll(not(.k-group-cell,.k-hierarchy-cell)),r=r.filter(function(){return!this.rowSpan1===this.rowSpan}),a=0,o=0;r.lengtho;o++)a+=parseInt(r.eq(o).attr(g),10)1;for(s=n.find(thnot(.k-group-cell,.k-hierarchy-cell)),l=parseInt(t.attr(g),10)1,o=0;lo;)n=s.eq(o+a),u=u.add(V(n)),c=parseInt(n.attr(g),10),c1&&(l-=c-1),o++}return u}function U(t,n,i){var r,o=t;return vtt[0].innerHTML=i(r=document.createElement(div),r.innerHTML=tabletbody+i+tbodytable,t=r.firstChild.firstChild,n[0].replaceChild(t,o[0]),t=e(t)),t}function W(e){e=e{};var t=e.style;return t(t=t.replace(((.)display)(.)([^;])i,$1none),t===e.style&&(t=t.replace((.)i,displaynone;$1)))t=displaynone,kt({},e,{stylet})}function j(e){e=e{};var t=e.style;return t&&(e.style=t.replace((displayssnones;)gi,)),e}function G(t,n,i,r){var o,a=t.find(colgroup),s=xt(n,function(e){return o=e.width,o&&0!==parseInt(o,10)pt.format('col style=width{0}',typeof o===unoo+px)col });(ia.find(.k-hierarchy-col).length)&&s.splice(0,0,'col class=k-hierarchy-col '),a.length&&a.remove(),a=e(Array(r+1).join('col class=k-group-col')+s.join()),a.is(colgroup)(a=e(colgroup).append(a)),t.prepend(a),kn.msie&&8==kn.version&&(t.css(display,inline-table),window.setTimeout(function(){t.css(display,)},1))}function q(e,t){var n,i,r=0;for(n=0,i=t.length;in;n++)t[n].locked&&(e.eq(n).insertBefore(e.eq(r)),r++)}function $(e){var t,n,i,r={};for(n=0,i=e.length;in;n++)t=e[n],r[t.value]=t.text;return r}function Y(e,t,n){var i=n&&n.length&&bt(n[0])&&valuein n[0],r=i$(n)[e]e;return r=null!=rr,tpt.format(t,r)r}function Q(e,t,n){for(var i,r=0,o=e[r];o;){if(i=n!0none!==o.style.display,i&&!_n.test(o.className)&&--t0){o.style.display=nnone;break}o=e[++r]}}function K(t,n){for(var i,r,o=0,a=t.length;ao;o+=1)r=t.eq(o),r.is(.k-grouping-row,.k-detail-row)(i=r.children(not(.k-group-cell)first,.k-detail-cell).last(),i.attr(colspan,parseInt(i.attr(colspan),10)-1))(r.hasClass(k-grid-edit-row)&&(i=r.children(.k-edit-container)[0])&&(i=e(i),i.attr(colspan,parseInt(i.attr(colspan),10)-1),i.find(col).eq(n).remove(),r=i.find(trfirst)),Q(r[0].cells,n,!1))}function X(e){var t,n,i=[];for(n=0;e.lengthn&&(t=e[n],fieldin t&&valuein t&&itemsin t);n++)i.push(t),t.hasSubgroups&&(i=i.concat(X(t.items)));return i}function Z(t,n){for(var i,r,o,a=0,s=t.length;sa;a+=1)r=t.eq(a),r.is(.k-grouping-row,.k-detail-row)(i=r.children(not(.k-group-cell)first,.k-detail-cell).last(),i.attr(colspan,parseInt(i.attr(colspan),10)+1))(r.hasClass(k-grid-edit-row)&&(i=r.children(.k-edit-container)[0])&&(i=e(i),i.attr(colspan,parseInt(i.attr(colspan),10)+1),G(i.find(formtable),f(o),!1,0),r=i.find(trfirst)),Q(r[0].cells,n,!0))}function J(e,t,n){n=n1;var i,r,o;for(r=0,o=e.length;or;r++)i=e.eq(r).children().last(),i.attr(colspan,parseInt(i.attr(colspan),10)+n),i=t.eq(r).children().last(),i.attr(colspan,parseInt(i.attr(colspan),10)-n)}function et(e){var t,n,i=0,r=e.find(colgroupcol);for(t=0,n=r.length;nt;t+=1)i+=parseInt(r[t].style.width,10);return i}function tt(e,t){var n,i,r,o;e=e[0],t=t[0],e.rows.length!==t.rows.length&&(n=e.offsetHeight,i=t.offsetHeight,ni(r=t.rows[t.rows.length-1],wn.test(r.className)&&(r=t.rows[t.rows.length-2]),o=n-i)(r=e.rows[e.rows.length-1],wn.test(r.className)&&(r=e.rows[e.rows.length-2]),o=i-n),r.style.height=r.offsetHeight+o+px)}function nt(e,t){var n,i=e.offsetHeight,r=t.offsetHeight;irn=i+pxri&&(n=r+px),n&&(e.style.height=t.style.height=n)}function it(e,t){var n,i,r;if(typeof e===un&&e===t)return e;if(bt(e)&&e.name===t)return e;if(St(e))for(n=0,i=e.length;in;n++)if(r=e[n],typeof r===un&&r===tr.name===t)return r;return null}function rt(t,n){var i,r,o,a=kn.msie;if(n===!0){if(t=e(t),i=!0,i&&(r=t.parent().scrollTop(),o=t.parent().scrollLeft()),a)try{t[0].setActive()}catch(s){t[0].focus()}else t[0].focus();i&&(t.parent().scrollTop(r),t.parent().scrollLeft(o))}else e(t).one(focusin,function(e){e.preventDefault()}).focus()}function ot(n){var i=e(n.currentTarget),r=i.is(th),o=this.table.add(this.lockedTable),a=this.thead.parent().add(e(table,this.lockedHeader)),s=e(n.target).is(button,a,input,a.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap),l=i.closest(table)[0];if(!pt.support.touch)return s&&i.find(pt.roleSelector(filtercell)).length(this.current(i),t)((l===o[0]l===o[1]l===a[0]l===a[1])&&(e(n.target).is(a.k-i-collapse, a.k-i-expand)(this.options.navigatable&&this.current(i),(r!s)&&setTimeout(function(){Cn&&e(pt._activeElement()).hasClass(k-widget)rt(l,!0)}),r&&n.preventDefault())),t)}function at(t,n,i,r){if(t=e(t),r){var o=n;n=i,i=o}return n.not(t).length!=n.lengthtn.eq(t[0]==i[0]01)}function st(e,n,i,r,o,a){var s,l,c,d=oprevAllnextAll;if(e){if(s=e.parent()[d](Bt).first(),!s[0]&&(oe.is(th))!o&&e[0].rowSpan1){if(n=at(n,i,r,o),rt(n,!0),o&&!e.is(.k-header))return N(n.find(theadfirst)).eq(e.index());s=n.find((otheadtbody)+Bt).first()}!o&&e[0].colSpan1&&e.is(.k-header)e=V(e).eq(1)e.is(.k-header)&&o(c=O(e),e=c.eq(c.length-2))(l=e.attr(pt.attr(index)),l===tol=e.index()n.parent().prev().hasClass(k-grid-content-locked)&&(l-=a),e=s.children().eq(l)),e[0]&&e.is(Ht)(e=s.children(Ht).first())}else e=i.find(Lt);return e}function lt(e,t,n,i,r){var o=n.length1;return ee.prevAll(visible)[0]e=e.prevAll(Ft).first()o&&(t==n[1](rt(n[0]),e=r(e.parent()).children(Ft).last())t==i[1]&&(rt(i[0]),e=i.eq(0).find(tr+Ft).last()))e=n.find(Lt),e}function ct(e,t,n,i,r){var o=n.length1;return ee.nextAll(visible)[0]e=e.nextAll(Ft).first()o&&(t==n[0](rt(n[1]),e=r(e.parent()).children(Ft).first())t==i[0]&&(rt(i[1]),e=i.eq(1).find(tr+Ft).first()))e=n.find(Lt),e}function dt(e,t,n,i,r){var o=2==n.length,a=!0,s=re.prevAll(Ft+first)e.nextAll(visiblefirst);return s.length(s=e.parent(),o&&(a=r&&t==n[0]!r&&t==n[1],s=i(s)),a&&(s=s[rprevAllnextAll](trnot(.k-grouping-row)not(.k-detail-row)visiblefirst)),s=s.children(Ft+(rlastfirst))),s}function ut(e,t,i){return'tr class=k-grouping-row'+n(t)+'td colspan='+e+' aria-expanded=truep class=k-reseta class=k-icon k-i-collapse href=# tabindex=-1a'+i+ptdtr}function ht(e){return'tr class=k-grouping-rowtd colspan='+e+' aria-expanded=truep class=k-reset&nbsp;ptdtr'}var pt=window.kendo,ft=pt.ui,gt=pt.data.DataSource,mt=ft.Groupable,vt=pt.support.tbodyInnerHtml,_t=pt._activeElement,wt=ft.Widget,yt=pt.keys,bt=e.isPlainObject,kt=e.extend,xt=e.map,Ct=e.grep,St=e.isArray,Tt=e.inArray,Dt=Array.prototype.push,At=e.proxy,Et=pt.isFunction,It=e.isEmptyObject,Mt=Math,Pt=progress,zt=error,Ft=not(.k-group-cell)not(.k-hierarchy-cell)visible,Rt=tbodytrnot(.k-grouping-row)not(.k-detail-row)not(.k-group-footer)  tdnot(.k-group-cell)not(.k-hierarchy-cell),Bt=trnot(.k-footer-template)visible,Ht=not(.k-group-cell)not(.k-hierarchy-cell)visible,Lt=Bt+first+Ht+first,Nt=th.k-headernot(.k-group-cell)not(.k-hierarchy-cell),Ot=.kendoGrid,Vt=edit,Ut=save,Wt=remove,jt=detailInit,Gt=filterMenuInit,qt=columnMenuInit,$t=change,Yt=columnHide,Qt=columnShow,Kt=saveChanges,Xt=dataBound,Zt=detailExpand,Jt=detailCollapse,en=k-state-focused,tn=k-state-selected,nn=columnResize,rn=columnReorder,on=columnLock,an=columnUnlock,sn=click,ln=height,cn=tabIndex,dn=function,un=string,hn=Are you sure you want to delete this record,pn=Delete,fn=Cancel,gn=(}#)gi,mn=#gi,vn=[x20trnf],_n=RegExp((^+vn+)(k-group-cellk-hierarchy-cell)(+vn+$)),wn=RegExp((^+vn+)(k-filter-row)(+vn+$)),yn='a class=k-button k-button-icontext #=className# #=attr# href=#span class=#=iconClass# #=imageClass#span#=text#a',bn=!1,kn=pt.support.browser,xn=kn.msie&&7==kn.version,Cn=kn.msie&&8==kn.version,Sn=wt.extend({initfunction(e,t){var n=this;
wt.fn.init.call(n,e,t),n._refreshHandler=At(n.refresh,n),n.setDataSource(t.dataSource),n.wrap()},setDataSourcefunction(e){var t=this;t.dataSource&&t.dataSource.unbind($t,t._refreshHandler),t.dataSource=e,t.dataSource.bind($t,t._refreshHandler)},options{nameVirtualScrollable,itemHeighte.noop,prefetch!0},destroyfunction(){var e=this;wt.fn.destroy.call(e),e.dataSource.unbind($t,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(Ot),e.drag&&(e.drag.destroy(),e.drag=null),e.wrapper=e.element=e.verticalScrollbar=null,e._refreshHandler=null},wrapfunction(){var t,n=this,i=pt.support.scrollbar()+1,r=n.element;r.css({widthauto,overflowhidden}).css(bnpadding-leftpadding-right,i),n.content=r.children().first(),t=n.wrapper=n.content.wrap('div class=k-virtual-scrollable-wrap').parent().bind(DOMMouseScroll+Ot+ mousewheel+Ot,At(n._wheelScroll,n)),pt.support.kineticScrollNeeded&&(n.drag=new pt.UserEvents(n.wrapper,{global!0,startfunction(e){e.sender.capture()},movefunction(e){n.verticalScrollbar.scrollTop(n.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),n.verticalScrollbar=e('div class=k-scrollbar k-scrollbar-vertical ').css({widthi}).appendTo(r).bind(scroll+Ot,At(n._scroll,n))},_wheelScrollfunction(t){if(!t.ctrlKey){var n=this.verticalScrollbar.scrollTop(),i=pt.wheelDeltaY(t);i&&(t.preventDefault(),e(t.currentTarget).one(wheel+Ot,!1),this.verticalScrollbar.scrollTop(n+-i))}},_scrollfunction(e){var t=this,n=!t.options.prefetch,i=e.currentTarget.scrollTop,r=t.dataSource,o=t.itemHeight,a=r.skip()0,s=t._rangeStarta,l=t.element.innerHeight(),c=!!(t._scrollbarTop&&t._scrollbarTopi),d=Mt.max(Mt.floor(io),0),u=Mt.max(d+Mt.floor(lo),0);t._scrollTop=i-so,t._scrollbarTop=i,t._scrolling=n,t._fetch(d,u,c)(t.wrapper[0].scrollTop=t._scrollTop),n&&(t._scrollingTimeout&&clearTimeout(t._scrollingTimeout),t._scrollingTimeout=setTimeout(function(){t._scrolling=!1,t._page(t._rangeStart,t.dataSource.take())},100))},_fetchfunction(e,t,n){var i=this,r=i.dataSource,o=i.itemHeight,a=r.take(),s=i._rangeStartr.skip()0,l=Mt.floor(ea)a,c=!1,d=.33;return se(c=!0,s=Mt.max(0,t-a),i._scrollTop=(e-s)o,i._page(s,a))t=s+a&&!n(c=!0,s=e,i._scrollTop=o,i._page(s,a))!i._fetching&&i.options.prefetch&&(l+a-ade&&ea&&r.prefetch(l-a,a),tl+ad&&r.prefetch(l+a,a)),c},_pagefunction(e,t){var n=this,i=!n.options.prefetch,r=n.dataSource;clearTimeout(n._timeout),n._fetching=!0,n._rangeStart=e,r.inRange(e,t)r.range(e,t)(ipt.ui.progress(n.wrapper.parent(),!0),n._timeout=setTimeout(function(){n._scrolling(i&&pt.ui.progress(n.wrapper.parent(),!0),r.range(e,t))},100))},repaintScrollbarfunction(){var e,t=this,n=,i=25e4,r=t.dataSource,o=pt.support.kineticScrollNeeded0pt.support.scrollbar(),a=t.wrapper[0],s=t.itemHeight=t.options.itemHeight()0,l=a.scrollWidtha.offsetWidtho0,c=r.total()s+l;for(e=0;eMt.floor(ci);e++)n+='div style=width1px;height'+i+'pxdiv';c%i&&(n+='div style=width1px;height'+c%i+'pxdiv'),t.verticalScrollbar.html(n),a.scrollTop=t._scrollTop},refreshfunction(){var e=this,t=e.dataSource,n=e._rangeStart;pt.ui.progress(e.wrapper.parent(),!1),clearTimeout(e._timeout),e.repaintScrollbar(),e.drag&&e.drag.cancel(),n&&!e._fetching&&(e._rangeStart=t.skip(),1===t.page()&&(e.verticalScrollbar[0].scrollTop=0)),e._fetching=!1}}),Tn={create{textAdd new record,imageClassk-add,classNamek-grid-add,iconClassk-icon},cancel{textCancel changes,imageClassk-cancel,classNamek-grid-cancel-changes,iconClassk-icon},save{textSave changes,imageClassk-update,classNamek-grid-save-changes,iconClassk-icon},destroy{textDelete,imageClassk-delete,classNamek-grid-delete,iconClassk-icon},edit{textEdit,imageClassk-edit,classNamek-grid-edit,iconClassk-icon},update{textUpdate,imageClassk-update,classNamek-primary k-grid-update,iconClassk-icon},canceledit{textCancel,imageClassk-cancel,classNamek-grid-cancel,iconClassk-icon},excel{textExport to Excel,imageClassk-i-excel,classNamek-grid-excel,iconClassk-icon},pdf{textExport to PDF,imageClassk-i-pdf,classNamek-grid-pdf,iconClassk-icon}},Dn=pt.ui.DataBoundWidget.extend({initfunction(t,n,i){var r=this;n=St(n){dataSourcen}n,wt.fn.init.call(r,t,n),i&&(r._events=i),bn=pt.support.isRtl(t),r._element(),r._aria(),r._columns(r.options.columns),r._dataSource(),r._tbody(),r._pageable(),r._thead(),r._groupable(),r._toolbar(),r._setContentHeight(),r._templates(),r._navigatable(),r._selectable(),r._clipboard(),r._details(),r._editable(),r._attachCustomCommandsEvent(),r._minScreenSupport(),r.options.autoBindr.dataSource.fetch()r._footer(),r.lockedContent&&(r.wrapper.addClass(k-grid-lockedcolumns),r._resizeHandler=function(){r.resize()},e(window).on(resize+Ot,r._resizeHandler)),pt.notify(r)},events[$t,dataBinding,cancel,Xt,Zt,Jt,jt,Gt,qt,Vt,Ut,Wt,Kt,nn,rn,Qt,Yt,on,an],setDataSourcefunction(e){var t=this,n=t.options.scrollable;t.options.dataSource=e,t._dataSource(),t._pageable(),t._thead(),n&&(n.virtualt.content.find(.k-virtual-scrollable-wrap).scrollLeft(0)t.content.scrollLeft(0)),t.options.groupable&&t._groupable(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.navigatable&&t._navigatable(),t.options.selectable&&t._selectable(),t.options.autoBind&&e.fetch()},options{nameGrid,columns[],toolbarnull,autoBind!0,filterable!1,scrollable!0,sortable!1,selectable!1,allowCopy!1,navigatable!1,pageable!1,editable!1,groupable!1,rowTemplate,altRowTemplate,dataSource{},heightnull,resizable!1,reorderable!1,columnMenu!1,detailTemplatenull,columnResizeHandleWidth3,mobile,messages{editable{cancelDeletefn,confirmationhn,confirmDeletepn},commands{createTn.create.text,cancelTn.cancel.text,saveTn.save.text,destroyTn.destroy.text,editTn.edit.text,updateTn.update.text,canceleditTn.canceledit.text,excelTn.excel.text,pdfTn.pdf.text}}},destroyfunction(){var t,n=this;n._destroyColumnAttachments(),wt.fn.destroy.call(n),n._resizeHandler&&e(window).off(resize+Ot,n._resizeHandler),n.pager&&n.pager.element&&n.pager.destroy(),n.pager=null,n.groupable&&n.groupable.element&&n.groupable.element.kendoGroupable(destroy),n.groupable=null,n.options.reorderable&&n.wrapper.data(kendoReorderable).destroy(),n.selectable&&n.selectable.element&&(n.selectable.destroy(),n.clearArea(),n.copyHandler&&(n.wrapper.off(keydown,n.copyHandler),n.unbind(n.copyHandler)),n.updateClipBoardState&&(n.unbind(n.updateClipBoardState),n.updateClipBoardState=null),n.clearAreaHandler&&n.wrapper.off(keyup,n.clearAreaHandler)),n.selectable=null,n.resizable&&(n.resizable.destroy(),n._resizeUserEvents&&(n._resizeHandleDocumentClickHandler&&e(document).off(click,n._resizeHandleDocumentClickHandler),n._resizeUserEvents.destroy(),n._resizeUserEvents=null),n.resizable=null),n.virtualScrollable&&n.virtualScrollable.element&&n.virtualScrollable.destroy(),n.virtualScrollable=null,n._destroyEditable(),n.dataSource&&(n.dataSource.unbind($t,n._refreshHandler).unbind(Pt,n._progressHandler).unbind(zt,n._errorHandler),n._refreshHandler=n._progressHandler=n._errorHandler=null),t=n.element.add(n.wrapper).add(n.table).add(n.thead).add(n.wrapper.find(.k-grid-toolbar)),n.content&&(t=t.add(n.content).add(n.content.find(.k-virtual-scrollable-wrap))),n.lockedHeader&&n._removeLockedContainers(),n.pane&&n.pane.destroy(),n.minScreenResizeHandler&&e(window).off(resize,n.minScreenResizeHandler),n._draggableInstance&&n._draggableInstance.element&&n._draggableInstance.destroy(),n._draggableInstance=null,t.off(Ot),pt.destroy(n.wrapper),n.rowTemplate=n.altRowTemplate=n.lockedRowTemplate=n.lockedAltRowTemplate=n.detailTemplate=n.footerTemplate=n.groupFooterTemplate=n.lockedGroupFooterTemplate=null,n.scrollables=n.thead=n.tbody=n.element=n.table=n.content=n.footer=n.wrapper=n._groupableClickHandler=n._setContentWidthHandler=null},getOptionsfunction(){var n,i,r,o=this.options;return o.dataSource=null,n=kt(!0,{},this.options),n.columns=pt.deepExtend([],this.columns),i=this.dataSource,r=i.options.data&&i._data,i.options.data=null,n.dataSource=e.extend(!0,{},i.options),n.dataSource.data=r,n.dataSource.page=i.page(),n.dataSource.filter=i.filter(),n.dataSource.pageSize=i.pageSize(),n.dataSource.sort=i.sort(),n.dataSource.group=i.group(),n.dataSource.aggregate=i.aggregate(),n.dataSource.transport&&(n.dataSource.transport.dataSource=null),n.$angular=t,n},setOptionsfunction(e){var t,n,i,r,o=this.getOptions();pt.deepExtend(o,e),e.dataSource(o.dataSource=this.dataSource),t=this.wrapper,n=this._events,i=this.element,this.destroy(),this.options=null,this._isMobile&&(r=t.closest(pt.roleSelector(pane)).parent(),r.after(t),r.remove(),t.removeClass(k-grid-mobile)),t[0]!==i[0]&&(t.before(i),t.remove()),i.empty(),this.init(i,o,n),this._setEvents(o)},itemsfunction(){return this.lockedContentthis._items(this.tbody).add(this._items(this.lockedTable.children(tbody)))this._items(this.tbody)},_itemsfunction(t){return t.children().filter(function(){var t=e(this);return!t.hasClass(k-grouping-row)&&!t.hasClass(k-detail-row)&&!t.hasClass(k-group-footer)})},dataItemsfunction(){var e,t,n,i=pt.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(e=i.length,t=Array(2e),n=e;--n=0;)t[n]=t[n+e]=i[n];i=t}return i},_destroyColumnAttachmentsfunction(){var t=this;t.resizeHandle=null,t.thead&&(this.angular(cleanup,function(){return{elementst.thead.get()}}),t.thead.find(th).each(function(){var t=e(this),n=t.data(kendoFilterMenu),i=t.data(kendoColumnSorter),r=t.data(kendoColumnMenu);n&&n.destroy(),i&&i.destroy(),r&&r.destroy()}))},_attachCustomCommandsEventfunction(){var e,t,n,i=this,r=L(i.columns[]);for(t=0,n=r.length;nt;t++)e=r[t].command,e&&s(i,i.wrapper,e)},_ariafunction(){var e=this.element.attr(id)aria;e&&(this._cellId=e+_active_cell)},_elementfunction(){var t=this,n=t.element;n.is(table)(n=t.options.scrollablet.element.find( .k-grid-content  table)t.element.children(table),n.length(n=e(table ).appendTo(t.element))),xn&&n.attr(cellspacing,0),t.table=n.attr(role,t._hasDetails()treegridgrid),t._wrapper()},_createResizeHandlefunction(t,n){var i,r,o,a,s,l,c,d=this,u=d.options.columnResizeHandleWidth,h=d.options.scrollable,p=d.resizeHandle,f=this._groups();if(p&&d.lockedContent&&p.data(th)[0]!==n[0]&&(p.off(Ot).remove(),p=null),p(p=d.resizeHandle=e('div class=k-resize-handlediv class=k-resize-handle-innerdivdiv'),t.append(p)),bn)i=n.position().left,h&&(a=n.closest(.k-grid-header-wrap, .k-grid-header-locked),s=kn.msiea.scrollLeft()0,l=kn.webkita[0].scrollWidth-a[0].offsetWidth-a.scrollLeft()0,c=kn.mozillaa[0].scrollWidth-a[0].offsetWidth-(a[0].scrollWidth-a[0].offsetWidth-a.scrollLeft())0,i-=l-c+s);else{for(i=n[0].offsetWidth,r=N(n.closest(thead)),o=0;r.lengtho&&r[o]!=n[0];o++)i+=r[o].offsetWidth;f0&&(i+=t.find(.k-group-cellfirst).outerWidth()f),d._hasDetails()&&(i+=t.find(.k-hierarchy-cellfirst).outerWidth())}p.css({topn.position().top,lefti-u,heightn.outerHeight(),width3u}).data(th,n).show(),p.off(dblclick+Ot).on(dblclick+Ot,function(){d._autoFitLeafColumn(n.data(index))})},_positionColumnResizeHandlefunction(){var t=this,n=t.options.columnResizeHandleWidth,i=t.lockedHeadert.lockedHeader.find(theadfirst)e();t.thead.add(i).on(mousemove+Ot,th,function(i){var o,a,s,l=e(this);l.hasClass(k-group-cell)l.hasClass(k-hierarchy-cell)(o=i.clientX,a=e(window).scrollLeft(),s=l.offset().left+(bn0this.offsetWidth),o+as-n&&s+no+at._createResizeHandle(l.closest(div),l)t.resizeHandlet.resizeHandle.hide()r(t.wrapper,))})},_resizeHandleDocumentClickfunction(t){e(t.target).closest(.k-column-active).length(e(document).off(t),this._hideResizeHandle())},_hideResizeHandlefunction(){this.resizeHandle&&(this.resizeHandle.data(th).removeClass(k-column-active),this.lockedContent&&!this._isMobile(this.resizeHandle.off(Ot).remove(),this.resizeHandle=null)this.resizeHandle.hide())},_positionColumnResizeHandleTouchfunction(){var t=this,n=t.lockedHeadert.lockedHeader.find(theadfirst)e();t._resizeUserEvents=new pt.UserEvents(n.add(t.thead),{filterthnot(.k-group-cell)not(.k-hierarchy-cell),threshold10,holdfunction(n){var i=e(n.target);n.preventDefault(),i.addClass(k-column-active),t._createResizeHandle(i.closest(div),i),t._resizeHandleDocumentClickHandler(t._resizeHandleDocumentClickHandler=At(t._resizeHandleDocumentClick,t)),e(document).on(click,t._resizeHandleDocumentClickHandler)}})},_resizablefunction(){var t,n,i,o,a,s,l,c=this,d=c.options,u=this._isMobile,h=pt.support.mobileOS0pt.support.scrollbar();d.resizable&&(t=d.scrollablec.wrapper.find(.k-grid-header-wrapfirst)c.wrapper,uc._positionColumnResizeHandleTouch(t)c._positionColumnResizeHandle(t),c.resizable&&c.resizable.destroy(),c.resizable=new ft.Resizable(t.add(c.lockedHeader),{handle(d.scrollable)+.k-resize-handle,hintfunction(t){return e('div class=k-grid-resize-indicator ').css({heightt.data(th).outerHeight()+c.tbody.attr(clientHeight)})},startfunction(t){var h,p,f,g;l=e(t.currentTarget).data(th),u&&c._hideResizeHandle(),h=l.closest(table),p=e.inArray(l[0],N(l.closest(thead)).filter(visible)),a=h.parent().hasClass(k-grid-header-locked),f=ac.lockedTablec.table,g=c.footere(),c.footer&&c.lockedContent&&(g=c.footer.children(a.k-grid-footer-locked.k-grid-footer-wrap)),r(c.wrapper,col-resize),s=d.scrollableh.find(colnot(.k-group-col)not(.k-hierarchy-col)eq(+p+)).add(f.children(colgroup).find(colnot(.k-group-col)not(.k-hierarchy-col)eq(+p+))).add(g.find(colgroup).find(colnot(.k-group-col)not(.k-hierarchy-col)eq(+p+)))f.children(colgroup).find(colnot(.k-group-col)not(.k-hierarchy-col)eq(+p+)),n=t.x.location,i=l.outerWidth(),o=af.children(tbody).outerWidth()c.tbody.outerWidth(),kn.webkit&&c.wrapper.addClass(k-grid-column-resizing)},resizefunction(t){var r,u,p,f,g,m,v=bn-11,_=i+t.x.locationv-nv;d.scrollable(a&&c.lockedFooterr=c.lockedFooter.children(table)c.footer&&(r=c.footer.find(.k-grid-footer-wraptable)),r&&r[0](r=e()),u=l.closest(table),p=ac.lockedTablec.table,f=!1,g=c.wrapper.width()-h,m=_,a&&o-i+mg&&(m=i+(g-o-2h),0m&&(m=_),f=!0),m10&&(s.css(width,m),o&&(m=fg-2ho+t.x.locationv-nv,p.add(u).add(r).css(width,m),a(c._footerWidth=m))))_10&&s.css(width,_)},resizeendfunction(){var e,t,n,o=l.outerWidth();r(c.wrapper,),kn.webkit&&c.wrapper.removeClass(k-grid-column-resizing),i!=o&&(t=c.lockedHeaderc.lockedHeader.find(theadfirst trfirst).add(c.thead.find(trfirst))l.parent(),n=l.attr(pt.attr(index)),n(n=t.find(thnot(.k-group-cell)not(.k-hierarchy-cell)).index(l)),e=L(c.columns)[n],e.width=o,c.trigger(nn,{columne,oldWidthi,newWidtho}),c._applyLockedContainersWidth(),c._syncLockedContentHeight(),c._syncLockedHeaderHeight()),c._hideResizeHandle(),l=null}}))},_draggablefunction(){var t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),t._draggableInstance=t.wrapper.kendoDraggable({grouppt.guid(),filtert.content.k-grid-headerfirst +Nttablefirst.k-grid-header +Nt,dragfunction(){t._hideResizeHandle()},hintfunction(t){return e('div class=k-header k-drag-clue ').css({widtht.width(),paddingLeftt.css(paddingLeft),paddingRightt.css(paddingRight),lineHeightt.height()+px,paddingTopt.css(paddingTop),paddingBottomt.css(paddingBottom)}).html(t.attr(pt.attr(title))t.attr(pt.attr(field))t.text()).prepend('span class=k-icon k-drag-status k-denied ')}}).data(kendoDraggable))},_reorderablefunction(){var t,n=this;n.options.reorderable&&(n.wrapper.data(kendoReorderable)&&n.wrapper.data(kendoReorderable).destroy(),t=function(e,t,i){var r=e[t],o=e[i],a=c(r,n.columns);return e=aa.columnsn.columns,Tt(o,e)},n.wrapper.kendoReorderable({draggablen._draggableInstance,dragOverContainersfunction(e,i){var r=S(n.columns);return r[e].lockable!==!1&&t(r,e,i)-1},inSameContainerfunction(i){return e(i.source).parent()[0]===e(i.target).parent()[0]&&t(S(n.columns),i.sourceIndex,i.targetIndex)-1},changefunction(e){var i=S(n.columns),r=i[e.oldIndex],o=t(i,e.oldIndex,e.newIndex);n.trigger(rn,{newIndexo,oldIndexTt(r,i),columnr}),n.reorderColumn(o,r,before===e.position)}}))},_reorderHeaderfunction(e,t,n){var i,r,s,l,c=this,d=b(e[0],c.columns),u=b(t,c.columns),h=[];for(i=0;e.lengthi;i++)e[i].columns&&(h=h.concat(e[i].columns));r=a(c.lockedHeader,c.thead,treq(+d.row+)th.k-headernot(.k-group-cell,.k-hierarchy-cell)),s=z(e).length,l=z([t]).length,h.length(s0&&0===lv(e,t,h,c.columns,c.lockedHeader.find(thead),c.thead,this._groups())0===s&&l0&&v(e,t,h,c.columns,c.thead,c.lockedHeader.find(thead),this._groups()),(t.columnsd.cell-u.cell1u.cell-d.cell1)&&(t=x(c.columns,t,e[0],n),t&&c._reorderHeader(h,t,n)))s!==l&&m(r[d.cell],c.columns,s),o(r,d.cell,u.cell,n,e.length)},_reorderContentfunction(t,n,i){var r,s,l,c,d=this,u=e(),h=t[0],p=f(t),g=Tt(h,L(d.columns)),m=Tt(n,L(d.columns)),v=Tt(h,H(d.columns)),_=Tt(n,H(d.columns)),w=z(d.columns).length,y=!!n.locked,b=d.footerd.wrapper.find(.k-grid-footer),k=r=_;for(n.hidden&&(y(_=d.lockedTable.find(colgroup),k=d.lockedHeader.find(colgroup),r=e(d.lockedFooter).find(tablecolgroup))(_=d.tbody.prev(),k=d.thead.prev(),r=b.find(.k-grid-footer-wrap).find(tablecolgroup))),d._hasFilterRow()&&o(d.wrapper.find(.k-filter-row thnot(.k-group-cell,.k-hierarchy-cell)),g,m,i,t.length),o(a(d.lockedHeader,d.thead.prev(),colnot(.k-group-col,.k-hierarchy-col)),v,k,i,p.length),d.options.scrollable&&o(a(d.lockedTable,d.tbody.prev(),colnot(.k-group-col,.k-hierarchy-col)),v,_,i,p.length),b&&b.length&&(o(a(d.lockedFooter,b.find(.k-grid-footer-wrap),tablecolgroupcolnot(.k-group-col,.k-hierarchy-col)),v,r,i,p.length),o(b.find(.k-footer-templatetdnot(.k-group-cell,.k-hierarchy-cell)),g,m,i,t.length)),s=d.tbody.children(not(.k-grouping-row,.k-detail-row)),d.lockedTable&&(wmg=w&&J(d.lockedTable.find(tbodytr.k-grouping-row),d.table.find(tbodytr.k-grouping-row),t.length)wg&&J(d.table.find(tbodytr.k-grouping-row),d.lockedTable.find(tbodytr.k-grouping-row),t.length),u=d.lockedTable.find(tbodytrnot(.k-grouping-row,.k-detail-row))),l=0,c=s.length;cl;l+=1)o(a(u[l],s[l],tdnot(.k-group-cell,.k-hierarchy-cell)),g,m,i,t.length)},_autoFitLeafColumnfunction(e){this.autoFitColumn(L(this.columns)[e])},autoFitColumnfunction(t){var n,i,r,o,a,s,l,c,d,u,f,g,m,v,_,w,y,b,k=this,x=k.options,C=k.columns,S=k.lockedHeaderN(k.lockedHeader.find(tablethead)).filter(h).length0;if(t=number==typeof tC[t]bt(t)Ct(T(C),function(e){return e===t})[0]Ct(T(C),function(e){return e.field===t})[0],t&&p(t)){for(n=Tt(t,L(C)),o=t.locked,r=ok.lockedHeader.children(table)k.thead.parent(),i=r.find([data-index='+n+']),s=ok.lockedTablek.table,l=k.footere(),k.footer&&k.lockedContent&&(l=k.footer.children(o.k-grid-footer-locked.k-grid-footer-wrap)),c=l.find(table).first(),k.lockedHeader&&S=n&&!o&&(n-=S),d=0;C.lengthd&&C[d]!==t;d++)C[d].hidden&&n--;if(a=x.scrollabler.find(colnot(.k-group-col)not(.k-hierarchy-col)eq(+n+)).add(s.children(colgroup).find(colnot(.k-group-col)not(.k-hierarchy-col)eq(+n+))).add(c.find(colgroup).find(colnot(.k-group-col)not(.k-hierarchy-col)eq(+n+)))s.children(colgroup).find(colnot(.k-group-col)not(.k-hierarchy-col)eq(+n+)),u=r.add(s).add(c),f=i.outerWidth(),a.width(),u.css(table-layout,fixed),a.width(auto),u.addClass(k-autofitting),u.css(table-layout,),g=Math.max(r.width(),s.width(),c.width()),m=Math.ceil(Math.max(i.outerWidth(),s.find(tr).eq(0).children(tdvisible).eq(n).outerWidth(),c.find(tr).eq(0).children(tdvisible).eq(n).outerWidth())),a.width(m),t.width=m,x.scrollable){for(v=r.find(col),w=0,y=0,b=v.length;by;y+=1){if(_=v[y].style.width,!_-1!=_.indexOf(%)){w=0;break}w+=parseInt(_,10)}w&&u.each(function(){this.style.width=w+px})}kn.msie&&8==kn.version&&(u.css(display,inline-table),setTimeout(function(){u.css(display,table)},1)),u.removeClass(k-autofitting),k.trigger(nn,{columnt,oldWidthf,newWidthm}),k._applyLockedContainersWidth(),k._syncLockedContentHeight(),k._syncLockedHeaderHeight()}},reorderColumnfunction(e,n,i){var r,o,a=this,s=c(n,a.columns),l=ss.columnsa.columns,d=Tt(n,l),u=l[e],h=!!u.locked,p=z(a.columns).length;d!==e&&(n.locked!h1!=F(a.columns).length)&&(!n.lockedh1!=p)&&(a._hideResizeHandle(),i===t&&(i=de),o=[n],a._reorderHeader(o,u,i),a.lockedHeader&&(M(a.thead),M(a.lockedHeader)),u.columns&&(u=L(u.columns),u=u[i0u.length-1]),n.columns&&(o=L(n.columns)),a._reorderContent(o,u,i),r=!!n.locked,r=r!=h,n.locked=h,l.splice(iee+1,0,n),l.splice(eddd+1,1),a._templates(),a._updateColumnCellIndex(),a._updateTablesWidth(),a._applyLockedContainersWidth(),a._syncLockedHeaderHeight(),a._syncLockedContentHeight(),a._updateFirstColumnClass(),r&&(ha.trigger(on,{columnn})a.trigger(an,{columnn})))},_updateColumnCellIndexfunction(){var e,t=0;this.lockedHeader&&(e=this.lockedHeader.find(thead),t=_(e,z(this.columns))),_(this.thead,F(this.columns),t)},lockColumnfunction(e){var t,n=this.columns;e=number==typeof en[e]Ct(n,function(t){return t.field===e})[0],!ee.lockede.hidden(t=z(n).length-1,this.reorderColumn(t,e,!1))},unlockColumnfunction(e){var t,n=this.columns;e=number==typeof en[e]Ct(n,function(t){return t.field===e})[0],e&&e.locked&&!e.hidden&&(t=z(n).length,this.reorderColumn(t,e,!0))},cellIndexfunction(t){var n=0;return this.lockedTable&&!e.contains(this.lockedTable[0],t[0])&&(n=L(z(this.columns)).length),e(t).parent().children(tdnot(.k-group-cell,.k-hierarchy-cell)).index(t)+n},_modelForContainerfunction(t){t=e(t),t.is(tr)popup===this._editMode()(t=t.closest(tr));var n=t.attr(pt.attr(uid));return this.dataSource.getByUid(n)},_editablefunction(){var t,n=this,i=n.selectable&&n.selectable.options.multiple,r=n.options.editable,o=function(){var t=_t(),i=n._editContainer;!ie.contains(i[0],t)i[0]===te(t).closest(.k-animation-container).lengthn.editable.end()&&n.closeCell()};r&&(t=n._editMode(),incell===tr.update!==!1&&n.wrapper.on(sn+Ot,trnot(.k-grouping-row)  td,function(t){var r=e(this),o=n.lockedTable&&r.closest(table)[0]===n.lockedTable[0];r.hasClass(k-hierarchy-cell)r.hasClass(k-detail-cell)r.hasClass(k-group-cell)r.hasClass(k-edit-cell)r.has(a.k-grid-delete).lengthr.has(button.k-grid-delete).lengthr.closest(tbody)[0]!==n.tbody[0]&&!oe(t.target).is(input)(n.editablen.editable.end()&&(i&&e(_t()).blur(),n.closeCell(),n.editCell(r))n.editCell(r))}).on(focusin+Ot,function(){clearTimeout(n.timer),n.timer=null}).on(focusout+Ot,function(){n.timer=setTimeout(o,1)})r.update!==!1&&n.wrapper.on(sn+Ot,tbodytrnot(.k-detail-row,.k-grouping-row)visible a.k-grid-edit,function(t){t.preventDefault(),n.editRow(e(this).closest(tr))}),r.destroy!==!1n.wrapper.on(sn+Ot,tbodytrnot(.k-detail-row,.k-grouping-row)visible .k-grid-delete,function(t){t.preventDefault(),t.stopPropagation(),n.removeRow(e(this).closest(tr))})n.wrapper.on(sn+Ot,tbodytrnot(.k-detail-row,.k-grouping-row)visible button.k-grid-delete,function(e){e.stopPropagation(),n._confirmation()e.preventDefault()}))},editCellfunction(t){var n,i,r,o;t=e(t),n=this,i=L(n.columns)[n.cellIndex(t)],r=n._modelForContainer(t),n.closeCell(),!rr.editable&&!r.editable(i.field)i.command!i.field(n._attachModelChange(r),n._editContainer=t,n.editable=t.addClass(k-edit-cell).kendoEditable({fields{fieldi.field,formati.format,editori.editor,valuesi.values},modelr,targetn,changefunction(e){n.trigger(Ut,{valuese.values,containert,modelr})&&e.preventDefault()}}).data(kendoEditable),o=t.parent().addClass(k-grid-edit-row),n.lockedContent&&nt(o[0],n._relatedRow(o).addClass(k-grid-edit-row)[0]),n.trigger(Vt,{containert,modelr}))},_adjustLockedHorizontalScrollBarfunction(){var e=this.table,t=e.parent(),n=e[0].offsetWidtht[0].clientWidthpt.support.scrollbar()0;this.lockedContent.height(t.height()-n)},_syncLockedContentHeightfunction(){this.lockedTable&&(this.touchScrollerthis._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeightfunction(){var e,t;this.lockedHeader&&(e=this.lockedHeader.children(table),t=this.thead.parent(),this._adjustRowsHeight(e,t),tt(e,t))},_syncLockedFooterHeightfunction(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children(table),this.footer.find(.k-grid-footer-wrap  table))},_destroyEditablefunction(){var e=this,t=function(){if(e.editable){var t=e.editViewe.editView.elemente._editContainer;t&&(t.off(sn+Ot,a.k-grid-cancel,e._editCancelClickHandler),t.off(sn+Ot,a.k-grid-update,e._editUpdateClickHandler)),e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null,e._destroyEditView()}};e.editable&&(popup!==e._editMode()e._isMobilet()e._editContainer.data(kendoWindow).bind(deactivate,t).close()),e._actionSheet&&(e._actionSheet.destroy(),e._actionSheet=null)},_destroyEditViewfunction(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate())},_attachModelChangefunction(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({fielde.field,modelthis})},e.bind(change,t._modelChangeHandler)},_detachModelChangefunction(){var e=this,t=e._editContainer,n=e._modelForContainer(t);n&&n.unbind($t,e._modelChangeHandler)},closeCellfunction(t){var n,i,r,o,a=this,s=a._editContainer;s&&(n=s.closest(tr).attr(pt.attr(uid)),o=a.dataSource.getByUid(n),t&&a.trigger(cancel,{containers,modelo})(s.removeClass(k-edit-cell),i=L(a.columns)[a.cellIndex(s)],r=s.parent().removeClass(k-grid-edit-row),a._destroyEditable(),a._displayCell(s,i,o),s.hasClass(k-dirty-cell)&&e('span class=k-dirty').prependTo(s),a.lockedContent&&nt(r.css(height,)[0],a._relatedRow(r).css(height,)[0])))},_displayCellfunction(e,t,n){var i=this,r={storage{},count0},o=kt({},pt.Template,i.options.templateSettings),a=pt.template(i._cellTmpl(t,r),o);r.count0&&(a=At(a,r.storage)),e.empty().html(a(n)),i.angular(compile,function(){return{elementse,data[{dataItemn}]}})},removeRowfunction(e){this._confirmation(e)&&this._removeRow(e)},_removeRowfunction(t){var n,i=this,r=i._editMode();incell!==r&&i.cancelRow(),t=e(t).hide(),n=i._modelForContainer(t),n&&!i.trigger(Wt,{rowt,modeln})(i.dataSource.remove(n),(inline===rpopup===r)&&i.dataSource.sync())incell===r&&i._destroyEditable()},_editModefunction(){var e=incell,t=this.options.editable;return t!==!0&&(e=string==typeof ttt.modee),e},editRowfunction(n){var i,r,o,a=this;n instanceof pt.data.ObservableObjecti=n(n=e(n),i=a._modelForContainer(n)),r=a._editMode(),a.cancelRow(),i&&(a._attachModelChange(i),popup===ra._createPopupEditor(i)inline===ra._createInlineEditor(n,i)incell===r&&e(n).children(Ft).each(function(){var n=e(this),r=L(a.columns)[n.index()];return i=a._modelForContainer(n),i&&(!i.editablei.editable(r.field))&&r.field(a.editCell(n),!1)t}),o=a.editViewa.editView.elementa._editContainer,o&&(this._editCancelClickHandler(this._editCancelClickHandler=At(this._editCancelClick,this)),o.on(sn+Ot,a.k-grid-cancel,this._editCancelClickHandler),this._editUpdateClickHandler(this._editUpdateClickHandler=At(this._editUpdateClick,this)),o.on(sn+Ot,a.k-grid-update,this._editUpdateClickHandler)))},_editUpdateClickfunction(e){e.preventDefault(),e.stopPropagation(),this.saveRow()},_editCancelClickfunction(t){var n,i=this,r=i.options.navigatable,o=i.editable.options.model,a=i.editViewi.editView.elementi._editContainer;t.preventDefault(),t.stopPropagation(),i.trigger(cancel,{containera,modelo})(n=i.items().index(e(i.current()).parent()),i.cancelRow(),r&&(i.current(i.items().eq(n).children().filter(Ht).first()),rt(i.table,!0)))},_createPopupEditorfunction(n){var i,r,o,a,s,l,c,d,u,h,p,f=this,g=div +pt.attr(uid)+'='+n.uid+' class=k-popup-edit-form'+(f._isMobile k-mobile-list)+'div class=k-edit-form-container',m=[],v=L(f.columns),_=f.options.editable,w=_.template,y=bt(_)_.window{},b=kt({},pt.Template,f.options.templateSettings);if(y=y{},w)for(typeof w===un&&(w=window.unescape(w)),g+=pt.template(w,b)(n),o=0,a=v.length;ao;o++)i=v[o],i.command&&(d=it(i.command,edit),d&&(r=d));else for(o=0,a=v.length;ao;o++)i=v[o],i.commandi.command&&(d=it(i.command,edit),d&&(r=d))(g+='div class=k-edit-labellabel for='+i.field+''+(i.titlei.field)+labeldiv,n.editable&&!n.editable(i.field)!i.field(h={storage{},count0},s=pt.template(f._cellTmpl(i,h),b),h.count0&&(s=At(s,h.storage)),g+='div class=k-edit-field'+s(n)+div)(m.push({fieldi.field,formati.format,editori.editor,valuesi.values}),g+=div +pt.attr(container-for)+'='+i.field+' class=k-edit-fielddiv'));r&&bt(r)&&(r.text&&bt(r.text)&&(l=r.text.update,c=r.text.cancel),r.attr&&(u=r.attr)),f._isMobile(g+=divdiv,f.editView=f.pane.append(div data-+pt.ns+'role=view data-'+pt.ns+'init-widgets=false class=k-grid-edit-formdiv data-'+pt.ns+'role=header class=k-header'+f._createButton({nameupdate,textl,attru})+(y.titleEdit)+f._createButton({namecanceledit,textc,attru})+div+g+div),p=f._editContainer=f.editView.element.find(.k-popup-edit-form))(g+='div class=k-edit-buttons k-state-default',g+=f._createButton({nameupdate,textl,attru})+f._createButton({namecanceledit,textc,attru}),g+=divdivdiv,p=f._editContainer=e(g).appendTo(f.wrapper).eq(0).kendoWindow(kt({modal!0,resizable!1,draggable!0,titleEdit,visible!1,closefunction(i){if(i.userTriggered){if(i.sender.element.focus(),f.trigger(cancel,{containerp,modeln}))return i.preventDefault(),t;var r=f.items().index(e(f.current()).parent());f.cancelRow(),f.options.navigatable&&(f.current(f.items().eq(r).children().filter(Ht).first()),rt(f.table,!0))}}},y))),f.editable=f._editContainer.kendoEditable({fieldsm,modeln,clearContainer!1,targetf}).data(kendoEditable),f._isMobile&&p.find(input[type=checkbox],input[type=radio]).parent(.k-edit-field).addClass(k-check).prev(.k-edit-label).addClass(k-check).click(function(){e(this).next().children(input).click()}),f._openPopUpEditor(),f.trigger(Vt,{containerp,modeln})},_openPopUpEditorfunction(){this._isMobilethis.pane.navigate(this.editView,this._editAnimation)this._editContainer.data(kendoWindow).center().open()},_createInlineEditorfunction(t,n){var i,r,o,a=this,s=[];a.lockedContent&&(t=t.add(a._relatedRow(t))),t.children(not(.k-group-cell,.k-hierarchy-cell)).each(function(){if(r=e(this),i=L(a.columns)[a.cellIndex(r)],i.command!i.fieldn.editable&&!n.editable(i.field)){if(i.command&&(o=it(i.command,edit))){r.empty();var t,l,c;bt(o)&&(o.text&&bt(o.text)&&(t=o.text.update,l=o.text.cancel),o.attr&&(c=o.attr)),e(a._createButton({nameupdate,textt,attrc})+a._createButton({namecanceledit,textl,attrc})).appendTo(r)}}else s.push({fieldi.field,formati.format,editori.editor,valuesi.values}),r.attr(pt.attr(container-for),i.field),r.empty()}),a._editContainer=t,a.editable=new pt.ui.Editable(t.addClass(k-grid-edit-row),{targeta,fieldss,modeln,clearContainer!1}),t.length1&&(nt(t[0],t[1]),a._applyLockedContainersWidth()),a.trigger(Vt,{containert,modeln})},cancelRowfunction(){var e,t=this,n=t._editContainer;n&&(e=t._modelForContainer(n),t._destroyEditable(),t.dataSource.cancelChanges(e),t._displayRow(popup!==t._editMode()nt.tbody.find([+pt.attr(uid)+=+e.uid+])))},saveRowfunction(){var e=this,t=e._editContainer,n=e._modelForContainer(t),i=e.editable;
t&&i&&i.end()&&!e.trigger(Ut,{containert,modeln})&&e.dataSource.sync()},_displayRowfunction(t){var n,i,r,o=this,a=o._modelForContainer(t),s=t.hasClass(k-state-selected),l=t.hasClass(k-alt);a&&(o.lockedContent&&(n=e((lo.lockedAltRowTemplateo.lockedRowTemplate)(a)),o._relatedRow(t.last()).replaceWith(n)),o.angular(cleanup,function(){return{elementst.get()}}),i=e((lo.altRowTemplateo.rowTemplate)(a)),t.replaceWith(i),o.angular(compile,function(){return{elementsi.get(),data[{dataItema}]}}),s&&o.options.selectable&&o.select(i.add(n)),n&&nt(i[0],n[0]),r=i.next(),r.hasClass(k-detail-row)&&r.is(visible)&&i.find(.k-hierarchy-cell .k-icon).removeClass(k-plus).addClass(k-minus))},_showMessagefunction(t,n){var i,r,o,a=this;return a._isMobile(i=pt.template('ulli class=km-actionsheet-title#title#lilia href=# class=k-button k-grid-delete#confirmDelete#aliul'),r=e(i(t)).appendTo(a.view.element),o=a._actionSheet=new pt.mobile.ui.ActionSheet(r,{cancelt.cancelDelete,cancelTemplate'li class=km-actionsheet-cancela class=k-button href=##cancel#ali',closefunction(){this.destroy()},commandfunction(t){var i=e(t.currentTarget).parent();i.hasClass(km-actionsheet-cancel)a._removeRow(n)},popupa._actionSheetPopupOptions}),o.open(n),!1)window.confirm(t.title)},_confirmationfunction(e){var t=this,n=t.options.editable,i=n===!0typeof n===unt.options.messages.editable.confirmationn.confirmation;return i!==!1&&null!=i(typeof i===dn&&(i=i(t._modelForContainer(e))),t._showMessage({confirmDeleten.confirmDeletet.options.messages.editable.confirmDelete,cancelDeleten.cancelDeletet.options.messages.editable.cancelDelete,titlei===!0t.options.messages.editable.confirmationi},e))!0},cancelChangesfunction(){this.dataSource.cancelChanges()},saveChangesfunction(){var e=this;(e.editable&&e.editable.end()!e.editable)&&!e.trigger(Kt)&&e.dataSource.sync()},addRowfunction(){var e,t,n,i,r,o,a=this,s=a.dataSource,l=a._editMode(),c=a.options.editable.createAt,d=s.pageSize(),u=s.view()[];(a.editable&&a.editable.end()!a.editable)&&(incell!=l&&a.cancelRow(),e=s.indexOf(u[0]),bottom==c.toLowerCase()&&(e+=u.length,d&&!s.options.serverPaging&&u.length=d&&(e-=1)),0e&&(e=s.page()s.totalPages()(s.page()-1)d0),t=s.insert(e,{}),n=t.uid,i=a.lockedContenta.lockedTablea.table,r=i.find(tr[+pt.attr(uid)+=+n+]),o=r.children(tdnot(.k-group-cell,.k-hierarchy-cell)).eq(a._firstEditableColumnIndex(r)),inline===l&&r.lengtha.editRow(r)popup===la.editRow(t)o.length&&a.editCell(o),bottom==c.toLowerCase()&&a.lockedContent&&(a.lockedContent[0].scrollTop=a.content[0].scrollTop=a.content[0].offsetHeight))},_firstEditableColumnIndexfunction(e){var t,n,i,r=this,o=L(r.columns),a=r._modelForContainer(e);for(n=0,i=o.length;in;n++)if(t=o[n],a&&(!a.editablea.editable(t.field))&&!t.command&&t.field&&t.hidden!==!0)return n;return-1},_toolbarfunction(){var t,n=this,i=n.wrapper,r=n.options.toolbar,o=n.options.editable;r&&(t=n.wrapper.find(.k-grid-toolbar),t.length(Et(r)(r=typeof r===unrn._toolbarTmpl(r).replace(mn,#),r=At(pt.template(r),n)),t=e('div class=k-header k-grid-toolbar ').html(r({})).prependTo(i),n.angular(compile,function(){return{elementst.get()}})),o&&o.create!==!1&&t.on(sn+Ot,.k-grid-add,function(e){e.preventDefault(),n.addRow()}).on(sn+Ot,.k-grid-cancel-changes,function(e){e.preventDefault(),n.cancelChanges()}).on(sn+Ot,.k-grid-save-changes,function(e){e.preventDefault(),n.saveChanges()}),t.on(sn+Ot,.k-grid-excel,function(e){e.preventDefault(),n.saveAsExcel()}),t.on(sn+Ot,.k-grid-pdf,function(e){e.preventDefault(),n.saveAsPDF()}))},_toolbarTmplfunction(e){var t,n,i=this,r=;if(St(e))for(t=0,n=e.length;nt;t++)r+=i._createButton(e[t]);return r},_createButtonfunction(e){var n,r=e.templateyn,o=typeof e===unee.namee.text,a=Tn[o]Tn[o].classNamek-grid-+(o).replace(sg,),s={classNamea,texto,imageClass,attr,iconClass},l=this.options.messages.commands;if(!(obt(e)&&e.template))throw Error(Custom commands should have name specified);return bt(e)(e.className&&Tt(s.className,e.className.split( ))0e.className+= +s.classNamee.className===t&&(e.className=s.className),edit===o&&bt(e.text)&&(e=kt(!0,{},e),e.text=e.text.edit),e.attr&&(bt(e.attr)&&(e.attr=i(e.attr)),typeof e.attr===un&&(n=e.attr.match(class=(.+)),n&&Tt(n[1],e.className.split( ))0&&(e.className+= +n[1]))),s=kt(!0,s,Tn[o],{textl[o]},e))s=kt(!0,s,Tn[o],{textl[o]}),pt.template(r)(s)},_hasFootersfunction(){return!!this.footerTemplate!!this.groupFooterTemplatethis.footer&&this.footer.length0this.wrapper.find(.k-grid-footer).length0},_groupablefunction(){var t=this;t._groupableClickHandlert.table.add(t.lockedTable).off(sn+Ot,t._groupableClickHandler)t._groupableClickHandler=function(n){var i=e(this),r=i.closest(tr);i.hasClass(k-i-collapse)t.collapseGroup(r)t.expandGroup(r),n.preventDefault(),n.stopPropagation()},t._isLocked()t.lockedTable.on(sn+Ot,.k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand,t._groupableClickHandler)t.table.on(sn+Ot,.k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand,t._groupableClickHandler),t._attachGroupable()},_attachGroupablefunction(){var t=this,n=t.wrapper,i=t.options.groupable,r=Nt+[+pt.attr(field)+],o=t.content.k-grid-headerfirst +rtablefirst.k-grid-header +r;i&&i.enabled!==!1&&(n.has(div.k-grouping-header)[0]e(div&nbsp;div).addClass(k-grouping-header).prependTo(n),t.groupable&&t.groupable.destroy(),t.groupable=new mt(n,kt({},i,{draggablet._draggableInstance,groupContainerdiv.k-grouping-header,dataSourcet.dataSource,draggableElementso,filtero,allowDragt.options.reorderable})))},_continuousItemsfunction(t,n){var i,r,o,a,s,l,c,d;if(this.lockedContent){for(i=this,r=i.table.add(i.lockedTable),o=e(t,r[0]),a=e(t,r[1]),s=nz(i.columns).length1,l=ni.columns.length-s1,c=[],d=0;o.lengthd;d+=s)Dt.apply(c,o.slice(d,d+s)),Dt.apply(c,a.splice(0,l));return c}},_selectablefunction(){var n,i,r,o,a=this,s=[],l=a._isLocked(),c=a.options.selectable;c&&(a.selectable&&a.selectable.destroy(),c=pt.ui.Selectable.parseOptions(c),n=c.multiple,i=c.cell,a._hasDetails()&&(s[s.length]=.k-detail-row),(a.options.groupablea._hasFooters())&&(s[s.length]=.k-grouping-row,.k-group-footer),s=s.join(,),!==s&&(s=not(+s+)),r=a.table,l&&(r=r.add(a.lockedTable)),o=+(iRttbodytr+s),a.selectable=new pt.ui.Selectable(r,{filtero,aria!0,multiplen,changefunction(){a.trigger($t)},useAllItemsl&&n&&i,relatedTargetfunction(t){var n,r,o,s;if(!i&&l){for(r=e(),o=0,s=t.length;so;o++)n=a._relatedRow(t[o]),Tt(n[0],t)0&&(r=r.add(n));return r}},continuousItemsfunction(){return a._continuousItems(o,i)}}),a.options.navigatable&&r.on(keydown+Ot,function(o){var s=a.current(),c=o.target;if(o.keyCode===yt.SPACEBAR&&e.inArray(c,r)-1&&!s.is(.k-edit-cell,.k-header)&&s.parent().is(not(.k-grouping-row,.k-detail-row,.k-group-footer))){if(o.preventDefault(),o.stopPropagation(),s=iss.parent(),l&&!i&&(s=s.add(a._relatedRow(s))),n)if(o.ctrlKey){if(s.hasClass(tn))return s.removeClass(tn),a.trigger($t),t}else a.selectable.clear();else a.selectable.clear();a.selectable.value(s)}}))},_clipboardfunction(){var e,t=this.options,n=t.selectable;n&&t.allowCopy&&(e=this,t.navigatablee.table.add(e.lockedTable).attr(tabindex,0).on(mousedown+Ot+ keydown+Ot,.k-detail-cell,function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}).on(mousedown+Ot,Bt++Ht,At(ot,e)),e.copyHandler=At(e.copySelection,e),e.updateClipBoardState=function(){e.areaClipBoard&&e.areaClipBoard.val(e.getTSV()).focus().select()},e.bind(change,e.updateClipBoardState),e.wrapper.on(keydown,e.copyHandler),e.clearAreaHandler=At(e.clearArea,e),e.wrapper.on(keyup,e.clearAreaHandler))},copySelectionfunction(t){t instanceof jQuery.Event&&!t.ctrlKey&&!t.metaKeye(t.target).is(inputvisible,textareavisible)window.getSelection&&+window.getSelection()document.selection&&document.selection.createRange().text(this.areaClipBoard(this.areaClipBoard=e(textarea ).css({positionfixed,top50%,left50%,opacity0,width0,height0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSVfunction(){var t,n,i,r,o,a,s=this,l=s.select(),c=	,d=s.options.allowCopy;return e.isPlainObject(d)&&d.delimeter&&(c=d.delimeter),t=,l.length&&(l.eq(0).is(tr)&&(l=l.find(tdnot(.k-group-cell))),n=[],i=this.columns.length,r=s._isLocked()&&z(s.columns).length,o=!0,e.each(l,function(t,a){var l,c,d,u;a=e(a),l=a.closest(tr),c=l.index(),d=a.index(),r&&o&&(o=e.contains(s.lockedTable[0],a[0])),s._groups()&&o&&(d-=s._groups()),d=odd+r,id&&(i=d),u=a.text(),n[c](n[c]=[]),n[c][d]=u}),a=n.length,n=e.each(n,function(e,t){t&&(n[e]=t.slice(i),ae&&(a=e))}),e.each(n.slice(a),function(e,n){t+=nn.join(c)+rnrn})),t},clearAreafunction(t){this.areaClipBoard&&t&&t.target===this.areaClipBoard[0]&&(this.options.navigatablee(this.current()).closest(table).focus()this.table.focus()),this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_minScreenSupportfunction(){var t=this.hideMinScreenCols();t&&(this.minScreenResizeHandler=At(this.hideMinScreenCols,this),e(window).on(resize,this.minScreenResizeHandler))},hideMinScreenColsfunction(){var e,n,i,r=this.columns,o=!1,a=window.innerWidth0window.innerWidthscreen.width;for(e=0;r.lengthe;e++)n=r[e],i=n.minScreenWidth,i!==t&&null!==i&&(o=!0,iathis.hideColumn(n)this.showColumn(n));return o},_relatedRowfunction(t){var n,i,r=this.lockedTable;return t=e(t),r(n=t.closest(this.table.add(this.lockedTable)),i=n.find(tbodytr).index(t),n=n[0]===this.table[0]rthis.table,n.find(tbodytr).eq(i))t},clearSelectionfunction(){var e=this;e.selectable.clear(),e.trigger($t)},selectfunction(n){var i=this,r=i.selectable;return n=e(n),n.length(r.options.multiple(r.clear(),n=n.first()),i._isLocked()&&(n=n.add(n.map(function(){return i._relatedRow(this)}))),r.value(n),t)r.value()},currentfunction(e){var n,i=this,r=i.options.scrollable,o=i._current,a=i.table.add(i.thead.parent());return e!==t&&e.length&&(o&&o[0]===e[0](o&&(o.removeClass(en).removeAttr(id),a.removeAttr(aria-activedescendant)),e.attr(id,i._cellId),i._current=e.addClass(en),a.attr(aria-activedescendant,i._cellId),e.length&&r&&(n=e.closest(table).parent(),n.is(.k-grid-content)i._scrollTo(e.parent()[0],i.content[0])n.is(.k-grid-content-locked)&&(i._scrollTo(i._relatedRow(e.parent())[0],i.content[0]),r.virtual(i.lockedContent[0].scrollTop=i.content[0].scrollTop)),n.is(.k-grid-content-locked,.k-grid-header-locked)(r.virtuali._scrollTo(e[0],i.content.find(.k-virtual-scrollable-wrap)[0])i._scrollTo(e[0],i.content[0]))))),i._current},_removeCurrentfunction(){this._current&&(this._current.removeClass(en),this._current=null)},_scrollTofunction(e,t){var n=e.tagName.toLowerCase(),i=td===nth===n,r=e[ioffsetLeftoffsetTop],o=e[ioffsetWidthoffsetHeight],a=t[iscrollLeftscrollTop],s=t[iclientWidthclientHeight],l=r+o,c=0;c=arrla+ss=ol-sra,t[iscrollLeftscrollTop]=c},_navigatablefunction(){var t=this,n=At(t.current,t),i=t.table.add(t.lockedTable),r=t.thead.parent().add(e(table,t.lockedHeader)),o=(t._isLocked(),i),a=pt.support.isRtl(t.element);t.options.navigatable&&(t.options.scrollable&&(o=i.add(r),r.attr(cn,-1)),o.off(mousedown+Ot+ focus+Ot+ focusout+Ot+ keydown+Ot),r.on(keydown+Ot,function(e){e.altKey&&e.keyCode==yt.DOWN&&(n().find(.k-grid-filter, .k-header-column-menu).click(),e.stopImmediatePropagation())}).find(a.k-link).attr(tabIndex,-1),i.attr(cn,Mt.max(i.attr(cn)0,0)).on(mousedown+Ot+ keydown+Ot,.k-detail-cell,function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),o.on(pt.support.touchtouchstart+Otmousedown+Ot,Bt++Ht,At(ot,t)).on(focus+Ot,function(){if(!pt.support.touch){var t=n();t&&t.is(visible)t.addClass(en)n(e(this).find(Lt)),i.attr(cn,-1),r.attr(cn,-1),e(this).attr(cn,0)}}).on(focusout+Ot,function(){var e=n();e&&e.removeClass(en)}).on(keydown+Ot,function(o){var s,l,c,d,u,h=o.keyCode,p=!1,f=!o.isDefaultPrevented()&&!e(o.target).is(button,a,input,a.k-icon),g=t.options.pageable,m=t.dataSource,v=incell==t._editMode(),_=o.shiftKey,w=At(t._relatedRow,t),y=n();if(y&&y.is(th)&&(f=!0),f&&h==yt.UP)n(st(y,o.currentTarget,i,r,!0,z(t.columns).length)),p=!0;else if(f&&h==yt.DOWN)n(st(y,o.currentTarget,i,r,!1,z(t.columns).length)),p=!0;else if(f&&h==(ayt.RIGHTyt.LEFT))n(lt(y,o.currentTarget,i,r,w)),p=!0;else if(f&&h==(ayt.LEFTyt.RIGHT))n(ct(y,o.currentTarget,i,r,w)),p=!0;else if(f&&g&&yt.PAGEDOWN==h)m.page(m.page()+1),p=!0;else if(f&&g&&yt.PAGEUP==h)m.page(m.page()-1),p=!0;else if(h==yt.ENTERyt.F2==h){if(y=yyi.find(Lt),!y.length)return;e(o.target).is(table)e.contains(y[0],o.target)(y=e(o.target).closest([role=gridcell])),y.is(th)(y.find(.k-link).click(),p=!0)y.parent().is(.k-master-row,.k-grouping-row)(y.parent().find(.k-iconfirst).click(),p=!0)(c=y.find(kendoFocusablefirst),!y.hasClass(k-edit-cell)&&c[0]&&y.hasClass(k-state-focused)(c.focus(),p=!0)t.options.editable&&!e(o.target).is(button,.k-button,textarea)&&(d=e(o.target).closest([role=gridcell]),d[0](d=y),t._handleEditing(d,!1,vo.currentTargeti[0]),p=!0))}else yt.ESC==h(s=_t(),y&&e.contains(y[0],s)&&!y.hasClass(k-edit-cell)&&!y.parent().hasClass(k-grid-edit-row)(rt(o.currentTarget,!0),p=!0)!t._editContainery&&!t._editContainer.has(y[0])&&y[0]!==t._editContainer[0](vt.closeCell(!0)(l=e(y).parent().index(),s&&s.blur(),t.cancelRow(),l=0&&t.current(i.find(tbodytr).eq(l).children().filter(Ht).first())),kn.msie&&9kn.version&&document.body.focus(),rt(vo.currentTargeti[0],!0),p=!0))yt.TAB==h&&(y=e(y),t.options.editable&&v&&(u=e(_t()).closest(.k-edit-cell),u[0]&&u[0]!==y[0]&&(y=u)),u=dt(y,o.currentTarget,i,w,_),!y.is(th)&&u.length&&t.options.editable&&v&&(t._handleEditing(y,u,u.closest(i)),p=!0));p&&(o.preventDefault(),o.stopPropagation())}))},_handleEditingfunction(n,i,r){var o,a,s=this,l=e(_t()),c=s._editMode(),d=kn.msie,u=d&&9kn.version,h=s._editContainer;if(r=e(r),a=incell==cn.hasClass(k-edit-cell)n.parent().hasClass(k-grid-edit-row),s.editable){if(e.contains(h[0],l[0])&&(kn.operaul.change().triggerHandler(blur)(l.blur(),d&&l.blur())),!s.editable)return rt(r),t;if(!s.editable.end())return s.current(incell==chh.children().filter(Ft).first()),o=h.find(kendoFocusablefirst)[0],o&&o.focus(),t;incell==cs.closeCell()(s.saveRow(),a=!0)}i&&s.current(i),u&&document.body.focus(),rt(r,!0),(!a&&!ii)&&(incell==cs.editCell(s.current())s.editRow(s.current().parent()))},_wrapperfunction(){var e=this,t=e.table,n=e.options.height,i=e.element;i.is(div)(i=i.wrap(div).parent()),e.wrapper=i.addClass(k-grid k-widget),n&&(e.wrapper.css(ln,n),t.css(ln,auto)),e._initMobile()},_initMobilefunction(){var t,n=this.options,i=this;this._isMobile=n.mobile===!0&&pt.support.mobileOSphone===n.mobiletablet===n.mobile,this._isMobile&&(t=this.wrapper.addClass(k-grid-mobile).wrap(div data-+pt.ns+'role=view data-'+pt.ns+'init-widgets=falsediv').parent(),this.pane=pt.mobile.ui.Pane.wrap(t),this.view=this.pane.view(),this._actionSheetPopupOptions=e(document.documentElement).hasClass(km-root){modal!1}{alignbottom center,positionbottom center,effectslideInup},n.height&&this.pane.element.parent().css(ln,n.height),this._editAnimation=slide,this.view.bind(show,function(){i._isLocked()&&(i._updateTablesWidth(),i._applyLockedContainersWidth(),i._syncLockedContentHeight(),i._syncLockedHeaderHeight(),i._syncLockedFooterHeight())}))},_tbodyfunction(){var t,n=this,i=n.table;t=i.find(tbody),t.length(t=e(tbody).appendTo(i)),n.tbody=t.attr(role,rowgroup)},_scrollablefunction(){var t,n,i,r,o=this,a=o.options,s=a.scrollable,l=s!==!0&&s.virtual&&!o.virtualScrollable,c=!pt.support.kineticScrollNeededlpt.support.scrollbar()0;s&&(t=o.wrapper.children(.k-grid-header),t[0](t=e('div class=k-grid-header ').insertBefore(o.table)),t.css(bnpadding-leftpadding-right,s.virtualc+1c),n=e('table role=grid '),xn&&n.attr(cellspacing,0),n.width(o.table[0].style.width),n.append(o.thead),t.empty().append(e('div class=k-grid-header-wrap ').append(n)),o.content=o.table.parent(),o.content.is(.k-virtual-scrollable-wrap, .km-scroll-container)&&(o.content=o.content.parent()),o.content.is(.k-grid-content, .k-virtual-scrollable-wrap)(o.content=o.table.wrap('div class=k-grid-content ').parent()),l&&(o.virtualScrollable=new Sn(o.content,{dataSourceo.dataSource,itemHeightfunction(){return o._averageRowHeight()}})),o.scrollables=t.children(.k-grid-header-wrap),i=o.wrapper.find(.k-grid-footer),i.length&&(o.scrollables=o.scrollables.add(i.children(.k-grid-footer-wrap))),s.virtualo.content.find(.k-virtual-scrollable-wrap).unbind(scroll+Ot).bind(scroll+Ot,function(){o.scrollables.scrollLeft(this.scrollLeft),o.lockedContent&&(o.lockedContent[0].scrollTop=this.scrollTop)})(o.content.unbind(scroll+Ot).bind(scroll+Ot,function(){o.scrollables.scrollLeft(this.scrollLeft),o.lockedContent&&(o.lockedContent[0].scrollTop=this.scrollTop)}),r=o.content.data(kendoTouchScroller),r&&r.destroy(),r=pt.touchScroller(o.content),r&&r.movable&&(o.touchScroller=r,r.movable.bind(change,function(e){o.scrollables.scrollLeft(-e.sender.x),o.lockedContent&&o.lockedContent.scrollTop(-e.sender.y)}),o.one(Xt,function(e){e.sender.wrapper.addClass(k-grid-backface)}))))},_setContentWidthfunction(t){var n,i=this,r=k-grid-content-expander,o='div class='+r+'div',a=i.resizable;i.options.scrollable&&i.wrapper.is(visible)&&(n=i.table.parent().children(.+r),i._setContentWidthHandler=At(i._setContentWidth,i),i.dataSource&&i.dataSource.view().lengthn[0]&&(n.remove(),a&&a.unbind(resize,i._setContentWidthHandler))(n[0](n=e(o).appendTo(i.table.parent()),a&&a.bind(resize,i._setContentWidthHandler)),i.thead&&(n.width(i.thead.width()),t&&i.content.scrollLeft(t))),i._applyLockedContainersWidth())},_applyLockedContainersWidthfunction(){if(this.options.scrollable&&this.lockedHeader){var e,t=this.thead.parent(),n=t.parent(),i=this.wrapper[0].clientWidth,r=this._groups(),o=pt.support.scrollbar(),a=this.lockedHeader.find(tablecolgroupcolnot(.k-group-col, .k-hierarchy-col)),s=t.find(colgroupcolnot(.k-group-col, .k-hierarchy-col)),l=A(a),c=A(s);r0&&(l+=this.lockedHeader.find(.k-group-cellfirst).outerWidth()r),l=i&&(l=i-3o),this.lockedHeader.add(this.lockedContent).width(l),n[0].style.width=n.parent().width()-l-2+px,t.add(this.table).width(c),this.virtualScrollable&&(i-=o),this.content[0].style.width=i-l-2+px,this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(l),e=this.footer.find(.k-grid-footer-wrap),e[0].style.width=n[0].clientWidth+px,e.children().first().width(c))}},_setContentHeightfunction(){var e,t=this,n=t.options,i=t.wrapper.innerHeight(),r=t.wrapper.children(.k-grid-header),o=pt.support.scrollbar();n.scrollable&&t.wrapper.is(visible)&&(i-=r.outerHeight(),t.pager&&(i-=t.pager.element.outerHeight()),n.groupable&&(i-=t.wrapper.children(.k-grouping-header).outerHeight()),n.toolbar&&(i-=t.wrapper.children(.k-grid-toolbar).outerHeight()),t.footerTemplate&&(i-=t.wrapper.children(.k-grid-footer).outerHeight()),e=function(e){var t,n;return e[0].style.height!0(t=e.height(),e.height(auto),n=e.height(),t!=n(e.height(),!0)(e.height(),!1))},e(t.wrapper)&&(i2o(t.lockedContent&&(o=t.table[0].offsetWidtht.table.parent()[0].clientWidtho0,t.lockedContent.height(i-o)),t.content.height(i))t.content.height(2o+1)))},_averageRowHeightfunction(){var e,t=this,n=t._items(t.tbody).length,i=t._rowHeight;return 0===ni(t._rowHeight(t._rowHeight=i=t.table.outerHeight()n,t._sum=i,t._measures=1),e=t.table.outerHeight()n,i!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sumt._measures),i)},_dataSourcefunction(){var e,n=this,i=n.options,r=i.dataSource;r=St(r){datar}r,bt(r)&&(kt(r,{tablen.table,fieldsn.columns}),e=i.pageable,bt(e)&&e.pageSize!==t&&(r.pageSize=e.pageSize)),n.dataSource&&n._refreshHandlern.dataSource.unbind($t,n._refreshHandler).unbind(Pt,n._progressHandler).unbind(zt,n._errorHandler)(n._refreshHandler=At(n.refresh,n),n._progressHandler=At(n._requestStart,n),n._errorHandler=At(n._error,n)),n.dataSource=gt.create(r).bind($t,n._refreshHandler).bind(Pt,n._progressHandler).bind(zt,n._errorHandler)},_errorfunction(){this._progress(!1)},_requestStartfunction(){this._progress(!0)},_modelChangefunction(t){var n,i,r,o,a,s,l,c,d,u,h=this,p=h.tbody,f=t.model,g=h.tbody.find(tr[+pt.attr(uid)+=+f.uid+]),m=g.hasClass(k-alt),v=h._items(p).index(g),_=h.lockedContent;if(_&&(n=h._relatedRow(g)),g.add(n).children(.k-edit-cell).length&&!h.options.rowTemplate)g.add(n).children(not(.k-group-cell,.k-hierarchy-cell)).each(function(){i=e(this),r=L(h.columns)[h.cellIndex(i)],r.field===t.field&&(i.hasClass(k-edit-cell)i.addClass(k-dirty-cell)(h._displayCell(i,r,f),e('span class=k-dirty').prependTo(i)))});else if(!g.hasClass(k-grid-edit-row)){for(s=e().add(g),_&&(o=(mh.lockedAltRowTemplateh.lockedRowTemplate)(f),s=s.add(n),n.replaceWith(o)),h.angular(cleanup,function(){return{elementss.get()}}),o=(mh.altRowTemplateh.rowTemplate)(f),g.replaceWith(o),o=h._items(p).eq(v),u=[{dataItemf}],_&&(g=g.add(n),n=h._relatedRow(o)[0],nt(o[0],n),o=o.add(n),u.push({dataItemf})),h.angular(compile,function(){return{elementso.get(),datau}}),a=h.options.selectable,a&&g.hasClass(k-state-selected)&&h.select(o),c=s.children(not(.k-group-cell,.k-hierarchy-cell)),l=o.children(not(.k-group-cell,.k-hierarchy-cell)),v=0,d=h.columns.length;dv;v++)r=h.columns[v],i=l.eq(v),a&&c.eq(v).hasClass(k-state-selected)&&i.addClass(k-state-selected),r.field===t.field&&e('span class=k-dirty').prependTo(i);h.trigger(itemChange,{itemo,dataf,nsft})}},_pageablefunction(){var t,n=this,i=n.options.pageable;i&&(t=n.wrapper.children(div.k-grid-pager),t.length(t=e('div class=k-pager-wrap k-grid-pager').appendTo(n.wrapper)),n.pager&&n.pager.destroy(),n.pager=object==typeof i&&i instanceof pt.ui.Pagerinew pt.ui.Pager(t,kt({},i,{dataSourcen.dataSource})))},_footerfunction(){var t,n,i,r,o=this,a=o.dataSource.aggregates(),s=,l=o.footerTemplate,c=o.options,d=o.footero.wrapper.find(.k-grid-footer);l(s=e(o._wrapFooter(l(a))),d.length(n=s,o.angular(cleanup,function(){return{elementsd.get()}}),d.replaceWith(n),d=o.footer=n)d=o.footer=c.scrollablec.pageables.insertBefore(o.wrapper.children(div.k-grid-pager))s.appendTo(o.wrapper)s.insertBefore(o.tbody),o.angular(compile,function(){return{elementsd.find(tdnot(.k-group-cell, .k-hierarchy-cell)).get(),dataxt(o.columns,function(e){return{columne,aggregatea[e.field]}})}}))d&&!o.footer&&(o.footer=d),d.length&&(c.scrollable&&(t=d.attr(tabindex,-1).children(.k-grid-footer-wrap),o.scrollables=o.scrollables.filter(function(){return!e(this).is(.k-grid-footer-wrap)}).add(t)),o._footerWidth&&d.find(table).css(width,o._footerWidth),t&&(i=o.content.scrollLeft(),r=c.scrollable!==!0&&c.scrollable.virtual&&!o.virtualScrollable,r&&(i=o.wrapper.find(.k-virtual-scrollable-wrap).scrollLeft()),t.scrollLeft(i))),o.lockedContent&&(o._appendLockedColumnFooter(),o._applyLockedContainersWidth(),o._syncLockedFooterHeight())},_wrapFooterfunction(t){var n=this,i=,r=pt.support.mobileOS0pt.support.scrollbar();return n.options.scrollable(i=e('div class=k-grid-footerdiv class=k-grid-footer-wraptable'+(xn' cellspacing=0')+tbody+t+tbodytabledivdiv),n._appendCols(i.find(table)),i.css(bnpadding-leftpadding-right,r),i)'tfoot class=k-grid-footer'+t+tfoot},_columnMenufunction(){var e,n,i,r,o,a,s,l,c,d=this,u=L(d.columns),h=d.options,p=h.columnMenu,f=Ct(d.columns,function(e){return e.columns!==t}).length0,g=this._isMobile,m=function(e){d.trigger(qt,{fielde.field,containere.container})},v=function(e){rt(e.closest(table),!0)},_=h.$angular;if(p)for(boolean==typeof p&&(p={}),a=N(d.thead),s=0,l=a.length;ls;s++)n=u[s],c=a.eq(s),n.command!n.field&&!c.attr(data-+pt.ns+field)(e=c.data(kendoColumnMenu),e&&e.destroy(),r=n.sortable!==!1&&p.sortable!==!1&&h.sortable!==!1kt({},h.sortable,{compare(n.sortable{}).compare})!1,o=h.filterable&&n.filterable!==!1&&p.filterable!==!1kt({paned.pane},h.filterable,n.filterable)!1,n.filterable&&n.filterable.dataSource&&(o.forceUnique=!1,o.checkSource=n.filterable.dataSource),o&&(o.format=n.format),i={dataSourced.dataSource,valuesn.values,columnsp.columns,sortabler,filterableo,messagesp.messages,ownerd,closeCallbackv,initm,paned.pane,filtergnot(.k-column-active),lockedColumns!f&&n.lockable!==!1&&z(u).length0},_&&(i.$angular=_),c.kendoColumnMenu(i))},_headerCellsfunction(){return this.thead.find(th).filter(function(){var t=e(this);return!t.hasClass(k-group-cell)&&!t.hasClass(k-hierarchy-cell)})},_filterablefunction(){var e,t,n,i,r,o,a,s=this,l=L(s.columns),c=function(e){s.trigger(Gt,{fielde.field,containere.container})},d=function(e){rt(e.closest(table),!0)},u=s.options.filterable;if(u&&typeof u.mode==un&&-1==u.mode.indexOf(menu)&&(u=!1),u&&!s.options.columnMenu)for(t=N(s.thead),i=0,r=t.length;ri;i++)n=t.eq(i),l[i].filterable===!1l[i].command!l[i].field&&!n.attr(data-+pt.ns+field)(e=n.data(kendoFilterMenu),e&&e.destroy(),o=l[i].filterable,a=kt({},u,o,{dataSources.dataSource,valuesl[i].values,formatl[i].format,closeCallbackd,initc,panes.pane}),o&&o.messages&&(a.messages=kt(!0,{},u.messages,o.messages)),o&&o.dataSource&&(a.forceUnique=!1,a.checkSource=o.dataSource),o&&o.multin.kendoFilterMultiCheck(a)n.kendoFilterMenu(a))},_filterRowfunction(){var t,n,i,r,o,a,s,l,c,d,u,h,p=this;if(p._hasFilterRow())for(t=L(p.columns),n=p.options.filterable,i=p.thead.find(.k-filter-row),this._updateHeader(this.dataSource.group().length),r=0;t.lengthr;r++)if(a=t[r],s=p.options.filterable.operators,l=!1,c=e(th),d=a.field,a.hidden&&c.hide(),i.append(c),d&&a.filterable!==!1){if(u=a.filterable&&a.filterable.cell{},o=p.options.dataSource,o instanceof gt&&(o=p.options.dataSource.options),h=kt(!0,{},n.messages),a.filterable&&kt(!0,h,a.filterable.messages),u.enabled===!1){c.html(&nbsp;);continue}u.dataSource&&(o=u.dataSource,l=!0),a.filterable&&a.filterable.operators&&(s=a.filterable.operators),e(span).attr(pt.attr(field),d).kendoFilterCell({dataSourcep.dataSource,suggestDataSourceo,customDataSourcel,fieldd,messagesh,valuesa.values,templateu.template,delayu.delay,inputWidthu.inputWidth,suggestionOperatoru.suggestionOperator,minLengthu.minLength,dataTextFieldu.dataTextField,operatoru.operator,operatorss,showOperatorsu.showOperators}).appendTo(c)}else c.html(&nbsp;)},_sortablefunction(){var e,t,n,i,r,o,a=this,s=L(a.columns),l=a.options.sortable;if(l){for(i=N(a.thead),r=0,o=i.length;or;r++)e=s[r],e.sortable!==!1&&!e.command&&e.field&&(n=i.eq(r),t=n.data(kendoColumnSorter),t&&t.destroy(),n.attr(data-+pt.ns+field,e.field).kendoColumnSorter(kt({},l,e.sortable,{dataSourcea.dataSource,aria!0,filternot(.k-column-active)})));i=null}},_columnsfunction(t){var n,i,r,o=this,a=o.table,s=a.find(col),c=o.options.dataSource;if(t=t.lengthtxt(a.find(th),function(t,n){t=e(t);var i=t.attr(pt.attr(sortable)),r=t.attr(pt.attr(filterable)),o=t.attr(pt.attr(type)),a=t.attr(pt.attr(groupable)),l=t.attr(pt.attr(field)),c=t.attr(pt.attr(title)),d=t.attr(pt.attr(menu));return l(l=t.text().replace(s[^A-z0-9]g,)),{fieldl,typeo,titlec,sortablefalse!==i,filterablefalse!==r,groupablefalse!==a,menud,templatet.attr(pt.attr(template)),widths.eq(n).css(width)}}),n=!(o.table.find(tbody tr).length0&&(!c!c.transport)),o.options.scrollable){if(r=t,i=z(t),t=F(t),i.length0&&0===t.length)throw Error(There should be at least one non locked column);q(o.element.find(trhas(th)first).find(thnot(.k-group-cell)),r),t=i.concat(t)}o.columns=l(t,n)},_groupsfunction(){var e=this.dataSource.group();return ee.length0},_tmplfunction(e,t,r,o){var a,s,l,c,d=this,u=kt({},pt.Template,d.options.templateSettings),h=t.length,p={storage{},count0},f=d._hasDetails(),g=[],m=d._groups();if(!e){for(e=tr,r&&g.push(k-alt),f&&g.push(k-master-row),g.length&&(e+=' class='+g.join( )+''),h&&(e+= +pt.attr(uid)+'=#='+pt.expr(uid,u.paramName)+'#'),e+= role='row',m0&&!o&&(e+=n(m)),f&&(e+='td class=k-hierarchy-cella class=k-icon k-plus href=# tabindex=-1atd'),a=0;ha;a++)l=t[a],s=l.template,c=typeof s,e+=td+i(l.attributes)+ role='gridcell',e+=d._cellTmpl(l,p),e+=td;e+=tr}return e=pt.template(e,u),p.count0At(e,p.storage)e},_headerCellTextfunction(e){var t=this,n=kt({},pt.Template,t.options.templateSettings),i=e.headerTemplate,r=typeof i,o=e.titlee.field;return r===dno=pt.template(i,n)({})r===un&&(o=i),o},_cellTmplfunction(e,t){var n,i,r=this,o=kt({},pt.Template,r.options.templateSettings),a=e.template,s=o.paramName,l=e.field,c=,d=e.format,u=typeof a,h=e.values;if(e.command){if(St(e.command)){for(n=0,i=e.command.length;in;n++)c+=r._createButton(e.command[n]);return c.replace(mn,#)}return r._createButton(e.command).replace(mn,#)}return u===dn(t.storage[tmpl+t.count]=a,c+=#=this.tmpl+t.count+(+s+)#,t.count++)u===unc+=ah&&h.length&&bt(h[0])&&valuein h[0]&&l(c+=#var v =+pt.stringify($(h)).replace(mn,#)+#,c+=#var f = v[,o.useWithBlock(c+=s+.),c+=l+]#,c+=${f != null  f  ''})(c+=e.encoded##=,d&&(c+='kendo.format('+d.replace(gn,$1)+','),l(l=pt.expr(l,s),c+=l+==null''+l)c+='',d&&(c+=)),c+=#),c},_templatesfunction(){var t=this,n=t.options,i=t.dataSource,r=i.group(),o=t.footert.wrapper.find(.k-grid-footer),a=i.aggregate(),s=L(t.columns),l=L(z(t.columns)),c=n.scrollableL(F(t.columns))s;if(n.scrollable&&l.length){if(n.rowTemplaten.altRowTemplate)throw Error(Having both row template and locked columns is not supported);t.rowTemplate=t._tmpl(n.rowTemplate,c,!1,!0),t.altRowTemplate=t._tmpl(n.altRowTemplaten.rowTemplate,c,!0,!0),t.lockedRowTemplate=t._tmpl(n.rowTemplate,l),t.lockedAltRowTemplate=t._tmpl(n.altRowTemplaten.rowTemplate,l,!0)}else t.rowTemplate=t._tmpl(n.rowTemplate,c),t.altRowTemplate=t._tmpl(n.altRowTemplaten.rowTemplate,c,!0);t._hasDetails()&&(t.detailTemplate=t._detailTmpl(n.detailTemplate)),(t._group&&!It(a)!It(a)&&!o.lengthCt(s,function(e){return e.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(s,a,footerTemplate,k-footer-template)),r&&Ct(s,function(e){return e.groupFooterTemplate}).length&&(a=e.map(r,function(e){return e.aggregates}),t.groupFooterTemplate=t._footerTmpl(c,a,groupFooterTemplate,k-group-footer,l.length),n.scrollable&&l.length&&(t.lockedGroupFooterTemplate=t._footerTmpl(l,a,groupFooterTemplate,k-group-footer)))},_footerTmplfunction(e,t,r,o,a){var s,l,c,d,u,h=this,p=kt({},pt.Template,h.options.templateSettings),f=p.paramName,g=,m={},v=0,_={},w=h._groups(),y=h.dataSource._emptyAggregates(t);for(g+='tr class='+o+'',w0&&!a&&(g+=n(w)),h._hasDetails()&&(g+='td class=k-hierarchy-cell&nbsp;td'),s=0,l=e.length;ls;s++)u=e[s],c=u[r],d=typeof c,g+=td+i(u.footerAttributes)+,c(d!==dn&&(_=y[u.field]kt({},p,{paramNamef+['+u.field+']}){},c=pt.template(c,_)),m[tmpl+v]=c,g+=#=this.tmpl+v+(+f+)#,v++)g+=&nbsp;,g+=td;return g+=tr,g=pt.template(g,p),v0At(g,m)g},_detailTmplfunction(e){var t=this,i=,r=kt({},pt.Template,t.options.templateSettings),o=r.paramName,a={},s=0,l=t._groups(),c=f(L(t.columns)).length,d=typeof e;return i+='tr class=k-detail-row',l0&&(i+=n(l)),i+='td class=k-hierarchy-celltdtd class=k-detail-cell'+(c' colspan='+c+'')+,d===dn(a[tmpl+s]=e,i+=#=this.tmpl+s+(+o+)#,s++)i+=e,i+=tdtr,i=pt.template(i,r),s0At(i,a)i
},_hasDetailsfunction(){var e=this;return null!==e.options.detailTemplate(e._events[jt][]).length},_hasFilterRowfunction(){var t=this.options.filterable,n=t&&typeof t.mode==un&&-1!=t.mode.indexOf(row),i=this.columns,r=e.grep(i,function(e){return e.filterable===!1});return i.length&&r.length==i.length&&(n=!1),n},_detailsfunction(){var t=this;if(t.options.scrollable&&t._hasDetails()&&z(t.columns).length)throw Error(Having both detail template and locked columns is not supported);t.table.on(sn+Ot,.k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus,function(n){var i,r,o=e(this),a=o.hasClass(k-plus),s=o.closest(tr.k-master-row),l=t.detailTemplate,c=t._hasDetails();return o.toggleClass(k-plus,!a).toggleClass(k-minus,a),i=s.next(),c&&!i.hasClass(k-detail-row)&&(r=t.dataItem(s),i=e(l(r)).addClass(s.hasClass(k-alt)k-alt).insertAfter(s),t.angular(compile,function(){return{elementsi.get(),data[{dataItemr}]}}),t.trigger(jt,{masterRows,detailRowi,datar,detailCelli.find(.k-detail-cell)})),t.trigger(aZtJt,{masterRows,detailRowi}),i.toggle(a),t._current&&t._current.attr(aria-expanded,a),n.preventDefault(),!1})},dataItemfunction(t){if(t=e(t)[0],!t)return null;var n,i,r=this.tbody.children(),o=k-grouping-rowk-detail-rowk-group-footer,a=t.sectionRowIndex;for(i=a,n=0;an;n++)o.test(r[n].className)&&i--;return this._data[i]},expandRowfunction(t){e(t).find( td .k-plus,  td .k-i-expand).click()},collapseRowfunction(t){e(t).find( td .k-minus,  td .k-i-collapse).click()},_createHeaderCellsfunction(e,n){var r,o,a,s,l,c,d=this,u=,h=L(d.columns);for(r=0,s=e.length;sr;r++)o=e[r].columne[r],a=d._headerCellText(o),l=,c=Tt(o,h),o.command(u+=th+i(o.headerAttributes),n&&!e[r].colSpan&&(u+= rowspan='+n+'),c-1&&(u+=pt.attr(index)+='+c+'),u+=+a+th)(o.field&&(l=pt.attr(field)+='+o.field+' ),u+=th role='columnheader' +l,n&&!e[r].colSpan&&(u+= rowspan='+n+'),e[r].colSpan1&&(u+='colspan='+(e[r].colSpan-D(o.columns))+' ',u+=pt.attr(colspan)+='+e[r].colSpan+'),o.title&&(u+=pt.attr(title)+'='+o.title.replace('g,')+' '),o.groupable!==t&&(u+=pt.attr(groupable)+='+o.groupable+' ),o.aggregates&&o.aggregates.length&&(u+=pt.attr(aggregates)+='+o.aggregates+'),c-1&&(u+=pt.attr(index)+='+c+'),u+=i(o.headerAttributes),u+=+a+th);return u},_appendLockedColumnContentfunction(){var t,n,i,r,o,a=this.columns,s=this.table.find(colgroup),l=s.find(colnot(.k-group-col,.k-hierarchy-col)),c=e(),d=0,u=0;for(t=0,n=a.length;nt;t++)if(a[t].locked)if(p(a[t])){for(r=1,a[t].columns&&(r=L(a[t].columns).length-D(a[t].columns)),r=r1,o=0;ro;o++)c=c.add(l.eq(t+u+o-d));u+=r-1}else d++;i=e('div class=k-grid-content-lockedtable'+(xn' cellspacing=0')+colgrouptbodytbodytablediv),s.detach(),i.find(colgroup).append(c),s.insertBefore(this.table.find(tbody)),this.lockedContent=i.insertBefore(this.content),this.lockedTable=i.children(table)},_appendLockedColumnFooterfunction(){var t,n,i=this,r=i.footer,o=r.find(.k-footer-templatetd),a=r.find(.k-grid-footer-wraptablecolgroupcol),s=e('div class=k-grid-footer-lockedtablecolgroup tbodytr class=k-footer-templatetrtbodytablediv'),l=i._groups(),c=e(),d=e();for(c=c.add(o.filter(.k-group-cell)),t=0,n=L(z(i.columns)).length;nt;t++)c=c.add(o.eq(t+l));for(d=d.add(a.filter(.k-group-col)),t=0,n=L(B(i.columns)).length;nt;t++)d=d.add(a.eq(t+l));c.appendTo(s.find(tr)),d.appendTo(s.find(colgroup)),i.lockedFooter=s.prependTo(r)},_appendLockedColumnHeaderfunction(t){var n,i,r,o,a,s,l,c,d,u,h,f=this,m=this.columns,v=[],_=0,w=e(),y=f._hasFilterRow(),b=0,k=e(),x=0,C=e(),S=f.thead.prev().find(colnot(.k-group-col,.k-hierarchy-col)),T=f.thead.find(trfirst .k-headernot(.k-group-cell,.k-hierarchy-cell)),A=f.thead.find(.k-filter-row).find(thnot(.k-group-cell,.k-hierarchy-cell)),I=0;for(n=0,r=m.length;rn;n++){if(m[n].locked){if(l=T.eq(n),x=L(m[n].columns[]).length,p(m[n])){for(m[n].columns&&(c=x-D(m[n].columns)),c=c1,d=0;cd;d++)w=w.add(S.eq(n+I+d-_));I+=c-1}for(P([m[n]],V(l),v,0,0),x=x1,u=0;xu;u++)k=k.add(A.eq(b+u));b+=x}m[n].columns&&(_+=D(m[n].columns)),p(m[n])_++}if(v.length){for(i='div class=k-grid-header-locked style=width1pxtable'+(xn' cellspacing=0')+colgroupthead,i+=Array(v.length+1).join(trtr),i+=(y'tr class=k-filter-row ')+theadtablediv,s=e(i),S=s.find(colgroup),S.append(f.thead.prev().find(col.k-group-col).add(w)),o=s.find(thead trnot(.k-filter-row)),n=0,r=v.length;rn;n++)C=g(v[n]),o.eq(n).append(f.thead.find(treq(+n+) .k-group-cell).add(C));h=M(this.thead),hv.length&&E(s,h-v.length),a=s.find(.k-filter-row),a.append(f.thead.find(.k-filter-row .k-group-cell).add(k)),this.lockedHeader=s.prependTo(t),this.thead.find(.k-group-cell).remove(),this._syncLockedHeaderHeight()}},_removeLockedContainersfunction(){var e=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);pt.destroy(e),e.off(Ot).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null,this.selectable=null},_theadfunction(){var t,n,i,r,o,a=this,s=a.columns,l=a._hasDetails()&&s.length,c=a._hasFilterRow(),d=,u=a.table.find(thead),h=a.element.find(theadfirst).length0;if(u.length(u=e(thead).insertBefore(a.tbody)),a.lockedHeader&&a.thead(n=a.thead.find(trhas(th)not(.k-filter-row)).html(),n.remove(),n=e(),a._removeLockedContainers())n=a.element.find(htheadfirst trhas(th)not(.k-filter-row)trhas(th)first),!n.length&&(n=u.children().first(),!n.length)){for(i=[{rowSpan1,cells[],index0}],a._prepareColumns(i,s),t=0;i.lengtht;t++)d+=tr,l&&(d+='th class=k-hierarchy-cell&nbsp;th'),d+=a._createHeaderCells(i[t].cells,i[t].rowSpan),d+=tr;n=e(d)}c&&(r=e(tr),r.addClass(k-filter-row),(ln.find(.k-hierarchy-cell).length)&&r.prepend('th class=k-hierarchy-cell&nbsp;th'),o=u.find(.k-filter-row),o.length&&(pt.destroy(o),o.remove()),u.append(r)),n.children().lengthl&&!n.find(.k-hierarchy-cell)[0]&&n.prepend('th class=k-hierarchy-cell&nbsp;th')(d=,l&&(d+='th class=k-hierarchy-cell&nbsp;th'),d+=a._createHeaderCells(s),n.html(d)),n.attr(role,row).find(th).addClass(k-header),a.options.scrollableu.addClass(k-grid-header),n.find(script).remove().end().prependTo(u),a.thead&&a._destroyColumnAttachments(),this.angular(cleanup,function(){return{elementsu.find(th).get()}}),this.angular(compile,function(){return{elementsu.find(th).get(),dataxt(s,function(e){return{columne}})}}),a.thead=u.attr(role,rowgroup),a._sortable(),a._filterable(),a._filterRow(),a._scrollable(),a._updateCols(),a._columnMenu(),this.options.scrollable&&z(this.columns).length&&(a._appendLockedColumnHeader(a.thead.closest(.k-grid-header)),a._appendLockedColumnContent(),a.lockedContent.bind(DOMMouseScroll+Ot+ mousewheel+Ot,At(a._wheelScroll,a)),a._applyLockedContainersWidth()),a._updateColumnCellIndex(),a._updateFirstColumnClass(),a._resizable(),a._draggable(),a._reorderable(),a.groupable&&a._attachGroupable()},_updateFirstColumnClassfunction(){var t,n,i=this,r=i.columns[],o=i._hasDetails()&&r.length;oi._groups()(t=e(),n=i.thead.find(trnot(.k-filter-row)not(first)),r=F(r),n.length&&r[0]&&!r[0].columns&&(t=t.add(n)),i._isLocked()&&(n=i.lockedHeader.find(theadtrnot(.k-filter-row)not(first)),r=z(i.columns),n.length&&r[0]&&!r[0].columns&&(t=t.add(n))),t.each(function(){var t=e(this).find(th);t.removeClass(k-first),t.eq(0).addClass(k-first)}))},_prepareColumnsfunction(e,t,n,i){var r,o,a=ie[e.length-1],s=e[a.index+1],l=0;for(r=0;t.lengthr;r++)o={columnt[r],colSpan0},a.cells.push(o),t[r].columns&&t[r].columns.length&&(s(s={rowSpan0,cells[],indexe.length},e.push(s)),o.colSpan=t[r].columns.length,this._prepareColumns(e,t[r].columns,o,s),l+=o.colSpan-1,a.rowSpan=e.length-a.index);n&&(n.colSpan+=l)},_wheelScrollfunction(t){var n,i,r;t.ctrlKey(n=this.content,this.options.scrollable.virtual&&(n=this.virtualScrollable.verticalScrollbar),i=n.scrollTop(),r=pt.wheelDeltaY(t),r&&(t.preventDefault(),e(t.currentTarget).one(wheel+Ot,!1),n.scrollTop(i+-r)))},_isLockedfunction(){return null!=this.lockedHeader},_updateColsfunction(e){e=ethis.thead.parent().add(this.table),this._appendCols(e,this._isLocked())},_updateLockedColsfunction(e){this._isLocked()&&(e=ethis.lockedHeader.find(table).add(this.lockedTable),G(e,H(B(this.columns)),this._hasDetails(),this._groups()))},_appendColsfunction(e,t){tG(e,H(R(this.columns)),this._hasDetails(),0)G(e,H(f(this.columns)),this._hasDetails(),this._groups())},_autoColumnsfunction(e){if(e&&e.toJSON){var t,n=this;e=e.toJSON();for(t in e)n.columns.push({fieldt});n._thead(),n._templates()}},_rowsHtmlfunction(e,t){var n,i,r=this,o=,a=t.rowTemplate,s=t.altRowTemplate;for(n=0,i=e.length;in;n++)o+=n%2s(e[n])a(e[n]),r._data.push(e[n]);return o},_groupRowHtmlfunction(e,t,n,i,r,o){var a,s,l=this,c=,d=e.field,u=Ct(L(l.columns),function(e){return e.field==d})[0]{},h=u.groupHeaderTemplate,p=(u.titled)+ +Y(e.value,u.format,u.values),f=l._groupAggregatesDefaultObject{},g=kt({},f,e.aggregates),m=kt({},{fielde.field,valuee.value,aggregatesg},e.aggregates[e.field]),v=r.groupFooterTemplate,_=e.items;if(h&&(p=typeof h===dnh(m)pt.template(h)(m)),c+=i(t,n,p),e.hasSubgroups)for(a=0,s=_.length;sa;a++)c+=l._groupRowHtml(_[a],ott-1,n+1,i,r,o);else c+=l._rowsHtml(_,r);return v&&(c+=v(g)),c},collapseGroupfunction(t){t=e(t);var n,i,r,o,a,s=this.options.groupable,l=s.showFooter,c=l01,d=e();for(this._isLocked()&&(t.closest(div).hasClass(k-grid-content-locked)d=this.tbody.children(treq(+t.index()+)).nextAll(tr)(d=t.nextAll(tr),t=this.lockedTable.find(tbodytreq(+t.index()+)))),n=t.find(.k-group-cell).length,t.find(.k-icon).addClass(k-i-expand).removeClass(k-i-collapse),t.find(tdfirst).attr(aria-expanded,!1),t=t.nextAll(tr),r=0,o=t.length;or&&(a=t.eq(r),i=a.find(.k-group-cell).length,a.hasClass(k-grouping-row)c++a.hasClass(k-group-footer)&&c--,!(n=ia.hasClass(k-group-footer)&&0c));r++)a.hide(),d.eq(r).hide()},expandGroupfunction(t){t=e(t);var n,i,r,o,a,s=this,l=s.options.groupable.showFooter,c=e(),d=[],u=1;for(this._isLocked()&&(t.closest(div).hasClass(k-grid-content-locked)c=this.tbody.children(treq(+t.index()+)).nextAll(tr)(c=t.nextAll(tr),t=this.lockedTable.find(tbodytreq(+t.index()+)))),n=t.find(.k-group-cell).length,t.find(.k-icon).addClass(k-i-collapse).removeClass(k-i-expand),t.find(tdfirst).attr(aria-expanded,!0),t=t.nextAll(tr),o=0,a=t.length;ao&&(i=t.eq(o),r=i.find(.k-group-cell).length,!(n=r));o++)r!=n+1i.hasClass(k-detail-row)(i.show(),c.eq(o).show(),i.hasClass(k-grouping-row)&&i.find(.k-icon).hasClass(k-i-collapse)&&s.expandGroup(i),i.hasClass(k-master-row)&&i.find(.k-icon).hasClass(k-minus)&&(i.next().show(),c.eq(o+1).show())),i.hasClass(k-grouping-row)&&(l&&d.push(i.is(visible)),u++),i.hasClass(k-group-footer)&&(l&&i.toggle(d.pop()),1==u(i.show(),c.eq(o).show())u--)},_updateHeaderfunction(t){var n=this,i=n._isLocked()n.lockedHeader.find(thead)n.thead,r=i.find(tr.k-filter-row).find(th.k-group-cell).length,o=i.find(trfirst).find(th.k-group-cell).length,a=i.children(trnot(first)).filter(function(){return!e(this).children(visible).length});to(e(Array(t-o+1).join('th class=k-group-cell k-header&nbsp;th')).prependTo(i.children(trnot(.k-filter-row))),n.element.is(visible)&&a.find(th.k-group-cell).hide())ot&&i.find(tr).each(function(){e(this).find(th.k-group-cell).filter(eq(+t+),gt(+t+)).remove()}),tr&&e(Array(t-r+1).join('th class=k-group-cell k-header&nbsp;th')).prependTo(i.find(.k-filter-row))},_firstDataItemfunction(e,t){return e&&t&&(e=e.hasSubgroupsthis._firstDataItem(e.items[0],t)e.items[0]),e},_updateTablesWidthfunction(){var t,n=this;n._isLocked()&&(t=e(.k-grid-footer.k-grid-footer-wraptable,n.wrapper).add(n.thead.parent()).add(n.table),n._footerWidth=et(t.eq(0)),t.width(n._footerWidth),t=e(.k-grid-footer.k-grid-footer-lockedtable,n.wrapper).add(n.lockedHeader.find(table)).add(n.lockedTable),t.width(et(t.eq(0))))},hideColumnfunction(n){var i,r,o,s,l,c,d,g,m,v,_=this,w=0,y=_.footer_.wrapper.find(.k-grid-footer),b=_.columns,k=_.lockedHeaderN(_.lockedHeader.find(tablethead)).filter(h).length0;if(n=number==typeof nb[n]bt(n)Ct(T(b),function(e){return e===n})[0]Ct(T(b),function(e){return e.field===n})[0],n&&p(n)){if(n.columns&&n.columns.length){for(c=C(n,b),u(n,!1),Q(a(e(tablethead,_.lockedHeader),_.thead,treq(+c.row+)th),c.cell,!1),o=0;n.columns.lengtho;o++)this.hideColumn(n.columns[o]);return _.trigger(Yt,{columnn}),t}if(m=Tt(n,f(L(b))),u(n,!1),_._setParentsVisibility(n,!1),_._templates(),_._updateCols(),_._updateLockedCols(),v=_.thead,d=m,_.lockedHeader&&kmv=_.lockedHeader.find(tablethead)d-=k,i=N(v).filter(h).eq(d),i[0].style.display=none,Q(a(e(tablethead,_.lockedHeader),_.thead,tr.k-filter-rowth),m,!1),y[0]&&(_._updateCols(y.find(.k-grid-footer-wraptable)),_._updateLockedCols(y.find(.k-grid-footer-lockedtable)),Q(y.find(.k-footer-templatetd),m,!1)),_.lockedTable&&kmK(_.lockedTable.find(tbodytr),m)K(_.tbody.children(),m-k),_.lockedTable)_._updateTablesWidth(),_._applyLockedContainersWidth(),_._syncLockedContentHeight(),_._syncLockedHeaderHeight(),_._syncLockedFooterHeight();else{for(s=_.thead.prev().find(col),o=0,g=s.length;go;o+=1){if(l=s[o].style.width,!l-1!=l.indexOf(%)){w=0;break}w+=parseInt(l,10)}r=e(.k-grid-header tablefirst,.k-grid-footer tablefirst,_.wrapper).add(_.table),_._footerWidth=null,w&&(r.each(function(){this.style.width=w+px}),_._footerWidth=w),kn.msie&&8==kn.version&&(r.css(display,inline-table),setTimeout(function(){r.css(display,table)},1))}_._updateFirstColumnClass(),_.trigger(Yt,{columnn})}},_setParentsVisibilityfunction(t,n){var i,r,o,s,l,c=this.columns,h=[],p=nfunction(e){return f(e.columns).length&&e.hidden}function(e){return!f(e.columns).length&&!e.hidden};if(d(t,c,h)&&h.length)for(i=h.length-1;i=0;i--)r=h[i],o=b(r,c),s=a(e(tablethead,this.lockedHeader),this.thead,treq(+o.row+)thnot(.k-group-cell)not(.k-hierarchy-cell)).eq(o.cell),p(r)&&(u(r,n),s[0].style.display=nnone),s.filter([+pt.attr(colspan)+]).length&&(l=parseInt(s.attr(pt.attr(colspan)),10),s[0].colSpan=l-D(r.columns)1)},showColumnfunction(n){var i,r,o,s,l,c,d,h,f,g,m,v=this,_=v.columns,w=v.footerv.wrapper.find(.k-grid-footer),y=v.lockedHeaderN(v.lockedHeader.find(tablethead)).length0;if(n=number==typeof n_[n]bt(n)Ct(T(_),function(e){return e===n})[0]Ct(T(_),function(e){return e.field===n})[0],n&&!p(n)){if(n.columns&&n.columns.length){for(d=C(n,_),u(n,!0),Q(a(e(tablethead,v.lockedHeader),v.thead,treq(+d.row+)th),d.cell,!0),i=0;n.columns.lengthi;i++)this.showColumn(n.columns[i]);return v.trigger(Qt,{columnn}),t}if(g=Tt(n,L(_)),u(n,!0),v._setParentsVisibility(n,!0),v._templates(),v._updateCols(),v._updateLockedCols(),m=v.thead,c=g,v.lockedHeader&&ygm=v.lockedHeader.find(tablethead)c-=y,o=N(m).eq(c),o[0].style.display=,Q(a(e(tablethead,v.lockedHeader),v.thead,tr.k-filter-rowth),g,!0),w[0]&&(v._updateCols(w.find(.k-grid-footer-wraptable)),v._updateLockedCols(w.find(.k-grid-footer-lockedtable)),Q(w.find(.k-footer-templatetd),g,!0)),v.lockedTable&&ygZ(v.lockedTable.find(tbodytr),g)Z(v.tbody.children(),g-y),v.lockedTable)v._updateTablesWidth(),v._applyLockedContainersWidth(),v._syncLockedContentHeight(),v._syncLockedHeaderHeight();else if(s=e(.k-grid-header tablefirst,.k-grid-footer tablefirst,v.wrapper).add(v.table),n.width){for(l=0,f=v.thead.prev().find(col),i=0,r=f.length;ri;i+=1){if(h=f[i].style.width,h.indexOf(%)-1){l=0;break}l+=parseInt(h,10)}v._footerWidth=null,l&&(s.each(function(){this.style.width=l+px}),v._footerWidth=l)}else s.width();v._updateFirstColumnClass(),v.trigger(Qt,{columnn})}},_progressfunction(e){var t=this.element;this.lockedContentt=this.wrapperthis.element.is(table)t=this.element.parent()this.content&&this.content.length&&(t=this.content),pt.ui.progress(t,e)},_resizefunction(e,t){this.content&&(this._setContentWidth(),this._setContentHeight()),this.virtualScrollable&&(tthis._rowHeight)&&(t&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar())},_isActiveInTablefunction(){var t=_t();return this.table[0]===te.contains(this.table[0],t)this._isLocked()&&(this.lockedTable[0]===te.contains(this.lockedTable[0],t))},refreshfunction(t){var n,i=this,r=i.dataSource.view(),o=i.options.navigatable,a=e(i.current()),s=!1,l=(i.dataSource.group()[]).length,c=i.content&&i.content.scrollLeft(),d=l+H(f(i.columns)).length;t&&itemchange===t.action&&i.editable(t=t{},i.trigger(dataBinding,{actiont.actionrebind,indext.index,itemst.items})(i._angularItems(cleanup),o&&(i._isActiveInTable()i._editContainer&&i._editContainer.data(kendoWindow))&&(s=a.is(th),n=0,s&&(n=i.thead.find(thnot(.k-group-cell)).index(a))),i._destroyEditable(),i._progress(!1),i._hideResizeHandle(),i._data=[],i.columns.length(i._autoColumns(i._firstDataItem(r[0],l)),d=l+i.columns.length),i._group=l0i._group,i._group&&(i._templates(),i._updateCols(),i._updateLockedCols(),i._updateHeader(l),i._group=l0),i._renderContent(r,d,l),i._renderLockedContent(r,d,l),i._footer(),i._setContentHeight(),i._setContentWidth(c),i.lockedTable&&(i.options.scrollable.virtuali.content.find(.k-virtual-scrollable-wrap).trigger(scroll)i.touchScrolleri.touchScroller.movable.trigger(change)i.content.trigger(scroll)),n=0&&(i._removeCurrent(),i.current(si.thead.find(thnot(.k-group-cell)).eq(n)i.table.add(i.lockedTable).find(Lt).first()),i._current&&rt(i._current.closest(table)[0],!0)),i.touchScroller&&i.touchScroller.contentResized(),i.selectable&&i.selectable.resetTouchEvents(),i._angularItems(compile),i.trigger(Xt)))},_angularItemsfunction(e){pt.ui.DataBoundWidget.fn._angularItems.call(this,e),this._angularGroupItems(e)},_angularGroupItemsfunction(t){var n=this;n._group&&n.angular(t,function(){return{elementsn.tbody.children(.k-grouping-row),datae.map(X(n.dataSource.view()),function(e){return{dataIteme}})}})},_renderContentfunction(e,t,n){var i,r,o=this,a=,s=null!=o.lockedContent,l={rowTemplateo.rowTemplate,altRowTemplateo.altRowTemplate,groupFooterTemplateo.groupFooterTemplate};if(t=st-H(B(o.columns)).lengtht,n0)for(t=st-nt,o.detailTemplate&&t++,o.groupFooterTemplate&&(o._groupAggregatesDefaultObject=o.dataSource.aggregates()),i=0,r=e.length;ri;i++)a+=o._groupRowHtml(e[i],t,0,shtut,l,s);else a+=o._rowsHtml(e,l);o.tbody=U(o.tbody,o.table,a)},_renderLockedContentfunction(e,t,n){var i,r,o,a=,s={rowTemplatethis.lockedRowTemplate,altRowTemplatethis.lockedAltRowTemplate,groupFooterTemplatethis.lockedGroupFooterTemplate};if(this.lockedContent){if(o=this.lockedTable,n0)for(t-=f(L(F(this.columns))).length,i=0,r=e.length;ri;i++)a+=this._groupRowHtml(e[i],t,0,ut,s);else a=this._rowsHtml(e,s);U(o.children(tbody),o,a),this._syncLockedContentHeight()}},_adjustRowsHeightfunction(e,t){var n,i,r,o,a=e[0].rows,s=a.length,l=t[0].rows,c=e.add(t),d=c.length,u=[];for(n=0;sn&&l[n];n++)a[n].style.height&&(a[n].style.height=l[n].style.height=),i=a[n].offsetHeight,r=l[n].offsetHeight,o=0,iro=iri&&(o=r),u.push(o);for(n=0;dn;n++)c[n].style.display=none;for(n=0;sn;n++)u[n]&&(a[n].style.height=l[n].style.height=u[n]+1+px);for(n=0;dn;n++)c[n].style.display=}});pt.ExcelMixin&&pt.ExcelMixin.extend(Dn.prototype),pt.PDFMixin&&(pt.PDFMixin.extend(Dn.prototype),Dn.prototype._drawPDF=function(n){function i(){d&&a!==t(c.unbind(change,r),c.one(change,function(){s.resolve(o)}),c.page(a))s.resolve(o)}function r(){l._drawPDFShadow().done(function(e){var t=c.page(),r=dc.totalPages()1,a={pagee,pageNumbert,progresstr,totalPagesr};n.notify(a),o.append(a.page),rtc.page(t+1)i()}).fail(function(e){s.reject(e)})}var o,a,s=new e.Deferred,l=this,c=l.dataSource,d=l.options.pdf.allPages;return this._initPDFProgress(n),o=new pt.drawing.Group,a=c.page(),d(c.bind(change,r),c.page(1))r(),s.promise()},Dn.prototype._initPDFProgress=function(t){var n,i=e(div class='k-loading-pdf-mask'div class='k-loading-color'div);i.prepend(this.wrapper.clone().css({positionabsolute,top0,left0})),this.wrapper.append(i),n=e(div class='k-loading-pdf-progress').appendTo(i).kendoProgressBar({typechunk,chunkCount10,min0,max1,value0}).data(kendoProgressBar),t.progress(function(e){n.value(e.progress)}).always(function(){pt.destroy(i),i.remove()})}),ft.plugin(Dn),ft.plugin(Sn)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=change,r=cancel,o=dataBound,a=dataBinding,s=n.ui.Widget,l=n.keys,c=,d=progress,u=error,h=k-state-focused,p=k-state-selected,f=k-edit-item,g=edit,m=remove,v=save,_=click,w=.kendoListView,y=e.proxy,b=n._activeElement,k=n.ui.progress,x=n.data.DataSource,C=n.ui.DataBoundWidget.extend({initfunction(t,i){var r=this;i=e.isArray(i){dataSourcei}i,s.fn.init.call(r,t,i),i=r.options,r.wrapper=t=r.element,t[0].id&&(r._itemId=t[0].id+_lv_active),r._element(),r._dataSource(),r._templates(),r._navigatable(),r._selectable(),r._pageable(),r._crudHandlers(),r.options.autoBind&&r.dataSource.fetch(),n.notify(r)},events[i,r,a,o,g,m,v],options{nameListView,autoBind!0,selectable!1,navigatable!1,template,altTemplate,editTemplate},setOptionsfunction(e){s.fn.setOptions.call(this,e),this._templates(),this.selectable&&(this.selectable.destroy(),this.selectable=null),this._selectable()},_templatesfunction(){var e=this.options;this.template=n.template(e.template),this.altTemplate=n.template(e.altTemplatee.template),this.editTemplate=n.template(e.editTemplate)},_itemfunction(e){return this.element.children()[e]()},itemsfunction(){return this.element.children()},dataItemfunction(t){var i=n.attr(uid),r=e(t).closest([+i+]).attr(i);return this.dataSource.getByUid(r)},setDataSourcefunction(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},_unbindDataSourcefunction(){var e=this;e.dataSource.unbind(i,e._refreshHandler).unbind(d,e._progressHandler).unbind(u,e._errorHandler)},_dataSourcefunction(){var e=this;e.dataSource&&e._refreshHandlere._unbindDataSource()(e._refreshHandler=y(e.refresh,e),e._progressHandler=y(e._progress,e),e._errorHandler=y(e._error,e)),e.dataSource=x.create(e.options.dataSource).bind(i,e._refreshHandler).bind(d,e._progressHandler).bind(u,e._errorHandler)},_progressfunction(){k(this.element,!0)},_errorfunction(){k(this.element,!1)},_elementfunction(){this.element.addClass(k-widget k-listview).attr(role,listbox)},refreshfunction(e){var i,r,s,l,c,d=this,u=d.dataSource.view(),h=,p=d.template,f=d.altTemplate,g=b();if(e=e{},itemchange===e.action)return d._hasBindingTarget()d.editable(i=e.items[0],s=d.items().filter([+n.attr(uid)+=+i.uid+]),s.length0&&(l=s.index(),d.angular(cleanup,function(){return{elements[s]}}),s.replaceWith(p(i)),s=d.items().eq(l),s.attr(n.attr(uid),i.uid),d.angular(compile,function(){return{elements[s],data[{dataItemi}]}}),d.trigger(itemChange,{items,datai}))),t;if(!d.trigger(a,{actione.actionrebind,itemse.items,indexe.index})){for(d._angularItems(cleanup),d._destroyEditable(),l=0,c=u.length;cl;l++)h+=l%2f(u[l])p(u[l]);for(d.element.html(h),r=d.items(),l=0,c=u.length;cl;l++)r.eq(l).attr(n.attr(uid),u[l].uid).attr(role,option).attr(aria-selected,false);d.element[0]===g&&d.options.navigatable&&d.current(r.eq(0)),d._angularItems(compile),d.trigger(o)}},_pageablefunction(){var t,i,r=this,o=r.options.pageable;e.isPlainObject(o)&&(i=o.pagerId,t=e.extend({},o,{dataSourcer.dataSource,pagerIdnull}),r.pager=new n.ui.Pager(e(#+i),t))},_selectablefunction(){var e,r,o=this,a=o.options.selectable,s=o.options.navigatable;a&&(e=n.ui.Selectable.parseOptions(a).multiple,o.selectable=new n.ui.Selectable(o.element,{aria!0,multiplee,filterc,changefunction(){o.trigger(i)}}),s&&o.element.on(keydown+w,function(n){if(n.keyCode===l.SPACEBAR){if(r=o.current(),n.target==n.currentTarget&&n.preventDefault(),e)if(n.ctrlKey){if(r&&r.hasClass(p))return r.removeClass(p),t}else o.selectable.clear();else o.selectable.clear();o.selectable.value(r)}}))},currentfunction(e){var n=this,i=n.element,r=n._current,o=n._itemId;return e===tr(r&&r[0]&&(r[0].id===o&&r.removeAttr(id),r.removeClass(h),i.removeAttr(aria-activedescendant)),e&&e[0]&&(o=e[0].ido,n._scrollTo(e[0]),i.attr(aria-activedescendant,o),e.addClass(h).attr(id,o)),n._current=e,t)},_scrollTofunction(t){var n,i,r=this,o=!1,a=scroll;auto==r.wrapper.css(overflow)r.wrapper.css(overflow)==an=r.wrapper[0](n=window,o=!0),i=function(i,r){var s=oe(t).offset()[i.toLowerCase()]t[offset+i],l=t[client+r],c=e(n)[a+i](),d=e(n)[r.toLowerCase()]();s+lc+de(n)[a+i](s+l-d)cs&&e(n)[a+i](s)},i(Top,Height),i(Left,Width)},_navigatablefunction(){var t=this,i=t.options.navigatable,r=t.element,o=function(n){t.current(e(n.currentTarget)),e(n.target).is(button,a,input,a.k-icon,textarea)r.focus()};i&&(t._tabindex(),r.on(focus+w,function(){var e=t._current;e&&e.is(visible)(e=t._item(first)),t.current(e)}).on(focusout+w,function(){t._current&&t._current.removeClass(h)}).on(keydown+w,function(i){var o,a,s=i.keyCode,c=t.current(),d=e(i.target),u=!d.is(button,textarea,a,a.t-icon,input),h=d.is(text),p=n.preventDefault,g=r.find(.+f),m=b();if(!(!u&&!h&&l.ESC!=sh&&l.ESC!=s&&l.ENTER!=s))if(l.UP===sl.LEFT===s)c&&(c=c.prev()),t.current(c&&c[0]ct._item(last)),p(i);else if(l.DOWN===sl.RIGHT===s)c&&(c=c.next()),t.current(c&&c[0]ct._item(first)),p(i);else if(l.PAGEUP===s)t.current(null),t.dataSource.page(t.dataSource.page()-1),p(i);else if(l.PAGEDOWN===s)t.current(null),t.dataSource.page(t.dataSource.page()+1),p(i);else if(l.HOME===s)t.current(t._item(first)),p(i);else if(l.END===s)t.current(t._item(last)),p(i);else if(l.ENTER===s)0!==g.length&&(uh)(o=t.items().index(g),m&&m.blur(),t.save(),a=function(){t.element.trigger(focus),t.current(t.items().eq(o))},t.one(dataBound,a))!==t.options.editTemplate&&t.edit(c);else if(l.ESC===s){if(g=r.find(.+f),0===g.length)return;o=t.items().index(g),t.cancel(),t.element.trigger(focus),t.current(t.items().eq(o))}}),r.on(mousedown+w+ touchstart+w,c,y(o,t)))},clearSelectionfunction(){var e=this;e.selectable.clear(),e.trigger(i)},selectfunction(n){var i=this,r=i.selectable;return n=e(n),n.length(r.options.multiple(r.clear(),n=n.first()),r.value(n),t)r.value()},_destroyEditablefunction(){var e=this;e.editable&&(e.editable.destroy(),delete e.editable)},_modelFromElementfunction(e){var t=e.attr(n.attr(uid));return this.dataSource.getByUid(t)},_closeEditablefunction(e){var t,i,r,o=this,a=o.editable,s=o.template,l=!0;return a&&(e&&(l=a.end()),l&&(a.element.index()%2&&(s=o.altTemplate),o.angular(cleanup,function(){return{elements[a.element]}}),t=o._modelFromElement(a.element),o._destroyEditable(),r=a.element.index(),a.element.replaceWith(s(t)),i=o.items().eq(r),i.attr(n.attr(uid),t.uid),o._hasBindingTarget()&&n.bind(i,t),o.angular(compile,function(){return{elements[i],data[{dataItemt}]}}))),l},editfunction(e){var t,i,r=this,o=r._modelFromElement(e),a=o.uid;r.cancel(),e=r.items().filter([+n.attr(uid)+=+a+]),i=e.index(),e.replaceWith(r.editTemplate(o)),t=r.items().eq(i).addClass(f).attr(n.attr(uid),o.uid),r.editable=t.kendoEditable({modelo,clearContainer!1,errorTemplate!1,targetr}).data(kendoEditable),r.trigger(g,{modelo,itemt})},savefunction(){var e,t=this,n=t.editable;n&&(n=n.element,e=t._modelFromElement(n),!t.trigger(v,{modele,itemn})&&t._closeEditable(!0)&&t.dataSource.sync())},removefunction(e){var t=this,n=t.dataSource,i=t._modelFromElement(e);t.editable&&(n.cancelChanges(t._modelFromElement(t.editable.element)),t._closeEditable(!1)),t.trigger(m,{modeli,iteme})(e.hide(),n.remove(i),n.sync())},addfunction(){var e=this,t=e.dataSource,n=t.indexOf((t.view()[])[0]);0n&&(n=0),e.cancel(),t.insert(n,{}),e.edit(e.element.children().first())},cancelfunction(){var e,t,n=this,i=n.dataSource;n.editable&&(e=n.editable.element,t=n._modelFromElement(e),n.trigger(r,{modelt,containere})(i.cancelChanges(t),n._closeEditable(!1)))},_crudHandlersfunction(){var t=this,i=_+w;t.element.on(i,.k-edit-button,function(i){var r=e(this).closest([+n.attr(uid)+]);t.edit(r),i.preventDefault()}),t.element.on(i,.k-delete-button,function(i){var r=e(this).closest([+n.attr(uid)+]);t.remove(r),i.preventDefault()}),t.element.on(i,.k-update-button,function(e){t.save(),e.preventDefault()}),t.element.on(i,.k-cancel-button,function(e){t.cancel(),e.preventDefault()})},destroyfunction(){var e=this;s.fn.destroy.call(e),e._unbindDataSource(),e._destroyEditable(),e.element.off(w),e.pager&&e.pager.destroy(),n.destroy(e.element)}});n.ui.plugin(C)}(window.kendo.jQuery),function(e,t){function n(t){return e.map(i(t),function(e){return e.name}).join(, )}function i(e){var t=e[0];return t.filesr(t.files)[{names(t.value),extensiona(t.value),sizenull}]}function r(t){return e.map(t,function(e){return o(e)})}function o(e){var t=e.namee.fileName;return{namew.htmlEncode(t),extensiona(t),sizee.sizee.fileSize,rawFilee}}function a(e){var t=e.match(x);return tt[0]}function s(e){var t=e.lastIndexOf();return-1!=te.substr(t+1)e}function l(t,n){var i=w.guid();return e.map(t,function(e){return e.uid=nw.guid()i,e})}function c(t){return!t.multiple&&e(.k-file,t.wrapper).length1}function d(n,i,r){var o,a;return i._supportsRemove()(o=n.data(fileNames),a=e.map(o,function(e){return e.name}),i._submitRemove(a,r,function(e,t,r){i._removeFileEntry(n),i.trigger(D,{operationremove,fileso,responsee,XMLHttpRequestr})},function(e){c(i)&&i._removeFileEntry(n),i.trigger(A,{operationremove,fileso,XMLHttpRequeste}),k(Server response +e.responseText)}),t)(c(i)&&i._removeFileEntry(n),t)}function u(t,n,i){var r=!1,o=;try{o=e.parseJSON(h(t)),r=!0}catch(a){i()}r&&n(o)}function h(e){return(t===e===e)&&(e={}),e}function p(e){e.stopPropagation(),e.preventDefault()}function f(e,t,n,i){var r,o;e.on(dragenter+t,function(){n(),o=new Date,r(r=setInterval(function(){var e=new Date-o;e100&&(i(),clearInterval(r),r=null)},100))}).on(dragover+t,function(){o=new Date})}function g(e){return e.is(.k-file-progress, .k-file-success, .k-file-error)}function m(t){return e(t.target).closest(.k-file)}var v,_,w=window.kendo,y=w.ui.Widget,b=w.antiForgeryTokens,k=w.logToConsole,x=.([^.]+)$,C=.kendoUpload,S=select,T=upload,D=success,A=error,E=complete,I=cancel,M=progress,P=remove,z=y.extend({initfunction(t,n){var i,r,o,a=this;y.fn.init.call(a,t,n),a.name=t.name,a.multiple=a.options.multiple,a.localization=a.options.localization,i=a.element,a.wrapper=i.closest(.k-upload),0===a.wrapper.length&&(a.wrapper=a._wrapInput(i)),a._activeInput(i),a.toggle(a.options.enabled),r=a._ns=C+-+w.guid(),i.closest(form).on(submit+r,e.proxy(a._onParentFormSubmit,a)).on(reset+r,e.proxy(a._onParentFormReset,a)),a.options.async.saveUrl(a._module=a._supportsFormData()new _(a)new v(a),a._async=!0,o=a.options.files,o.length0&&a._renderInitialFiles(o))a._module=new F(a),a._supportsDrop()&&a._setupDropZone(),a.wrapper.on(click,.k-upload-action,e.proxy(a._onFileAction,a)).on(click,.k-upload-selected,e.proxy(a._onUploadSelected,a)),a.element.val()&&a._onInputChange({targeta.element})},events[S,T,D,A,E,I,M,P],options{nameUpload,enabled!0,multiple!0,showFileList!0,template,files[],async{removeVerbPOST,autoUpload!0,withCredentials!0},localization{selectSelect files...,cancelCancel,retryRetry,removeRemove,uploadSelectedFilesUpload files,dropFilesHeredrop files here to upload,statusUploadinguploading,statusUploadeduploaded,statusWarningwarning,statusFailedfailed,headerStatusUploadingUploading...,headerStatusUploadedDone}},setOptionsfunction(e){var t=this,n=t.element;
y.fn.setOptions.call(t,e),t.multiple=t.options.multiple,n.attr(multiple,t._supportsMultiple()t.multiple!1),t.toggle(t.options.enabled)},enablefunction(e){e=t===e!0e,this.toggle(e)},disablefunction(){this.toggle(!1)},togglefunction(e){e=t===ee!e,this.wrapper.toggleClass(k-state-disabled,e),this.element.prop(disabled,e)},destroyfunction(){var t=this;e(document).add(e(.k-dropzone,t.wrapper)).add(t.wrapper.closest(form)).off(t._ns),e(t.element).off(C),y.fn.destroy.call(t)},_addInputfunction(t){if(t[0].nodeType){var n=this,i=t.clone().val();i.insertAfter(n.element).data(kendoUpload,n),e(n.element).hide().attr(tabindex,-1).removeAttr(id).off(C),n._activeInput(i),n.element.focus()}},_activeInputfunction(t){var n=this,i=n.wrapper;n.element=t,t.attr(multiple,n._supportsMultiple()n.multiple!1).attr(autocomplete,off).on(click+C,function(e){i.hasClass(k-state-disabled)&&e.preventDefault()}).on(focus+C,function(){e(this).parent().addClass(k-state-focused)}).on(blur+C,function(){e(this).parent().removeClass(k-state-focused)}).on(change+C,e.proxy(n._onInputChange,n)).on(keydown+C,e.proxy(n._onInputKeyDown,n))},_onInputKeyDownfunction(e){var t=this,n=t.wrapper.find(.k-upload-actionfirst);e.keyCode===w.keys.TAB&&n.length0&&(e.preventDefault(),n.focus())},_onInputChangefunction(t){var n=this,i=e(t.target),r=l(n._inputFiles(i),n._isAsyncNonBatch()),o=n.trigger(S,{filesr});o(n._addInput(i),i.remove())n._module.onSelect({targeti},r)},_onDropfunction(t){var n,i=t.originalEvent.dataTransfer,o=this,a=i.files,s=l(r(a),o._isAsyncNonBatch());p(t),a.length0&&(!o.multiple&&s.length1&&s.splice(1,s.length-1),n=o.trigger(S,{filess}),no._module.onSelect({targete(.k-dropzone,o.wrapper)},s))},_isAsyncNonBatchfunction(){return this._async&&!this.options.async.batch!1},_renderInitialFilesfunction(t){var n,i,r=this,o=0;for(t=l(t,!0),o=0;t.lengtho;o++)n=t[o],i=r._enqueueFile(n.name,{fileNames[n]}),i.addClass(k-file-success).data(files,[t[o]]),e(.k-progress,i).width(100%),r.options.templatee(.k-upload-status,i).prepend(span class='k-upload-pct'100%span),r._supportsRemove()&&r._fileAction(i,P)},_prepareTemplateDatafunction(e,t){var n=t.fileNames,i={},r=0,o=0;for(o=0;n.lengtho;o++)r+=n[o].size;return i.name=e,i.size=r,i.files=t.fileNames,i},_prepareDefaultFileEntryTemplatefunction(t,n){var i=,r=e(li class='k-file'span class='k-progress'spanspan class='k-icon'spanspan class='k-filename' title='+t+'+t+spanstrong class='k-upload-status'strongli);return 1==n.fileNames.length&&n.fileNames[0].extension&&(i=n.fileNames[0].extension.substring(1),e(.k-icon,r).addClass(k-i-+i)),r},_enqueueFilefunction(t,n){var i,r,o,a,s=this,l=n.fileNames[0].uid,c=e(.k-upload-files,s.wrapper),d=s.options,u=d.template;return 0===c.length&&(c=e(ul class='k-upload-files k-reset'ul).appendTo(s.wrapper),s.options.showFileListc.hide(),s.wrapper.removeClass(k-upload-empty)),i=e(.k-file,c),u(o=s._prepareTemplateData(t,n),u=w.template(u),r=e(li class='k-file'+u(o)+li),r.find(.k-upload-action).addClass(k-button k-button-bare),s.angular(compile,function(){return{elementsr,data[o]}}))r=s._prepareDefaultFileEntryTemplate(t,n),r.attr(w.attr(uid),l).appendTo(c).data(n),s._asynce(.k-progress,r).width(100%),!s.multiple&&i.length0&&(a={filesi.data(fileNames)},s.trigger(P,a)s._module.onRemove({targete(i,s.wrapper)},a.data)),r},_removeFileEntryfunction(t){var n,i,r=this,o=t.closest(.k-upload-files);t.remove(),n=e(.k-file,o),i=e(.k-file-success, .k-file-error,o),i.length===n.length&&this._hideUploadButton(),0===n.length&&(o.remove(),r.wrapper.addClass(k-upload-empty),r._hideHeaderUploadstatus())},_fileActionfunction(e,t){var n={removek-delete,cancelk-cancel,retryk-retry},i={removek-i-close,cancelk-i-close,retryk-i-refresh};n.hasOwnProperty(t)&&(this._clearFileAction(e),this.options.templatee.find(.k-upload-action).addClass(k-button k-button-bare).append(span class='k-icon +i[t]+ +n[t]+' title='+this.localization[t]+'span).show()(e.find(.k-upload-status .k-upload-action).remove(),e.find(.k-upload-status).append(this._renderAction(n[t],this.localization[t],i[t]))))},_fileStatefunction(t,n){var i=this.localization,r={uploading{texti.statusUploading},uploaded{texti.statusUploaded},failed{texti.statusFailed}},o=r[n];o&&e(.k-iconnot(.k-delete, .k-cancel, .k-retry),t).text(o.text)},_renderActionfunction(t,n,i){return e(!==tbutton type='button' class='k-button k-button-bare k-upload-action'span class='k-icon +i+ +t+' title='+n+'spanbuttonbutton type='button' class='k-button'+n+button)},_clearFileActionfunction(t){e(.k-upload-action,t).empty().hide()},_onFileActionfunction(t){var n,i,r,o,a=this;return a.wrapper.hasClass(k-state-disabled)(n=e(t.target).closest(.k-upload-action),i=n.find(.k-icon),r=n.closest(.k-file),o={filesr.data(fileNames)},i.hasClass(k-delete)a.trigger(P,o)a._module.onRemove({targete(r,a.wrapper)},o.data)i.hasClass(k-cancel)(a.trigger(I,o),a._module.onCancel({targete(r,a.wrapper)}),this._checkAllComplete(),a._updateHeaderUploadStatus())i.hasClass(k-retry)&&(e(.k-warning,r).remove(),a._module.onRetry({targete(r,a.wrapper)}))),!1},_onUploadSelectedfunction(){var e=this,t=e.wrapper;return t.hasClass(k-state-disabled)this._module.onSaveSelected(),!1},_onFileProgressfunction(t,n){var i;this.options.templatee(.k-progress,t.target).width(n+%)(i=e(.k-upload-pct,t.target),0===i.length&&e(.k-upload-status,t.target).prepend(span class='k-upload-pct'span),e(.k-upload-pct,t.target).text(n+%),e(.k-progress,t.target).width(n+%)),this.trigger(M,{filesm(t).data(fileNames),percentCompleten})},_onUploadSuccessfunction(e,t,n){var i=m(e);this._fileState(i,uploaded),i.removeClass(k-file-progress).addClass(k-file-success),this._updateHeaderUploadStatus(),this.trigger(D,{filesi.data(fileNames),responset,operationupload,XMLHttpRequestn}),this._supportsRemove()this._fileAction(i,P)this._clearFileAction(i),this._checkAllComplete()},_onUploadErrorfunction(t,n){var i=m(t),r=e(.k-upload-pct,i);this._fileState(i,failed),i.removeClass(k-file-progress).addClass(k-file-error),e(.k-progress,i).width(100%),r.length0r.empty().removeClass(k-upload-pct).addClass(k-icon k-warning)e(.k-upload-status,i).prepend(span class='k-icon k-warning'span),this._updateHeaderUploadStatus(),this._fileAction(i,retry),this.trigger(A,{operationupload,filesi.data(fileNames),XMLHttpRequestn}),k(Server response +n.responseText),this._checkAllComplete()},_showUploadButtonfunction(){var t=e(.k-upload-selected,this.wrapper);0===t.length&&(t=this._renderAction(,this.localization.uploadSelectedFiles).addClass(k-upload-selected)),this.wrapper.append(t)},_hideUploadButtonfunction(){e(.k-upload-selected,this.wrapper).remove()},_showHeaderUploadStatusfunction(){var t=this.localization,n=e(.k-dropzone,this.wrapper),i=e(.k-upload-status-total,this.wrapper);0!==i.length&&i.remove(),i='strong class=k-upload-status k-upload-status-total'+t.headerStatusUploading+'span class=k-icon k-loading'+t.statusUploading+spanstrong,n.length0n.append(i)e(.k-upload-button,this.wrapper).after(i)},_updateHeaderUploadStatusfunction(){var t,n,i,r=this,o=r.localization,a=e(.k-file,r.wrapper).not(.k-file-success, .k-file-error);0===a.length&&(t=e(.k-file.k-file-error,r.wrapper),n=e(.k-upload-status-total,r.wrapper),i=e(.k-icon,n).removeClass(k-loading).addClass(0!==t.lengthk-warningk-i-tick).text(0!==t.lengtho.statusWarningo.statusUploaded),n.text(r.localization.headerStatusUploaded).append(i))},_hideHeaderUploadstatusfunction(){e(.k-upload-status-total,this.wrapper).remove()},_onParentFormSubmitfunction(){var n,i=this,r=i.element;t!==this._module.onAbort&&this._module.onAbort(),r.value(n=e(r),n.attr(disabled,disabled),window.setTimeout(function(){n.removeAttr(disabled)},0))},_onParentFormResetfunction(){e(.k-upload-files,this.wrapper).remove()},_supportsFormDatafunction(){returnundefined!=typeof FormData},_supportsMultiplefunction(){var e=this._userAgent().indexOf(Windows)-1;return!(w.support.browser.operaw.support.browser.safari&&e)},_supportsDropfunction(){var e=this._userAgent().toLowerCase(),t=chrome.test(e),n=!t&&safari.test(e),i=n&&windows.test(e);return!i&&this._supportsFormData()&&this.options.async.saveUrl},_userAgentfunction(){return navigator.userAgent},_setupDropZonefunction(){var t,n,i=this;e(.k-upload-button,this.wrapper).wrap(div class='k-dropzone'div),t=i._ns,n=e(.k-dropzone,i.wrapper).append(e(em+i.localization.dropFilesHere+em)).on(dragenter+t,p).on(dragover+t,function(e){e.preventDefault()}).on(drop+t,e.proxy(this._onDrop,this)),f(n,t,function(){n.addClass(k-dropzone-hovered)},function(){n.removeClass(k-dropzone-hovered)}),f(e(document),t,function(){n.addClass(k-dropzone-active),n.closest(.k-upload).removeClass(k-upload-empty)},function(){n.removeClass(k-dropzone-active),0===e(li.k-file,n.closest(.k-upload)).length&&n.closest(.k-upload).addClass(k-upload-empty)})},_supportsRemovefunction(){return!!this.options.async.removeUrl},_submitRemovefunction(t,n,i,r){var o=this,a=o.options.async.removeFieldfileNames,s=e.extend(n,b());s[a]=t,jQuery.ajax({typethis.options.async.removeVerb,dataTypejson,dataFilterh,urlthis.options.async.removeUrl,traditional!0,datas,successi,errorr,xhrFields{withCredentialsthis.options.async.withCredentials}})},_wrapInputfunction(e){var t=this,n=t.options;return e.wrap(div class='k-widget k-upload k-header'div class='k-button k-upload-button'divdiv),n.async.saveUrle.closest(.k-upload).addClass(k-upload-sync),e.closest(.k-upload).addClass(k-upload-empty),e.closest(.k-button).append(span+this.localization.select+span),e.closest(.k-upload)},_checkAllCompletefunction(){0===e(.k-file.k-file-progress,this.wrapper).length&&this.trigger(E)},_inputFilesfunction(e){return i(e)}}),F=function(e){this.name=syncUploadModule,this.element=e.wrapper,this.upload=e,this.element.closest(form).attr(enctype,multipartform-data).attr(encoding,multipartform-data)};F.prototype={onSelectfunction(t,i){var r,o=this.upload,a=e(t.target);o._addInput(a),r=o._enqueueFile(n(a),{relatedInputa,fileNamesi}),o._fileAction(r,P)},onRemovefunction(e){var t=m(e);t.data(relatedInput).remove(),this.upload._removeFileEntry(t)}},v=function(e){this.name=iframeUploadModule,this.element=e.wrapper,this.upload=e,this.iframes=[]},z._frameId=0,v.prototype={onSelectfunction(t,n){var i=this.upload,r=e(t.target),o=this.prepareUpload(r,n);i.options.async.autoUploadthis.performUpload(o)(i._supportsRemove()&&this.upload._fileAction(o,P),i._showUploadButton())},prepareUploadfunction(t,i){var r,o,a,s=this.upload,l=e(s.element),c=s.options.async.saveFieldt.attr(name);return s._addInput(t),t.attr(name,c),r=this.createFrame(s.name+_+z._frameId++),this.registerFrame(r),o=this.createForm(s.options.async.saveUrl,r.attr(name)).append(l),a=s._enqueueFile(n(t),{framer,relatedInputl,fileNamesi}),r.data({formo,filea}),a},performUploadfunction(t){var n,i,r,o={filest.data(fileNames)},a=t.data(frame),s=this.upload;if(s.trigger(T,o))s._removeFileEntry(a.data(file)),this.cleanupFrame(a),this.unregisterFrame(a);else{s._hideUploadButton(),s._showHeaderUploadStatus(),a.appendTo(document.body),n=a.data(form).attr(action,s.options.async.saveUrl).appendTo(document.body),o.data=e.extend({},o.data,b());for(i in o.data)r=n.find(input[name='+i+']),0===r.length&&(r=e(input,{typehidden,namei}).prependTo(n)),r.val(o.data[i]);s._fileAction(t,I),s._fileState(t,uploading),e(t).removeClass(k-file-error).addClass(k-file-progress),a.one(load,e.proxy(this.onIframeLoad,this)),n[0].submit()}},onSaveSelectedfunction(){var t=this;e(.k-file,this.element).each(function(){var n=e(this),i=g(n);it.performUpload(n)})},onIframeLoadfunction(t){var n,i=e(t.target);try{n=i.contents().text()}catch(r){n=Error trying to get server response +r}this.processResponse(i,n)},processResponsefunction(t,n){var i=t.data(file),r=this,o={responseTextn};u(n,function(n){e.extend(o,{statusTextOK,status200}),r.upload._onFileProgress({targete(i,r.upload.wrapper)},100),r.upload._onUploadSuccess({targete(i,r.upload.wrapper)},n,o),r.cleanupFrame(t),r.unregisterFrame(t)},function(){e.extend(o,{statusTexterror,status500}),r.upload._onUploadError({targete(i,r.upload.wrapper)},o)})},onCancelfunction(t){var n=e(t.target).data(frame);this.stopFrameSubmit(n),this.cleanupFrame(n),this.unregisterFrame(n),this.upload._removeFileEntry(n.data(file))},onRetryfunction(e){var t=m(e);this.performUpload(t)},onRemovefunction(e,t){var n=m(e),i=n.data(frame);i(this.unregisterFrame(i),this.upload._removeFileEntry(n),this.cleanupFrame(i))d(n,this.upload,t)},onAbortfunction(){var t=this.element,n=this;e.each(this.iframes,function(){e(input,this.data(form)).appendTo(t),n.stopFrameSubmit(this[0]),this.data(form).remove(),this.remove()}),this.iframes=[]},createFramefunction(t){return e(iframe name='+t+' id='+t+' style='displaynone;' )},createFormfunction(t,n){return e(form enctype='multipartform-data' method='POST' action='+t+' target='+n+')},stopFrameSubmitfunction(e){t!==e.stope.stop()e.document&&e.document.execCommand(Stop)},registerFramefunction(e){this.iframes.push(e)},unregisterFramefunction(t){this.iframes=e.grep(this.iframes,function(e){return e.attr(name)!=t.attr(name)})},cleanupFramefunction(e){var t=e.data(form);e.data(file).data(frame,null),setTimeout(function(){t.remove(),e.remove()},1)}},_=function(e){this.name=formDataUploadModule,this.element=e.wrapper,this.upload=e},_.prototype={onSelectfunction(t,n){var i=this.upload,r=this,o=e(t.target),a=this.prepareUpload(o,n);e.each(a,function(){i.options.async.autoUploadr.performUpload(this)(i._supportsRemove()&&i._fileAction(this,P),i._showUploadButton())})},prepareUploadfunction(t,n){var i=this.enqueueFiles(n);return t.is(input)&&(e.each(i,function(){e(this).data(relatedInput,t)}),t.data(relatedFileEntries,i),this.upload._addInput(t)),i},enqueueFilesfunction(t){var n,i,r,o,a=this.upload,s=t.length,l=[];if(a.options.async.batch===!0)n=e.map(t,function(e){return e.name}).join(, ),o=a._enqueueFile(n,{fileNamest}),o.data(files,t),l.push(o);else for(i=0;si;i++)r=t[i],n=r.name,o=a._enqueueFile(n,{fileNames[r]}),o.data(files,[r]),l.push(o);return l},performUploadfunction(t){var n,i=this.upload,r=this.createFormData(),o=this.createXHR(),a={filest.data(fileNames),XMLHttpRequesto};if(i.trigger(T,a))this.removeFileEntry(t);else{if(i._fileAction(t,I),i._hideUploadButton(),i._showHeaderUploadStatus(),a.formData)r=a.formData;else{a.data=e.extend({},a.data,b());for(n in a.data)r.append(n,a.data[n]);this.populateFormData(r,t.data(files))}i._fileState(t,uploading),e(t).removeClass(k-file-error).addClass(k-file-progress),this.postFormData(i.options.async.saveUrl,r,t,o)}},onSaveSelectedfunction(){var t=this;e(.k-file,this.element).each(function(){var n=e(this),i=g(n);it.performUpload(n)})},onCancelfunction(e){var t=m(e);this.stopUploadRequest(t),this.removeFileEntry(t)},onRetryfunction(e){var t=m(e);this.performUpload(t)},onRemovefunction(e,t){var n=m(e);n.hasClass(k-file-success)d(n,this.upload,t)this.removeFileEntry(n)},createXHRfunction(){return new XMLHttpRequest},postFormDatafunction(e,t,n,i){var r=this;n.data(request,i),i.addEventListener(load,function(e){r.onRequestSuccess.call(r,e,n)},!1),i.addEventListener(A,function(e){r.onRequestError.call(r,e,n)},!1),i.upload.addEventListener(progress,function(e){r.onRequestProgress.call(r,e,n)},!1),i.open(POST,e,!0),i.withCredentials=this.upload.options.async.withCredentials,i.send(t)},createFormDatafunction(){return new FormData},populateFormDatafunction(e,t){var n,i=this.upload,r=t.length;for(n=0;rn;n++)e.append(i.options.async.saveFieldi.name,t[n].rawFile);return e},onRequestSuccessfunction(t,n){function i(){o.upload._onUploadError({targete(n,o.upload.wrapper)},r)}var r=t.target,o=this;r.status=200&&299=r.statusu(r.responseText,function(t){o.upload._onFileProgress({targete(n,o.upload.wrapper)},100),o.upload._onUploadSuccess({targete(n,o.upload.wrapper)},t,r),o.cleanupFileEntry(n)},i)i()},onRequestErrorfunction(t,n){var i=t.target;this.upload._onUploadError({targete(n,this.upload.wrapper)},i)},cleanupFileEntryfunction(t){var n=t.data(relatedInput),i=!0;n&&(e.each(n.data(relatedFileEntries)[],function(){this.parent().length0&&this[0]!=t[0]&&(i=i&&this.hasClass(k-file-success))}),i&&n.remove())},removeFileEntryfunction(e){this.cleanupFileEntry(e),this.upload._removeFileEntry(e)},onRequestProgressfunction(t,n){var i=Math.round(100t.loadedt.total);this.upload._onFileProgress({targete(n,this.upload.wrapper)},i)},stopUploadRequestfunction(e){e.data(request).abort()}},w.ui.plugin(z)}(window.kendo.jQuery),function(e,t){function n(e,t,n){var i,r;e.on(dragenter+x,function(){t(),r=new Date,i(i=setInterval(function(){var e=new Date-r;e100&&(n(),clearInterval(i),i=null)},100))}).on(dragover+x,function(){r=new Date})}function i(e,n){return e!==t&&e.match($)(e=(e)+),e+n}function r(e){if(!e)return;var t= bytes;return e=1073741824(t= GB,e=1073741824)e=1048576(t= MB,e=1048576)e=1024&&(t= KB,e=1024),Math.round(100e)100+t}function o(e,t){var n=e[t];return h(n)n.fromn.fieldtn}var a,s,l,c,d=window.kendo,u=d.ui.Widget,h=e.isPlainObject,p=e.proxy,f=e.extend,g=d.support.placeholder,m=d.support.browser,v=d.isFunction,_=(^$)g,w=change,y=apply,b=error,k=click,x=.kendoFileBrowser,C=.kendoBreadcrumbs,S=.kendoSearchBox,T=name,D=size,A=type,E={fieldA,dirasc},I=d.template('li class=k-tile-emptystrong${text}strongli'),M='div class=k-widget k-filebrowser-toolbar k-header k-floatwrapdiv class=k-toolbar-wrap# if (showUpload) { # div class=k-widget k-uploaddiv class=k-button k-button-icontext k-upload-buttonspan class=k-icon k-addspan#=messages.uploadFile#input type=file name=file divdiv# } ## if (showCreate) { #button type=button class=k-button k-button-iconspan class=k-icon k-addfolder button# } ## if (showDelete) { #button type=button class=k-button k-button-icon k-state-disabledspan class=k-icon k-delete button&nbsp;# } #divdiv class=k-tiles-arrangelabel#=messages.orderBy# select labeladivdiv';f(!0,d.data,{schemas{filebrowser{datafunction(e){return e.itemse[]},model{idname,fields{namename,sizesize,typetype}}}}}),f(!0,d.data,{transports{filebrowserd.data.RemoteTransport.extend({initfunction(t){d.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_callfunction(t,n){n.data=e.extend({},n.data,{paththis.options.path()}),v(this.options[t])this.options[t].call(this,n)d.data.RemoteTransport.fn[t].call(this,n)},readfunction(e){this._call(read,e)},createfunction(e){this._call(create,e)},destroyfunction(e){this._call(destroy,e)},updatefunction(){},options{read{typePOST},update{typePOST},create{typePOST},destroy{typePOST}}})}}),a=m.msie&&8m.versionfunction(e){return e.offsetTop}function(t){return t.offsetTop-e(t).height()},s=u.extend({initfunction(e,t){var n=this;t=t{},u.fn.init.call(n,e,t),n.element.addClass(k-filebrowser),n.element.on(k+x,.k-filebrowser-toolbar buttonnot(.k-state-disabled)has(.k-delete),p(n._deleteClick,n)).on(k+x,.k-filebrowser-toolbar buttonnot(.k-state-disabled)has(.k-addfolder),p(n._addClick,n)).on(keydown+x,li.k-state-selected input,p(n._directoryKeyDown,n)).on(blur+x,li.k-state-selected input,p(n._directoryBlur,n)),n._dataSource(),n.refresh(),n.path(n.options.path)},options{nameFileBrowser,messages{uploadFileUpload,orderByArrange by,orderByNameName,orderBySizeSize,directoryNotFoundA directory with this name was not found.,emptyFolderEmpty Folder,deleteFile'Are you sure you want to delete {0}',invalidFileType'The selected file {0} is not valid. Supported file types are {1}.',overwriteFile'A file with name {0} already exists in the current directory. Do you want to overwrite it',dropFilesHeredrop file here to upload,searchSearch},transport{},path,fileTypes.},events[b,w,y],destroyfunction(){var e=this;u.fn.destroy.call(e),e.dataSource.unbind(b,e._errorHandler),e.element.add(e.list).add(e.toolbar).off(x),d.destroy(e.element)},valuefunction(){var e,n=this,r=n._selectedItem(),o=n.options.transport.fileUrl;return r&&f===r.get(A)(e=i(n.path(),r.get(T)).replace(_,),o&&(e=v(o)o(e)d.format(o,encodeURIComponent(e))),e)t},_selectedItemfunction(){var e=this.listView,n=e.select();return n.lengththis.dataSource.getByUid(n.attr(d.attr(uid)))t},_toolbarfunction(){var t=this,n=d.template(M),i=t.options.messages,r=[{texti.orderByName,valuename},{texti.orderBySize,valuesize}];t.toolbar=e(n({messagesi,showUploadt.options.transport.uploadUrl,showCreatet.options.transport.create,showDeletet.options.transport.destroy})).appendTo(t.element).find(.k-upload input).kendoUpload({multiple!1,localization{dropFilesHerei.dropFilesHere},async{saveUrlt.options.transport.uploadUrl,autoUpload!0},uploadp(t._fileUpload,t),errorfunction(e){t._error({xhre.XMLHttpRequest,statuserror})}}).end(),t.upload=t.toolbar.find(.k-upload input).data(kendoUpload),t.arrangeBy=t.toolbar.find(.k-tiles-arrange select).kendoDropDownList({dataSourcer,dataTextFieldtext,dataValueFieldvalue,changefunction(){t.orderBy(this.value())}}).data(kendoDropDownList),t._attachDropzoneEvents()},_attachDropzoneEventsfunction(){var t=this;t.options.transport.uploadUrl&&(n(e(document.documentElement),e.proxy(t._dropEnter,t),e.proxy(t._dropLeave,t)),t._scrollHandler=p(t._positionDropzone,t))},_dropEnterfunction(){this._positionDropzone(),e(document).on(scroll+x,this._scrollHandler)},_dropLeavefunction(){this._removeDropzone(),e(document).off(scroll+x,this._scrollHandler)},_positionDropzonefunction(){var e=this,t=e.element,n=t.offset();e.toolbar.find(.k-dropzone).addClass(k-filebrowser-dropzone).offset(n).css({widtht[0].clientWidth,heightt[0].clientHeight,lineHeightt[0].clientHeight+px})},_removeDropzonefunction(){this.toolbar.find(.k-dropzone).removeClass(k-filebrowser-dropzone).css({width,height,lineHeight,top,left})},_deleteClickfunction(){var e=this,t=e.listView.select(),n=d.format(e.options.messages.deleteFile,t.find(strong).text());t.length&&e._showMessage(n,confirm)&&e.listView.remove(t)},_addClickfunction(){this.createDirectory()},_getFieldNamefunction(e){return o(this.dataSource.reader.model.fields,e)},_fileUploadfunction(e){var t,n=this,i=n.options,r=i.fileTypes,o=RegExp(((+r.split(,).join()()+)).replace(.g,..),i),a=e.files[0].name,s=T,l=D;o.test(a)(e.data={pathn.path()},t=n._createFile(a),tn.upload.one(success,function(e){t.set(s,e.response[n._getFieldName(s)]),t.set(l,e.response[n._getFieldName(l)]),n._tiles=n.listView.items().filter([+d.attr(type)+=f])})e.preventDefault())(e.preventDefault(),n._showMessage(d.format(i.messages.invalidFileType,a,r)))},_findFilefunction(e){var t,n,i,r=this.dataSource.data(),o=A,a=T;for(e=e.toLowerCase(),t=0,i=r.length;it;t++)if(f===r[t].get(o)&&r[t].get(a).toLowerCase()===e){n=r[t];break}return n},_createFilefunction(e){var t,n,i=this,r=0,o={},a=A,s=i.dataSource.view(),l=i._findFile(e);if(l&&!i._showMessage(d.format(i.options.messages.overwriteFile,e),confirm))return null;if(l)return l;for(t=0,n=s.length;nt;t++)if(f===s[t].get(a)){r=t;break}return o[a]=f,o[T]=e,o[D]=0,i.dataSource.insert(++r,o)},createDirectoryfunction(){var e,t,n=this,i=0,r=A,o=T,a=n.dataSource.data(),s=n._nameDirectory(),l=new n.dataSource.reader.model;for(e=0,t=a.length;te;e++)d===a[e].get(r)&&(i=e);l.set(r,d),l.set(o,s),n.listView.one(dataBound,function(){var e=n.listView.items().filter([+d.attr(uid)+=+l.uid+]),t=e.find(input);e.length&&this.edit(e),this.element.scrollTop(e.attr(offsetTop)-this.element[0].offsetHeight),setTimeout(function(){t.select()})}).one(save,function(e){var t=e.model.get(o);te.model.set(o,n._nameExists(t,l.uid)n._nameDirectory()t)e.model.set(o,s)}),n.dataSource.insert(++i,l)},_directoryKeyDownfunction(e){13==e.keyCode&&e.currentTarget.blur()},_directoryBlurfunction(){this.listView.save()},_nameExistsfunction(e,t){var n,i,r=this.dataSource.data(),o=A,a=T;for(n=0,i=r.length;in;n++)if(d===r[n].get(o)&&r[n].get(a).toLowerCase()===e.toLowerCase()&&r[n].uid!==t)return!0;return!1},_nameDirectoryfunction(){var t,n,i,r=New folder,o=this.dataSource.data(),a=[],s=A,l=T;for(n=0,i=o.length;in;n++)d===o[n].get(s)&&o[n].get(l).toLowerCase().indexOf(r.toLowerCase())-1&&a.push(o[n].get(l));if(e.inArray(r,a)-1){n=2;do t=r+ (+n+),n++;while(e.inArray(t,a)-1);r=t}return r},orderByfunction(e){this.dataSource.sort([{fieldA,dirasc},{fielde,dirasc}])},searchfunction(e){this.dataSource.filter({fieldT,operatorcontains,valuee})},_contentfunction(){var t=this;t.list=e('ul class=k-reset k-floats k-tiles ').appendTo(t.element).on(dblclick+x,li,p(t._dblClick,t)),t.listView=new d.ui.ListView(t.list,{dataSourcet.dataSource,templatet._itemTmpl(),editTemplatet._editTmpl(),selectable!0,autoBind!1,dataBindingfunction(e){t.toolbar.find(.k-delete).parent().addClass(k-state-disabled),(remove===e.actionsync===e.action)&&e.preventDefault()},dataBoundfunction(){t.dataSource.view().lengtht._tiles=this.items().filter([+d.attr(type)+=f])this.wrapper.append(I({textt.options.messages.emptyFolder}))},changep(t._listViewChange,t)})},_dblClickfunction(t){var n,r=this,o=e(t.currentTarget);o.hasClass(k-edit-item)&&r._directoryBlur(),o.filter([+d.attr(type)+=d]).length(n=r.dataSource.getByUid(o.attr(d.attr(uid))),n&&(r.path(i(r.path(),n.get(T))),r.breadcrumbs.value(r.path())))o.filter([+d.attr(type)+=f]).length&&r.trigger(y)},_listViewChangefunction(){var e=this._selectedItem();e&&(this.toolbar.find(.k-delete).parent().removeClass(k-state-disabled),f===e.get(A)&&this.trigger(w))},_dataSourcefunction(){var e,t=this,n=t.options,i=n.transport,r=f({},E),o={fieldT,dirasc},a={typei.typefilebrowser,sort[r,o]};h(i)&&(i.path=p(t.path,t),a.transport=i),h(n.schema)a.schema=n.schemai.type&&h(d.data.schemas[i.type])&&(e=d.data.schemas[i.type]),t.dataSource&&t._errorHandlert.dataSource.unbind(b,t._errorHandler)t._errorHandler=p(t._error,t),t.dataSource=d.data.DataSource.create(a).bind(b,t._errorHandler)},_navigationfunction(){var t=this,n=e('div class=k-floatwrapinputinputdiv').appendTo(this.element);t.breadcrumbs=n.find(inputfirst).kendoBreadcrumbs({valuet.options.path,changefunction(){t.path(this.value())}}).data(kendoBreadcrumbs),t.searchBox=n.parent().find(inputlast).kendoSearchBox({labelt.options.messages.search,changefunction(){t.search(this.value())}}).data(kendoSearchBox)},_errorfunction(e){var t,n=this;n.trigger(b,e)(t=e.xhr.status,error==e.status404==tn._showMessage(n.options.messages.directoryNotFound)0!=t&&n._showMessage(Error! The requested URL returned +t+ - +e.xhr.statusText)timeout==t&&n._showMessage(Error! Server timeout.))},_showMessagefunction(e,t){return window[talert](e)},refreshfunction(){var e=this;e._navigation(),e._toolbar(),e._content()},_editTmplfunction(){var e='li class=k-tile k-state-selected '+d.attr(uid)+'=#=uid# ';return e+=d.attr(type)+'=${'+A+'}',e+=#if(+A+' == d) { #',e+='div class=k-thumbspan class=k-icon k-folderspandiv',e+=#}else{#,e+='div class=k-thumbspan class=k-icon k-loadingspandiv',e+=#}#,e+=#if(+A+' == d) { #',e+='input class=k-input '+d.attr(bind)+'=value'+T+'',e+=#}#,e+=li,p(d.template(e),{sizeFormatterr})},_itemTmplfunction(){var e='li class=k-tile '+d.attr(uid)+'=#=uid# ';return e+=d.attr(type)+'=${'+A+'}',e+=#if(+A+' == d) { #',e+='div class=k-thumbspan class=k-icon k-folderspandiv',e+=#}else{#,e+='div class=k-thumbspan class=k-icon k-filespandiv',e+=#}#,e+=strong${+T+}strong,e+=#if(+A+' == f) { # span class=k-filesize${this.sizeFormatter('+D+)}span #}#,e+=li,p(d.template(e),{sizeFormatterr})},pathfunction(e){var n=this,i=n._path;return e!==t(n._path=e.replace(_,)+,n.dataSource.read({pathn._path}),t)(i&&(i=i.replace(_,)),===i===ii+)}}),l=u.extend({initfunction(e,t){var n=this;t=t{},u.fn.init.call(n,e,t),g&&n.element.attr(placeholder,n.options.label),n._wrapper(),n.element.on(keydown+S,p(n._keydown,n)).on(change+S,p(n._updateValue,n)),n.wrapper.on(k+S,a,p(n._click,n)),gn.element.on(focus+S,p(n._focus,n)).on(blur+S,p(n._blur,n))},options{nameSearchBox,labelSearch,value},events[w],destroyfunction(){var e=this;e.wrapper.add(e.element).add(e.label).off(S),u.fn.destroy.call(e)},_keydownfunction(e){13===e.keyCode&&this._updateValue()},_clickfunction(e){e.preventDefault(),this._updateValue()},_updateValuefunction(){var e=this,t=e.element.val();t!==e.value()&&(e.value(t),e.trigger(w))},_blurfunction(){this._updateValue(),this._toggleLabel()},_toggleLabelfunction(){gthis.label.toggle(!this.element.val())},_focusfunction(){this.label.hide()},_wrapperfunction(){var t=this.element,n=t.parents(.k-search-wrap);t[0].style.width=,t.addClass(k-input),n.length(n=t.wrap(e('div class=k-widget k-search-wrap k-textbox')).parent(),ge('label style=displayblock'+this.options.label+label).insertBefore(t),e('a href=# class=k-icon k-i-search k-search').appendTo(n)),this.wrapper=n,this.label=n.find(label)},valuefunction(e){var n=this;return e!==t(n.options.value=e,n.element.val(e),n._toggleLabel(),t)n.options.value}}),c=u.extend({initfunction(e,t){var n=this;t=t{},u.fn.init.call(n,e,t),n._wrapper(),n.wrapper.on(focus+C,input,p(n._focus,n)).on(blur+C,input,p(n._blur,n)).on(keydown+C,input,p(n._keydown,n)).on(k+C,a.k-i-arrow-nfirst,p(n._rootClick,n)).on(k+C,anot(.k-i-arrow-n),p(n._click,n)),n.value(n.options.value)},options{nameBreadcrumbs,gap50},events[w],destroyfunction(){var e=this;u.fn.destroy.call(e),e.wrapper.add(e.wrapper.find(input)).add(e.wrapper.find(a)).off(C)},_updatefunction(e){e====(e).charAt(0)e+(e),e!==this.value()&&(this.value(e),this.trigger(w))},_clickfunction(t){t.preventDefault(),this._update(this._path(e(t.target).prevAll(anot(.k-i-arrow-n)).addBack()))},_rootClickfunction(e){e.preventDefault(),this._update()},_focusfunction(){var e=this,t=e.element;e.overlay.hide(),e.element.val(e.value()),setTimeout(function(){t.select()})},_blurfunction(){if(!this.overlay.is(visible)){var e=this,t=e.element,n=t.val().replace({2,}g,);e.overlay.show(),t.val(),e._update(n)}},_keydownfunction(e){var t=this;13===e.keyCode&&(t._blur(),setTimeout(function(){t.overlay.find(afirst).focus()}))},_wrapperfunction(){var t,n=this.element,i=n.parents(.k-breadcrumbs);n[0].style.width=,n.addClass(k-input),i.length(i=n.wrap(e('div class=k-widget k-breadcrumbs k-textbox')).parent()),t=i.find(.k-breadcrumbs-wrap),t.length(t=e('div class=k-breadcrumbs-wrap').appendTo(i)),this.wrapper=i,this.overlay=t},refreshfunction(){var n,i,r,o,a=,s=this.value();for(s!==t&&s.match(^)(s=+(s)),n=s.split(),r=0,o=n.length;or;r++)i=n[r],i&&(a(a+='a href=# class=k-icon k-i-arrow-nroota'),a+='a class=k-link href=#'+n[r]+a,a+='span class=k-icon k-i-arrow-e&gt;span');
this.overlay.empty().append(e(a)),this._adjustSectionWidth()},_adjustSectionWidthfunction(){var t,n=this,i=n.wrapper,r=i.width()-n.options.gap,o=n.overlay.find(a);o.each(function(n){t=e(this),t.parent().width()r&&(n==o.length-1t.width(r)t.prev().addBack().hide())})},valuefunction(e){return e!==t(this._value=e.replace({2,}g,),this.refresh(),t)this._value},_pathfunction(t){return+e.map(t,function(t){return e(t).text()}).join()}}),d.ui.plugin(s),d.ui.plugin(c),d.ui.plugin(l)}(window.kendo.jQuery),function(e,t){function n(e,n){return e!==t&&e.match($)(e=(e)+),e+n}function i(e){if(!e)return;var t= bytes;return e=1073741824(t= GB,e=1073741824)e=1048576(t= MB,e=1048576)e=1024&&(t= KB,e=1024),Math.round(100e)100+t}var r,o,a=window.kendo,s=a.ui.FileBrowser,l=e.isPlainObject,c=e.proxy,d=e.extend,u=a.support.browser,h=a.isFunction,p=(^$)g,f=error,g=.kendoImageBrowser,m=name,v=size,_=type,w={field_,dirasc},y=a.template('li class=k-tile-emptystrong${text}strongli');d(!0,a.data,{schemas{imagebrowser{datafunction(e){return e.itemse[]},model{idname,fields{namename,sizesize,typetype}}}}}),d(!0,a.data,{transports{imagebrowsera.data.RemoteTransport.extend({initfunction(t){a.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_callfunction(t,n){n.data=e.extend({},n.data,{paththis.options.path()}),h(this.options[t])this.options[t].call(this,n)a.data.RemoteTransport.fn[t].call(this,n)},readfunction(e){this._call(read,e)},createfunction(e){this._call(create,e)},destroyfunction(e){this._call(destroy,e)},updatefunction(){},options{read{typePOST},update{typePOST},create{typePOST},destroy{typePOST}}})}}),r=u.msie&&8u.versionfunction(e){return e.offsetTop}function(t){return t.offsetTop-e(t).height()},o=s.extend({initfunction(e,t){var n=this;t=t{},s.fn.init.call(n,e,t),n.element.addClass(k-imagebrowser)},options{nameImageBrowser,fileTypes.png,.gif,.jpg,.jpeg},valuefunction(){var e,i=this,r=i._selectedItem(),o=i.options.transport.imageUrl;return r&&f===r.get(_)(e=n(i.path(),r.get(m)).replace(p,),o&&(e=h(o)o(e)a.format(o,encodeURIComponent(e))),e)t},_fileUploadfunction(e){var t,n=this,i=n.options,r=i.fileTypes,o=RegExp(((+r.split(,).join()()+)).replace(.g,..),i),s=e.files[0].name,l=m,c=v;o.test(s)(e.data={pathn.path()},t=n._createFile(s),t(t._uploading=!0,n.upload.one(success,function(e){delete t._uploading,t.set(l,e.response[n._getFieldName(l)]),t.set(c,e.response[n._getFieldName(c)]),n._tiles=n.listView.items().filter([+a.attr(type)+=f]),n._scroll()}))e.preventDefault())(e.preventDefault(),n._showMessage(a.format(i.messages.invalidFileType,s,r)))},_contentfunction(){var t=this;t.list=e('ul class=k-reset k-floats k-tiles ').appendTo(t.element).on(scroll+g,c(t._scroll,t)).on(dblclick+g,li,c(t._dblClick,t)),t.listView=new a.ui.ListView(t.list,{dataSourcet.dataSource,templatet._itemTmpl(),editTemplatet._editTmpl(),selectable!0,autoBind!1,dataBindingfunction(e){t.toolbar.find(.k-delete).parent().addClass(k-state-disabled),(remove===e.actionsync===e.action)&&e.preventDefault()},dataBoundfunction(){t.dataSource.view().length(t._tiles=this.items().filter([+a.attr(type)+=f]),t._scroll())this.wrapper.append(y({textt.options.messages.emptyFolder}))},changec(t._listViewChange,t)})},_dataSourcefunction(){var e,t=this,n=t.options,i=n.transport,r=d({},w),o={fieldm,dirasc},s={typei.typeimagebrowser,sort[r,o]};l(i)&&(i.path=c(t.path,t),s.transport=i),l(n.schema)s.schema=n.schemai.type&&l(a.data.schemas[i.type])&&(e=a.data.schemas[i.type]),t.dataSource&&t._errorHandlert.dataSource.unbind(f,t._errorHandler)t._errorHandler=c(t._error,t),t.dataSource=a.data.DataSource.create(s).bind(f,t._errorHandler)},_loadImagefunction(t){var n=this,i=e(t),r=n.dataSource.getByUid(i.attr(a.attr(uid))),o=r.get(m),s=n.options.transport.thumbnailUrl,l=e(img ,{alto}),c=;r._uploading(l.hide().on(load+g,function(){e(this).prev().remove().end().addClass(k-image).fadeIn()}),i.find(.k-loading).after(l),h(s)s=s(n.path(),encodeURIComponent(o))(s.indexOf()=0&&(c=&),s=s+c+path=+n.path()+encodeURIComponent(o)),l.attr(src,s),t.loaded=!0)},_scrollfunction(){var e=this;e.options.transport&&e.options.transport.thumbnailUrl&&(clearTimeout(e._timeout),e._timeout=setTimeout(function(){var n=e.list.outerHeight(),i=e.list.scrollTop(),o=i+n;e._tiles.each(function(){var n=r(this),a=n+this.offsetHeight;return(n=i&&ona=i&&oa)&&e._loadImage(this),no!1t}),e._tiles=e._tiles.filter(function(){return!this.loaded})},250))},_itemTmplfunction(){var e=this,t='li class=k-tile '+a.attr(uid)+'=#=uid# ';return t+=a.attr(type)+'=${'+_+'}',t+=#if(+_+' == d) { #',t+='div class=k-thumbspan class=k-icon k-folderspandiv',t+=#}else{#,t+=e.options.transport&&e.options.transport.thumbnailUrl'div class=k-thumbspan class=k-icon k-loadingspandiv''div class=k-thumbspan class=k-icon k-filespandiv',t+=#}#,t+=strong${+m+}strong,t+=#if(+_+' == f) { # span class=k-filesize${this.sizeFormatter('+v+)}span #}#,t+=li,c(a.template(t),{sizeFormatteri})}}),a.ui.plugin(o)}(window.kendo.jQuery),function(e,t){var n,i,r,o,a=window.kendo,s=a.Class,l=a.ui.Widget,c=a.support.mobileOS,d=a.support.browser,u=e.extend,h=e.proxy,p=a.deepExtend,f=.kendoEditor,g=a.keys,m=s.extend({initfunction(e){this.options=e},getHtmlfunction(){var e=this.options;return a.template(e.template,{useWithBlock!1})(e)}}),v={editorWrapperTemplate'table cellspacing=4 cellpadding=0 class=k-widget k-editor k-header role=presentationtbodytr role=presentationtd class=k-editor-toolbar-wrap role=presentationul class=k-editor-toolbar role=toolbar tdtrtrtd class=k-editable-area trtbodytable',buttonTemplate'a href= role=button class=k-tool#= data.popup   data-popup   # unselectable=on title=#= data.title #span unselectable=on class=k-tool-icon #= data.cssClass ##= data.title #spana',colorPickerTemplate'div class=k-colorpicker #= data.cssClass # ',comboBoxTemplate'select title=#= data.title # class=#= data.cssClass # ',dropDownListTemplate'span class=k-editor-dropdownselect title=#= data.title # class=#= data.cssClass # span',separatorTemplate'span class=k-separator ',formatByNamefunction(t,n){for(var i=0;n.lengthi;i++)if(e.inArray(t,n[i].tags)=0)return n[i]},registerToolfunction(e,t){var n=t.options;n&&n.template&&(n.template.options.cssClass=k-+e),t.name(t.options.name=e,t.name=e.toLowerCase()),b.defaultTools[e]=t},registerFormatfunction(e,t){b.fn.options.formats[e]=t}},_={boldBold,italicItalic,underlineUnderline,strikethroughStrikethrough,superscriptSuperscript,subscriptSubscript,justifyCenterCenter text,justifyLeftAlign text left,justifyRightAlign text right,justifyFullJustify,insertUnorderedListInsert unordered list,insertOrderedListInsert ordered list,indentIndent,outdentOutdent,createLinkInsert hyperlink,unlinkRemove hyperlink,insertImageInsert image,insertFileInsert file,insertHtmlInsert HTML,viewHtmlView HTML,fontNameSelect font family,fontNameInherit(inherited font),fontSizeSelect font size,fontSizeInherit(inherited size),formatBlockFormat,formattingFormat,foreColorColor,backColorBackground color,styleStyles,emptyFolderEmpty Folder,editAreaTitleEditable area. Press F10 for toolbar.,uploadFileUpload,orderByArrange by,orderBySizeSize,orderByNameName,invalidFileType'The selected file {0} is not valid. Supported file types are {1}.',deleteFile'Are you sure you want to delete {0}',overwriteFile'A file with name {0} already exists in the current directory. Do you want to overwrite it',directoryNotFoundA directory with this name was not found.,imageWebAddressWeb address,imageAltTextAlternate text,imageWidthWidth (px),imageHeightHeight (px),fileWebAddressWeb address,fileTitleTitle,linkWebAddressWeb address,linkTextText,linkToolTipToolTip,linkOpenInNewWindowOpen link in new window,dialogUpdateUpdate,dialogInsertInsert,dialogCancelCancel,createTableCreate table,createTableHintCreate a {0} x {1} table,addColumnLeftAdd column on the left,addColumnRightAdd column on the right,addRowAboveAdd row above,addRowBelowAdd row below,deleteRowDelete row,deleteColumnDelete column},w=!cc.ios&&c.flatVersion=500!c.ios&&t!==document.documentElement.contentEditable,y={basic[bold,italic,underline],alignment[justifyLeft,justifyCenter,justifyRight],lists[insertUnorderedList,insertOrderedList],indenting[indent,outdent],links[createLink,unlink],tables[createTable,addColumnLeft,addColumnRight,addRowAbove,addRowBelow,deleteRow,deleteColumn]},b=l.extend({initfunction(t,n){var i,r,o,s,c,d=this,g=a.ui.editor,m=g.Dom;w&&(l.fn.init.call(d,t,n),d.options=p({},d.options,n),t=d.element,c=t[0],s=m.name(c),t.closest(form).on(submit+f,function(){d.update()}),o=u({},d.options),o.editor=d,textarea==s(d._wrapTextarea(),r=d.wrapper.find(.k-editor-toolbar),c.id&&r.attr(aria-controls,c.id))(d.element.attr(contenteditable,!0).addClass(k-widget k-editor k-editor-inline),o.popup=!0,r=e('ul class=k-editor-toolbar role=toolbar ').insertBefore(t)),d.toolbar=new g.Toolbar(r[0],o),d.toolbar.bindTo(d),textarea==s&&setTimeout(function(){var e=d.wrapper[0].style.height,t=parseInt(e,10),n=d.wrapper.height();e.indexOf(px)0&&!isNaN(t)&&nt&&d.wrapper.height(t-(n-t))}),d._resizable(),d._initializeContentElement(d),d.keyboard=new g.Keyboard([new g.BackspaceHandler(d),new g.TypingHandler(d),new g.SystemHandler(d)]),d.clipboard=new g.Clipboard(this),d.undoRedoStack=new g.UndoRedoStack,n&&n.valuei=n.valued.textarea(i=c.value,d.options.encoded&&e.trim(c.defaultValue).length&&(i=c.defaultValue),i=i.replace([rnvft ]+gi, ))i=c.innerHTML,d.value(i),e(document).on(mousedown,h(d._endTyping,d)).on(mouseup,h(d._mouseup,d)),a.notify(d))},_endTypingfunction(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch(t){}},_selectionChangefunction(){d.msiea.ui.editor.Dom.ensureTrailingBreaks(this.body),this._selectionStarted=!1,this.saveSelection(),this.trigger(select,{})},_resizablefunction(){this.options.resizable&&this.textarea&&(e(div class='k-resize-handle'span class='k-icon k-resize-se' div).insertAfter(this.textarea),this.wrapper.kendoResizable(u({},this.options.resizable,{startfunction(t){var n=this.editor=e(t.currentTarget).closest(.k-editor);this.initialSize=n.height(),n.find(tdlast).append(div class='k-overlay' )},resizefunction(e){var t=e.y.initialDelta,n=this.initialSize+t,i=this.options.min0,r=this.options.max10;n=Math.min(r,Math.max(i,n)),this.editor.height(n)},resizeendfunction(){this.editor.find(.k-overlay).remove(),this.editor=null}})))},_wrapTextareafunction(){var t=this,n=t.element,i=n[0].style.width,r=n[0].style.height,o=v.editorWrapperTemplate,a=e(o).insertBefore(n).width(i).height(r),s=a.find(.k-editable-area);n.attr(autocomplete,off).appendTo(s).addClass(k-content k-raw-content).css(display,none),t.textarea=n,t.wrapper=a},_createContentElementfunction(t){var n,i,r,o=this,s=o.textarea,l=o.options.domain,c=ldocument.domain,d=,u='javascript';return(lc!=location.hostname)&&(d='scriptdocument.domain='+c+'script',u=javascriptdocument.write('+d+')),s.hide(),n=e(iframe ,{titleo.options.messages.editAreaTitle,frameBorder0})[0],e(n).css(display,).addClass(k-content).insertBefore(s),n.src=u,i=n.contentWindown,r=i.documentn.contentDocument,e(n).one(load,function(){o.toolbar.decorateFrom(r.body)}),r.open(),r.write(!DOCTYPE htmlhtmlheadmeta charset='utf-8' stylehtml,body{padding0;margin0;height100%;min-height100%;}body{font-size12px;font-familyVerdana,Geneva,sans-serif;padding-top1px;margin-top-1px;word-wrap break-word;-webkit-nbsp-mode space;-webkit-line-break after-white-space;+(a.support.isRtl(s)directionrtl;)+}h1{font-size2em;margin.67em 0}h2{font-size1.5em}h3{font-size1.16em}h4{font-size1em}h5{font-size.83em}h6{font-size.7em}p{margin0 0 1em;padding0 .2em}.k-marker{displaynone;}.k-paste-container,.Apple-style-span{positionabsolute;left-10000px;width1px;height1px;overflowhidden}ul,ol{padding-left2.5em}span{-ms-high-contrast-adjustnone;}a{color#00a}code{font-size1.23em}telerik3Ascript{display none;}.k-table{table-layoutfixed;width100%;border-spacing0;margin 0 0 1em;}.k-table td{min-width1px;padding.2em .3em;}.k-table,.k-table td{outline0;border 1px dotted #ccc;}.k-table p{margin0;padding0;}style+d+script(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');script+e.map(t,function(e){returnlink rel='stylesheet' href='+e+'}).join()+headbody autocorrect='off' contenteditable='true'bodyhtml),r.close(),i},_blurfunction(){var e=this.textarea,t=ee.val()this._oldValue,n=this.options.encodedthis.encodedValue()this.value();this.update(),e&&e.trigger(blur),n!=t&&this.trigger(change)},_spellCorrectfunction(n){var i,r=!1;e(n.body).on(contextmenu+f,function(){n.one(select,function(){i=null}),n._spellCorrectTimeout=setTimeout(function(){i=new a.ui.editor.RestorePoint(n.getRange()),r=!1},10)}).on(input+f,function(){return ia.support.browser.mozilla&&!r(r=!0,t)(a.ui.editor._finishUpdate(n,i),t)t})},_initializeContentElementfunction(){var n,i,r=this;r.textarea(r.window=r._createContentElement(r.options.stylesheets),n=r.document=r.window.contentDocumentr.window.document,r.body=n.body,i=r.window,e(n).on(mouseup+f,h(r._mouseup,r)))(r.window=window,n=r.document=document,r.body=r.element[0],i=r.body,r.toolbar.decorateFrom(r.body)),e(i).on(blur+f,h(this._blur,this));try{n.execCommand(enableInlineTableEditing,null,!1)}catch(o){}a.support.touch&&e(n).on(selectionchange+f,h(this._selectionChange,this)).on(keydown+f,function(){a._activeElement()!=n.body&&r.window.focus()}),this._spellCorrect(r),e(r.body).on(dragstart+f,!1).on(keydown+f,function(e){var n,i,o,a,s,l;return e.keyCode===g.F10(setTimeout(h(r.toolbar.focus,r.toolbar),100),e.preventDefault(),t)((e.keyCode==g.LEFTe.keyCode==g.RIGHT)&&(n=r.getRange(),i=e.keyCode==g.LEFT,o=n[istartContainerendContainer],a=n[istartOffsetendOffset],s=i-11,i&&(a-=1),a+s0&&3==o.nodeType&&﻿==o.nodeValue[a]&&(n.setStart(o,a+s),n.collapse(!0),r.selectRange(n))),(l=r.keyboard.toolFromShortcut(r.toolbar.tools,e))(e.preventDefault(),^(undoredo)$.test(l)r.keyboard.endTyping(!0),r.trigger(keydown,e),r.exec(l),!1)(r.keyboard.clearTimeout(),r.keyboard.keydown(e),t))}).on(keyup+f,function(t){var n=[8,9,33,34,35,36,37,38,39,40,40,45,46];(e.inArray(t.keyCode,n)-165==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&r._selectionChange(),r.keyboard.keyup(t)}).on(mousedown+f,function(t){if(r._selectionStarted=!0,!d.gecko){var n=e(t.target);(2==t.which1==t.which&&t.ctrlKey)&&n.is(a[href])&&window.open(n.attr(href),_new)}}).on(click+f,function(e){var t,n=a.ui.editor.Dom;img===n.name(e.target)&&(t=r.createRange(),t.selectNode(e.target),r.selectRange(t))}).on(cut+f+ paste+f,function(e){r.clipboard[on+e.type](e)}).on(focusin+f,function(){e(this).addClass(k-state-active),r.toolbar.show()}).on(focusout+f,function(){setTimeout(function(){var t=a._activeElement(),n=r.body,i=r.toolbar;t==ne.contains(n,t)e(t).is(.k-editortoolbar-dragHandle)i.focused()(e(n).removeClass(k-state-active),i.hide())},10)})},_mouseupfunction(){var e=this;e._selectionStarted&&setTimeout(function(){e._selectionChange()},1)},refreshfunction(){var e=this;e.textarea&&(e.textarea.val(e.value()),e.wrapper.find(iframe).remove(),e._initializeContentElement(e),e.value(e.textarea.val()))},events[select,change,execute,error,paste,keydown,keyup],options{nameEditor,messages_,formats{},encoded!0,domainnull,serialization{entities!0,semantic!0,scripts!1},stylesheets[],dialogOptions{modal!0,resizable!1,draggable!0,animation!1},fontName[{textArial,valueArial,Helvetica,sans-serif},{textCourier New,value'Courier New',Courier,monospace},{textGeorgia,valueGeorgia,serif},{textImpact,valueImpact,Charcoal,sans-serif},{textLucida Console,value'Lucida Console',Monaco,monospace},{textTahoma,valueTahoma,Geneva,sans-serif},{textTimes New Roman,value'Times New Roman',Times,serif},{textTrebuchet MS,value'Trebuchet MS',Helvetica,sans-serif},{textVerdana,valueVerdana,Geneva,sans-serif}],fontSize[{text1 (8pt),valuexx-small},{text2 (10pt),valuex-small},{text3 (12pt),valuesmall},{text4 (14pt),valuemedium},{text5 (18pt),valuelarge},{text6 (24pt),valuex-large},{text7 (36pt),valuexx-large}],formatBlock[{textParagraph,valuep},{textQuotation,valueblockquote},{textHeading 1,valueh1},{textHeading 2,valueh2},{textHeading 3,valueh3},{textHeading 4,valueh4},{textHeading 5,valueh5},{textHeading 6,valueh6}],tools[].concat.call([formatting],y.basic,y.alignment,y.lists,y.indenting,y.links,[insertImage],y.tables)},destroyfunction(){var t=this;l.fn.destroy.call(t),e(t.window).add(t.document).add(t.body).add(t.wrapper).add(t.element.closest(form)).off(f),e(document).off(mousedown,h(t._endTyping,t)).off(mouseup,h(t._mouseup,t)),clearTimeout(this._spellCorrectTimeout),t._focusOutside(),t.toolbar.destroy(),a.destroy(t.wrapper)},_focusOutsidefunction(){if(a.support.browser.msie&&this.textarea){var t=e(input style='positionabsolute;left-10px;top-10px;width1px;height1px;font-size0;border0;' ).appendTo(document.body).focus();t.blur().remove()}},statefunction(e){var t,n,i=b.defaultTools[e],r=i&&(i.options.finderi.finder),o=a.ui.editor.RangeUtils;return r(t=this.getRange(),n=o.textNodes(t),!n.length&&t.collapsed&&(n=[t.startContainer]),r.getFormatr.getFormat(n)r.isFormatted(n))!1},valuefunction(e){var n=this.body,i=a.ui.editor,r=i.Serializer.domToXhtml(n,this.options.serialization);return e===tr(e!=r&&(i.Serializer.htmlToDom(e,n),d.msiea.ui.editor.Dom.ensureTrailingBreaks(this.body),this.selectionRestorePoint=null,this.update(),this.toolbar.refreshTools()),t)},saveSelectionfunction(t){t=tthis.getRange();var n=t.commonAncestorContainer,i=this.body;(n==ie.contains(i,n))&&(this.selectionRestorePoint=new a.ui.editor.RestorePoint(t))},_focusBodyfunction(){var e,t=this.body,n=this.wrapper&&this.wrapper.find(iframe)[0],i=this.document.documentElement,r=a._activeElement();r!=t&&r!=n&&(e=i.scrollTop,t.focus(),i.scrollTop=e)},restoreSelectionfunction(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focusfunction(){this.restoreSelection()},updatefunction(e){e=ethis.options.encodedthis.encodedValue()this.value(),this.textareathis.textarea.val(e)this._oldValue=e},encodedValuefunction(){return a.ui.editor.Dom.encode(this.value())},createRangefunction(e){return a.ui.editor.RangeUtils.createRange(ethis.document)},getSelectionfunction(){return a.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRangefunction(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},getRangefunction(){var e=this.getSelection(),t=e&&e.rangeCount0e.getRangeAt(0)this.createRange(),n=this.document;return t.startContainer!=nt.endContainer!=nt.startOffsett.endOffset(t.setStart(this.body,0),t.collapse(!0)),t},selectedHtmlfunction(){return a.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},pastefunction(t,n){var i=new a.ui.editor.InsertHtmlCommand(e.extend({rangethis.getRange(),htmlt},n));i.editor=this,i.exec()},execfunction(e,n){var i,r,o,a,s=this,l=null;if(!e)throw Error(kendoEditor.exec() `name` parameter cannot be empty);if(true!==s.body.getAttribute(contenteditable))return!1;if(e=e.toLowerCase(),s.keyboard.isTypingInProgress()s.restoreSelection(),r=s.toolbar.toolById(e),!r)for(a in b.defaultTools)if(a.toLowerCase()==e){r=b.defaultTools[a];break}if(r){if(i=s.getRange(),r.command&&(l=r.command(u({rangei},n))),o=s.trigger(execute,{namee,commandl}))return;if(^(undoredo)$i.test(e))s.undoRedoStack[e]();else if(l&&(l.managesUndoRedos.undoRedoStack.push(l),l.editor=s,l.exec(),l.async))return l.change=h(s._selectionChange,s),t;s._selectionChange()}}});b.defaultTools={undo{options{keyZ,ctrl!0}},redo{options{keyY,ctrl!0}}},a.ui.plugin(b),n=s.extend({initfunction(e){this.options=e},initializefunction(e,t){e.attr({unselectableon,titlet.title})},commandfunction(e){return new this.options.command(e)},updatee.noop}),n.exec=function(e,t,n){e.exec(t,{valuen})},i=n.extend({initfunction(e){n.fn.init.call(this,e)},commandfunction(e){var t=this;return new a.ui.editor.FormatCommand(u(e,{formattert.options.formatter}))},updatefunction(e,t){var n=this.options.finder.isFormatted(t);e.toggleClass(k-state-selected,n),e.attr(aria-pressed,n)}}),v.registerTool(separator,new n({templatenew m({templatev.separatorTemplate})})),r=d.msie&&9d.version﻿,o='br class=k-br ',d.msie&&(10d.versiono=﻿11d.version&&(o= )),u(a.ui,{editor{ToolTemplatem,EditorUtilsv,Tooln,FormatTooli,_bomFillr,emptyElementContento}}),a.PDFMixin&&(a.PDFMixin.extend(b.prototype),b.prototype._drawPDF=function(){return a.drawing.drawDOM(this.body,this.options.pdf)},b.prototype.saveAsPDF=function(){var t,n,i=new e.Deferred,r=i.promise(),o={promiser};if(!this.trigger(pdfExport,o))return t=this.options.pdf,n=t.paperSize,this._drawPDF(i).then(function(e){return t.paperSize=auto,a.drawing.exportPDF(e,t)}).done(function(e){a.saveAs({dataURIe,fileNamet.fileName,proxyURLt.proxyURL,forceProxyt.forceProxy}),t.paperSize=n,i.resolve()}).fail(function(e){i.reject(e)}),r})}(window.jQuery),function(e){function t(e){var t,n,i={};for(t=0,n=e.length;nt;t++)i[e[t]]=!0;return i}var n,i,r,o,a,s,l,c,d,u,h=window.kendo,p=e.map,f=e.extend,g=h.support.browser,m=style,v=float,_=cssFloat,w=styleFloat,y=class,b=k-marker,k=t(area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed.split(,)),x=div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption.split(,),C=x.concat([ul,ol,li]),S=t(C),T=span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby.split(,),D=t(T),A=t(checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected.split(,)),E=function(e){1==e.nodeType&&e.normalize()};g.msie&&g.version=8&&(E=function(e){if(1==e.nodeType&&e.firstChild)for(var t=e.firstChild,n=t;;){if(n=n.nextSibling,!n)break;3==n.nodeType&&3==t.nodeType&&(n.nodeValue=t.nodeValue+n.nodeValue,u.remove(t)),t=n}}),n=^s+$,i=rgbs(s(d+)s,s(d+)s,s(d+)s)i,r=ufeffg,o=^(s+ufeff)$,s=color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height.split(,),l=[&]g,c=[u00A0-u2666&]g,d={34quot,38amp,39apos,60lt,62gt,160nbsp,161iexcl,162cent,163pound,164curren,165yen,166brvbar,167sect,168uml,169copy,170ordf,171laquo,172not,173shy,174reg,175macr,176deg,177plusmn,178sup2,179sup3,180acute,181micro,182para,183middot,184cedil,185sup1,186ordm,187raquo,188frac14,189frac12,190frac34,191iquest,192Agrave,193Aacute,194Acirc,195Atilde,196Auml,197Aring,198AElig,199Ccedil,200Egrave,201Eacute,202Ecirc,203Euml,204Igrave,205Iacute,206Icirc,207Iuml,208ETH,209Ntilde,210Ograve,211Oacute,212Ocirc,213Otilde,214Ouml,215times,216Oslash,217Ugrave,218Uacute,219Ucirc,220Uuml,221Yacute,222THORN,223szlig,224agrave,225aacute,226acirc,227atilde,228auml,229aring,230aelig,231ccedil,232egrave,233eacute,234ecirc,235euml,236igrave,237iacute,238icirc,239iuml,240eth,241ntilde,242ograve,243oacute,244ocirc,245otilde,246ouml,247divide,248oslash,249ugrave,250uacute,251ucirc,252uuml,253yacute,254thorn,255yuml,402fnof,913Alpha,914Beta,915Gamma,916Delta,917Epsilon,918Zeta,919Eta,920Theta,921Iota,922Kappa,923Lambda,924Mu,925Nu,926Xi,927Omicron,928Pi,929Rho,931Sigma,932Tau,933Upsilon,934Phi,935Chi,936Psi,937Omega,945alpha,946beta,947gamma,948delta,949epsilon,950zeta,951eta,952theta,953iota,954kappa,955lambda,956mu,957nu,958xi,959omicron,960pi,961rho,962sigmaf,963sigma,964tau,965upsilon,966phi,967chi,968psi,969omega,977thetasym,978upsih,982piv,8226bull,8230hellip,8242prime,8243Prime,8254oline,8260frasl,8472weierp,8465image,8476real,8482trade,8501alefsym,8592larr,8593uarr,8594rarr,8595darr,8596harr,8629crarr,8656lArr,8657uArr,8658rArr,8659dArr,8660hArr,8704forall,8706part,8707exist,8709empty,8711nabla,8712isin,8713notin,8715ni,8719prod,8721sum,8722minus,8727lowast,8730radic,8733prop,8734infin,8736ang,8743and,8744or,8745cap,8746cup,8747int,8756there4,8764sim,8773cong,8776asymp,8800ne,8801equiv,8804le,8805ge,8834sub,8835sup,8836nsub,8838sube,8839supe,8853oplus,8855otimes,8869perp,8901sdot,8968lceil,8969rceil,8970lfloor,8971rfloor,9001lang,9002rang,9674loz,9824spades,9827clubs,9829hearts,9830diams,338OElig,339oelig,352Scaron,353scaron,376Yuml,710circ,732tilde,8194ensp,8195emsp,8201thinsp,8204zwnj,8205zwj,8206lrm,8207rlm,8211ndash,8212mdash,8216lsquo,8217rsquo,8218sbquo,8220ldquo,8221rdquo,8222bdquo,8224dagger,8225Dagger,8240permil,8249lsaquo,8250rsaquo,8364euro},u={blockS,inlineD,findNodeIndexfunction(e,t){var n=0;if(!e)return-1;for(;;){if(e=e.previousSibling,!e)break;t&&3==e.nodeTypen++}return n},isDataNodefunction(e){return e&&null!==e.nodeValue&&null!==e.data},isAncestorOffunction(t,n){try{return!u.isDataNode(t)&&(e.contains(t,u.isDataNode(n)n.parentNoden)n.parentNode==t)}catch(i){return!1}},isAncestorOrSelffunction(e,t){return u.isAncestorOf(e,t)e==t},findClosestAncestorfunction(e,t){if(u.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getNodeLengthfunction(e){return u.isDataNode(e)e.lengthe.childNodes.length},splitDataNodefunction(e,t){for(var n,i=e.cloneNode(!1),r=,o=e.nextSibling;o&&3==o.nodeType&&o.nodeValue;)r+=o.nodeValue,n=o,o=o.nextSibling,u.remove(n);e.deleteData(t,e.length),i.deleteData(0,t),i.nodeValue+=r,u.insertAfter(i,e)},attrEqualsfunction(e,t){var n,i;for(n in t)if(i=e[n],n==v&&(i=e[h.support.cssFloat_w]),object==typeof i){if(!u.attrEquals(i,t[n]))return!1}else if(i!=t[n])return!1;return!0},blockParentOrBodyfunction(e){return u.parentOfType(e,C)e.ownerDocument.body},blockParentsfunction(t){var n,i,r,o=[];for(n=0,i=t.length;in;n++)r=u.parentOfType(t[n],u.blockElements),r&&e.inArray(r,o)0&&o.push(r);return o},windowFromDocumentfunction(e){return e.defaultViewe.parentWindow},normalizeE,blockElementsC,nonListBlockElementsx,inlineElementsT,emptyk,fillAttrsA,toHexfunction(e){var t=i.exec(e);return t#+p(t.slice(1),function(e){return e=parseInt(e,10).toString(16),e.length1e0+e}).join()e},encodefunction(e,t){var n=!tt.entitiescl;return e.replace(n,function(e){var t=e.charCodeAt(0),n=d[t];return n&+n+;e})},stripBomfunction(e){return(e).replace(r,)},insignificantfunction(e){var t=e.attributes;returnk-marker==e.classNameu.is(e,br)&&(k-br==e.classNamet._moz_dirtyt._moz_editor_bogus_node)},significantNodesfunction(t){return e.grep(t,function(e){var t=u.name(e);returnbr==t!1u.insignificant(e)!13==e.nodeType&&o.test(e.nodeValue)!11==e.nodeType&&!k[t]&&u.emptyNode(e)!1!0})},emptyNodefunction(e){return!u.significantNodes(e.childNodes).length},namefunction(e){return e.nodeName.toLowerCase()},significantChildNodesfunction(t){return e.grep(t.childNodes,function(e){return 3!=e.nodeType!u.isWhitespace(e)})},lastTextNodefunction(e){var t,n=null;if(3==e.nodeType)return e;for(t=e.lastChild;t;t=t.previousSibling)if(n=u.lastTextNode(t))return n;return n},isfunction(e,t){return u.name(e)==t},isMarkerfunction(e){return e.className==b},isWhitespacefunction(e){return n.test(e.nodeValue)},isBlockfunction(e){return S[u.name(e)]},isEmptyfunction(e){return k[u.name(e)]},isInlinefunction(e){return D[u.name(e)]},scrollContainerfunction(e){var t=u.windowFromDocument(e),n=(t.contentWindowt).documentt.ownerDocumentt;return n=h.support.browser.webkitBackCompat==n.compatModen.bodyn.documentElement},scrollTofunction(t){var n,i,r=e(u.isDataNode(t)t.parentNodet),o=u.windowFromDocument(t.ownerDocument),a=o.innerHeight,s=u.scrollContainer(t.ownerDocument);br==u.name(r[0])&&(r=r.parent()),n=r.offset().top,i=r[0].offsetHeight,u.is(r[0],p)&&(i=parseInt(r.css(line-height),10)Math.ceil(1.2parseInt(r.css(font-size),10))15),i+ns.scrollTop+a&&(s.scrollTop=i+n-a)},persistScrollTopfunction(e){a=u.scrollContainer(e).scrollTop},restoreScrollTopfunction(e){u.scrollContainer(e).scrollTop=a},insertAtfunction(e,t,n){e.insertBefore(t,e.childNodes[n]null)},insertBeforefunction(e,t){return t.parentNodet.parentNode.insertBefore(e,t)t},insertAfterfunction(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},removefunction(e){e.parentNode.removeChild(e)},removeTextSiblingsfunction(e){for(var t=e.parentNode;e.nextSibling&&3==e.nextSibling.nodeType;)t.removeChild(e.nextSibling);for(;e.previousSibling&&3==e.previousSibling.nodeType;)t.removeChild(e.previousSibling)},trimfunction(e){var t,n;for(t=e.childNodes.length-1;t=0;t--)n=e.childNodes[t],u.isDataNode(n)(u.stripBom(n.nodeValue).lengthu.remove(n),u.isWhitespace(n)&&u.insertBefore(n,e))n.className!=b&&(u.trim(n),n.childNodes.lengthu.isEmpty(n)u.remove(n));return e},closestfunction(e,t){for(;e&&u.name(e)!=t;)e=e.parentNode;return e},siblingfunction(e,t){do e=e[t];while(e&&1!=e.nodeType);return e},nextfunction(e){return u.sibling(e,nextSibling)},prevfunction(e){return u.sibling(e,previousSibling)},parentOfTypefunction(e,t){do e=e.parentNode;while(e&&!u.ofType(e,t));return e},ofTypefunction(t,n){return e.inArray(u.name(t),n)=0},changeTagfunction(e,t,n){var i,r,o,a,s,l=u.create(e.ownerDocument,t),c=e.attributes;if(!n)for(i=0,r=c.length;ri;i++)s=c[i],s.specified&&(o=s.nodeName,a=s.nodeValue,o==yl.className=ao==ml.style.cssText=e.style.cssTextl.setAttribute(o,a));for(;e.firstChild;)l.appendChild(e.firstChild);
return u.insertBefore(l,e),u.remove(e),l},editableParentfunction(e){for(;e&&(3==e.nodeTypetrue!==e.contentEditable);)e=e.parentNode;return e},wrapfunction(e,t){return u.insertBefore(t,e),t.appendChild(e),t},unwrapfunction(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},createfunction(e,t,n){return u.attr(e.createElement(t),n)},attrfunction(e,t){t=f({},t),t&&m in t&&(u.style(e,t.style),delete t.style);for(var n in t)null===t[n](e.removeAttribute(n),delete t[n])className==n&&(e[n]=t[n]);return f(e,t)},stylefunction(t,n){e(t).css(n{})},unstylefunction(e,t){for(var n in t)n==v&&(n=h.support.cssFloat_w),e.style[n]=;===e.style.cssText&&e.removeAttribute(m)},inlineStylefunction(t,n,i){var r,o=e(u.create(t.ownerDocument,n,i));return t.appendChild(o[0]),r=p(s,function(e){return g.msie&&line-height==e&&1px==o.css(e)line-height1.5e++o.css(e)}).join(;),o.remove(),r},getEffectiveBackgroundfunction(e){var t=e.css(background-color);return t.indexOf(rgba(0, 0, 0, 0)0&&transparent!==tthtml===e[0].tagName.toLowerCase()Windowu.getEffectiveBackground(e.parent())},removeClassfunction(t,n){var i,r,o= +t.className+ ,a=n.split( );for(i=0,r=a.length;ri;i++)o=o.replace( +a[i]+ , );o=e.trim(o),o.lengtht.className=ot.removeAttribute(y)},commonAncestorfunction(){var e,t,n,i,r,o=arguments.length,a=[],s=10,l=null;if(!o)return null;if(1==o)return arguments[0];for(e=0;oe;e++){for(t=[],n=arguments[e];n;)t.push(n),n=n.parentNode;a.push(t.reverse()),s=Math.min(s,t.length)}if(1==o)return a[0][0];for(e=0;se;e++){for(i=a[0][e],r=1;or;r++)if(i!=a[r][e])return l;l=i}return l},closestSplittableParentfunction(t){var n,i,r;return n=1==t.lengthu.parentOfType(t[0],[ul,ol])u.commonAncestor.apply(null,t),n(n=u.parentOfType(t[0],[p,td])t[0].ownerDocument.body),u.isInline(n)&&(n=u.blockParentOrBody(n)),i=p(t,u.editableParent),r=u.commonAncestor(i)[0],e.contains(n,r)&&(n=r),n},closestEditablefunction(t,n){var i=u.parentOfType(t,n),r=u.editableParent(t);return i&&r&&e.contains(i,r)i=r!i&&r&&(i=r),i},closestEditableOfTypefunction(e,t){var n=u.closestEditable(e,t);return n&&u.ofType(n,t)nvoid 0},filterfunction(e,t,n){for(var i,r=0,o=t.length,a=[];or;r++)i=u.name(t[r]),(!n&&i==en&&i!=e)&&a.push(t[r]);return a},ensureTrailingBreaksfunction(t){var n=e(t).find(p,td,th),i=n.length,r=0;if(i)for(;ir;r++)u.ensureTrailingBreak(n[r]);else u.ensureTrailingBreak(t)},ensureTrailingBreakfunction(t){var n,i,r;e(t).find(br[type=_moz],.k-br).remove(),n=t.lastChild,i=n&&u.name(n),(!ibr!=i&&img!=ibr==i&&k-br!=n.className)&&(r=t.ownerDocument.createElement(br),r.className=k-br,t.appendChild(r))}},h.ui.editor.Dom=u}(window.kendo.jQuery),function(e,t){var n,i,r=window.kendo,o=r.ui.editor,a=o.Dom,s=e.extend,l=xx-small,x-small,small,medium,large,x-large,xx-large.split(,),c=g,d=br[^]i,u=^d+(.d)(px)$i,h=ppi,p=([w-]+)ss([^;]+);i,f=^sizzle-d+i,g=^k-script-i,m=sonerrors=s(')([^'s])(')i,v=document.createElement(div);v.innerHTML= hr,n=3===v.firstChild.nodeType,v=null,i={toEditableHtmlfunction(e){var t='br class=k-br';return e=e,e.replace(![CDATA[(.)]]g,!--[CDATA[$1]]--).replace(script([^])(.)scriptgi,kscript$1$2kscript).replace(img([^])gi,function(e){return e.replace(m,)}).replace((img[^])[rnvft ]+gi,$1).replace(^(tableblockquote)i,t+$1).replace((tableblockquote)$i,$1+t)},_fillEmptyElementsfunction(t){e(t).find(p).each(function(){var t,n=e(this);if(^s$g.test(n.text())&&!n.find(img,input).length){for(t=this;t.firstChild&&3!=t.firstChild.nodeType;)t=t.firstChild;1!=t.nodeTypea.empty[a.name(t)](t.innerHTML=r.ui.editor.emptyElementContent)}})},_removeSystemElementsfunction(t){e(.k-paste-container,t).remove()},_resetOrderedListsfunction(e){var t,n,i,r=e.getElementsByTagName(ol);for(t=0;r.lengtht;t++)n=r[t],i=n.getAttribute(start),n.setAttribute(start,1),in.setAttribute(start,i)n.removeAttribute(i)},_preventScriptExecutionfunction(t){e(t).find().each(function(){var e,t,n,i,r=this.attributes;for(t=0,n=r.length;nt;t++)e=r[t],i=e.nodeName,e.specified&&^oni.test(i)&&(this.setAttribute(k-script-+i,e.value),this.removeAttribute(i))})},htmlToDomfunction(t,n){var o,s,l=r.support.browser,c=l.msie,d=c&&9l.version;return t=i.toEditableHtml(t),d&&(t=br+t,o=originalsrc,s=originalhref,t=t.replace(hrefs=s(')([^'s])('),s+'=$1'),t=t.replace(srcs=s(')([^'s])('),o+'=$1')),n.innerHTML=t,d(a.remove(n.firstChild),e(n).find(kscript,script,link,img,a).each(function(){var e=this;e[s]&&(e.setAttribute(href,e[s]),e.removeAttribute(s)),e[o]&&(e.setAttribute(src,e[o]),e.removeAttribute(o))}))c&&(a.normalize(n),i._resetOrderedLists(n)),i._preventScriptExecution(n),i._fillEmptyElements(n),i._removeSystemElements(n),e(table,n).addClass(k-table),n},domToXhtmlfunction(i,o){function s(t){return e.grep(t,function(e){returnstyle!=e.name})}function m(t){var n,i,r,o,s,l=e.trim,d=l(t).split(;),u=[];for(o=0,s=d.length;so;o++)d[o].length&&(n=p.exec(d[o]),n&&(i=l(n[1].toLowerCase()),r=l(n[2]),font-size-adjust!=i&&font-stretch!=i&&(i.indexOf(color)=0r=a.toHex(r)i.indexOf(font)=0r=r.replace(c,')burl(g.test(r)&&(r=r.replace(c,)),u.push({propertyi,valuer}))));return u}function v(e){var t,n=m(e);for(t=0;n.lengtht;t++)C.push(n[t].property),C.push(),C.push(n[t].value),C.push(;)}function _(e){var t,n,i,r,s,l,c=[],d=e.attributes;for(n=0,i=d.length;in;n++)t=d[n],r=t.nodeName,s=t.value,l=t.specified,value==r&&valuein e&&e.valuel=!0type==r&&text==sl=!0class!=rsf.test(r)l=!1complete==rl=!1altHtml==rl=!1start==r&&(a.is(e,ul)a.is(e,ol))l=!1r.indexOf(_moz)=0l=!1g.test(r)&&(l=!!o.scripts)l=!1,l&&c.push(t);return c}function w(n,i){var o,s,l,c,d,h,p,f;if(i=i_(n),a.is(n,img)&&(h=n.style.width,p=n.style.height,f=e(n),h&&u.test(h)&&(f.attr(width,parseInt(h,10)),a.unstyle(n,{widtht})),p&&u.test(p)&&(f.attr(height,parseInt(p,10)),a.unstyle(n,{heightt}))),i.length)for(i.sort(function(e,t){return e.nodeNamet.nodeName1t.nodeNamee.nodeName-10}),o=0,s=i.length;so;o++)l=i[o],c=l.nodeName,d=l.value,(class!=ck-table!=d)&&(c=c.replace(g,),C.push( ),C.push(c),C.push('='),style==cv(dn.style.cssText)C.push(src==chref==cr.htmlEncode(n.getAttribute(c,2))a.fillAttrs[c]cd),C.push(''))}function y(e,t,n){for(var i=e.firstChild;i;i=i.nextSibling)k(i,t,n)}function b(e){return e.nodeValue.replace(ufeffg,)}function k(e,i,r){var s,l,c,d,u,h=e.nodeType;if(1==h){if(s=a.name(e),!sa.insignificant(e))return;if(a.isInline(e)&&1==e.childNodes.length&&3==e.firstChild.nodeType&&!b(e.firstChild))return;if(!o.scripts&&(script==skscript==s))return;if(l=S[s],l&&(t===l.semantico.semantic^l.semantic))return l.start(e),y(e,!1,l.skipEncoding),l.end(e),t;C.push(),C.push(s),w(e),a.empty[s]C.push( )(C.push(),y(e,ia.is(e,pre)),C.push(),C.push(s),C.push())}else 3==h(d=b(e),!i&&n&&(c=e.parentNode,u=e.previousSibling,u(u=(a.isInline(c)ce).previousSibling),(!u===u.innerHTMLa.isBlock(u))&&(d=d.replace(^[rnvft ]+,)),d=d.replace( +, )),C.push(rda.encode(d,o)))4==h(C.push(![CDATA[),C.push(e.data),C.push(]]))8==h&&(e.data.indexOf([CDATA[)0(C.push(!--),C.push(e.data),C.push(--))(C.push(!),C.push(e.data),C.push()))}function x(e){var t=e.childNodes.length,n=t&&3==e.firstChild.nodeType;return n&&(1==t2==t&&a.insignificant(e.lastChild))}var C=[],S={iframe{startfunction(e){C.push(iframe),w(e),C.push()},endfunction(){C.push(iframe)}},kscript{startfunction(e){C.push(script),w(e),C.push()},endfunction(){C.push(script)},skipEncoding!0},span{semantic!0,startfunction(t){var n,i,r=t.style,o=_(t),c=s(o);c.length&&(C.push(span),w(t,c),C.push()),underline==r.textDecoration&&C.push(u),n=[],r.color&&n.push('color='+a.toHex(r.color)+''),r.fontFamily&&n.push('face='+r.fontFamily+''),r.fontSize&&(i=e.inArray(r.fontSize,l),n.push('size='+i+'')),n.length&&C.push(font +n.join( )+)},endfunction(e){var t=e.style;(t.colort.fontFamilyt.fontSize)&&C.push(font),underline==t.textDecoration&&C.push(u),s(_(e)).length&&C.push(span)}},strong{semantic!0,startfunction(){C.push(b)},endfunction(){C.push(b)}},em{semantic!0,startfunction(){C.push(i)},endfunction(){C.push(i)}},b{semantic!1,startfunction(){C.push(strong)},endfunction(){C.push(strong)}},i{semantic!1,startfunction(){C.push(em)},endfunction(){C.push(em)}},u{semantic!1,startfunction(){C.push('span style=text-decorationunderline;')},endfunction(){C.push(span)}},font{semantic!1,startfunction(e){var t,n,i;C.push('span style='),t=e.getAttribute(color),n=l[e.getAttribute(size)],i=e.getAttribute(face),t&&(C.push(color),C.push(a.toHex(t)),C.push(;)),i&&(C.push(font-family),C.push(i),C.push(;)),n&&(C.push(font-size),C.push(n),C.push(;)),C.push('')},endfunction(){C.push(span)}}};return S.script=S[kscript],o=o{},t===o.semantic&&(o.semantic=!0),x(i)a.encode(b(i.firstChild).replace([rnvft ]+, ),o)(y(i),C=C.join(),===C.replace(d,).replace(h,)C)}},s(o,{Serializeri})}(window.kendo.jQuery),function(e){function t(e,t,n,i){var r,o,a,s;if(e==t)return i-n;for(r=t;r&&r.parentNode!=e;)r=r.parentNode;if(r)return p(r)-n;for(r=e;r&&r.parentNode!=t;)r=r.parentNode;if(r)return i-p(r)-1;for(o=h.commonAncestor(e,t),a=e;a&&a.parentNode!=o;)a=a.parentNode;for(a(a=o),s=t;s&&s.parentNode!=o;)s=s.parentNode;return s(s=o),a==s0p(s)-p(a)}function n(e,n){function i(e){try{return t(e.startContainer,e.endContainer,e.startOffset,e.endOffset)0}catch(n){return!0}}i(e)&&(n(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset)(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function i(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!h.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}function r(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),h.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}function o(e,t,n){var i,r=t[nstartContainerendContainer],o=t[nstartOffsetendOffset],a=0,s=f(r),l=srr.childNodes[o]null,c=sr.parentNoder,d=t.ownerDocument,u=d.body.createTextRange();(3==r.nodeType4==r.nodeType)&&(a=o),c(c=d.body),img==c.nodeName.toLowerCase()(u.moveToElementText(c),u.collapse(!1),e.setEndPoint(nStartToStartEndToStart,u))(i=c.insertBefore(h.create(d,a),l),u.moveToElementText(i),h.remove(i),u[nmoveStartmoveEnd](character,a),u.collapse(!1),e.setEndPoint(nStartToStartEndToStart,u))}function a(e,t,n,i){var r,o,a,s,l,c,d,u=h.create(t.ownerDocument,a),g=e.duplicate(),m=iStartToStartStartToEnd,v=!1;u.innerHTML=﻿,g.collapse(i),o=g.parentElement(),h.isAncestorOrSelf(n,o)(o=n);do vo.insertBefore(u,u.previousSibling)(o.appendChild(u),v=!0),g.moveToElementText(u);while((r=g.compareEndPoints(m,e))0&&u.previousSibling);a=u.nextSibling,-1==r&&f(a)(g.setEndPoint(iEndToStartEndToEnd,e),h.remove(u),c=[a,g.text.length])(s=!i&&u.previousSibling,l=i&&u.nextSibling,f(l)c=[l,0]f(s)c=[s,s.length](d=p(u),c=o.nextSibling&&d==o.childNodes.length-1[o.nextSibling,0][o,d]),h.remove(u)),t[isetStartsetEnd].apply(t,c)}var s=window.kendo,l=s.Class,c=e.extend,d=s.ui.editor,u=s.support.browser,h=d.Dom,p=h.findNodeIndex,f=h.isDataNode,g=h.findClosestAncestor,m=h.getNodeLength,v=h.normalize,_={selectionFromWindowfunction(e){returngetSelectionin ee.getSelection()new b(e.document)},selectionFromRangefunction(e){var t=T.documentFromRange(e);return _.selectionFromDocument(t)},selectionFromDocumentfunction(e){return _.selectionFromWindow(h.windowFromDocument(e))}},w=l.extend({initfunction(t){e.extend(this,{ownerDocumentt,startContainert,endContainert,commonAncestorContainert,startOffset0,endOffset0,collapsed!0})},setStartfunction(e,t){this.startContainer=e,this.startOffset=t,i(this),n(this,!0)},setEndfunction(e,t){this.endContainer=e,this.endOffset=t,i(this),n(this,!1)},setStartBeforefunction(e){this.setStart(e.parentNode,p(e))},setStartAfterfunction(e){this.setStart(e.parentNode,p(e)+1)},setEndBeforefunction(e){this.setEnd(e.parentNode,p(e))},setEndAfterfunction(e){this.setEnd(e.parentNode,p(e)+1)},selectNodefunction(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContentsfunction(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeTypechildNodesnodeValue].length)},collapsefunction(e){var t=this;et.setEnd(t.startContainer,t.startOffset)t.setStart(t.endContainer,t.endOffset)},deleteContentsfunction(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(g(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function n(e){for(;e.next();)e.hasPartialSubtree()n(e.getSubtreeIterator())e.remove()}(new y(t))},cloneContentsfunction(){var e=T.documentFromRange(this);return function t(n){for(var i,r=e.createDocumentFragment();i=n.next();)i=i.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&i.appendChild(t(n.getSubtreeIterator())),r.appendChild(i);return r}(new y(this))},extractContentsfunction(){var e,t=this,n=t.cloneRange();return t.startContainer!=t.commonAncestorContainer&&t.setStartAfter(g(t.commonAncestorContainer,t.startContainer)),t.collapse(!0),e=T.documentFromRange(t),function i(n){for(var r,o=e.createDocumentFragment();r=n.next();)n.hasPartialSubtree()(r=r.cloneNode(!1),r.appendChild(i(n.getSubtreeIterator())))n.remove(t.originalRange),o.appendChild(r);return o}(new y(n))},insertNodefunction(e){var t=this;f(t.startContainer)(t.startOffset!=t.startContainer.nodeValue.length&&h.splitDataNode(t.startContainer,t.startOffset),h.insertAfter(e,t.startContainer))h.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRangefunction(){return e.extend(new w(this.ownerDocument),{startContainerthis.startContainer,endContainerthis.endContainer,commonAncestorContainerthis.commonAncestorContainer,startOffsetthis.startOffset,endOffsetthis.endOffset,collapsedthis.collapsed,originalRangethis})},toStringfunction(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return(#text==ethis.startContainer.nodeValuee)+(+this.startOffset+)  +(#text==tthis.endContainer.nodeValuet)+(+this.endOffset+)}}),y=l.extend({initfunction(t){if(e.extend(this,{ranget,_currentnull,_nextnull,_endnull}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer!=nf(t.startContainer)g(n,t.startContainer)t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=nf(t.endContainer)g(n,t.endContainer).nextSiblingt.endContainer.childNodes[t.endOffset]}},hasNextfunction(){return!!this._next},nextfunction(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._ende._current.nextSiblingnull,f(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(e.range.endOffset,t.length-e.range.endOffset)),e.range.startContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(0,e.range.startOffset))),t},traversefunction(e){function t(){return i._current=i._next,i._next=i._current&&i._current.nextSibling!=i._endi._current.nextSiblingnull,i._current}for(var n,i=this;n=t();)i.hasPartialSubtree()i.getSubtreeIterator().traverse(e)e(n);return n},removefunction(e){var t,n,i,r,o,a=this,s=a.range.startContainer==a._current,l=a.range.endContainer==a._current;f(a._current)&&(sl)(t=sa.range.startOffset0,n=la.range.endOffseta._current.length,i=n-t,e&&(sl)&&(a._current==e.startContainer&&e.startOffset=t&&(e.startOffset-=i),a._current==e.endContainer&&e.endOffset=n&&(e.endOffset-=i)),a._current.deleteData(t,i))(r=a._current.parentNode,!ea.range.startContainer!=r&&a.range.endContainer!=r(o=p(a._current),r==e.startContainer&&e.startOffset=o&&(e.startOffset-=1),r==e.endContainer&&e.endOffseto&&(e.endOffset-=1)),h.remove(a._current))},hasPartialSubtreefunction(){return!f(this._current)&&(h.isAncestorOrSelf(this._current,this.range.startContainer)h.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIteratorfunction(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),h.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),h.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),new y(t)}}),b=l.extend({initfunction(e){this.ownerDocument=e,this.rangeCount=1},addRangefunction(e){var t=this.ownerDocument.body.createTextRange();o(t,e,!1),o(t,e,!0),t.select()},removeAllRangesfunction(){var e=this.ownerDocument.selection;None!=e.type&&e.empty()},getRangeAtfunction(){var e,t,n,i,o,s,l,c,d=new w(this.ownerDocument),u=this.ownerDocument.selection;try{if(e=u.createRange(),t=e.iteme.item(0)e.parentElement(),t.ownerDocument!=this.ownerDocument)return d}catch(h){return d}if(Control==u.type)d.selectNode(e.item(0));else if(n=r(e),a(e,d,n,!0),a(e,d,n,!1),9==d.startContainer.nodeType&&d.setStart(d.endContainer,d.startOffset),9==d.endContainer.nodeType&&d.setEnd(d.startContainer,d.endOffset),0===e.compareEndPoints(StartToEnd,e)&&d.collapse(!1),i=d.startContainer,o=d.endContainer,s=this.ownerDocument.body,!(d.collapsed0!==d.startOffsetd.endOffset!=m(d.endContainer)i==o&&f(i)&&i.parentNode==s)){for(l=!1,c=!1;0===p(i)&&i==i.parentNode.firstChild&&i!=s;)i=i.parentNode,l=!0;for(;p(o)==m(o.parentNode)-1&&o==o.parentNode.lastChild&&o!=s;)o=o.parentNode,c=!0;i==s&&o==s&&l&&c&&(d.setStart(i,0),d.setEnd(o,m(s)))}return d}}),k=l.extend({initfunction(e){this.enumerate=function(){function t(e){if(h.is(e,img)3==e.nodeType&&(!h.isWhitespace(e)﻿==e.nodeValue))n.push(e);else for(e=e.firstChild;e;)t(e),e=e.nextSibling}var n=[];return new y(e).traverse(t),n}}}),x=l.extend({initfunction(e,t){var n=this;n.range=e,n.rootNode=T.documentFromRange(e),n.body=tn.getEditable(e),body!=h.name(n.body)&&(n.rootNode=n.body),n.html=n.body.innerHTML,n.startContainer=n.nodeToPath(e.startContainer),n.endContainer=n.nodeToPath(e.endContainer),n.startOffset=n.offset(e.startContainer,e.startOffset),n.endOffset=n.offset(e.endContainer,e.endOffset)},indexfunction(e){for(var t,n=0,i=e.nodeType;e=e.previousSibling;)t=e.nodeType,(3!=ti!=t)&&n++,i=t;return n},getEditablefunction(e){for(var t=e.commonAncestorContainer;t&&(3==t.nodeTypet.attributes&&!t.attributes.contentEditable);)t=t.parentNode;return t},restoreHtmlfunction(){this.body.innerHTML=this.html},offsetfunction(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;)t+=e.nodeValue.length;return t},nodeToPathfunction(e){for(var t=[];e!=this.rootNode;)t.push(this.index(e)),e=e.parentNode;return t},toRangePointfunction(e,t,n,i){for(var r=this.rootNode,o=n.length,a=i;o--;)r=r.childNodes[n[o]];for(;r&&3==r.nodeType&&ar.nodeValue.length;)a-=r.nodeValue.length,r=r.nextSibling;r&&a=0&&e[tsetStartsetEnd](r,a)},toRangefunction(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}}),C=l.extend({initfunction(){this.caret=null},addCaretfunction(e){var t=this;return t.caret=h.create(T.documentFromRange(e),span,{classNamek-marker}),e.insertNode(t.caret),e.selectNode(t.caret),t.caret},removeCaretfunction(e){var t,n,i,r,o=this,a=o.caret.previousSibling,s=0;a&&(s=f(a)a.nodeValue.lengthp(a)),t=o.caret.parentNode,n=ap(a)0,h.remove(o.caret),v(t),i=t.childNodes[n],f(i)e.setStart(i,s)i(r=h.lastTextNode(i),re.setStart(r,r.nodeValue.length)e[asetStartAftersetStartBefore](i))(u.msiet.innerHTML(t.innerHTML='br _moz_dirty= '),e.selectNodeContents(t)),e.collapse(!0)},addfunction(e,t){var n,i,r=this,o=e.collapsed&&!T.isExpandable(e),a=T.documentFromRange(e);return t&&e.collapsed&&(r.addCaret(e),e=T.expand(e)),n=e.cloneRange(),n.collapse(!1),r.end=h.create(a,span,{classNamek-marker}),n.insertNode(r.end),n=e.cloneRange(),n.collapse(!0),r.start=r.end.cloneNode(!0),n.insertNode(r.start),r._removeDeadMarkers(r.start,r.end),o&&(i=a.createTextNode(﻿),h.insertAfter(i.cloneNode(),r.start),h.insertBefore(i,r.end)),v(e.commonAncestorContainer),e.setStartBefore(r.start),e.setEndAfter(r.end),e},_removeDeadMarkersfunction(e,t){e.previousSibling&&﻿==e.previousSibling.nodeValue&&h.remove(e.previousSibling),t.nextSibling&&﻿==t.nextSibling.nodeValue&&h.remove(t.nextSibling)},removefunction(e){var t,n,i,r,o,a,s,l,c,d,u,g,m,_=this,w=_.start,y=_.end;for(v(e.commonAncestorContainer);!w.nextSibling&&w.parentNode;)w=w.parentNode;for(;!y.previousSibling&&y.parentNode;)y=y.parentNode;if(t=w.previousSibling&&3==w.previousSibling.nodeType&&w.nextSibling&&3==w.nextSibling.nodeType,n=y.previousSibling&&3==y.previousSibling.nodeType&&y.nextSibling&&3==y.nextSibling.nodeType,i=t&&n,w=w.nextSibling,y=y.previousSibling,r=!1,o=!1,w==_.end&&(o=!!_.start.previousSibling,w=y=_.start.previousSibling_.end.nextSibling,r=!0),h.remove(_.start),h.remove(_.end),!w!y)return e.selectNodeContents(e.commonAncestorContainer),void e.collapse(!0);if(a=rf(w)w.nodeValue.lengthw.childNodes.length0,s=f(y)y.nodeValue.lengthy.childNodes.length,3==w.nodeType)for(;w.previousSibling&&3==w.previousSibling.nodeType;)w=w.previousSibling,a+=w.nodeValue.length;if(3==y.nodeType)for(;y.previousSibling&&3==y.previousSibling.nodeType;)y=y.previousSibling,s+=y.nodeValue.length;for(l=p(w),c=w.parentNode,d=p(y),u=y.parentNode,g=w;g.previousSibling;g=g.previousSibling)3==g.nodeType&&3==g.previousSibling.nodeType&&l--;for(m=y;m.previousSibling;m=m.previousSibling)3==m.nodeType&&3==m.previousSibling.nodeType&&d--;v(c),3==w.nodeType&&(w=c.childNodes[l]),v(u),3==y.nodeType&&(y=u.childNodes[d]),r(3==w.nodeTypee.setStart(w,a)e[osetStartAftersetStartBefore](w),e.collapse(!0))(3==w.nodeTypee.setStart(w,a)e.setStartBefore(w),3==y.nodeTypee.setEnd(y,s)e.setEndAfter(y)),_.caret&&_.removeCaret(e)}}),S=[u0009-u000d]u0020u00a0ufeff.,;!(),T={nodesfunction(e){var t=T.textNodes(e);return t.length(e.selectNodeContents(e.commonAncestorContainer),t=T.textNodes(e),t.length(t=h.significantChildNodes(e.commonAncestorContainer))),t},textNodesfunction(e){return new k(e).enumerate()},documentFromRangefunction(e){var t=e.startContainer;return 9==t.nodeTypett.ownerDocument},createRangefunction(e){return u.msie&&9u.versionnew w(e)e.createRange()},selectRangefunction(e){var t,n=T.image(e);n&&(e.setStartAfter(n),e.setEndAfter(n)),t=_.selectionFromRange(e),t.removeAllRanges(),t.addRange(e)},stringifyfunction(e){return s.format({0}{1} - {2}{3},h.name(e.startContainer),e.startOffset,h.name(e.endContainer),e.endOffset)},splitfunction(e,t,n){function i(i){var r,o=e.cloneRange();o.collapse(i),o[isetStartBeforesetEndAfter](t),r=o.extractContents(),n&&(r=h.trim(r)),h[iinsertBeforeinsertAfter](r,t)}i(!0),i(!1)},mapAllfunction(t,n){var i=[];return new y(t).traverse(function(t){var r=n(t);r&&e.inArray(r,i)0&&i.push(r)}),i},getAllfunction(e,t){var n=t;returnstring==typeof t&&(t=function(e){return h.is(e,n)}),T.mapAll(e,function(e){return t(e)evoid 0})},getMarkersfunction(e){return T.getAll(e,function(e){returnk-marker==e.className})},imagefunction(e){var t=T.getAll(e,img);return 1==t.lengtht[0]void 0},isStartOffunction(e,t){var n,i;for(e=e.cloneRange();0===e.startOffset&&e.startContainer!=t;){for(n=h.findNodeIndex(e.startContainer),i=e.startContainer.parentNode;n0&&h.insignificant(i[n-1]);)n--;e.setStart(i,n)}return 0===e.startOffset&&e.startContainer==t},wrapSelectedElementsfunction(e){function t(e,t){var n,i=h.getNodeLength(t);if(e==i)return!0;for(n=e;in;n++)if(!h.insignificant(t.childNodes[n]))return!1;return!0}for(var n=h.editableParent(e.startContainer),i=h.editableParent(e.endContainer);0===e.startOffset&&e.startContainer!=n;)e.setStart(e.startContainer.parentNode,h.findNodeIndex(e.startContainer));for(;t(e.endOffset,e.endContainer)&&e.endContainer!=i;)e.setEnd(e.endContainer.parentNode,h.findNodeIndex(e.endContainer)+1);return e},expandfunction(e){var t,n,i,r,o=e.cloneRange(),a=o.startContainer.childNodes[0===o.startOffset0o.startOffset-1],s=o.endContainer.childNodes[o.endOffset];return f(a)&&f(s)(t=a.nodeValue,n=s.nodeValue,t&&n(i=t.split().reverse().join().search(S),r=n.search(S),i&&r(r=-1==rn.lengthr,i=-1==i0t.length-i,o.setStart(a,i),o.setEnd(s,r),o)o)o)o},isExpandablefunction(e){var t,n,i,r,o,a,s=e.startContainer,l=T.documentFromRange(e);return s==ls==l.body!1(t=e.cloneRange(),(n=s.nodeValue)(i=n.substring(0,t.startOffset),r=n.substring(t.startOffset),o=0,a=0,i&&(o=i.split().reverse().join().search(S)),r&&(a=r.search(S)),o&&a)!1)}};c(d,{SelectionUtils_,W3CRangew,RangeIteratory,W3CSelectionb,RangeEnumeratork,RestorePointx,MarkerC,RangeUtilsT})}(window.kendo.jQuery),function(e){function t(e,t){var n=e.selectionRestorePoint=new d(e.getRange()),i=new f(t,n);return i.editor=e,e.undoRedoStack.push(i),n}var n=window.kendo,i=n.Class,r=n.ui.editor,o=r.EditorUtils,a=o.registerTool,s=r.Dom,l=r.Tool,c=r.ToolTemplate,d=r.RestorePoint,u=r.Marker,h=e.extend,p=i.extend({initfunction(e){this.options=e,this.restorePoint=new d(e.range),this.marker=new u,this.formatter=e.formatter},getRangefunction(){return this.restorePoint.toRange()},lockRangefunction(e){return this.marker.add(this.getRange(),e)},releaseRangefunction(e){this.marker.remove(e),this.editor.selectRange(e)},undofunction(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redofunction(){this.exec()},createDialogfunction(t,i){var r=this.editor;return e(t).appendTo(document.body).kendoWindow(h({},r.options.dialogOptions,i)).closest(.k-window).toggleClass(k-rtl,n.support.isRtl(r.wrapper)).end()},execfunction(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)}}),f=i.extend({initfunction(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redofunction(){this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undofunction(){this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}}),g=p.extend({initfunction(e){p.fn.init.call(this,e),this.managesUndoRedo=!0},execfunction(){var e,t=this.editor,n=this.options,i=n.range,r=t.body,o=new d(i,r),a=n.htmln.value;t.selectRange(i),t.clipboard.paste(a,n),n.postProcess&&n.postProcess(t,t.getRange()),e=new f(o,new d(t.getRange(),r)),e.editor=t,t.undoRedoStack.push(e),t.focus()}}),m=l.extend({initializefunction(e,t){var n=t.editor,i=this.options,o=i.itemsi.itemsn.options.insertHtml;new r.SelectBox(e,{dataSourceo,dataTextFieldtext,dataValueFieldvalue,changefunction(){l.exec(n,insertHtml,this.value())},titlen.options.messages.insertHtml,highlightFirst!1})},commandfunction(e){return new g(e)},updatefunction(e){var t=e.data(kendoSelectBox)e.find(select).data(kendoSelectBox);t.close(),t.value(t.options.title)}}),v=i.extend({initfunction(){this.clear()},pushfunction(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undofunction(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redofunction(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},clearfunction(){this.stack=[],this.currentCommandIndex=-1},canUndofunction(){return this.currentCommandIndex=0},canRedofunction(){return this.currentCommandIndex!=this.stack.length-1}}),_=i.extend({initfunction(e){this.editor=e},keydownfunction(n){var i,r=this,o=r.editor,a=o.keyboard,s=a.isTypingKey(n),l=h(e.Event(),n);return r.editor.trigger(keydown,l),l.isDefaultPrevented()(n.preventDefault(),!0)l.isDefaultPrevented()!sa.isTypingInProgress()!1(i=o.getRange(),r.startRestorePoint=new d(i),a.startTyping(function(){r.endRestorePoint=t(o,r.startRestorePoint)}),!0)},keyupfunction(e){var t=this.editor.keyboard;return this.editor.trigger(keyup,e),t.isTypingInProgress()(t.endTyping(),!0)!1}}),w=i.extend({initfunction(e){this.editor=e},_handleCaretfunction(e){var t,n,i,o,a=e.startContainer,l=e.startOffset,c=s.closestEditableOfType(a,[li]),d=s.closestEditableOfType(a,h1,h2,h3,h4,h5,h6.split(,));if(s.isDataNode(a)){for(;l=0&&﻿==a.nodeValue[l-1];)a.deleteData(l-1,1),l--;e.setStart(a,Math.max(0,l)),e.collapse(!0),this.editor.selectRange(e)}if(d&&d.previousSibling&&r.RangeUtils.isStartOf(e,d)){for(t=d.previousSibling,n=s.create(this.editor.document,a),t.appendChild(n);d.firstChild;)t.appendChild(d.firstChild);return s.remove(d),e.setStartAfter(n),e.collapse(!0),this.editor.selectRange(e),s.remove(n),!0}return c&&r.RangeUtils.isStartOf(e,c)(i=new r.GreedyBlockFormatter([{tags[p]}]),o=c.firstChild,i.editor=this.editor,i.apply(c.childNodes),e.setStart(o,0),this.editor.selectRange(e),!0)!1},_handleSelectionfunction(t){var n=t.commonAncestorContainer,i=s.closest(n,table),o=r.emptyElementContent,a=!1;returnt(ablebody)i.test(s.name(n))&&t.selectNode(i),t.deleteContents(),i&&===e(i).text()&&(t.selectNode(i),t.deleteContents(),a=!0),n=t.commonAncestorContainer,p===s.name(n)&&===n.innerHTML&&(n.innerHTML=o,t.setStart(n,0),t.collapse(!0),this.editor.selectRange(t),a=!0),a},keydownfunction(e){var i,r,o=this.editor.getRange(),a=e.keyCode,s=n.keys;a===s.BACKSPACEi=o.collapsed_handleCaret_handleSelectiona==s.DELETE&&(i=o.collapsed_handleSelection),i&&(r=new d(o),this[i](o)&&(e.preventDefault(),t(this.editor,r)))},keyupe.noop}),y=i.extend({initfunction(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommandfunction(){this.startRestorePoint=this.endRestorePoint=t(this.editor,this.startRestorePoint)},changedfunction(){return this.startRestorePointthis.startRestorePoint.html!=this.editor.body.innerHTML!1},keydownfunction(e){var t=this,n=t.editor,i=n.keyboard;return i.isModifierKey(e)(i.isTypingInProgress()&&i.endTyping(!0),t.startRestorePoint=new d(n.getRange()),!0)i.isSystem(e)(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0)!1},keyupfunction(){var e=this;return e.systemCommandIsInProgress&&e.changed()(e.systemCommandIsInProgress=!1,e.createUndoCommand(),!0)!1}}),b=i.extend({initfunction(e){this.handlers=e,this.typingInProgress=!1},isCharacterfunction(e){return e=48&&90=ee=96&&111=ee=186&&192=ee=219&&222=e229==e},toolFromShortcutfunction(t,n){var i,r,o=String.fromCharCode(n.keyCode);for(i in t)if(r=e.extend({ctrl!1,alt!1,shift!1},t[i].options),(r.key==or.key==n.keyCode)&&r.ctrl==n.ctrlKey&&r.alt==n.altKey&&r.shift==n.shiftKey)return i},isTypingKeyfunction(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey32==t13==t8==t46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKeyfunction(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey16==t&&!e.ctrlKey&&!e.altKey18==t&&!e.ctrlKey&&!e.shiftKey},isSystemfunction(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTypingfunction(e){this.onEndTyping=e,this.typingInProgress=!0},stopTypingfunction(){this.typingInProgress&&this.onEndTyping&&this.onEndTyping(),this.typingInProgress=!1},endTypingfunction(t){var n=this;n.clearTimeout(),tn.stopTyping()n.timeout=window.setTimeout(e.proxy(n.stopTyping,n),1e3)},isTypingInProgressfunction(){return this.typingInProgress},clearTimeoutfunction(){window.clearTimeout(this.timeout)
},notifyfunction(e,t){var n,i=this.handlers;for(n=0;i.lengthn&&!i[n][t](e);n++);},keydownfunction(e){this.notify(e,keydown)},keyupfunction(e){this.notify(e,keyup)}}),k=i.extend({initfunction(e){this.editor=e,this.cleaners=[new C,new S,new T]},htmlToFragmentfunction(e){var t=this.editor,n=t.document,i=s.create(n,div),r=n.createDocumentFragment();for(i.innerHTML=e;i.firstChild;)r.appendChild(i.firstChild);return r},isBlockfunction(e){return(divpuloltableh[1-6])i.test(e)},_startModificationfunction(){var e,t,n=this.editor;if(!this._inProgress)return this._inProgress=!0,e=n.getRange(),t=new d(e),s.persistScrollTop(n.document),{rangee,restorePointt}},_endModificationfunction(e){t(this.editor,e.restorePoint),this.editor._selectionChange(),this._inProgress=!1},_contentModificationfunction(e,t){var n=this,i=n.editor,r=n._startModification();r&&(e.call(n,i,r.range),setTimeout(function(){t.call(n,i,r.range),n._endModification(r)}))},oncutfunction(){this._contentModification(e.noop,e.noop)},_fileToDataURLfunction(t,n){var i=t.getAsFile(),r=new FileReader;r.onload=ne.noop,r.readAsDataURL(i)},_triggerPastefunction(e,t){var n={htmle};n.html=n.html.replace(ufeffg,),this.editor.trigger(paste,n),this.paste(n.html,t{})},_handleImagePastefunction(e){var t,n,i,r;if(FileReaderin window&&(t=this,n=e.clipboardDatae.originalEvent.clipboardData,i=n&&(n.itemsn.files),i&&i.length&&^imagei.test(i[0].type)&&(r=t._startModification())))return this._fileToDataURL(i[0],function(e){t._triggerPaste('img src='+e.target.result+' '),t._endModification(r)}),!0},onpastefunction(t){this._handleImagePaste(t)this._contentModification(function(i,r){var o,a,l,c=s.create(i.document,div,{classNamek-paste-container,innerHTML﻿}),d=n.support.browser;i.body.appendChild(c),d.msie&&11d.version(t.preventDefault(),o=i.createRange(),o.selectNodeContents(c),i.selectRange(o),a=i.document.body.createTextRange(),a.moveToElementText(c),e(i.body).unbind(paste),a.execCommand(Paste),e(i.body).bind(paste,e.proxy(this.onpaste,this)))(l=i.createRange(),l.selectNodeContents(c),i.selectRange(l)),r.deleteContents()},function(t,n){var i,r=;t.selectRange(n),i=e(t.body).children(.k-paste-container),i.each(function(){var e=this.lastChild;e&&s.is(e,br)&&s.remove(e),r+=this.innerHTML}),i.remove(),this._triggerPaste(r,{clean!0})})},splittableParentfunction(e,t){var n,i;if(e)return s.closestEditableOfType(t,[p,ul,ol])t.parentNode;if(n=t.parentNode,i=t.ownerDocument.body,s.isInline(n))for(;n.parentNode!=i&&!s.isBlock(n.parentNode);)n=n.parentNode;return n},pastefunction(t,n){var i,o,a,l,c,d,p,f,g,m,v,_,w=this.editor;for(n=h({clean!1,split!0},n),i=0,o=this.cleaners.length;oi;i++)this.cleaners[i].applicable(t)&&(t=this.cleaners[i].clean(t));if(n.clean&&(t=t.replace((br(s&nbsp;))+((divplicolt))gi,$3),t=t.replace((aspan)[^]1gi,)),t=t.replace(^lii,ulli).replace(li$g,liul),a=this.isBlock(t),w.focus(),l=w.getRange(),l.deleteContents(),l.startContainer==w.document&&l.selectNodeContents(w.body),c=new u,d=c.addCaret(l),p=this.splittableParent(a,d),f=!1,g=p!=w.body&&!s.is(p,td),n.split&&g&&(as.isInline(p))&&(l.selectNode(d),r.RangeUtils.split(l,p,!0),f=!0),m=this.htmlToFragment(t),m.firstChild&&k-paste-container===m.firstChild.className){for(v=[],i=0,o=m.childNodes.length;oi;i++)v.push(m.childNodes[i].innerHTML);m=this.htmlToFragment(v.join(br ))}if(e(m.childNodes).filter(table).addClass(k-table).end().find(table).addClass(k-table),l.insertNode(m),p=this.splittableParent(a,d),f){for(;d.parentNode!=p;)s.unwrap(d.parentNode);s.unwrap(d.parentNode)}s.normalize(l.commonAncestorContainer),d.style.display=inline,s.restoreScrollTop(w.document),s.scrollTo(d),c.removeCaret(l),_=l.commonAncestorContainer.parentNode,l.collapsed&&tbody==s.name(_)&&(l.setStartAfter(e(_).closest(table)[0]),l.collapse(!0)),w.selectRange(l)}}),x=i.extend({cleanfunction(e){var t,n,i=this,r=i.replacements;for(t=0,n=r.length;nt;t+=2)e=e.replace(r[t],r[t+1]);return e}}),C=x.extend({initfunction(){this.replacements=[()script([^])i,$1telerikscript$2]},applicablefunction(e){returnscript[^]i.test(e)}}),S=x.extend({initfunction(){this.replacements=[xml[^]gi,,!--(.n)--g,,&quot;g,',(br&nbsp;[srn]+br)((h[1-6]hrpdivtabletbodytheadtfootthtrtdliolulcaptionaddresspreformblockquotedldtdddirfieldset)[^])(br&nbsp;[srn]+br)g,$1,brbrg,BRBR,br(!n)g, ,table([^])(s&nbsp;)+tgi,table$1t,tr[^](s&nbsp;)trgi,,tbody[^](s&nbsp;)tbodygi,,table[^](s&nbsp;)tablegi,,BRBRg,br,^s(&nbsp;)+gi,,(&nbsp;br[^])+s$gi,,mso-[^;];gi,,()b(s[^])gi,$1strong$2,()i(s[^])gi,$1em$2,op&nbsp;opgi,&nbsp;,(metalinkstyleovx)[^]((.n)(metalinkstyleovx)[^])gi,,og,,style=(['])s1g,,(br[^])ng,function(e,t){return te }]},applicablefunction(e){returnclass=Msostyle=[^]mso-i.test(e)urnschemas-microsoft-comoffice.test(e)},stripEmptyAnchorsfunction(e){return e.replace(a([^])sagi,function(e,t){return!tt.indexOf(href)0e})},listTypefunction(e){var t;return^(span [^]texhtml[^])span [^](SymbolWingdings)[^]i.test(e)&&(t=!0),e=e.replace(w+[^]g,).replace(&nbsp;g, ),!t&&^[u2022u00b7u00a7u00d8o]u00a0+.test(e)t&&^.u00a0+.test(e)ul^sw+[.)]u00a0{2,}.test(e)olvoid 0},_convertToLifunction(e){var t;return 1==e.childNodes.lengtht=e.firstChild.innerHTML.replace(^w+[.)](&nbsp;)+ ,)(s.remove(e.firstChild),3==e.firstChild.nodeType&&^[ivx]+.$i.test(e.firstChild.nodeValue)&&s.remove(e.firstChild),^(&nbsp;s)+$i.test(e.firstChild.innerHTML)&&s.remove(e.firstChild),t=e.innerHTML),s.remove(e),s.create(document,li,{innerHTMLt})},listsfunction(t){var n,i,r,o,a,l,c,d,u,h=e(s.blockElements.join(,),t),p=-1,f={ul{},ol{}},g=t;for(r=0;h.lengthr;r++)if(o=h[r],a=this.listType(o.innerHTML),i=s.name(o),td!=i)if(a&&p==i){if(l=parseFloat(o.style.marginLeft0),c=f[a][l],(lp!c)&&(c=s.create(document,a),g==ts.insertBefore(c,o)g.appendChild(c),f[a][l]=c),n!=a)for(d in f)for(u in f[d])e.contains(c,f[d][u])&&delete f[d][u];g=this._convertToLi(o),c.appendChild(g),p=l,n=a}else o.innerHTML(f={ul{},ol{}},g=t,p=-1)s.remove(o)},removeAttributesfunction(e){for(var t=e.attributes,n=t.length;n--;)colspan!=s.name(t[n])&&e.removeAttributeNode(t[n])},createColGroupfunction(t){var i=t.cells,r=e(t).closest(table),o=r.children(colgroup);2i.length(o.length&&(i=o.children(),o[0].parentNode.removeChild(o[0])),o=e(e.map(i,function(e){var t=e.width;return t&&0!==parseInt(t,10)n.format('col style=width{0}px;',t)col }).join()),o.is(colgroup)(o=e(colgroup).append(o)),o.prependTo(r))},convertHeadersfunction(t){var n,i=t.cells,r=e.map(i,function(t){var n=e(t).children(p).children(strong)[0];return n&&strong==s.name(n)nvoid 0});if(r.length==i.length){for(n=0;r.lengthn;n++)s.unwrap(r[n]);for(e(t).closest(table).find(colgroup).after(theadthead).end().find(thead).append(t),n=0;i.lengthn;n++)s.changeTag(i[n],th)}},removeParagraphsfunction(t){var n,i,r,o,a;for(n=0;t.lengthn;n++)for(this.removeAttributes(t[n]),o=e(t[n]),a=o.children(p),i=0,r=a.length;ri;i++)r-1i&&s.insertAfter(s.create(document,br),a[i]),s.unwrap(a[i])},removeDefaultColorsfunction(e){for(var t=0;e.lengtht;t++)^scolors[^;];$i.test(e[t].style.cssText)&&s.unwrap(e[t])},tablesfunction(t){var n,i,r,o,a,s=e(t).find(table),l=this;for(o=0;s.lengtho;o++){for(n=s[o].rows,r=i=n[0],a=1;n.lengtha;a++)n[a].cells.lengthr.cells.length&&(r=n[a]);l.createColGroup(r),l.convertHeaders(i),l.removeAttributes(s[o]),l.removeParagraphs(s.eq(o).find(td,th)),l.removeDefaultColors(s.eq(o).find(span))}},headersfunction(t){var n,i=e(t).find(p.MsoTitle);for(n=0;i.lengthn;n++)s.changeTag(i[n],h1)},cleanfunction(e){var t,n=this;return e=x.fn.clean.call(n,e),e=n.stripEmptyAnchors(e),t=s.create(document,div,{innerHTMLe}),n.headers(t),n.lists(t),n.tables(t),e=t.innerHTML.replace(([^])s+class=[^s]gi,$1)}}),T=x.extend({initfunction(){this.replacements=[s+class=Apple-style-span[^]gi,,(divph[1-6])s+style=[^]gi,$1,^div(.)div$,$1]},applicablefunction(e){returnclass=Apple-style-spanstyle=[^]-webkit-nbsp-modei.test(e)}}),D=p.extend({initfunction(e){p.fn.init.call(this,e),this.managesUndoRedo=!0},execfunction(){var e=this.editor;n.support.browser.msiee.document.execCommand(print,!1,null)e.window.print&&e.window.print()}}),A=p.extend({initfunction(e){this.async=!0,p.fn.init.call(this,e)},execfunction(){var e=this,t=this.lockRange(!0);this.editor.saveAsPDF().then(function(){e.releaseRange(t)})}});h(r,{_finishUpdatet,Commandp,GenericCommandf,InsertHtmlCommandg,InsertHtmlToolm,UndoRedoStackv,TypingHandler_,SystemHandlery,BackspaceHandlerw,Keyboardb,Clipboardk,Cleanerx,MSWordFormatCleanerS,WebkitFormatCleanerT,PrintCommandD,ExportPdfCommandA}),a(insertHtml,new m({templatenew c({templateo.dropDownListTemplate,titleInsert HTML,initialValueInsert HTML})})),a(print,new l({commandD,templatenew c({templateo.buttonTemplate,titlePrint})})),a(pdf,new l({commandA,templatenew c({templateo.buttonTemplate,titleExport PDF})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=t.ui.editor,r=t.ui.Editor.fn.options.formats,o=i.EditorUtils,a=i.Tool,s=i.ToolTemplate,l=i.FormatTool,c=i.Dom,d=i.RangeUtils,u=e.extend,h=i.EditorUtils.registerTool,p=i.EditorUtils.registerFormat,f=k-marker,g=n.extend({initfunction(e){this.format=e},numberOfSiblingsfunction(e){var t,n=0,i=0,r=0,o=e.parentNode;for(t=o.firstChild;t;t=t.nextSibling)t!=e&&(t.className==fr++3==t.nodeTypen++i++);return r1&&o.firstChild.className==f&&o.lastChild.className==f0i+n},findSuitablefunction(e,t){var n,i;if(!t&&this.numberOfSiblings(e)0)return null;for(n=e.parentNode,i=this.format[0].tags;!c.ofType(n,i);){if(this.numberOfSiblings(n)0)return null;n=n.parentNode}return n},findFormatfunction(e){var t,n,i,r,o,a=this.format,s=c.attrEquals;for(t=0,n=a.length;nt;t++){if(i=e,r=a[t].tags,o=a[t].attr,i&&c.ofType(i,r)&&s(i,o))return i;for(;i;)if(i=c.parentOfType(i,r),i&&s(i,o))return i}return null},isFormattedfunction(e){var t,n;for(t=0,n=e.length;nt;t++)if(this.findFormat(e[t]))return!0;return!1}}),m=n.extend({initfunction(e,t){this.finder=new g(e),this.attributes=u({},e[0].attr,t),this.tag=e[0].tags[0]},wrapfunction(e){return c.wrap(e,c.create(e.ownerDocument,this.tag,this.attributes))},activatefunction(e,t){this.finder.isFormatted(t)(this.split(e),this.remove(t))this.apply(t)},togglefunction(e){var t=d.textNodes(e);t.length0&&this.activate(e,t)},applyfunction(e){var t,n,i,r,o=[];for(t=0,n=e.length;nt;t++){if(i=e[t],r=this.finder.findSuitable(i))c.attr(r,this.attributes);else{for(;!c.isBlock(i.parentNode)&&1==i.parentNode.childNodes.length;)i=i.parentNode;r=this.wrap(i)}o.push(r)}this.consolidate(o)},removefunction(e){var t,n,i;for(t=0,n=e.length;nt;t++)i=this.finder.findFormat(e[t]),i&&(this.attributes&&this.attributes.style(c.unstyle(i,this.attributes.style),i.style.cssTexti.attributes[class]c.unwrap(i))c.unwrap(i))},splitfunction(e){var t,n,i=d.textNodes(e),r=i.length;if(r0)for(t=0;rt;t++)n=this.finder.findFormat(i[t]),n&&d.split(e,n,!0)},consolidatefunction(e){for(var t,n;e.length1;)if(t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==f&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText){for(;t.firstChild;)n.appendChild(t.firstChild);c.remove(t)}}}),v=g.extend({initfunction(e,t){this.format=e,this.greedyProperty=t,g.fn.init.call(this,e)},getInlineCssValuefunction(t){var n,i,r,o,a,s,l,d,u,h,p,f,g=t.attributes,m=e.trim;if(g)for(n=0,i=g.length;in;n++)if(r=g[n],o=r.nodeName,a=r.nodeValue,r.specified&&style==o)for(s=m(at.style.cssText).split(;),d=0,u=s.length;ud;d++)if(l=s[d],l.length){if(h=l.split(),p=m(h[0].toLowerCase()),f=m(h[1]),p!=this.greedyProperty)continue;return p.indexOf(color)=0c.toHex(f)f}},getFormatInnerfunction(t){var n,i,r,o=e(c.isDataNode(t)t.parentNodet),a=o.parentsUntil([contentEditable]).addBack().toArray().reverse();for(n=0,i=a.length;in;n++)if(r=className==this.greedyPropertya[n].classNamethis.getInlineCssValue(a[n]))return r;returninherit},getFormatfunction(e){var t,n,i=this.getFormatInner(e[0]);for(t=1,n=e.length;nt;t++)if(i!=this.getFormatInner(e[t]))return;return i},isFormattedfunction(e){return!==this.getFormat(e)}}),_=m.extend({initfunction(e,n,i){m.fn.init.call(this,e,n),this.values=n,this.finder=new v(e,i),i&&(this.greedyProperty=t.toCamelCase(i))},activatefunction(e,t){var n=this.greedyProperty,i=apply;this.split(e),n&&inherit==this.values.style[n]&&(i=remove),this[i](t)}}),w=l.extend({initfunction(e){l.fn.init.call(this,u(e,{findernew g(e.format),formatterfunction(){return new m(e.format)}}))}}),y=a.extend({updatefunction(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t))}}),b=y.extend({initfunction(e){a.fn.init.call(this,e),this.type=t.support.browser.msiet.support.touchkendoDropDownListkendoComboBox,this.format=[{tags[span]}],this.finder=new v(this.format,e.cssAttr)},commandfunction(e){var t=this.options,n=this.format,r={};return new i.FormatCommand(u(e,{formatterfunction(){return r[t.domAttr]=e.value,new _(n,{styler},t.cssAttr)}}))},initializefunction(e,t){var n,i=t.editor,r=this.options,o=r.name,s=[];r.defaultValue&&(s=[{texti.options.messages[r.defaultValue[0].text],valuer.defaultValue[0].value}]),n=s.concat(r.itemsr.itemsi.options[o][]),e[this.type]({dataTextFieldtext,dataValueFieldvalue,dataSourcen,changefunction(){a.exec(i,o,this.value())},highlightFirst!1}),e.closest(.k-widget).removeClass(k-+o).find().addBack().attr(unselectable,on),e.data(this.type).value(inherit)}}),k=a.extend({initfunction(e){a.fn.init.call(this,e),this.format=[{tags[span]}],this.finder=new v(this.format,e.cssAttr)},options{palettewebsafe},updatefunction(){this._widget.close()},commandfunction(e){var t=this.options,n=this.format,r={};return new i.FormatCommand(u(e,{formatterfunction(){return r[t.domAttr]=e.value,new _(n,{styler},t.cssAttr)}}))},initializefunction(n,i){var r=i.editor,o=this.name,s=u({},k.fn.options,this.options),l=s.palette;n=this._widget=new t.ui.ColorPicker(n,{valuee.isArray(l)l[0]#000,toolIconk-+s.name,palettel,changefunction(){var e=n.value();e&&a.exec(r,o,e),r.focus()},activatefunction(e){e.preventDefault(),n.trigger(change)}}),n.wrapper.attr({titlei.title,unselectableon}).find().attr(unselectable,on)}});u(i,{InlineFormatFinderg,InlineFormatterm,DelayedExecutionTooly,GreedyInlineFormatFinderv,GreedyInlineFormatter_,InlineFormatToolw,FontToolb,ColorToolk}),p(bold,[{tags[strong,b]},{tags[span],attr{style{fontWeightbold}}}]),h(bold,new w({keyB,ctrl!0,formatr.bold,templatenew s({templateo.buttonTemplate,titleBold})})),p(italic,[{tags[em,i]},{tags[span],attr{style{fontStyleitalic}}}]),h(italic,new w({keyI,ctrl!0,formatr.italic,templatenew s({templateo.buttonTemplate,titleItalic})})),p(underline,[{tags[span],attr{style{textDecorationunderline}}},{tags[u]}]),h(underline,new w({keyU,ctrl!0,formatr.underline,templatenew s({templateo.buttonTemplate,titleUnderline})})),p(strikethrough,[{tags[del,strike]},{tags[span],attr{style{textDecorationline-through}}}]),h(strikethrough,new w({formatr.strikethrough,templatenew s({templateo.buttonTemplate,titleStrikethrough})})),p(superscript,[{tags[sup]}]),h(superscript,new w({formatr.superscript,templatenew s({templateo.buttonTemplate,titleSuperscript})})),p(subscript,[{tags[sub]}]),h(subscript,new w({formatr.subscript,templatenew s({templateo.buttonTemplate,titleSubscript})})),h(foreColor,new k({cssAttrcolor,domAttrcolor,nameforeColor,templatenew s({templateo.colorPickerTemplate,titleColor})})),h(backColor,new k({cssAttrbackground-color,domAttrbackgroundColor,namebackColor,templatenew s({templateo.colorPickerTemplate,titleBackground Color})})),h(fontName,new b({cssAttrfont-family,domAttrfontFamily,namefontName,defaultValue[{textfontNameInherit,valueinherit}],templatenew s({templateo.comboBoxTemplate,titleFont Name})})),h(fontSize,new b({cssAttrfont-size,domAttrfontSize,namefontSize,defaultValue[{textfontSizeInherit,valueinherit}],templatenew s({templateo.comboBoxTemplate,titleFont Size})}))}(window.kendo.jQuery),function(e){var t,n=window.kendo,i=n.Class,r=e.extend,o=n.ui.editor,a=n.ui.Editor.fn.options.formats,s=o.Dom,l=o.Command,c=o.ToolTemplate,d=o.FormatTool,u=o.EditorUtils,h=u.registerTool,p=u.registerFormat,f=o.RangeUtils,g=i.extend({initfunction(e){this.format=e},containsfunction(e,t){var n,i,r;for(n=0,i=t.length;in;n++)if(r=t[n],!r!s.isAncestorOrSelf(e,r))return!1;return!0},findSuitablefunction(t){var n,i,r,o,a=this.format,l=[];for(n=0,i=t.length;in;n++){for(o=a.length-1;o=0&&!(r=s.ofType(t[n],a[o].tags)t[n]s.parentOfType(t[n],a[o].tags));o--);if(!rtrue===r.contentEditable)return[];e.inArray(r,l)0&&l.push(r)}for(n=0,i=l.length;in;n++)if(this.contains(l[n],l))return[l[n]];return l},findFormatfunction(e){var t,n,i,r,o,a=this.format,l=s.editableParent(e);for(t=0,n=a.length;nt;t++)for(i=e,r=a[t].tags,o=a[t].attr;i&&s.isAncestorOf(l,i);){if(s.ofType(i,r)&&s.attrEquals(i,o))return i;i=i.parentNode}return null},getFormatfunction(e){var t,n,i=this,r=function(e){return i.findFormat(s.isDataNode(e)e.parentNodee)},o=r(e[0]);if(!o)return;for(t=1,n=e.length;nt;t++)if(o!=r(e[t]))return;return o.nodeName.toLowerCase()},isFormattedfunction(e){for(var t=0,n=e.length;nt;t++)if(!this.findFormat(e[t]))return!1;return!0}}),m=i.extend({initfunction(e,t){this.format=e,this.values=t,this.finder=new g(e)},wrapfunction(e,t,n){var i,r,o,a,l,c=1==n.lengths.blockParentOrBody(n[0])s.commonAncestor.apply(null,n);for(s.isInline(c)&&(c=s.blockParentOrBody(c)),i=s.significantChildNodes(c),r=s.findNodeIndex(i[0]),o=s.create(c.ownerDocument,e,t),a=0;i.lengtha;a++)l=i[a],s.isBlock(l)(s.attr(l,t),o.childNodes.length&&(s.insertBefore(o,l),o=o.cloneNode(!1)),r=s.findNodeIndex(l)+1)o.appendChild(l);o.firstChild&&s.insertAt(c,o,r)},applyfunction(t){function n(e){return r({},e&&e.attr,d)}var i,o,a,l,c,d=this.values,h=s.filter(img,t),p=u.formatByName(img,this.format),f=n(p);if(e.each(h,function(){s.attr(this,f)}),h.length!=t.length)if(o=s.filter(img,t,!0),a=this.finder.findSuitable(o),a.length)for(l=0,c=a.length;cl;l++)i=u.formatByName(s.name(a[l]),this.format),s.attr(a[l],n(i));else i=this.format[0],this.wrap(i.tags[0],n(i),o)},removefunction(e){var t,n,i,r,o;for(t=0,n=e.length;nt;t++)i=this.finder.findFormat(e[t]),i&&(o=s.name(i),div!=oi.getAttribute(class)(r=u.formatByName(o,this.format),r.attr.style&&s.unstyle(i,r.attr.style),r.attr.className&&s.removeClass(i,r.attr.className))s.unwrap(i))},togglefunction(e){var t=this,n=f.nodes(e);t.finder.isFormatted(n)t.remove(n)t.apply(n)}}),v=i.extend({initfunction(e,t){var n=this;n.format=e,n.values=t,n.finder=new g(e)},applyfunction(e){var t,n,i,r,a,l,c,d=this.format,u=s.blockParents(e),h=d[0].tags[0];if(u.length)for(t=0,n=u.length;nt;t++)c=s.name(u[t]),li==c(i=u[t].parentNode,r=new o.ListFormatter(i.nodeName.toLowerCase(),h),a=this.editor.createRange(),a.selectNode(u[t]),r.toggle(a))h&&(td==cu[t].attributes.contentEditable)new m(d,this.values).apply(u[t].childNodes)(l=s.changeTag(u[t],h),s.attr(l,d[0].attr));else new m(d,this.values).apply(e)},togglefunction(e){var t=f.textNodes(e);t.length(e.selectNodeContents(e.commonAncestorContainer),t=f.textNodes(e),t.length(t=s.significantChildNodes(e.commonAncestorContainer))),this.apply(t)}}),_=l.extend({initfunction(e){e.formatter=e.formatter(),l.fn.init.call(this,e)}}),w=d.extend({initfunction(e){d.fn.init.call(this,r(e,{findernew g(e.format),formatterfunction(){return new m(e.format)}}))}});r(o,{BlockFormatFinderg,BlockFormatterm,GreedyBlockFormatterv,FormatCommand_,BlockFormatToolw}),t=[ul,ol,li],p(justifyLeft,[{tagss.nonListBlockElements,attr{style{textAlignleft}}},{tags[img],attr{style{floatleft,display,marginLeft,marginRight}}},{tagst,attr{style{textAlignleft,listStylePosition}}}]),h(justifyLeft,new w({formata.justifyLeft,templatenew c({templateu.buttonTemplate,titleJustify Left})})),p(justifyCenter,[{tagss.nonListBlockElements,attr{style{textAligncenter}}},{tags[img],attr{style{displayblock,marginLeftauto,marginRightauto,float}}},{tagst,attr{style{textAligncenter,listStylePositioninside}}}]),h(justifyCenter,new w({formata.justifyCenter,templatenew c({templateu.buttonTemplate,titleJustify Center})})),p(justifyRight,[{tagss.nonListBlockElements,attr{style{textAlignright}}},{tags[img],attr{style{floatright,display,marginLeft,marginRight}}},{tagst,attr{style{textAlignright,listStylePositioninside}}}]),h(justifyRight,new w({formata.justifyRight,templatenew c({templateu.buttonTemplate,titleJustify Right})})),p(justifyFull,[{tagss.nonListBlockElements,attr{style{textAlignjustify}}},{tags[img],attr{style{displayblock,marginLeftauto,marginRightauto,float}}},{tagst,attr{style{textAlignjustify,listStylePosition}}}]),h(justifyFull,new w({formata.justifyFull,templatenew c({templateu.buttonTemplate,titleJustify Full})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,r=i.Dom,o=i.Command,a=i.Tool,s=i.BlockFormatter,l=r.normalize,c=i.RangeUtils,d=i.EditorUtils.registerTool,u=o.extend({initfunction(e){this.options=e,o.fn.init.call(this,e)},_insertMarkerfunction(e,t){var n,i=r.create(e,a);return i.className=k-marker,t.insertNode(i),i.parentNode(n=t.commonAncestorContainer,n.innerHTML=,n.appendChild(i)),l(i.parentNode),i},_moveFocusfunction(e,t){if(r.isEmpty(t))e.setStartBefore(t);else{e.selectNodeContents(t);var n=c.textNodes(e)[0];if(!n){for(;t.childNodes.length&&!r.is(t.firstChild,br);)t=t.firstChild;n=t}r.isEmpty(n)e.setStartBefore(n)e.selectNodeContents(n)}},shouldTrimfunction(e){var t=p,h1,h2,h3,h4,h5,h6.split(,),n=r.parentOfType(e.startContainer,t),i=r.parentOfType(e.endContainer,t);return n&&!i!n&&i},_blankAfterfunction(e){for(;e&&(r.isMarker(e)===r.stripBom(e.nodeValue));)e=e.nextSibling;return!e},execfunction(){var e,t,n,o,a,d,u,h,p=this.getRange(),f=c.documentFromRange(p),g=i.emptyElementContent,m=this.shouldTrim(p);p.deleteContents(),a=this._insertMarker(f,p),d=r.closestEditableOfType(a,[li]),u=r.closestEditableOfType(a,h1,h2,h3,h4,h5,h6.split(,)),dr.emptyNode(d)&&(o=r.create(f,p),d.nextSibling&&(h=p.cloneRange(),h.selectNode(d),c.split(h,d.parentNode)),r.insertAfter(o,d.parentNode),r.remove(1==d.parentNode.childNodes.lengthd.parentNoded),o.innerHTML=g,n=o)u&&this._blankAfter(a)&&(o=r.create(f,p),r.insertAfter(o,u),o.innerHTML=g,r.remove(a),n=o),n(dunew s([{tags[p]}]).apply([a]),p.selectNode(a),e=r.parentOfType(a,[dliur.name(u)p]),c.split(p,e,m),t=e.previousSibling,r.is(t,li)&&t.firstChild&&!r.is(t.firstChild,br)&&(t=t.firstChild),n=e.nextSibling,this.clean(t),this.clean(n,{links!0}),r.is(n,li)&&n.firstChild&&!r.is(n.firstChild,br)&&(n=n.firstChild),r.remove(e),l(t)),l(n),this._moveFocus(p,n),p.collapse(!0),r.scrollTo(n),c.selectRange(p)},cleanfunction(t,n){var o,a=t;if(t.firstChild&&r.is(t.firstChild,br)&&r.remove(t.firstChild),r.isDataNode(t)&&!t.nodeValue&&(t=t.parentNode),t){for(o=!1;t.firstChild&&1==t.firstChild.nodeType;)o=or.significantNodes(t.childNodes).length1,t=t.firstChild;if(r.isEmpty(t)!^s$.test(t.innerHTML)o(e(a).find(.k-br).remove(),t.innerHTML=i.emptyElementContent),n&&n.links)for(;t!=a;){if(r.is(t,a)&&r.emptyNode(t)){r.unwrap(t);break}t=t.parentNode}}}}),h=o.extend({initfunction(e){this.options=e,o.fn.init.call(this,e)},execfunction(){var e,n=this.getRange(),i=r.create(c.documentFromRange(n),br),o=t.support.browser,a=o.msie&&11o.version;n.deleteContents(),n.insertNode(i),l(i.parentNode),ai.nextSibling&&!r.isWhitespace(i.nextSibling)(e=i.cloneNode(!0),e.className=k-br,r.insertAfter(e,i)),n.setStartAfter(i),n.collapse(!0),r.scrollTo(i.nextSiblingi),c.selectRange(n)}});n(i,{ParagraphCommandu,NewLineCommandh}),d(insertLineBreak,new a({key13,shift!0,commandh})),d(insertParagraph,new a({key13,commandu}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,r=t.ui.editor,o=r.Dom,a=r.RangeUtils,s=r.EditorUtils,l=r.Command,c=r.ToolTemplate,d=r.FormatTool,u=r.BlockFormatFinder,h=a.textNodes,p=r.EditorUtils.registerTool,f=u.extend({initfunction(e){this.tag=e;var t=this.tags=[ul==eolul,e];u.fn.init.call(this,[{tagst}])},isFormattedfunction(e){var t,n,i=[];for(n=0;e.lengthn;n++)t=this.findFormat(e[n]),t&&o.name(t)==this.tag&&i.push(t);if(1i.length)return!1;if(i.length!=e.length)return!1;for(n=0;i.lengthn&&i[n].parentNode==t.parentNode;n++)if(i[n]!=t)return!1;return!0},findSuitablefunction(e){var t=this.findFormat(e[0]);return t&&o.name(t)==this.tagtnull}}),g=n.extend({initfunction(e,t){var n=this;n.finder=new f(e),n.tag=e,n.unwrapTag=t},isListfunction(e){var t=o.name(e);returnul==tol==tdl==t},wrapfunction(e,t){var n,i,r=o.create(e.ownerDocument,li);for(n=0;t.lengthn;n++)if(i=t[n],o.is(i,li))e.appendChild(i);else if(this.isList(i))for(;i.firstChild;)e.appendChild(i.firstChild);else if(o.is(i,td)){for(;i.firstChild;)r.appendChild(i.firstChild);e.appendChild(r),i.appendChild(e),e=e.cloneNode(!1),r=r.cloneNode(!1)}else r.appendChild(i),o.isBlock(i)&&(e.appendChild(r),o.unwrap(i),r=r.cloneNode(!1));r.firstChild&&e.appendChild(r)},containsAnyfunction(e,t){for(var n=0;t.lengthn;n++)if(o.isAncestorOrSelf(e,t[n]))return!0;return!1},suitablefunction(e,t){if(k-marker==e.className){var n=e.nextSibling;if(n&&o.isBlock(n))return!1;if(n=e.previousSibling,n&&o.isBlock(n))return!1}return this.containsAny(e,t)o.isInline(e)3==e.nodeType},_parentListsfunction(t){var n=o.closestEditable(t);return e(t).parentsUntil(n,ul,ol)},splitfunction(e){var t,n,i,r,s,l,c=h(e);if(c.length)for(t=o.parentOfType(c[0],[li]),n=o.parentOfType(c[c.length-1],[li]),e.setStartBefore(t),e.setEndAfter(n),r=0,s=c.length;sr;r++)l=this.finder.findFormat(c[r]),l&&(i=this._parentLists(l),i.lengtha.split(e,i.last()[0],!0)a.split(e,l,!0))},mergefunction(e,t){for(var n,i=t.previousSibling;i&&(k-marker==i.className3==i.nodeType&&o.isWhitespace(i));)i=i.previousSibling;if(i&&o.name(i)==e){for(;t.firstChild;)i.appendChild(t.firstChild);o.remove(t),t=i}for(n=t.nextSibling;n&&(k-marker==n.className3==n.nodeType&&o.isWhitespace(n));)n=n.nextSibling;if(n&&o.name(n)==e){for(;t.lastChild;)n.insertBefore(t.lastChild,n.firstChild);o.remove(t)}},breakablefunction(e){return e!=e.ownerDocument.body&&!tabletbodytrtd.test(o.name(e))&&!e.attributes.contentEditable},applyOnSectionfunction(t,n){function i(){u.push(this)}var r,a,s,l,c=this.tag,d=o.closestSplittableParent(n),u=[],h=this.finder.findSuitable(n);for(h(h=new f(ul==colul).findSuitable(n)),tabletbody.test(o.name(d))r=e.map(n,function(e){return o.parentOfType(e,[td])})(r=o.significantChildNodes(d),e.grep(r,o.isBlock).length&&(r=e.grep(r,e.proxy(function(e){return this.containsAny(e,n)},this))),r.length(r=n)),a=0;r.lengtha;a++)s=r[a],l=(!h!o.isAncestorOrSelf(h,s))&&this.suitable(s,n),l&&(h&&this.isList(s)(e.each(s.childNodes,i),o.remove(s))u.push(s));u.length==r.length&&this.breakable(d)&&(u=[d]),h(h=o.create(d.ownerDocument,c),o.insertBefore(h,u[0])),this.wrap(h,u),o.is(h,c)o.changeTag(h,c),this.merge(c,h)},applyfunction(e){var t,n,i,r=0,a=[];do i=o.closestEditable(e[r],[td,body]),t&&i==tn.push(e[r])(t&&a.push({sectiont,nodesn}),n=[e[r]],t=i),r++;while(e.lengthr);for(a.push({sectiont,nodesn}),r=0;a.lengthr;r++)this.applyOnSection(a[r].section,a[r].nodes)},unwrapfunction(e){var t,n,i,r,a=e.ownerDocument.createDocumentFragment(),s=this.unwrapTag;for(n=e.firstChild;n;n=n.nextSibling){for(i=o.create(e.ownerDocument,sp);n.firstChild;)r=n.firstChild,o.isBlock(r)(i.firstChild&&(a.appendChild(i),i=o.create(e.ownerDocument,sp)),a.appendChild(r))i.appendChild(r);i.firstChild&&a.appendChild(i)}t=this._parentLists(e),t[0](o.insertAfter(a,t.last()[0]),t.last().remove())o.insertAfter(a,e),o.remove(e)},removefunction(e){var t,n,i;for(n=0,i=e.length;in;n++)t=this.finder.findFormat(e[n]),t&&this.unwrap(t)},togglefunction(e){var t,n=this,i=h(e),r=e.commonAncestorContainer;i.length(e.selectNodeContents(r),i=h(e),i.length(t=r.ownerDocument.createTextNode(),e.startContainer.appendChild(t),i=[t],e.selectNode(t.parentNode))),n.finder.isFormatted(i)(n.split(e),n.remove(i))n.apply(i)}}),m=l.extend({initfunction(e){e.formatter=new g(e.tag),l.fn.init.call(this,e)}}),v=d.extend({initfunction(e){this.options=e,d.fn.init.call(this,i(e,{findernew f(e.tag)}))},commandfunction(e){return new m(i(e,{tagthis.options.tag}))}});i(r,{ListFormatFinderf,ListFormatterg,ListCommandm,ListToolv}),p(insertUnorderedList,new v({tagul,templatenew c({templates.buttonTemplate,titleInsert unordered list})})),p(insertOrderedList,new v({tagol,templatenew c({templates.buttonTemplate,titleInsert ordered list})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,i=e.extend,r=e.proxy,o=t.ui.editor,a=o.Dom,s=o.RangeUtils,l=o.EditorUtils,c=o.Command,d=o.Tool,u=o.ToolTemplate,h=o.InlineFormatter,p=o.InlineFormatFinder,f=s.textNodes,g=o.EditorUtils.registerTool,m=n.extend({findSuitablefunction(e){return a.parentOfType(e,[a])}}),v=n.extend({initfunction(){this.finder=new m},applyfunction(e,t){var n,i,r,o,l,c,d,u=f(e);if(t.innerHTML){for(i=s.documentFromRange(e),n=s.getMarkers(e),e.deleteContents(),o=a.create(i,a,t),e.insertNode(o),l=o.parentNode,a==a.name(l)&&a.insertAfter(o,l),a.emptyNode(l)&&a.remove(l),c=o,d=0;n.lengthd;d++)a.insertAfter(n[d],c),c=n[d];n.length&&(a.insertBefore(i.createTextNode(﻿),n[1]),a.insertAfter(i.createTextNode(﻿),n[1]),e.setStartBefore(n[0]),e.setEndAfter(n[n.length-1]))}else r=new h([{tags[a]}],t),r.finder=this.finder,r.apply(u)}}),_=c.extend({initfunction(e){e.formatter={togglefunction(e){new h([{tags[a]}]).remove(f(e))}},this.options=e,c.fn.init.call(this,e)}}),w=c.extend({initfunction(e){this.options=e,c.fn.init.call(this,e),this.formatter=new v,e.urlthis.exec=function(){this.formatter.apply(e.range,{hrefe.url,innerHTMLe.texte.url,targete.target})}(this.attributes=null,this.async=!0)},_dialogTemplatefunction(){return t.template(div class=k-editor-dialog k-popup-edit-form k-edit-form-containerdiv class='k-edit-label'label for='k-editor-link-url'# messages.linkWebAddress #labeldivdiv class='k-edit-field'input type='text' class='k-input k-textbox' id='k-editor-link-url'divdiv class='k-edit-label k-editor-link-text-row'label for='k-editor-link-text'# messages.linkText #labeldivdiv class='k-edit-field k-editor-link-text-row'input type='text' class='k-input k-textbox' id='k-editor-link-text'divdiv class='k-edit-label'label for='k-editor-link-title'# messages.linkToolTip #labeldivdiv class='k-edit-field'input type='text' class='k-input k-textbox' id='k-editor-link-title'divdiv class='k-edit-label'divdiv class='k-edit-field'input type='checkbox' class='k-checkbox' id='k-editor-link-target'label for='k-editor-link-target' class='k-checkbox-label'# messages.linkOpenInNewWindow #labeldivdiv class='k-edit-buttons k-state-default'button class=k-dialog-insert k-button k-primary# messages.dialogInsert #buttonbutton class=k-dialog-close k-button# messages.dialogCancel #buttondivdiv)({messagesthis.editor.options.messages})
},execfunction(){var t,n,i,o,s=(this.getRange().collapsed,this.editor.options.messages);this._initialText=,this._range=this.lockRange(!0),t=f(this._range),n=t.lengththis.formatter.finder.findSuitable(t[0])null,i=t.length&&img==a.name(t[0]),o=this.createDialog(this._dialogTemplate(),{titles.createLink,closer(this._close,this),visible!1}),n&&(this._range.selectNodeContents(n),t=f(this._range)),this._initialText=this.linkText(t),o.find(.k-dialog-insert).click(r(this._apply,this)).end().find(.k-dialog-close).click(r(this._close,this)).end().find(.k-edit-field input).keydown(r(this._keydown,this)).end().find(#k-editor-link-url).val(this.linkUrl(n)).end().find(#k-editor-link-text).val(this._initialText).end().find(#k-editor-link-title).val(nn.title).end().find(#k-editor-link-target).attr(checked,n_blank==n.target!1).end().find(.k-editor-link-text-row).toggle(!i),this._dialog=o.data(kendoWindow).center().open(),e(#k-editor-link-url,o).focus().select()},_keydownfunction(e){var n=t.keys;e.keyCode==n.ENTERthis._apply(e)e.keyCode==n.ESC&&this._close(e)},_applyfunction(t){var n,i,r,o=this._dialog.element,s=e(#k-editor-link-url,o).val(),l=e(#k-editor-link-text,o);s&&http!=s&&(s.indexOf(@)0&&!^(w+)()i.test(s)&&(s=mailto+s),this.attributes={hrefs},n=e(#k-editor-link-title,o).val(),n&&(this.attributes.title=n),l.is(visible)&&(i=l.val(),ithis._initialTexti&&i!==this._initialText&&(this.attributes.innerHTML=a.stripBom(i))this.attributes.innerHTML=s),r=e(#k-editor-link-target,o).is(checked),this.attributes.target=r_blanknull,this.formatter.apply(this._range,this.attributes)),this._close(t),this.change&&this.change()},_closefunction(e){e.preventDefault(),this._dialog.destroy(),a.windowFromDocument(s.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrlfunction(e){return ee.getAttribute(href,2)http},linkTextfunction(e){var t,n=;for(t=0;e.lengtht;t++)n+=e[t].nodeValue;return a.stripBom(n)},redofunction(){var e=this.lockRange(!0);this.formatter.apply(e,this.attributes),this.releaseRange(e)}}),y=d.extend({initfunction(t){this.options=t,this.finder=new p([{tags[a]}]),d.fn.init.call(this,e.extend(t,{command_}))},initializefunction(e,t){d.fn.initialize.call(this,e,t),e.addClass(k-state-disabled)},updatefunction(e,t){e.toggleClass(k-state-disabled,!this.finder.isFormatted(t)).removeClass(k-state-hover)}});i(t.ui.editor,{LinkFormatFinderm,LinkFormatterv,UnlinkCommand_,LinkCommandw,UnlinkTooly}),g(createLink,new d({keyK,ctrl!0,commandw,templatenew u({templatel.buttonTemplate,titleCreate Link})})),g(unlink,new y({keyK,ctrl!0,shift!0,templatenew u({templatel.buttonTemplate,titleRemove Link})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,r=n.ui.editor,o=r.EditorUtils,a=r.Dom,s=o.registerTool,l=r.ToolTemplate,c=r.RangeUtils,d=r.Command,u=r.LinkFormatter,h=c.textNodes,p=n.keys,f=#k-editor-file-url,g=#k-editor-file-title,m=d.extend({initfunction(e){var t=this;d.fn.init.call(t,e),t.formatter=new u,t.async=!0,t.attributes={}},insertFilefunction(e,t){var n=this.attributes,i=c.documentFromRange(t);if(n.href&&http!=n.href){if(!e)return e=a.create(i,a,{hrefn.href}),e.innerHTML=n.innerHTML,t.deleteContents(),t.insertNode(e),e.nextSiblinga.insertAfter(i.createTextNode(﻿),e),t.setStartAfter(e),t.setEndAfter(e),c.selectRange(t),!0;a.attr(e,n)}return!1},_dialogTemplatefunction(e){return n.template('div class=k-editor-dialog k-popup-edit-form k-edit-form-container# if (showBrowser) { #div class=k-filebrowserdiv# } #div class='k-edit-label'label for=k-editor-file-url# messages.fileWebAddress #labeldivdiv class='k-edit-field'input type=text class=k-input k-textbox id=k-editor-file-urldivdiv class='k-edit-label'label for=k-editor-file-title# messages.fileTitle #labeldivdiv class='k-edit-field'input type=text class=k-input k-textbox id=k-editor-file-titledivdiv class=k-edit-buttons k-state-defaultbutton class=k-dialog-insert k-button k-primary# messages.dialogInsert #buttonbutton class=k-dialog-close k-button# messages.dialogCancel #buttondivdiv')({messagesthis.editor.options.messages,showBrowsere})},redofunction(){var e=this,t=e.lockRange();this.formatter.apply(t,this.attributes),e.releaseRange(t)},execfunction(){function e(e){var t=s.element,n=t.find(f).val().replace( g,%20),i=t.find(g).val();l.attributes={hrefn,innerHTML!==iin},m=l.insertFile(v,d),r(e),l.change&&l.change()}function r(e){e.preventDefault(),s.destroy(),a.windowFromDocument(c.documentFromRange(d)).focus(),ml.releaseRange(d)}function o(t){t.keyCode==p.ENTERe(t)t.keyCode==p.ESC&&r(t)}var s,l=this,d=l.lockRange(),u=h(d),m=!1,v=u.lengththis.formatter.finder.findSuitable(u[0])null,_=l.editor.options,w=_.messages,y=_.fileBrowser,b=!!(n.ui.FileBrowser&&y&&y.transport&&y.transport.read!==t),k={titlew.insertFile,visible!1,resizableb};k.close=r,b&&(k.width=750),s=this.createDialog(l._dialogTemplate(b),k).toggleClass(k-filebrowser-dialog,b).find(.k-dialog-insert).click(e).end().find(.k-dialog-close).click(r).end().find(.k-edit-field input).keydown(o).end().find(f).val(vv.getAttribute(href,2)http).end().find(g).val(vv.title).end().data(kendoWindow),b&&new n.ui.FileBrowser(s.element.find(.k-filebrowser),i({},y,{changefunction(){s.element.find(f).val(this.value())},applye})),s.center().open(),s.element.find(f).focus().select()}});n.ui.editor.FileCommand=m,s(insertFile,new r.Tool({commandm,templatenew l({templateo.buttonTemplate,titleInsert File})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=e.extend,r=n.ui.editor,o=r.EditorUtils,a=r.Dom,s=o.registerTool,l=r.ToolTemplate,c=r.RangeUtils,d=r.Command,u=n.keys,h=#k-editor-image-url,p=#k-editor-image-title,f=#k-editor-image-width,g=#k-editor-image-height,m=d.extend({initfunction(e){var t=this;d.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImagefunction(e,t){var n,i=this.attributes,r=c.documentFromRange(t);if(i.src&&http!=i.src){if(n=function(){setTimeout(function(){i.widthe.removeAttribute(width),i.heighte.removeAttribute(height),e.removeAttribute(complete)})},!e)return e=a.create(r,img,i),e.onload=e.onerror=n,t.deleteContents(),t.insertNode(e),e.nextSiblinga.insertAfter(r.createTextNode(﻿),e),n(),t.setStartAfter(e),t.setEndAfter(e),c.selectRange(t),!0;e.onload=e.onerror=n,a.attr(e,i),n()}return!1},_dialogTemplatefunction(e){return n.template('div class=k-editor-dialog k-popup-edit-form k-edit-form-container# if (showBrowser) { #div class=k-filebrowser k-imagebrowserdiv# } #div class='k-edit-label'label for=k-editor-image-url# messages.imageWebAddress #labeldivdiv class='k-edit-field'input type=text class=k-input k-textbox id=k-editor-image-urldivdiv class='k-edit-label'label for=k-editor-image-title# messages.imageAltText #labeldivdiv class='k-edit-field'input type=text class=k-input k-textbox id=k-editor-image-titledivdiv class='k-edit-label'label for=k-editor-image-width# messages.imageWidth #labeldivdiv class='k-edit-field'input type=text class=k-input k-textbox id=k-editor-image-widthdivdiv class='k-edit-label'label for=k-editor-image-height# messages.imageHeight #labeldivdiv class='k-edit-field'input type=text class=k-input k-textbox id=k-editor-image-heightdivdiv class=k-edit-buttons k-state-defaultbutton class=k-dialog-insert k-button k-primary# messages.dialogInsert #buttonbutton class=k-dialog-close k-button# messages.dialogCancel #buttondivdiv')({messagesthis.editor.options.messages,showBrowsere})},redofunction(){var e=this,t=e.lockRange();e.insertImage(c.image(t),t)e.releaseRange(t)},execfunction(){function e(e){var t=s.element,n=parseInt(t.find(f).val(),10),i=parseInt(t.find(g).val(),10);l.attributes={srct.find(h).val().replace( g,%20),altt.find(p).val()},l.attributes.width=null,l.attributes.height=null,!isNaN(n)&&n0&&(l.attributes.width=n),!isNaN(i)&&i0&&(l.attributes.height=i),m=l.insertImage(v,d),r(e),l.change&&l.change()}function r(e){e.preventDefault(),s.destroy(),a.windowFromDocument(c.documentFromRange(d)).focus(),ml.releaseRange(d)}function o(t){t.keyCode==u.ENTERe(t)t.keyCode==u.ESC&&r(t)}var s,l=this,d=l.lockRange(),m=!1,v=c.image(d),_=v&&v.getAttribute(width),w=v&&v.getAttribute(height),y=l.editor.options,b=y.messages,k=y.imageBrowser,x=!!(n.ui.ImageBrowser&&k&&k.transport&&k.transport.read!==t),C={titleb.insertImage,visible!1,resizablex};C.close=r,x&&(C.width=750),s=this.createDialog(l._dialogTemplate(x),C).toggleClass(k-filebrowser-dialog,x).find(.k-dialog-insert).click(e).end().find(.k-dialog-close).click(r).end().find(.k-edit-field input).keydown(o).end().find(h).val(vv.getAttribute(src,2)http).end().find(p).val(vv.alt).end().find(f).val(_).end().find(g).val(w).end().data(kendoWindow),x&&new n.ui.ImageBrowser(s.element.find(.k-imagebrowser),i({},k,{changefunction(){s.element.find(h).val(this.value())},applye})),s.center().open(),s.element.find(h).focus().select()}});n.ui.editor.ImageCommand=m,s(insertImage,new r.Tool({commandm,templatenew l({templateo.buttonTemplate,titleInsert Image})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui.DropDownList,r=n.ui.editor.Dom,o=i.extend({initfunction(t,r){var o=this;i.fn.init.call(o,t,r),n.support.mobileOS.ios&&(this._initSelectOverlay(),this.bind(dataBound,e.proxy(this._initSelectOverlay,this))),o.text(o.options.title),o.bind(open,function(){if(o.options.autoSize){var e,t=o.list;t.css({whiteSpacenowrap,widthauto}),e=t.width(),ee+=20e=o._listWidth,t.css(width,e+n.support.scrollbar()),o._listWidth=e}})},options{nameSelectBox,index-1},_initSelectOverlayfunction(){var t,i,r,o,a=this,s=a.value(),l=this.dataSource.view(),c=,d=n.htmlEncode;for(i=0;l.lengthi;i++)t=l[i],c+=option value='+d(t.value)+',t.value==s&&(c+= selected),c+=+d(t.text)+option;r=e(select class='k-select-overlay'+c+select),o=e(this.element).closest(.k-widget),o.next(.k-select-overlay).remove(),r.insertAfter(o),r.on(change,function(){a.value(this.value),a.trigger(change)})},valuefunction(e){var n=this,r=i.fn.value.call(n,e);return e===tr(i.fn.value.call(n)n.text(n.options.title),t)},decoratefunction(t){var n,i,o,a,s=this,l=s.dataSource,c=l.data();for(t&&s.list.css(background-color,r.getEffectiveBackground(e(t))),n=0;c.lengthn;n++)i=c[n].tagspan,o=c[n].className,a=r.inlineStyle(t,i,{classNameo}),a=a.replace(g,'),c[n].style=a+;displayinline-block;l.trigger(change)}});n.ui.plugin(o),n.ui.editor.SelectBox=o}(window.kendo.jQuery),function(e,t){function n(n,i){var r=rtl==e(n).css(direction),o=rRightLeft,a=td!=s.name(n)margin+opadding+o;return i===tn.style[a]0(i0n.style[a]=i+px(n.style[a]=,n.style.cssTextn.removeAttribute(style)),t)}var i=window.kendo,r=i.Class,o=e.extend,a=i.ui.editor,s=a.Dom,l=a.EditorUtils,c=l.registerTool,d=a.Command,u=a.Tool,h=a.ToolTemplate,p=a.RangeUtils,f=s.blockElements,g=a.BlockFormatFinder,m=a.BlockFormatter,v=r.extend({initfunction(){this.finder=new g([{tagss.blockElements}])},applyfunction(t){var i,r,o,a,l,c,d,u,h,p,f=this.finder.findSuitable(t),g=[];if(f.length){for(i=0,r=f.length;ri;i++)s.is(f[i],li)e(f[i]).index()e.inArray(f[i].parentNode,g)0&&g.push(f[i])g.push(f[i].parentNode)g.push(f[i]);for(;g.length;)if(o=g.shift(),s.is(o,li))if(a=o.parentNode,l=e(o).prev(li),c=l.find(ul,ol).last(),d=e(o).children(ul,ol)[0],d&&l[0])c[0](c.append(o),c.append(e(d).children()),s.remove(d))(l.append(d),d.insertBefore(o,d.firstChild));else for(d=l.children(ul,ol)[0],d(d=s.create(o.ownerDocument,s.name(a)),l.append(d));o&&o.parentNode==a;)d.appendChild(o),o=g.shift();else for(u=parseInt(n(o),10)+30,n(o,u),h=0;g.lengthh;h++)e.contains(o,g[h])&&g.splice(h,1)}else p=new m([{tags[p]}],{style{marginLeft30}}),p.apply(t)},removefunction(t){var i,r,o,a,s,l,c,d,u=this.finder.findSuitable(t);for(r=0,o=u.length;or;r++){if(c=e(u[r]),c.is(li)){if(a=c.parent(),s=a.parent(),s.is(li,ul,ol)&&!n(a[0])){if(i&&e.contains(i,s[0]))continue;l=c.nextAll(li),l.length&&e(a[0].cloneNode(!1)).appendTo(c).append(l),s.is(li)c.insertAfter(s)c.appendTo(s),a.children(li).lengtha.remove();continue}if(i==a[0])continue;i=a[0]}else i=u[r];d=parseInt(n(i),10)-30,n(i,d)}}}),_=d.extend({initfunction(e){e.formatter={togglefunction(e){(new v).apply(p.nodes(e))}},d.fn.init.call(this,e)}}),w=d.extend({initfunction(e){e.formatter={togglefunction(e){(new v).remove(p.nodes(e))}},d.fn.init.call(this,e)}}),y=u.extend({initfunction(e){u.fn.init.call(this,e),this.finder=new g([{tagsf}])},initializefunction(e,t){u.fn.initialize.call(this,e,t),e.addClass(k-state-disabled)},updatefunction(i,r){var o,a,l,c,d=this.finder.findSuitable(r);for(l=0,c=d.length;cl;l++)if(o=n(d[l]),o(a=e(d[l]).parents(ul,ol).length,o=s.is(d[l],li)&&(a1n(d[l].parentNode))s.ofType(d[l],[ul,ol])&&a0),o)return i.removeClass(k-state-disabled),t;i.addClass(k-state-disabled).removeClass(k-state-hover)}});o(a,{IndentFormatterv,IndentCommand_,OutdentCommandw,OutdentTooly}),c(indent,new u({command_,templatenew h({templatel.buttonTemplate,titleIndent})})),c(outdent,new y({commandw,templatenew h({templatel.buttonTemplate,titleOutdent})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,i=t.ui.editor,r=i.EditorUtils,o=i.Command,a=i.Tool,s=i.ToolTemplate,l=o.extend({initfunction(e){var t=this;t.options=e,o.fn.init.call(t,e),t.attributes=null,t.async=!0},execfunction(){function n(e){o.value(s.find(d).val()),i(e),r.change&&r.change(),o.trigger(change)}function i(e){e.preventDefault(),s.data(kendoWindow).destroy(),o.focus()}var r=this,o=r.editor,a=o.options.messages,s=e(t.template(l.template)(a)).appendTo(document.body),c=l.indent(o.value()),d=.k-editor-textarea;this.createDialog(s,{titlea.viewHtml,closei,visible!1}).find(d).val(c).end().find(.k-dialog-update).click(n).end().find(.k-dialog-close).click(i).end().data(kendoWindow).center().open(),s.find(d).focus()}});n(l,{templatediv class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'textarea class='k-editor-textarea k-input'textareadiv class='k-edit-buttons k-state-default'button class='k-dialog-update k-button k-primary'# dialogUpdate #buttonbutton class='k-dialog-close k-button'# dialogCancel #buttondivdiv,indentfunction(e){return e.replace((pliulolh[1-6]tabletrtdth)gi,$1n).replace((ulol)([^])ligi,$1$2nli).replace(br gi,br n).replace(n$,)}}),t.ui.editor.ViewHtmlCommand=l,i.EditorUtils.registerTool(viewHtml,new a({commandl,templatenew s({templater.buttonTemplate,titleView HTML})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui.editor,i=n.Tool,r=n.ToolTemplate,o=n.DelayedExecutionTool,a=n.Command,s=n.Dom,l=n.EditorUtils,c=n.RangeUtils,d=l.registerTool,u=o.extend({initfunction(e){var n=this;i.fn.init.call(n,t.deepExtend({},n.options,e)),n.type=kendoSelectBox,n.finder={getFormatfunction(){return}}},options{items[{textParagraph,valuep},{textQuotation,valueblockquote},{textHeading 1,valueh1},{textHeading 2,valueh2},{textHeading 3,valueh3},{textHeading 4,valueh4},{textHeading 5,valueh5},{textHeading 6,valueh6}],width110},toFormattingItemfunction(e){var t,n=e.value;return ne.tage.classNamee(t=n.indexOf(.),0===te.className=n.substring(1)-1==te.tag=n(e.tag=n.substring(0,t),e.className=n.substring(t+1)),e)e},commandfunction(t){var i=t.value;return i=this.toFormattingItem(i),new n.FormatCommand({ranget.range,formatterfunction(){var t,r=(i.tagi.contextspan).split(,),o=[{tagsr,attr{classNamei.className}}];return t=e.inArray(r[0],s.inlineElements)=0new n.GreedyInlineFormatter(o)new n.GreedyBlockFormatter(o)}})},initializefunction(e,n){var r=n.editor,o=this.options,a=o.name,s=this;e.width(o.width),e.kendoSelectBox({dataTextFieldtext,dataValueFieldvalue,dataSourceo.itemsr.options[a],titler.options.messages[a],autoSize!0,changefunction(){var e=this.dataItem();e&&i.exec(r,a,e.toJSON())},dataBoundfunction(){var e,t=this.dataSource.data();for(e=0;t.lengthe;e++)t[e]=s.toFormattingItem(t[e])},highlightFirst!1,templatet.template('span unselectable=on style=displayblock;#=(data.style)##data.text#span')}),e.addClass(k-decorated).closest(.k-widget).removeClass(k-+a).find().addBack().attr(unselectable,on)},getFormattingValuefunction(t,n){var i,r,o,a,s,l,c;for(i=0;t.lengthi;i++)if(r=t[i],o=r.tagr.context,a=r.className.+r.className,s=o+a,l=e(n[0]).closest(s)[0]){if(1==n.length)return r.value;for(c=1;n.lengthc&&e(n[c]).closest(s)[0];c++)if(c==n.length-1)return r.value}return},updatefunction(t,n){var i,r,a,l,c,d=e(t).data(this.type);if(d&&(i=d.dataSource,r=i.data(),c=s.commonAncestor.apply(null,n),this._ancestor!=c)){for(this._ancestor=c,a=0;r.lengtha;a++)l=r[a].context,r[a].visible=!l!!e(c).closest(l).length;i.filter([{fieldvisible,operatoreq,value!0}]),o.fn.update.call(this,t,n),d.value(this.getFormattingValue(i.view(),n)),d.wrapper.toggleClass(k-state-disabled,!i.view().length)}},destroyfunction(){this._ancestor=null}}),h=a.extend({execfunction(){var t,i=new n.ListFormatter(ul),r=this.lockRange(!0),o=this.options.removestrong,em,span,sup,sub,del,b,i,u,font.split(,);c.wrapSelectedElements(r),t=new n.RangeIterator(r),t.traverse(function a(t){var n,r,l,c;if(t&&!s.isMarker(t)){if(n=s.name(t),ul==nol==n)for(r=t.previousSibling,l=t.nextSibling,i.unwrap(t);r&&r!=l;r=r.nextSibling)a(r);else if(blockquote==n)s.changeTag(t,p);else if(1==t.nodeType&&!s.insignificant(t)){for(c=t.childNodes.length-1;c=0;c--)a(t.childNodes[c]);t.removeAttribute(style),t.removeAttribute(class)}e.inArray(n,o)-1&&s.unwrap(t)}}),this.releaseRange(r)}});e.extend(n,{FormattingToolu,CleanFormatCommandh}),d(formatting,new u({templatenew r({templatel.dropDownListTemplate,titleFormat})})),d(cleanFormatting,new i({commandh,templatenew r({templatel.buttonTemplate,titleClean formatting})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui,i=n.editor,r=n.Widget,o=e.extend,a=e.proxy,s=t.keys,l=.kendoEditor,c=a.k-toolnot(.k-state-disabled),.k-widget.k-colorpicker,.k-selectbox,.k-dropdown,.k-combobox .k-input,d=r.extend({initfunction(e,t){var n=this;t=o({},t,{nameEditorToolbar}),r.fn.init.call(n,e,t),t.popup&&n._initPopup()},events[execute],groups{basic[bold,italic,underline,strikethrough],scripts[subscript,superscript],alignment[justifyLeft,justifyCenter,justifyRight,justifyFull],links[insertImage,insertFile,createLink,unlink],lists[insertUnorderedList,insertOrderedList,indent,outdent],tables[createTable,addColumnLeft,addColumnRight,addRowAbove,addRowBelow,deleteRow,deleteColumn],advanced[viewHtml,cleanFormatting,print,pdf]},_initPopupfunction(){this.window=e(this.element).wrap(div class='editorToolbarWindow k-header' ).parent().prepend(button class='k-button k-button-bare k-editortoolbar-dragHandle'span class='k-icon k-i-move' button).kendoWindow({title!1,resizable!1,draggable{dragHandle.k-editortoolbar-dragHandle},animation{open{effectsfadein},close{effectsfadeout}},minHeight42,visible!1,autoFocus!1,actions[],dragendfunction(){this._moved=!0}}).on(mousedown,function(t){e(t.target).is(.k-icon)t.preventDefault()}).data(kendoWindow)},itemsfunction(){return this.element.children().find( , select)},focusedfunction(){return this.element.find(.k-state-focused).length0},toolByIdfunction(e){var t,n=this.tools;for(t in n)if(t.toLowerCase()==e)return n[t]},toolGroupForfunction(t){var n,i=this.groups;if(this.isCustomTool(t))returncustom;for(n in i)if(e.inArray(t,i[n])=0)return n},bindTofunction(t){var n=this,i=n.window;n._editor&&n._editor.unbind(select,a(n.refreshTools,n)),n._editor=t,n.tools=n.expandTools(t.options.tools),n.render(),n.element.find(.k-combobox .k-input).keydown(function(t){var n=e(this).closest(.k-combobox).data(kendoComboBox),i=t.keyCode;i==s.RIGHTi==s.LEFTn.close()i==s.DOWN&&(n.dropDown.isOpened()(t.stopImmediatePropagation(),n.open()))}),n._attachEvents(),n.items().each(function(){var i,r=n._toolName(this),o=n.tools[r],a=o&&o.options,s=t.options.messages,l=a&&a.tooltips[r],c=e(this);o&&o.initialize&&((fontSize==rfontName==r)&&(i=s[r+Inherit],c.find(input).val(i).end().find(span.k-input).text(i).end()),o.initialize(c,{titlen._appendShortcutSequence(l,o),editorn._editor}),c.closest(.k-widget,n.element).addClass(k-editor-widget),c.closest(.k-colorpicker,n.element).next(.k-colorpicker).addClass(k-editor-widget))}),t.bind(select,a(n.refreshTools,n)),n.update(),i&&i.wrapper.css({top,left,width})},showfunction(){var e,t,n,i=this,r=i.window,o=i.options.editor;r&&(e=r.wrapper,t=o.element,e.is(visible)&&i.window.options.visible(e[0].style.widthe.width(t.outerWidth()-parseInt(e.css(border-left-width),10)-parseInt(e.css(border-right-width),10)),r._moved(n=t.offset(),e.css({topMath.max(0,parseInt(n.top,10)-e.outerHeight()-parseInt(i.window.element.css(padding-bottom),10)),leftMath.max(0,parseInt(n.left,10))})),r.open()))},hidefunction(){this.window&&this.window.close()},focusfunction(){var e=tabIndex,t=this.element,n=this._editor.element.attr(e);t.attr(e,n0).focus().find(c).first().focus(),n0===nt.removeAttr(e)},_appendShortcutSequencefunction(e,t){if(!t.key)return e;var n=e+ (;return t.ctrl&&(n+=Ctrl + ),t.shift&&(n+=Shift + ),t.alt&&(n+=Alt + ),n+=t.key+)},_nativeTools[insertLineBreak,insertParagraph,redo,undo],tools{},isCustomToolfunction(e){return!(e in t.ui.Editor.defaultTools)},expandToolsfunction(n){var r,a,s,l,c=this._nativeTools,d=t.deepExtend({},t.ui.Editor.defaultTools),u={};for(a=0;n.lengtha;a++)r=n[a],l=r.name,e.isPlainObject(r)l&&d[l](u[l]=o({},d[l]),o(u[l].options,r))(s=o({cssClassk-i-custom,typebutton,title},r),s.name(s.name=custom),s.cssClass=k-+(custom==s.namei-customs.name),s.templatebutton!=s.type(s.template=i.EditorUtils.buttonTemplate,s.title=s.titles.tooltip),u[l]={optionss})d[r]&&(u[r]=d[r]);for(a=0;c.lengtha;a++)u[c[a]](u[c[a]]=d[c[a]]);return u},renderfunction(){function n(n){var i;return n.getHtmli=n.getHtml()(e.isFunction(n)(n=t.template(n)),i=n(o)),e.trim(i)}function i(){h.children().length&&h.appendTo(v)}function r(){h=e(li class='k-tool-group' role='presentation' )}var o,s,l,c,d,u,h,p,f=this,g=f.tools,m=f._editor.element,v=f.element.empty(),_=f._editor.options.tools,w=t.support.browser;for(v.empty(),r(),p=0;_.lengthp;p++)c=_[p].name_[p],o=g[c]&&g[c].options,!o&&e.isPlainObject(c)&&(o=c),s=o&&o.template,break==c&&(i(),e(li class='k-row-break' ).appendTo(f.element),r()),s&&(u=f.toolGroupFor(c),d!=u&&(i(),r(),d=u),s=n(s),l=e(s).appendTo(h),custom==u&&(i(),r()),o.exec&&l.hasClass(k-tool)&&l.click(a(o.exec,m[0])));i(),e(f.element).children(has( .k-tool)).addClass(k-button-group),f.options.popup&&w.msie&&9w.version&&f.window.wrapper.find().attr(unselectable,on),f.updateGroups(),f.angular(compile,function(){return{elementsf.element}})},updateGroupsfunction(){e(this.element).children().each(function(){e(this).children().filter(function(){returnnone!==this.style.display}).removeClass(k-group-end).first().addClass(k-group-start).end().last().addClass(k-group-end).end()})},decorateFromfunction(t){this.items().filter(.k-decorated).each(function(){var n=e(this).data(kendoSelectBox);n&&n.decorate(t)})},destroyfunction(){r.fn.destroy.call(this);var e,t=this.tools;for(e in t)t[e].destroy&&t[e].destroy();this.window&&this.window.destroy()},_attachEventsfunction(){var t=this,n=[role=button].k-tool,i=n+not(.k-state-disabled),r=n+.k-state-disabled;t.element.off(l).on(mouseenter+l,i,function(){e(this).addClass(k-state-hover)}).on(mouseleave+l,i,function(){e(this).removeClass(k-state-hover)}).on(mousedown+l,n,function(e){e.preventDefault()}).on(keydown+l,c,function(n){function i(e,n){var i=t.element.find(c),r=i.index(o)+e;return n&&(r=Math.max(0,Math.min(i.length-1,r))),i[r]}var r,o=this,a=n.keyCode;a==s.RIGHTa==s.LEFTe(o).hasClass(.k-dropdown)(r=i(a==s.RIGHT1-1,!0))a==s.ESCr=t._editora!=s.TABn.ctrlKeyn.altKey(n.shiftKeyr=i(-1)(r=i(1),r(r=t._editor))),r&&(n.preventDefault(),r.focus())}).on(click+l,i,function(n){var i=e(this);n.preventDefault(),n.stopPropagation(),i.removeClass(k-state-hover),i.is([data-popup])t._editor.exec(t._toolName(this))}).on(click+l,r,function(e){e.preventDefault()})},_toolNamefunction(t){var n,i;if(t)return n=t.className,k-toolbi.test(n)&&(n=t.firstChild.className),i=e.grep(n.split( ),function(e){return!^k-(widgettooltool-iconstate-hoverheadercomboboxdropdownselectboxcolorpicker)$i.test(e)}),i[0]i[0].substring(i[0].lastIndexOf(-)+1)custom},refreshToolsfunction(){var n=this,i=n._editor,r=i.getRange(),o=t.ui.editor.RangeUtils.textNodes(r);o.length(o=[r.startContainer]),n.items().each(function(){var t=n.tools[n._toolName(this)];t&&t.update&&t.update(e(this),o)}),this.update()},updatefunction(){this.element.children().children().each(function(){var t=e(this);t.css(display,t.hasClass(k-state-disabled)none)}),this.updateGroups()}});e.extend(i,{Toolbard})}(window.jQuery),function(e){var t=window.kendo,n=e.extend,i=e.proxy,r=t.ui.editor,o=r.Dom,a=r.EditorUtils,s=r.RangeUtils,l=r.Command,c=.kendoEditor,d=k-state-active,u=k-state-selected,h=r.Tool,p=r.ToolTemplate,f=r.InsertHtmlCommand,g=r.BlockFormatFinder,m=r.EditorUtils.registerTool,v=td+r.emptyElementContent+td,_=new g([{tags[table]}]),w=f.extend({_tableHtmlfunction(e,t){return e=e1,t=t1,table class='k-table' data-last+Array(e+1).join(tr+Array(t+1).join(v)+tr)+table},postProcessfunction(t,n){var i=e(table[data-last],t.document).removeAttr(data-last);n.setStart(i.find(td)[0],0),n.collapse(!0),t.selectRange(n)},execfunction(){var e=this.options;e.html=this._tableHtml(e.rows,e.columns),e.postProcess=this.postProcess,f.fn.exec.call(this)}}),y=h.extend({initializefunction(t,n){h.fn.initialize.call(this,t,n);var r=e(this.options.popupTemplate).appendTo(body).kendoPopup({anchort,copyAnchorStyles!1,openi(this._open,this),activatei(this._activate,this),closei(this._close,this)}).data(kendoPopup);t.click(i(this._toggle,this)).keydown(i(this._keydown,this)),this._editor=n.editor,this._popup=r},popupfunction(){return this._popup},_activatee.noop,_openfunction(){this._popup.options.anchor.addClass(d)},_closefunction(){this._popup.options.anchor.removeClass(d)},_keydownfunction(e){var n=t.keys,i=e.keyCode;i==n.DOWN&&e.altKeythis._popup.open()i==n.ESC&&this._popup.close()},_togglefunction(t){var n=e(t.target).closest(.k-tool);n.hasClass(k-state-disabled)this.popup().toggle()},updatefunction(e){var t=this.popup();t.wrapper&&block==t.wrapper.css(display)&&t.close(),e.removeClass(k-state-hover)},destroyfunction(){this._popup.destroy()}}),b=y.extend({initfunction(t){this.cols=8,this.rows=6,y.fn.init.call(this,e.extend(t,{commandw,popupTemplatediv class='k-ct-popup'+Array(this.colsthis.rows+1).join(span class='k-ct-cell k-state-disabled' )+div class='k-status'divdiv}))},_activatefunction(){function n(t){var n=e(window);return{rowMath.floor((t.clientY+n.scrollTop()-u.top)r)+1,colMath.floor((t.clientX+n.scrollLeft()-u.left)i)+1}}var i,r,o=this,a=o._popup.element,s=a.find(.k-ct-cell),l=s.eq(0),d=s.eq(s.length-1),u=t.getOffset(l),h=t.getOffset(d),p=o.cols,f=o.rows;a.find().addBack().attr(unselectable,on),h.left+=d[0].offsetWidth,h.top+=d[0].offsetHeight,i=(h.left-u.left)p,r=(h.top-u.top)f,a.on(mousemove+c,function(e){o._setTableSize(n(e))}).on(mouseleave+c,function(){o._setTableSize()}).on(mouseup+c,function(e){o._exec(n(e))})},_validfunction(e){return e&&e.row0&&e.col0&&this.rows=e.row&&this.cols=e.col},_execfunction(e){this._valid(e)&&(this._editor.exec(createTable,{rowse.row,columnse.col}),this._popup.close())},_setTableSizefunction(n){var i=this._popup.element,r=i.find(.k-status),o=i.find(.k-ct-cell),a=this.cols,s=this._editor.options.messages;this._valid(n)(r.text(t.format(s.createTableHint,n.row,n.col)),o.each(function(t){e(this).toggleClass(u,n.colt%a&&n.rowta)}))(r.text(s.dialogCancel),o.removeClass(u))},_keydownfunction(e){var n,i,r,o,a,s,l,c;y.fn._keydown.call(this,e),n=t.keys,i=e.keyCode,r=this._popup.element.find(.k-ct-cell),o=Math.max(r.filter(.k-state-selected).last().index(),0),a=Math.floor(othis.cols),s=o%this.cols,l=!1,i!=n.DOWNe.altKeyi==n.UP(l=!0,a--)i==n.RIGHT(l=!0,s++)i==n.LEFT&&(l=!0,s--)(l=!0,a++),c={rowMath.max(1,Math.min(this.rows,a+1)),colMath.max(1,Math.min(this.cols,s+1))},i==n.ENTERthis._exec(c)this._setTableSize(c),l&&(e.preventDefault(),e.stopImmediatePropagation())},_openfunction(){var e=this._editor.options.messages;y.fn._open.call(this),this.popup().element.find(.k-status).text(e.dialogCancel).end().find(.k-ct-cell).removeClass(u)},_closefunction(){y.fn._close.call(this),this.popup().element.off(c)},updatefunction(e,t){var n;y.fn.update.call(this,e),n=_.isFormatted(t),e.toggleClass(k-state-disabled,n)}}),k=l.extend({execfunction(){for(var e,t,n,i,a=this.lockRange(!0),s=a.endContainer;td!=o.name(s);)s=s.parentNode;for(t=s.parentNode,e=t.children.length,n=t.cloneNode(!0),i=0;t.cells.lengthi;i++)n.cells[i].innerHTML=r.emptyElementContent;before==this.options.positiono.insertBefore(n,t)o.insertAfter(n,t),this.releaseRange(a)}}),x=l.extend({execfunction(){var e,t,n,i,a=this.lockRange(!0),s=o.closest(a.endContainer,td),l=o.closest(s,table),c=l.rows,d=this.options.position;for(e=o.findNodeIndex(s,!0),t=0;c.lengtht;t++)n=c[t].cells[e],i=n.cloneNode(),i.innerHTML=r.emptyElementContent,before==do.insertBefore(i,n)o.insertAfter(i,n);this.releaseRange(a)}}),C=l.extend({execfunction(){var t,n,i,r=this.lockRange(),a=s.mapAll(r,function(t){return e(t).closest(tr)[0]}),l=o.closest(a[0],table);if(a.length=l.rows.length)t=o.next(l),(!to.insignificant(t))&&(t=o.prev(l)),o.remove(l);else for(n=0;a.lengthn;n++)i=a[n],o.removeTextSiblings(i),t=o.next(i)o.prev(i),t=t.cells[0],o.remove(i);t&&(r.setStart(t,0),r.collapse(!0),this.editor.selectRange(r))}}),S=l.extend({execfunction(){var e,t,n=this.lockRange(),i=o.closest(n.endContainer,td),r=o.closest(i,table),a=r.rows,s=o.findNodeIndex(i,!0),l=a[0].cells.length;if(1==l)e=o.next(r),(!eo.insignificant(e))&&(e=o.prev(r)),o.remove(r);else for(o.removeTextSiblings(i),e=o.next(i)o.prev(i),t=0;a.lengtht;t++)o.remove(a[t].cells[s]);e&&(n.setStart(e,0),n.collapse(!0),this.editor.selectRange(n))}}),T=h.extend({commandfunction(e){return e=n(e,this.options),delete==e.actionrow==e.typenew C(e)new S(e)row==e.typenew k(e)new x(e)},initializefunction(e,t){h.fn.initialize.call(this,e,t),e.addClass(k-state-disabled)},updatefunction(e,t){var n=!_.isFormatted(t);e.toggleClass(k-state-disabled,n)}});n(t.ui.editor,{PopupTooly,TableCommandw,InsertTableToolb,TableModificationToolT,InsertRowCommandk,InsertColumnCommandx,DeleteRowCommandC,DeleteColumnCommandS}),m(createTable,new b({templatenew p({templatea.buttonTemplate,popup!0,titleCreate table})})),m(addColumnLeft,new T({typecolumn,positionbefore,templatenew p({templatea.buttonTemplate,titleAdd column on the left})})),m(addColumnRight,new T({typecolumn,templatenew p({templatea.buttonTemplate,titleAdd column on the right})})),m(addRowAbove,new T({typerow,positionbefore,templatenew p({templatea.buttonTemplate,titleAdd row above})})),m(addRowBelow,new T({typerow,templatenew p({templatea.buttonTemplate,titleAdd row below})})),m(deleteRow,new T({typerow,actiondelete,templatenew p({templatea.buttonTemplate,titleDelete row})})),m(deleteColumn,new T({typecolumn,actiondelete,templatenew p({templatea.buttonTemplate,titleDelete column})}))
}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.caret,r=n.keys,o=n.ui,a=o.Widget,s=.kendoMaskedTextBox,l=e.proxy,c=(n.support.propertyChangeEventpropertychangeinput)+s,d=k-state-disabled,u=disabled,h=readonly,p=change,f=a.extend({initfunction(t,r){var o,l,c=this;a.fn.init.call(c,t,r),c._rules=e.extend({},c.rules,c.options.rules),t=c.element,o=t[0],c.wrapper=t,c._tokenize(),c._form(),c.element.addClass(k-textbox).attr(autocomplete,off).on(focus+s,function(){var e=o.value;ec._togglePrompt(!0)o.value=c._old=c._emptyMask,c._oldValue=e,c._timeoutId=setTimeout(function(){i(t,0,ec._maskLength0)})}).on(focusout+s,function(){var e=t.val();clearTimeout(c._timeoutId),o.value=c._old=,e!==c._emptyMask&&(o.value=c._old=e),c._change(),c._togglePrompt()}),l=t.is([disabled]),lc.enable(!1)c.readonly(t.is([readonly])),c.value(c.options.valuet.val()),n.notify(c)},options{nameMaskedTextBox,clearPromptChar!1,unmaskOnPost!1,promptChar_,culture,rules{},value,mask},events[p],rules{0d,9ds,#ds+-,L[a-zA-Z],[a-zA-Z]s,&S,C.,A[a-zA-Z0-9],a[a-zA-Z0-9]s},setOptionsfunction(t){var n=this;a.fn.setOptions.call(n,t),n._rules=e.extend({},n.rules,n.options.rules),n._tokenize(),this._unbindInput(),this._bindInput(),n.value(n.element.val())},destroyfunction(){var e=this;e.element.off(s),e._formElement&&(e._formElement.off(reset,e._resetHandler),e._formElement.off(submit,e._submitHandler)),a.fn.destroy.call(e)},rawfunction(){var e=this._unmask(this.element.val(),0);return e.replace(RegExp(this.options.promptChar,g),)},valuefunction(e){var i=this.element,r=this._emptyMask;return e===tthis.element.val()(null===e&&(e=),r(e=this._unmask(e+),i.val(er),this._mask(0,this._maskLength,e),e=i.val(),this._oldValue=e,n._activeElement()!==i&&(e===ri.val()this._togglePrompt()),t)(i.val(e),t))},_togglePromptfunction(e){var t=this.element[0],n=t.value;this.options.clearPromptChar&&(n=ethis._oldValuen.replace(RegExp(this.options.promptChar,g), ),t.value=this._old=n)},readonlyfunction(e){this._editable({readonlye===t!0e,disable!1})},enablefunction(e){this._editable({readonly!1,disable!(e=e===t!0e)})},_bindInputfunction(){var e=this;e._maskLength&&e.element.on(keydown+s,l(e._keydown,e)).on(keypress+s,l(e._keypress,e)).on(paste+s,l(e._paste,e)).on(c,l(e._propertyChange,e))},_unbindInputfunction(){this.element.off(keydown+s).off(keypress+s).off(paste+s).off(c)},_editablefunction(e){var t=this,n=t.element,i=e.disable,r=e.readonly;t._unbindInput(),rin.attr(u,i).attr(h,r).toggleClass(d,i)(n.removeAttr(u).removeAttr(h).removeClass(d),t._bindInput())},_changefunction(){var e=this,t=e.value();t!==e._oldValue&&(e._oldValue=t,e.trigger(p),e.element.trigger(p))},_propertyChangefunction(){var e,t,r=this,o=r.element[0],a=o.value;n._activeElement()===o&&(a===r._oldr._pasting(t=i(o)[0],e=r._unmask(a.substring(t),t),o.value=r._old=a.substring(0,t)+r._emptyMask.substring(t),r._mask(t,t,e),i(o,t)))},_pastefunction(e){var t=this,n=e.target,r=i(n),o=r[0],a=r[1],s=t._unmask(n.value.substring(a),a);t._pasting=!0,setTimeout(function(){var e=n.value,r=e.substring(o,i(n)[0]);n.value=t._old=e.substring(0,o)+t._emptyMask.substring(o),t._mask(o,o,r),o=i(n)[0],t._mask(o,o,s),i(n,o),t._pasting=!1})},_formfunction(){var t=this,n=t.element,i=n.attr(form),r=ie(#+i)n.closest(form);r[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value)})},t._submitHandler=function(){t.element[0].value=t._old=t.raw()},t.options.unmaskOnPost&&r.on(submit,t._submitHandler),t._formElement=r.on(reset,t._resetHandler))},_keydownfunction(e){var n,o=e.keyCode,a=this.element[0],s=i(a),l=s[0],c=s[1],d=o===r.BACKSPACE;do===r.DELETE(l===c&&(dl-=1c+=1,n=this._find(l,d)),n!==t&&n!==l(d&&(n+=1),i(a,n))l-1&&this._mask(l,c,,d),e.preventDefault())o===r.ENTER&&this._change()},_keypressfunction(e){var t,n;0===e.whiche.metaKeye.ctrlKeye.keyCode===r.ENTER(t=String.fromCharCode(e.which),n=i(this.element),this._mask(n[0],n[1],t),(e.keyCode===r.BACKSPACEt)&&e.preventDefault())},_findfunction(e,t){var n=this.element.val()this._emptyMask,i=1;for(t===!0&&(i=-1);e-1this._maskLength=e;){if(n.charAt(e)!==this.tokens[e])return e;e+=i}return-1},_maskfunction(e,r,o,a){var s,l,c,d,u=this.element[0],h=u.valuethis._emptyMask,p=this.options.promptChar,f=0;for(e=this._find(e,a),er&&(r=e),l=this._unmask(h.substring(r),r),o=this._unmask(o,e),s=o.length,o&&(l=l.replace(RegExp(^_{0,+s+}),)),o+=l,h=h.split(),c=o.charAt(f);this._maskLengthe;)h[e]=cp,c=o.charAt(++f),d===t&&fs&&(d=e),e=this._find(e+1);u.value=this._old=h.join(),n._activeElement()===u&&(d===t&&(d=this._maskLength),i(u,d))},_unmaskfunction(t,n){var i,r,o,a,s,l,c,d;if(!t)return;for(t=(t+).split(),o=0,a=n0,s=this.options.promptChar,l=t.length,c=this.tokens.length,d=;ca&&(i=t[o],r=this.tokens[a],i===ri===s(d+=i===ss,o+=1,a+=1)string!=typeof r((r.test&&r.test(i)e.isFunction(r)&&r(i))&&(d+=i,a+=1),o+=1)a+=1,!(o=l)););return d},_tokenizefunction(){for(var e,t,i,r,o=[],a=0,s=this.options.mask,l=s.split(),c=l.length,d=0,u=,h=this.options.promptChar,p=n.getCulture(this.options.culture).numberFormat,f=this._rules;cd;d++)if(e=l[d],t=f[e])o[a]=t,u+=h,a+=1;else for(.===e,===ee=p[e]$===ee=p.currency.symbol===e&&(d+=1,e=l[d]),e=e.split(),i=0,r=e.length;ri;i++)o[a]=e[i],u+=e[i],a+=1;this.tokens=o,this._emptyMask=u,this._maskLength=u.length}});o.plugin(f)}(window.kendo.jQuery),function(e,t){function n(e){var n=string==typeof e[{namee}]e,i=[object Array]===wt.call(n)nn!==t[n][];return bt(i,function(e){returnstring==typeof e{namee}{namee.name,typee.type}})}function i(e){var n=string==typeof e[{name[e],expand!1}]e,i=[object Array]===wt.call(n)nn!==t[n][];return bt(i,function(e){returnstring==typeof e{name[e],expand!1}{name[object Array]===wt.call(e.name)e.name.slice()[e.name],expande.expand}})}function r(e,t,n,i){var o,a,s,l;if(n(n=t),i(i=0),l=n.members[i],l&&!l.measure){if(s=l.children,a=s.length,n===te[ft.stringify([l.name])]=!!aa&&(e[ft.stringify(lt(n,i))]=!0),a)for(o=0;ao;o++)r(e,t,s[o],i);r(e,t,n,i+1)}}function o(t){var n,i,o={};t.length&&r(o,t[0]),n=[];for(i in o)n.push({namee.parseJSON(i),expando[i]});return n}function a(e,t){var n,i,r,o,a=t.tuples[],s=a[0];if(s&&s.members.lengthe.length)for(n=s.members,i=0;n.lengthi;i++)if(!n[i].measure){for(r=!1,o=0;e.lengtho;o++)if(0===L(e[o]).indexOf(n[i].hierarchy)){r=!0;break}re.push({name[n[i].name],expand!1})}}function s(e){var t,n=[],i=e.members;for(t=0;i.lengtht;t++)i[t].measuren.push({name[i[t].name],expandi[t].children.length0});return n}function l(e,t,n){var r,o;return e=e{},a(t,e),n.length1&&t.push({nameMeasures,measure!0,childreni(n)}),r={memberst},e.tuples&&(o=x(e.tuples,r),o.tuple&&(t=s(o.tuple))),t}function c(e,t,n,i,r,o,a){var s,l,c,d,u,h,p,f=0,g=t;for(l in n[i].aggregates)s=n[i].aggregates[l],d=r[l],u=o[l],s=dd(s)s.accumulator,e[g]={ordinalg,values,fmtValueuft.format(u,s)s},++f,g+=a;h=n[i].items;for(c in h){p=h[c].indexf,p=g+pa;for(l in h[c].aggregates)s=h[c].aggregates[l],d=r[l],u=o[l],s=dd(s)s.accumulator,e[p]={ordinalp,values,fmtValueuft.format(u,s)s},p+=a}}function d(e,t,n,i,r,o){var a,s,l,c,d,u,h,p=0;for(s in n[i].aggregates)a=n[i].aggregates[s],c=r[s],d=o[s],a=cc(a)a.accumulator,e[e.length]={ordinalt++,valuea,fmtValuedft.format(d,a)a},++p;u=n[i].items;for(l in u){h=u[l].indexp;for(s in u[l].aggregates)a=u[l].aggregates[s],c=r[s],d=o[s],a=cc(a)a.accumulator,e[e.length]={ordinalt+h++,valuea,fmtValuedft.format(d,a)a}}}function u(e){var t=ft.getter(e.field,!0);return function(n,i){return e.aggregate(t(n.dataItem),i,n)}}function h(e){returnnumber==typeof e&&!isNaN(e)}function p(e){return e&&e.getTime}function f(e,n,i){return e.tuples.length_(n.tuples,i)nt}function g(e,t,n,i,r){var o,a,s,l=e.length,c=_(t,i),d=i.length1;for(a=0;na;a++)for(o=0;lo;o++)s=v(e[o],t)d,s+=o%d,r[al+o].ordinal=ac+s}function m(e,t,n,i,r){var o,a,s,l=e.length,c=(_(t,i),i.length1);for(a=0;la;a++)for(s=v(e[a],t),s=c,s+=a%c,o=0;no;o++)r[an+o].ordinal=sn+o}function v(e,t){return x(t,e).index}function _(e,t){var n,i,r;if(!e.length)return 0;for(n=e.slice(),i=n.shift(),r=1;i;)i.members[].push.apply(n,i.members)i.children&&(i.measure(r+=i.children.length),[].push.apply(n,i.children)),i=n.shift();return t.length&&(r=t.length),r}function w(e){return e(e={tuples[]}),e.tuples(e.tuples=[]),e}function y(e,t,n){var i,r,o;if(!e)return 0;for(i=Math.max(n.length,1),r=e.members.slice(0,t),o=r.shift();o;)o.children[].push.apply(r,o.children)(i++,[].push.apply(r,o.members)),o=r.shift();return i}function b(e,t,n){var i,r,o,a,s,l;if(!t[0])return{parsedRootnull,tuplese,memberIndex0,index0};if(i=x(e,t[0]),!i.tuple)return{parsedRootnull,tuplest,memberIndex0,index0};if(r=i.tuple.members,o=t[0].members,a=-1,r.length!==o.length)return{parsedRootnull,tuplest,memberIndex0,index0};for(s=0,l=r.length;ls;s++)!r[s].measure&&o[s].children[0]&&(-1==a&&o[s].children.length&&(a=s),r[s].children=o[s].children);return n=Math.max(n.length,1),{parsedRooti.tuple,indexi.indexn,memberIndexa,tuplese}}function k(e,t){var n,i,r=!0;for(e=e.members,t=t.members,n=0,i=e.length;in;n++)e[n].measuret[n].measure(r=r&&L(e[n])===L(t[n]));return r}function x(e,t){var n,i,r,o,a,s,l,c=0;for(n=0,i=e.length;in;n++){if(r=e[n],k(r,t))return{tupler,indexc};for(c++,a=0,s=r.members.length;sa;a++)if(l=r.members[a],!l.measure&&(o=x(l.children,t),c+=o.index,o.tuple))return{tupleo.tuple,indexc}}return{indexc}}function C(e,t){var n,i,r,o=;for(i=0,r=e.length;ri;i++)n=e[i],o+=n.name,t[o](t[o]=n)}function S(e,t){var n,i,r,o,a=e.members,s=,l=;for(n=0,i=a.length;in;n++){if(r=a[n],o){if(t[s+r.name]){s+=r.name,o=t[s];continue}return t[s+r.parentName]t[s+r.parentName](r.parentName&&(l+=r.parentName),t[l])}if(s+=r.name,o=t[r.parentName],!o&&(o=t[s],!o))return null;o&&(l+=o.name)}return o}function T(e,t){var n,i,r,o;if(0===t.length)return-1;for(n=t[0],i=e.members,r=0,o=i.length;or;r++)if(i[r].name==n.name)return r}function D(n,i){if(!(0i)){var r={nameMeasures,measure!0,children[e.extend({members[],dataIndexn.dataIndex},n.members[i])]};n.members.splice(i,1,r),n.dataIndex=t}}function A(e,t){var n,i,r,o,a,s;if(1e.length)return[];for(n=[],i={},r=T(e[0],t),o=0;e.lengtho;o++)a=e[o],a.dataIndex=o,D(a,r),s=S(a,i),ss.children.push(0r!s.measureaa.members[r].children[0])n.push(a),C(a.members,i);return n}function E(e,t){var n,i,r,o,a,s,l,c,d;if(!e!e.length)return t;for(n=[],i=M(e),r=i.length,o=Math.max(t.lengthr,1),a=0;ra;a++)for(l=oa,c=oi[a],s=0;os;s++)d=parseInt(c+s,10),n[parseInt(l+s,10)]=t[d]{value,fmtValue,ordinald};return n}function I(e,t){var n,i,r,o,a,s,l,c;if(!e!e.length)return t;for(n=[],i=M(e),r=i.length,o=Math.max(t.lengthr,1),s=0;os;s++)for(l=rs,a=0;ra;a++)c=i[a]+l,n[l+a]=t[c]{value,fmtValue,ordinalc};return n}function M(e){var n,i,r,o,a,s,l;for(e=e.slice(),n=[],i=e.shift();i;){for(i.dataIndex!==t&&n.push(i.dataIndex),a=0,r=0,o=i.members.length;or;r++)l=i.members[r],s=l.children,l.measure[].splice.apply(e,[0,0].concat(s))[].splice.apply(e,[a,0].concat(s)),a+=s.length;i=e.shift()}return n}function P(e){var t=e.split(.);return t.length2t[0]+.+t[1]e}function z(e,t){var n=e.length-1,i=e[n],r=F(t,i);return r&&r.diri=ORDER(+i+.Children,+r.field+.CurrentMember.MEMBER_CAPTION,+r.dir+)i+=.Children,e[n]=i,e}function F(e,t){for(var n=0,i=e.length;in;n++)if(0===t.indexOf(e[n].field))return e[n];return null}function R(e){var t,n=CROSSJOIN({;return e.length2(t=e.pop(),n+=R(e))(n+=e.shift(),t=e.pop()),n+=},{,n+=t,n+=})}function B(e,t){var n=e.slice(0);return t.length1&&n.push({+H(t).join(,)+}),R(n)}function H(e){for(var n,i=0,r=e.length,o=[];ri;i++)n=e[i],o.push(n.name!==tn.namen);return o}function L(e){return e=e.namee,[object Array]===wt.call(e)&&(e=e[e.length-1]),e}function N(e){for(var t=e.length,n=[],i=0;ti;i++)n.push(e[i].name[0]);return n}function O(e,t){var n,i,r,o=0,a=e.length,s=t.length;for(t=t.slice(0);ao;o++)for(n=e[o],r=0;sr;r++)if(i=P(t[r]),-1!==n.indexOf(i)){t[r]=n;break}return t}function V(e){for(var t,n,i,r,o,a,s=[],l=[],c=[],d=0,u=e.length;ud;d++)if(t=e[d],r=t.name,a=!1,[object Array]!==wt.call(r)&&(t.name=r=[r]),r.length1)l.push(t);else{for(o=P(r[0]),n=0,i=c.length;in;n++)if(0===c[n].name[0].indexOf(o)){a=!0;break}ac.push(t),t.expand&&s.push(t)}return s=s.concat(l),{rootc,expandeds}}function U(e,t,n){var i,r,o,a,s,l,c,d,u=;if(e=e[],i=V(e),r=i.root,o=N(r),a=[],i=i.expanded,s=i.length,l=0,d=[],o.length1t.length1){for(a.push(B(o,t));sl;l++)c=z(i[l].name,n),d=O(c,o),a.push(B(d,t));u+=a.join(,)}else{for(;sl;l++)c=z(i[l].name,n),d.push(c[0]);u+=o.concat(d).join(,)}return u}function W(e){var t=,n=e.value,i=e.field,r=e.operator;returnin==r(t+={,t+=n,t+=})(t+=Filter(,t+=i+.MEMBERS,t+=ft.format(Y[r],i,n),t+=)),t}function j(e,t){var n,i,r=,o=e.filters,a=o.length;for(i=a-1;i=0;i--)n=SELECT (,n+=W(o[i]),n+=) ON 0,i==a-1(n+= FROM [+t+],r=n)r=n+ FROM ( +r+ );return r}function G(e,t,n){var i,r,o=;if(t){o+=+e+;for(r in t)i=t[r],n&&(r=r.replace(([A-Z]+(=$[A-Z][a-z])[A-Z][a-z]+)g,$1_).toUpperCase().replace(_$,)),o+=+r++i++r+;o+=+e+}else o+=+e+;return o}function q(e){if(null==e)return[];var t=wt.call(e);return[object Array]!==t[e]e}function $(e){var t,n,i,r,o={tuples[]},a=q(ft.getter(Tuples.Tuple,!0)(e)),s=ft.getter(Caption['#text']),l=ft.getter(UName['#text']),c=ft.getter(LName['#text']),d=ft.getter(LNum['#text']),u=ft.getter(CHILDREN_CARDINALITY['#text'],!0),h=ft.getter(['@Hierarchy']),p=ft.getter(PARENT_UNIQUE_NAME['#text'],!0);for(t=0;a.lengtht;t++){for(n=[],i=q(a[t].Member),r=0;i.lengthr;r++)n.push({children[],captions(i[r]),namel(i[r]),levelNamec(i[r]),levelNumd(i[r]),hasChildrenparseInt(u(i[r]),10)0,parentNamep(i[r]),hierarchyh(i[r])});o.tuples.push({membersn})}return o}var Y,Q,K,X,Z,J,et,tt,nt,it,rt,ot,at,st,lt,ct,dt,ut,ht,pt,ft=window.kendo,gt=ft.ui,mt=ft.Class,vt=gt.Widget,_t=ft.data.DataSource,wt={}.toString,yt=function(e){return e},bt=e.map,kt=e.extend,xt=ft.isFunction,Ct=change,St=error,Tt=progress,Dt=stateReset,At=auto,Et=div,It=.kendoPivotGrid,Mt=__row_total__,Pt=dataBinding,zt=dataBound,Ft=expandMember,Rt=collapseMember,Bt=k-i-arrow-s,Ht=k-i-arrow-e,Lt=# data.member.caption  data.member.name #,Nt='span class=k-icon k-i-kpi-#=data.dataItem.value  0  open  data.dataItem.value  0  denied  hold##data.dataItem.value#span',Ot='span class=k-icon k-i-kpi-#=data.dataItem.value  0  increase  data.dataItem.value  0  decrease  equal##data.dataItem.value#span',Vt='#= data.dataItem  kendo.htmlEncode(data.dataItem.fmtValue  data.dataItem.value)  &nbsp;  &nbsp; #',Ut='table class=k-pivot-layouttrtddiv class=k-pivot-rowheadersdivtdtddiv class=k-pivot-table k-state-defaultdivtdtrtable',Wt={sumfunction(e,t){var n=t.accumulator;return h(n)h(e)&&(n+=e)n=e,n},countfunction(e,t){return(t.accumulator0)+1},average{aggregatefunction(e,n){var i=n.accumulator;return n.count===t&&(n.count=0),h(i)h(e)&&(i+=e)i=e,h(e)&&n.count++,i},resultfunction(e){var t=e.accumulator;return h(t)&&(t=e.count),t}},maxfunction(e,t){var n=t.accumulator;return h(n)p(n)(n=e),en&&(h(e)p(e))&&(n=e),n},minfunction(e,t){var n=t.accumulator;return h(n)p(n)(n=e),ne&&(h(e)p(e))&&(n=e),n}},jt=mt.extend({initfunction(e){this.options=kt({},this.options,e),this.dimensions=this._normalizeDescriptors(field,this.options.dimensions),this.measures=this._normalizeDescriptors(name,this.options.measures)},_normalizeDescriptorsfunction(e,t){var n,i,r,o;if(t=t{},n={},[object Array]===wt.call(t)){for(r=0,o=t.length;or;r++)i=t[r],string==typeof in[i]={}i[e]&&(n[i[e]]=i);t=n}return t},_asTuplesfunction(e,n,i){var r,o,a,s,l,c,d,u,h,p;if(i=i[],r=this.dimensions[],o=[],h=i.length1,n.lengthi.length)for(c=0;hc;c++){for(a={members[]},s=0,l=n.length;ls;s++)u=L(n[s].name),a.members[a.members.length]={children[],caption(r[u]{}).captionAll,nameu,levelNameu,levelNum0,hasChildren!0,parentNamet,hierarchyu};h1&&(a.members[a.members.length]={children[],captioni[c].caption,namei[c].descriptor.name,levelNameMEASURES,levelNum0,hasChildren!1,parentNamet,hierarchyMEASURES}),o[o.length]=a}for(p in e)for(c=0;hc;c++){for(d={members[]},s=0,l=n.length;ls;s++)u=L(n[s].name),d.members[d.members.length]=0===e[p].parentName.indexOf(u){children[],captione[p].value,namee[p].name,levelNamee[p].name,levelNum1,hasChildren!1,parentNameu,hierarchyu}{children[],caption(r[u]{}).captionAll,nameu,levelNameu,levelNum0,hasChildren!0,parentNamet,hierarchyu};h1&&(d.members[d.members.length]={children[],captioni[c].caption,namei[c].descriptor.name,levelNameMEASURES,levelNum0,hasChildren!0,parentNamet,hierarchyMEASURES}),o[o.length]=d}return o},_toDataArrayfunction(e,t,n,i,r){var o,a,s,l,c,d,u={},h={},p=0,f=n&&n.length;if(f)for(o=this.measures{};fp;p++)s=n[p].name,a=o[s],a.result&&(h[s]=a.result),a.format&&(u[s]=a.format);l=[],c=0,r(l,c,e,Mt,h,u,t);for(d in e)d!==Mt&&(c+=i,r(l,c,e,d,h,u,t));return l},_matchDescriptorsfunction(e,t,n,i){for(var r,o,a,s,l;i0;)if(r=t[--i],o=L(r).split(&),o.length1&&(a=o[0],s=o[1],l=n[a],l(e)!=s))return!1;return!0},_isExpandedfunction(e){for(var t=0,n=e.length;nt;t++)if(e[t].expand)return!0;return!1},_calculateAggregatefunction(e,t,n){var i,r,o,a={};for(o=0;e.lengtho;o++)r=e[o].descriptor.name,i=n.aggregates[r]{},i.accumulator=e[o].aggregator(t,i),a[r]=i;return a},_processColumnsfunction(e,n,i,r,o,a,s,l){var c,d,u,h,p,f,g=o.dataItem;for(f=0;n.lengthf;f++)if(d=n[f],d.expand){if(!this._matchDescriptors(g,n,i,f))continue;u=L(d),c=i[u](g),c=c!==t+cc,u=u+&+c,h=r[u]{indexs.columnIndex,nameu,parentNameu,valuec},p=a.items[u]{aggregates{}},a.items[u]={indexh.index,aggregatesthis._calculateAggregate(e,o,p)},l&&(r[u]s.columnIndex++,r[u]=h)}},_measureAggregatorsfunction(e){var t,n,i,r,o,a,s=e.measures[],l=this.measures{},c=[];if(s.length){for(i=0,r=s.length;ri;i++)if(t=s[i],n=l[t.name],o=null,n){if(a=n.aggregate,string==typeof a){if(o=Wt[a.toLowerCase()],!o)throw Error(There is no such aggregate function);n.aggregate=o.aggregateo,n.result=o.result}c.push({descriptort,captionn.caption,resultn.result,aggregatoru(n)})}}else c.push({descriptor{namedefault},captiondefault,aggregatorfunction(){return 1}});return c},_buildGettersfunction(e){var t,n,i,r,o,a={};for(r=0,o=e.length;or;r++)t=e[r],i=L(t),n=i.split(&),n.length1a[n[0]]=ft.getter(n[0],!0)a[i]=ft.getter(i,!0);return a},processfunction(e,n){var r,o,a,s,l,u,h,p,f,g,m,v,_,w,y,b,k,x,C,S,T,D,A,E,I,M;if(e=e[],n=n{},r=n.measures[],o=rows===n.measuresAxis,a=(on.rowsn.columns)[],s=(on.columnsn.rows)[],!a.length&&s.length&&(!r.lengthr.length&&o)&&(a=s,s=[],o=!1),a.lengths.length(o=!1),!a.length&&r.length&&(a=i(n.measures)),l={},u={},h={},f={columnIndex0},g=this._measureAggregators(n),m=this._buildGetters(a),v=this._buildGetters(s),_=!1,a.lengths.length)for(b=this._isExpanded(s),_=!0,k=0,x=e.length;xk;k++)for(w=e[k],y={dataItemw,indexk},C=l[Mt]{items{},aggregates{}},this._processColumns(g,a,m,u,y,C,f,!b),C.aggregates=this._calculateAggregate(g,y,C),l[Mt]=C,S=0,T=s.length;TS;S++)if(D=s[S],D.expand){if(!this._matchDescriptors(w,s,v,S))continue;A=L(D),p=v[A](w),p=p!==t+pp,h[p]={nameA+&+p,parentNameA,valuep},E=l[p]{items{},aggregates{}},this._processColumns(g,a,m,u,y,E,f,!0),E.aggregates=this._calculateAggregate(g,y,E),l[p]=E}return _&&e.length(!(g.length1)n.columns&&n.columns.length(a=[]),u=this._asTuples(u,a,g),h=this._asTuples(h,s,[]),I=u.length,o&&(I=1,M=u,u=h,h=M),l=this._toDataArray(l,u.length,n.measures,I,ocd),l=this._normalizeData(l,u.length,h.length))l=u=h=[],{axes{columns{tuplesu},rows{tuplesh}},datal}},_normalizeDatafunction(e,t,n){var i,r,o=(t1)(n1),a=Array(o),s=e.length;if(s===o)return e;for(r=0;or;r++)a[r]={value,fmtValue,ordinalr};for(r=0;sr;r++)i=e[r],i&&(a[i.ordinal]=i);return a}}),Gt=mt.extend({initfunction(e,t){this.transport=t,this.options=t.options{},this.transport.discoverxt(e.discover)&&(this.discover=e.discover)},readfunction(e){return this.transport.read(e)},updatefunction(e){return this.transport.update(e)},createfunction(e){return this.transport.create(e)},destroyfunction(e){return this.transport.destroy(e)},discoverfunction(e){return this.transport.discoverthis.transport.discover(e)(e.success({}),t)},catalogfunction(n){var i,r=this.options{};return n===t(r.connection{}).catalog(i=r.connection{},i.catalog=n,this.options.connection=i,e.extend(this.transport.options,{connectioni}),t)},cubefunction(e){var n,i=this.options{};return e===t(i.connection{}).cube(n=i.connection{},n.cube=e,this.options.connection=n,kt(!0,this.transport.options,{connectionn}),t)}}),qt=_t.extend({initfunction(t){var r,o=((t{}).schema{}).cube,a=columns,s={axesyt,cubesyt,catalogsyt,measuresyt,dimensionsyt,hierarchiesyt,levelsyt,membersyt};o&&(s=e.extend(s,this._cubeSchema(o)),this.cubeBuilder=new jt(o)),_t.fn.init.call(this,kt(!0,{},{schemas},t)),this.transport=new Gt(this.options.transport{},this.transport),this._columns=i(this.options.columns),this._rows=i(this.options.rows),r=this.options.measures[],[object Object]===wt.call(r)&&(a=r.axiscolumns,r=r.values[]),this._measures=n(r),this._measuresAxis=a,this._axes={}},_cubeSchemafunction(e){return{dimensionsfunction(){var t,n=[],i=e.dimensions;for(t in i)n.push({namet,captioni[t].captiont,uniqueNamet,defaultHierarchyt,type1});return e.measures&&n.push({nameMeasures,captionMeasures,uniqueNameMeasures,type2}),n},hierarchiesfunction(){return[]},measuresfunction(){var t,n=[],i=e.measures;for(t in i)n.push({namet,captiont,uniqueNamet,aggregatort});return n}}},options{serverSorting!0,serverPaging!0,serverFiltering!0,serverGrouping!0,serverAggregates!0},catalogfunction(e){return e===tthis.transport.catalog()(this.transport.catalog(e),this._mergeState({}),this._axes={},this.data([]),t)},cubefunction(e){return e===tthis.transport.cube()(this.transport.cube(e),this._axes={},this._mergeState({}),this.data([]),t)},axesfunction(){return this._axes},columnsfunction(e){return e===tthis._columns(this._clearAxesData=!0,this._columns=i(e),this.query({columnse,rowsthis.rowsAxisDescriptors(),measuresthis.measures()}),t)},rowsfunction(e){return e===tthis._rows(this._clearAxesData=!0,this._rows=i(e),this.query({columnsthis.columnsAxisDescriptors(),rowse,measuresthis.measures()}),t)},measuresfunction(e){return e===tthis._measures(this._clearAxesData=!0,this.query({columnsthis.columnsAxisDescriptors(),rowsthis.rowsAxisDescriptors(),measuresn(e)}),t)},measuresAxisfunction(){return this._measuresAxiscolumns},_expandPathfunction(e,t){var n,r,o,a=columns===tcolumnsrows,s=columns===trowscolumns,c=i(e),d=L(c[c.length-1]);for(this._lastExpanded=a,c=l(this.axes()[a],c,this.measures()),n=0;c.lengthn;n++)if(r=L(c[n]),r===d){if(c[n].expand)return;c[n].expand=!0}else c[n].expand=!1;o={},o[a]=c,o[s]=this._descriptorsForAxis(s),this._query(o)},_descriptorsForAxisfunction(e){var t=this.axes(),n=this[e]()[];return t&&t[e]&&t[e].tuples&&t[e].tuples[0]&&(n=o(t[e].tuples[])),n},columnsAxisDescriptorsfunction(){return this._descriptorsForAxis(columns)},rowsAxisDescriptorsfunction(){return this._descriptorsForAxis(rows)},_processfunction(e,t){this._view=e,t=t{},t.items=t.itemsthis._view,this.trigger(Ct,t)},_queryfunction(e){var t=this;return e(this._clearAxesData=!0),t.query(kt({},{paget.page(),pageSizet.pageSize(),sortt.sort(),filtert.filter(),groupt.group(),aggregatet.aggregate(),columnsthis.columnsAxisDescriptors(),rowsthis.rowsAxisDescriptors(),measuresthis.measures()},e))},queryfunction(t){var n=this._mergeState(t);return this._data.length&&this.cubeBuilder(this._params(n),this._updateLocalData(this._pristineData),e.Deferred().resolve().promise())this.read(n)},_mergeStatefunction(e){return e=_t.fn._mergeState.call(this,e),e!==t&&(this._measures=n(e.measures),e.columnse.columns=i(e.columns)e.columns(this._columns=[]),e.rowse.rows=i(e.rows)e.rows(this._rows=[])),e},filterfunction(e){return e===tthis._filter(this._clearAxesData=!0,this._query({filtere,page1}),t)},expandColumnfunction(e){this._expandPath(e,columns)},expandRowfunction(e){this._expandPath(e,rows)},successfunction(e){var t;this.cubeBuilder&&(t=(this.reader.data(e)[]).slice(0)),_t.fn.success.call(this,e),t&&(this._pristineData=t)},_processResultfunction(e,t){var n,i,r,o,a,s,l,c,d,u,h;return this.cubeBuilder&&(n=this.cubeBuilder.process(e,this._requestData),e=n.data,t=n.axes),c=this.columns(),d=this.rows(),u=t.columns&&t.columns.tuples,c.length!d.length!u!this._rowMeasures().length&&this.measures().length(t={columns{},rowst.columns}),c.lengthd.lengthrows!==this.measuresAxis()!u(t={columns{},rowst.columns}),this._axes={columnsw(this._axes.columns),rowsw(this._axes.rows)},t={columnsw(t.columns),rowsw(t.rows)},i=this._normalizeTuples(t.columns.tuples,this._axes.columns.tuples,c,this._columnMeasures()),r=this._normalizeTuples(t.rows.tuples,this._axes.rows.tuples,d,this._rowMeasures()),this.cubeBuilder(e=this._normalizeData({columnsLengtht.columns.tuples.length,rowsLengtht.rows.tuples.length,columnIndexesi,rowIndexesr,datae})),rows==this._lastExpanded(o=t.columns.tuples,s=this._columnMeasures(),a=f(t.columns,this._axes.columns,s),a&&(l=columns,t.columns=a,g(o,a.tuples,t.rows.tuples.length,s,e),e=this._normalizeData({columnsLength_(t.columns.tuples,s),rowsLengtht.rows.tuples.length,datae})))columns==this._lastExpanded&&(o=t.rows.tuples,s=this._rowMeasures(),a=f(t.rows,this._axes.rows,s),a&&(l=rows,t.rows=a,m(o,a.tuples,t.columns.tuples.length,s,e),e=this._normalizeData({columnsLength_(t.rows.tuples,s),rowsLengtht.columns.tuples.length,datae}))),this._lastExpanded=null,h=this._mergeAxes(t,e,l),this._axes=h.axes,h.data},_readDatafunction(e){var t=this.reader.axes(e),n=this.reader.data(e);return this._processResult(n,t)},_createTuplefunction(e,t,n){var i,r,o,a,s,l=e.members,c=l.length,d={members[]},u=0;for(t&&(c-=1);cu;u++)r=l[u],a=+r.levelNum,i=r.name,o=r.parentName,s=r.captioni,n&&(s=All,0===ao=r.namea-=1,i=o),d.members.push({namei,children[],captions,levelNameo,levelNum+a,hasChildrenn,hierarchyo,parentNameno});return t&&d.members.push({namet.name,children[]}),d},_hasRootfunction(e,t,n){var i,r,o,a,s,l,c;if(t.length)return x(t,e).tuple;for(i=e.members,a=!0,l=0,c=i.length;cl;l++)if(r=i[l],s=+r.levelNum0,o=n[l],!(0===so&&r.name===L(o))){a=!1;break}return a},_mergeAxesfunction(e,t,n){var i,r,o,a,s,l=this._columnMeasures(),c=this._rowMeasures(),d=this.axes(),u=e.rows.tuples.length,h=_(d.columns.tuples,l),p=e.columns.tuples.length;returncolumns==n(p=h,r=e.columns.tuples)(r=A(e.columns.tuples,l),t=I(r,t)),o=b(d.columns.tuples,r,l),rows==n(u=_(e.rows.tuples,c),r=e.rows.tuples)(r=A(e.rows.tuples,c),t=E(r,t)),a=b(d.rows.tuples,r,c),d.columns.tuples=o.tuples,d.rows.tuples=a.tuples,h!==_(d.columns.tuples,l)(i=o.index+y(o.parsedRoot,o.memberIndex,l),s=h+p,t=this._mergeColumnData(t,i,u,p,s))(i=a.index+y(a.parsedRoot,a.memberIndex,c),t=this._mergeRowData(t,i,u,p)),{axesd,datat}},_mergeColumnDatafunction(e,t,n,i,r){var o,a,s,l=this.data().toJSON(),c=0,d=Math.max(this._columnMeasures().length,1);for(n=Math.max(n,1),l.length0&&(c=d,r-=d),o=0;no;o++)a=t+or,s=e.splice(0,i),s.splice(0,c),[].splice.apply(l,[a,0].concat(s));return l},_mergeRowDatafunction(e,t,n,i){var r,o,a,s=this.data().toJSON(),l=Math.max(this._rowMeasures().length,1);for(i=Math.max(i,1),s.length0&&(n-=l,e.splice(0,il)),r=0;nr;r++)a=e.splice(0,i),o=ti+ri,[].splice.apply(s,[o,0].concat(a));return s},_columnMeasuresfunction(){var e=this.measures(),t=[];returncolumns===this.measuresAxis()&&(0===this.columns().lengtht=ee.length1&&(t=e)),t},_rowMeasuresfunction(){var e=this.measures(),t=[];returnrows===this.measuresAxis()&&(0===this.rows().lengtht=ee.length1&&(t=e)),t},_updateLocalDatafunction(e,t){this.cubeBuilder&&(t&&(this._requestData=t),e=this._processResult(e)),this._data=this._observe(e),this._ranges=[],this._addRange(this._data),this._total=this._data.length,this._pristineTotal=this._total,this._process(this._data)},datafunction(e){var n=this;return e===tn._data(this._pristineData=e.slice(0),this._updateLocalData(e,{columnsthis.columns(),rowsthis.rows(),measuresthis.measures()}),t)},_normalizeTuplesfunction(e,t,n,i){var r,o,a,s=i.length1,l=0,c=[],d={},u=0;if(e.length){if(!this._hasRoot(e[0],t,n)){for(;sl;l++)c.push(this._createTuple(e[0],i[l],!0)),d[l]=l;e.splice.apply(e,[0,e.length].concat(c).concat(e)),l=s}if(i.length)for(a=r=e[l],o=r.members.length-1;r;){if(u=s&&(u=0),r.members[o].name!==i[u].name&&(e.splice(l,0,this._createTuple(r,i[u])),d[l]=l),l+=1,u+=1,r=e[l],su&&(!rct(a,o-1)!==ct(r,o-1))){for(;su;u++)e.splice(l,0,this._createTuple(a,i[u])),d[l]=l,l+=1;r=e[l]}a=r}return d}},_normalizeDatafunction(e){var n,i,r=e.data,o=e.columnIndexes{},a=e.rowIndexes{},s=e.columnsLength1,l=s(e.rowsLength1),c=0,d=0,u=0,h=Array(l);if(r.length===l)return r;for(;lc;c++){for(;a[parseInt(cs,10)]!==t;)for(i=0;si;i++)h[c]={value,fmtValue,ordinalc},c+=1;if(o[c%s]!==t&&(h[c]={value,fmtValue,ordinalc},c+=1),n=r[d]){if(n.ordinal-u1)for(u+=1;n.ordinalu;u++)h[c]={value,fmtValue,ordinalc},c+=1;u=n.ordinal,n.ordinal=c,h[c]=n,d+=1}else h[c]={value,fmtValue,ordinalc}}return h},discoverfunction(t,n){var i=this,r=i.transport;return e.Deferred(function(e){r.discover(kt({successfunction(t){t=i.reader.parse(t),i._handleCustomErrors(t)(n&&(t=n(t)),e.resolve(t))},errorfunction(t,n,r){e.reject(t),i.error(t,n,r)}},t))}).promise().done(function(){i.trigger(schemaChange)})},schemaMeasuresfunction(){var e=this;return e.discover({data{commandschemaMeasures,restrictions{catalogNamee.transport.catalog(),cubeNamee.transport.cube()}}},function(t){return e.reader.measures(t)})},schemaKPIsfunction(){var e=this;return e.discover({data{commandschemaKPIs,restrictions{catalogNamee.transport.catalog(),cubeNamee.transport.cube()}}},function(t){return e.reader.kpis(t)})},schemaDimensionsfunction(){var e=this;return e.discover({data{commandschemaDimensions,restrictions{catalogNamee.transport.catalog(),cubeNamee.transport.cube()}}},function(t){return e.reader.dimensions(t)})},schemaHierarchiesfunction(e){var t=this;return t.discover({data{commandschemaHierarchies,restrictions{catalogNamet.transport.catalog(),cubeNamet.transport.cube(),dimensionUniqueNamee}}},function(e){return t.reader.hierarchies(e)})},schemaLevelsfunction(e){var t=this;return t.discover({data{commandschemaLevels,restrictions{catalogNamet.transport.catalog(),cubeNamet.transport.cube(),hierarchyUniqueNamee}}},function(e){return t.reader.levels(e)})},schemaCubesfunction(){var e=this;return e.discover({data{commandschemaCubes,restrictions{catalogNamee.transport.catalog()}}},function(t){return e.reader.cubes(t)})},schemaCatalogsfunction(){var e=this;return e.discover({data{commandschemaCatalogs}},function(t){return e.reader.catalogs(t)})},schemaMembersfunction(e){var t=this;return t.discover({data{commandschemaMembers,restrictionskt({catalogNamet.transport.catalog(),cubeNamet.transport.cube()},e)}},function(e){return t.reader.members(e)})},_paramsfunction(e){this._clearAxesData&&(this._axes={},this._data=this._observe([]),this._clearAxesData=!1,this.trigger(Dt));
var t=_t.fn._params.call(this,e);return t=kt({measuresthis.measures(),measuresAxisthis.measuresAxis(),columnsthis.columns(),rowsthis.rows()},t),this.cubeBuilder&&(this._requestData=t),t}});qt.create=function(e){e=e&&e.push{datae}e;var t=e{},n=t.data;if(t.data=n,!(t instanceof qt)&&t instanceof ft.data.DataSource)throw Error(Incorrect DataSource type. Only PivotDataSource instances are supported);return t instanceof qttnew qt(t)},Y={contains', InStr({0}.CurrentMember.MEMBER_CAPTION,{1})  0',doesnotcontain', InStr({0}.CurrentMember.MEMBER_CAPTION,{1}) = 0',startswith', Left({0}.CurrentMember.MEMBER_CAPTION,Len({1}))={1}',endswith', Right({0}.CurrentMember.MEMBER_CAPTION,Len({1}))={1}',eq', {0}.CurrentMember.MEMBER_CAPTION = {1}',neq', NOT {0}.CurrentMember.MEMBER_CAPTION = {1}'},Q={schemaCubesMDSCHEMA_CUBES,schemaCatalogsDBSCHEMA_CATALOGS,schemaMeasuresMDSCHEMA_MEASURES,schemaDimensionsMDSCHEMA_DIMENSIONS,schemaHierarchiesMDSCHEMA_HIERARCHIES,schemaLevelsMDSCHEMA_LEVELS,schemaMembersMDSCHEMA_MEMBERS,schemaKPIsMDSCHEMA_KPIS},K={readfunction(e){var t,n,i,r,o,a='Envelope xmlns=httpschemas.xmlsoap.orgsoapenvelopeHeaderBodyExecute xmlns=urnschemas-microsoft-comxml-analysisCommandStatement';return a+=SELECT NON EMPTY {,t=e.columns[],n=e.rows[],i=e.measures[],r=rows===e.measuresAxis,o=e.sort[],!t.length&&n.length&&(!i.lengthi.length&&r)&&(t=n,n=[],r=!1),t.lengthn.length(r=!1),t.lengtha+=U(t,r[]i,o)i.length&&!r&&(a+=H(i).join(,)),a+=} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS,(n.lengthr&&i.length1)&&(a+=, NON EMPTY {,a+=n.lengthU(n,ri[],o)H(i).join(,),a+=} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS),e.filter(a+= FROM ,a+=(,a+=j(e.filter,e.connection.cube),a+=))a+= FROM [+e.connection.cube+],1==i.length&&t.length&&(a+= WHERE (+H(i).join(,)+)),a+=StatementCommandPropertiesPropertyListCatalog+e.connection.catalog+CatalogFormatMultidimensionalFormatPropertyListPropertiesExecuteBodyEnvelope,a.replace(&g,&amp;)},discoverfunction(t){t=t{};var n='Envelope xmlns=httpschemas.xmlsoap.orgsoapenvelopeHeaderBodyDiscover xmlns=urnschemas-microsoft-comxml-analysis';return n+=RequestType+(Q[t.command]t.command)+RequestType,n+=Restrictions+G(RestrictionList,t.restrictions,!0)+Restrictions,t.connection&&t.connection.catalog&&(t.properties=e.extend({},{Catalogt.connection.catalog},t.properties)),n+=Properties+G(PropertyList,t.properties)+Properties,n+=DiscoverBodyEnvelope}},X=ft.data.RemoteTransport.extend({initfunction(e){var t=e;e=this.options=kt(!0,{},this.options,e),ft.data.RemoteTransport.call(this,e),xt(t.discover)this.discover=t.discoverstring==typeof t.discoverthis.options.discover={urlt.discover}t.discover(this.options.discover=this.options.read)},setupfunction(t,n){return t.data=t.data{},e.extend(!0,t.data,{connectionthis.options.connection}),ft.data.RemoteTransport.fn.setup.call(this,t,n)},options{read{dataTypetext,contentTypetextxml,typePOST},discover{dataTypetext,contentTypetextxml,typePOST},parameterMapfunction(e,t){return K[t](e,t)}},discoverfunction(t){return e.ajax(this.setup(t,discover))}}),Z={cubes{nameft.getter(CUBE_NAME['#text'],!0),captionft.getter(CUBE_CAPTION['#text'],!0),descriptionft.getter(DESCRIPTION['#text'],!0),typeft.getter(CUBE_TYPE['#text'],!0)},catalogs{nameft.getter(CATALOG_NAME['#text'],!0),descriptionft.getter(DESCRIPTION['#text'],!0)},measures{nameft.getter(MEASURE_NAME['#text'],!0),captionft.getter(MEASURE_CAPTION['#text'],!0),uniqueNameft.getter(MEASURE_UNIQUE_NAME['#text'],!0),descriptionft.getter(DESCRIPTION['#text'],!0),aggregatorft.getter(MEASURE_AGGREGATOR['#text'],!0),groupNameft.getter(MEASUREGROUP_NAME['#text'],!0),displayFolderft.getter(MEASURE_DISPLAY_FOLDER['#text'],!0),defaultFormatft.getter(DEFAULT_FORMAT_STRING['#text'],!0)},kpis{nameft.getter(KPI_NAME['#text'],!0),captionft.getter(KPI_CAPTION['#text'],!0),valueft.getter(KPI_VALUE['#text'],!0),goalft.getter(KPI_GOAL['#text'],!0),statusft.getter(KPI_STATUS['#text'],!0),trendft.getter(KPI_TREND['#text'],!0),statusGraphicft.getter(KPI_STATUS_GRAPHIC['#text'],!0),trendGraphicft.getter(KPI_TREND_GRAPHIC['#text'],!0),descriptionft.getter(KPI_DESCRIPTION['#text'],!0),groupNameft.getter(MEASUREGROUP_NAME['#text'],!0)},dimensions{nameft.getter(DIMENSION_NAME['#text'],!0),captionft.getter(DIMENSION_CAPTION['#text'],!0),descriptionft.getter(DESCRIPTION['#text'],!0),uniqueNameft.getter(DIMENSION_UNIQUE_NAME['#text'],!0),defaultHierarchyft.getter(DEFAULT_HIERARCHY['#text'],!0),typeft.getter(DIMENSION_TYPE['#text'],!0)},hierarchies{nameft.getter(HIERARCHY_NAME['#text'],!0),captionft.getter(HIERARCHY_CAPTION['#text'],!0),descriptionft.getter(DESCRIPTION['#text'],!0),uniqueNameft.getter(HIERARCHY_UNIQUE_NAME['#text'],!0),dimensionUniqueNameft.getter(DIMENSION_UNIQUE_NAME['#text'],!0),displayFolderft.getter(HIERARCHY_DISPLAY_FOLDER['#text'],!0),originft.getter(HIERARCHY_ORIGIN['#text'],!0),defaultMemberft.getter(DEFAULT_MEMBER['#text'],!0)},levels{nameft.getter(LEVEL_NAME['#text'],!0),captionft.getter(LEVEL_CAPTION['#text'],!0),descriptionft.getter(DESCRIPTION['#text'],!0),uniqueNameft.getter(LEVEL_UNIQUE_NAME['#text'],!0),dimensionUniqueNameft.getter(DIMENSION_UNIQUE_NAME['#text'],!0),displayFolderft.getter(LEVEL_DISPLAY_FOLDER['#text'],!0),orderingPropertyft.getter(LEVEL_ORDERING_PROPERTY['#text'],!0),originft.getter(LEVEL_ORIGIN['#text'],!0),hierarchyUniqueNameft.getter(HIERARCHY_UNIQUE_NAME['#text'],!0)},members{nameft.getter(MEMBER_NAME['#text'],!0),captionft.getter(MEMBER_CAPTION['#text'],!0),uniqueNameft.getter(MEMBER_UNIQUE_NAME['#text'],!0),dimensionUniqueNameft.getter(DIMENSION_UNIQUE_NAME['#text'],!0),hierarchyUniqueNameft.getter(HIERARCHY_UNIQUE_NAME['#text'],!0),levelUniqueNameft.getter(LEVEL_UNIQUE_NAME['#text'],!0),childrenCardinalityft.getter(CHILDREN_CARDINALITY['#text'],!0)}},J=[axes,catalogs,cubes,dimensions,hierarchies,levels,measures],et=ft.data.XmlDataReader.extend({initfunction(e){ft.data.XmlDataReader.call(this,e),this._extend(e)},_extendfunction(e){for(var t,n,i=0,r=J.length;ri;i++)t=J[i],n=e[t],n&&n!==yt&&(this[t]=n)},parsefunction(e){var t=ft.data.XmlDataReader.fn.parse(e.replace(()(w-)+g,$1));return ft.getter(['Envelope']['Body'],!0)(t)},errorsfunction(e){var t=ft.getter(['Fault'],!0)(e);return t[{faultstringft.getter(faultstring['#text'],!0)(t),faultcodeft.getter(faultcode['#text'],!0)(t)}]null},axesfunction(e){var t,n,i;return e=ft.getter('ExecuteResponse[return].root',!0)(e),t=q(ft.getter(Axes.Axis,!0)(e)),n=$(t[0]),i={},t.length2&&(i=$(t[1])),{columnsn,rowsi}},datafunction(e){var t,n,i,r,o,a;for(e=ft.getter('ExecuteResponse[return].root',!0)(e),t=q(ft.getter(CellData.Cell,!0)(e)),n=[],i=ft.getter(['@CellOrdinal']),r=ft.getter(Value['#text']),o=ft.getter(FmtValue['#text']),a=0;t.lengtha;a++)n.push({valuer(t[a]),fmtValueo(t[a]),ordinalparseInt(i(t[a]),10)});return n},_mapSchemafunction(e,t){var n,i,r,o,a;for(e=ft.getter('DiscoverResponse[return].root',!0)(e),n=q(ft.getter(row,!0)(e)),i=[],r=0;n.lengthr;r++){o={};for(a in t)o[a]=t[a](n[r]);i.push(o)}return i},measuresfunction(e){return this._mapSchema(e,Z.measures)},kpisfunction(e){return this._mapSchema(e,Z.kpis)},hierarchiesfunction(e){return this._mapSchema(e,Z.hierarchies)},levelsfunction(e){return this._mapSchema(e,Z.levels)},dimensionsfunction(e){return this._mapSchema(e,Z.dimensions)},cubesfunction(e){return this._mapSchema(e,Z.cubes)},catalogsfunction(e){return this._mapSchema(e,Z.catalogs)},membersfunction(e){return this._mapSchema(e,Z.members)}}),kt(!0,ft.data,{PivotDataSourceqt,XmlaTransportX,XmlaDataReaderet,PivotCubeBuilderjt,transports{xmlaX},readers{xmlaet}}),tt=function(e,t){if(!e)return null;for(var n=0,i=e.length;in;n++)if(e[n].field===t)return e[n];return null},nt=function(e,t){var n,i,r=[];for(n=0,i=e.length;in;n++)e[n].field!==t&&r.push(e[n]);return r},ft.ui.PivotSettingTarget=vt.extend({initfunction(t,n){var i=this;vt.fn.init.call(i,t,n),i.element.addClass(k-pivot-setting),i.dataSource=ft.data.PivotDataSource.create(n.dataSource),i._refreshHandler=e.proxy(i.refresh,i),i.dataSource.first(Ct,i._refreshHandler),n.template(i.options.template=div data-+ft.ns+'name=${data.name  data}${data.name  data}'+(i.options.enabled'a class=k-button k-button-icon k-button-barespan class=k-icon k-setting-deletespana')+div),i.template=ft.template(i.options.template),i.emptyTemplate=ft.template(i.options.emptyTemplate),i._sortable(),i.element.on(click+It,.k-button,.k-item,function(t){var n=e(t.target),r=n.closest([+ft.attr(name)+]).attr(ft.attr(name));r&&(n.hasClass(k-setting-delete)i.remove(r)i.options.sortable&&n[0]===t.currentTarget&&i.sort({fieldr,dirn.find(.k-i-sort-asc)[0]descasc}))}),(n.filterablen.sortable)&&(i.fieldMenu=new gt.PivotFieldMenu(i.element,{messagesi.options.messages.fieldMenu,filter.k-setting-fieldmenu,filterablen.filterable,sortablen.sortable,dataSourcei.dataSource})),i.refresh()},options{namePivotSettingTarget,templatenull,filterable!1,sortable!1,emptyTemplatediv class='k-empty'${data}div,settingcolumns,enabled!0,messages{emptyDrop Fields Here}},setDataSourcefunction(e){this.dataSource.unbind(Ct,this._refreshHandler),this.dataSource=this.options.dataSource=e,this.fieldMenu&&this.fieldMenu.setDataSource(e),e.first(Ct,this._refreshHandler),this.refresh()},_sortablefunction(){var e=this;e.options.enabled&&(this.sortable=this.element.kendoSortable({connectWiththis.options.connectWith,filternot(.k-empty),hinte.options.hint,cursormove,startfunction(e){e.item.focus().blur()},changefunction(t){var n=t.item.attr(ft.attr(name));receive==t.actione.add(n)remove==t.actione.remove(n)sort==t.action&&e.move(n,t.newIndex)}}).data(kendoSortable))},_indexOffunction(e,t){var n,i,r=-1;for(n=0,i=t.length;in;n++)if(L(t[n])===e){r=n;break}return r},_isKPIfunction(e){returnkpi===e.typee.measure},validatefunction(e){var t,n,i=2==e.typeaggregatorin ethis._isKPI(e);return imeasures===this.options.settingmeasures===this.options.settingi(t=this.dataSource[this.options.setting](),n=e.defaultHierarchye.uniqueName,this._indexOf(n,t)-1!1(t=this.dataSource[columns===this.options.settingrowscolumns](),this._indexOf(n,t)-1!1!0))},addfunction(t){var n,i,r=this.dataSource[this.options.setting]();for(t=e.isArray(t)t.slice(0)[t],n=0,i=t.length;in;n++)-1!==this._indexOf(t[n],r)&&(t.splice(n,1),n-=1,i-=1);t.length&&(r=r.concat(t),this.dataSource[this.options.setting](r))},movefunction(e,t){var n=this.dataSource[this.options.setting](),i=this._indexOf(e,n);i-1&&(e=n.splice(i,1)[0],n.splice(t,0,e),this.dataSource[this.options.setting](n))},removefunction(e){var t=this.dataSource[this.options.setting](),n=this._indexOf(e,t);n-1&&(t.splice(n,1),this.dataSource[this.options.setting](t))},sortfunction(e){var t=this.options.sortable,n=t===!0t.allowUnsort,i=n&&asc===e.dir,r=this.dataSource.sort()[],o=nt(r,e.field);i&&r.length!==o.length&&(e=null),e&&o.push(e),this.dataSource.sort(o)},refreshfunction(){var e,n=,i=this.dataSource[this.options.setting](),r=i.length,o=0;if(r)for(;ro;o++)e=i[o],e=e.name===t{namee}e,n+=this.template(kt({sortIconthis._sortIcon(e.name)},e));else n=this.emptyTemplate(this.options.messages.empty);this.element.html(n)},destroyfunction(){vt.fn.destroy.call(this),this.dataSource.unbind(Ct,this._refreshHandler),this.element.off(It),this.sortable&&this.sortable.destroy(),this.fieldMenu&&this.fieldMenu.destroy(),this.element=null,this._refreshHandler=null},_sortIconfunction(e){var t=this.dataSource.sort(),n=tt(t,L(e)),i=;return n&&(i=k-i-sort-+n.dir),i}}),it=vt.extend({initfunction(n,i){var r,o,a=this;vt.fn.init.call(a,n,i),a._dataSource(),a._bindConfigurator(),a._wrapper(),a._createLayout(),a._columnBuilder=r=new dt,a._rowBuilder=o=new ut,a._contentBuilder=new ht,a._templates(),a.columnsHeader.add(a.rowsHeader).on(click,span.k-icon,function(){var n,i,s,l,c=e(this),d=r,u=expandColumn,h=c.attr(ft.attr(path)),p={axiscolumns,pathe.parseJSON(h)};c.parent().is(td)&&(d=o,u=expandRow,p.axis=rows),i=c.hasClass(Bt),s=d.metadata[h],l=s.expanded===t,n=iRtFt,a.trigger(n,p)(d.metadata[h].expanded=!i,c.toggleClass(Bt,!i).toggleClass(Ht,i),!i&&la.dataSource[u](p.path)a.refresh())}),a._scrollable(),a.options.autoBind&&a.dataSource.fetch(),ft.notify(a)},events[Pt,zt,Ft,Rt],options{namePivotGrid,autoBind!0,reorderable!0,filterable!1,sortable!1,heightnull,columnWidth100,configurator,columnHeaderTemplatenull,rowHeaderTemplatenull,dataCellTemplatenull,kpiStatusTemplatenull,kpiTrendTemplatenull,messages{measureFieldsDrop Data Fields Here,columnFieldsDrop Column Fields Here,rowFieldsDrop Rows Fields Here}},_templatesfunction(){var e=this.options.columnHeaderTemplate,t=this.options.rowHeaderTemplate,n=this.options.dataCellTemplate,i=this.options.kpiStatusTemplate,r=this.options.kpiTrendTemplate;this._columnBuilder.template=ft.template(eLt,{useWithBlock!!e}),this._contentBuilder.dataTemplate=ft.template(nVt,{useWithBlock!!n}),this._contentBuilder.kpiStatusTemplate=ft.template(iNt,{useWithBlock!!i}),this._contentBuilder.kpiTrendTemplate=ft.template(rOt,{useWithBlock!!r}),this._rowBuilder.template=ft.template(tLt,{useWithBlock!!t})},_bindConfiguratorfunction(){var t=this.options.configurator;t&&e(t).kendoPivotConfigurator(setDataSource,this.dataSource)},cellInfoByElementfunction(t){return t=e(t),this.cellInfo(t.index(),t.parent(tr).index())},cellInfofunction(e,t){var n,i=this._contentBuilder,r=i.columnIndexes[e0],o=i.rowIndexes[t0];return r&&o(n=o.indexi.rowLength+r.index,{columnTupler.tuple,rowTupleo.tuple,measurer.measureo.measure,dataItemthis.dataSource.view()[n]})null},setDataSourcefunction(e){this.options.dataSource=e,this._dataSource(),this.measuresTarget&&this.measuresTarget.setDataSource(e),this.rowsTarget&&this.rowsTarget.setDataSource(e),this.columnsTarget&&this.columnsTarget.setDataSource(e),this._bindConfigurator(),this.options.autoBind&&e.fetch()},setOptionsfunction(e){vt.fn.setOptions.call(this,e),this._templates()},_dataSourcefunction(){var t=this,n=t.options.dataSource;n=e.isArray(n){datan}n,t.dataSource&&this._refreshHandlert.dataSource.unbind(Ct,t._refreshHandler).unbind(Dt,t._stateResetHandler).unbind(Tt,t._progressHandler).unbind(St,t._errorHandler)(t._refreshHandler=e.proxy(t.refresh,t),t._progressHandler=e.proxy(t._requestStart,t),t._stateResetHandler=e.proxy(t._stateReset,t),t._errorHandler=e.proxy(t._error,t)),t.dataSource=ft.data.PivotDataSource.create(n).bind(Ct,t._refreshHandler).bind(Tt,t._progressHandler).bind(Dt,t._stateResetHandler).bind(St,t._errorHandler)},_errorfunction(){this._progress(!1)},_requestStartfunction(){this._progress(!0)},_stateResetfunction(){this._columnBuilder.reset(),this._rowBuilder.reset()},_wrapperfunction(){var e=this.options.height;this.wrapper=this.element.addClass(k-widget k-pivot),e&&this.wrapper.css(height,e)},_measureFieldsfunction(){this.measureFields=e(Et).addClass(k-pivot-toolbar k-header k-settings-measures),this.measuresTarget=this._createSettingTarget(this.measureFields,{settingmeasures,messages{emptythis.options.messages.measureFields}})},_createSettingTargetfunction(t,n){var i='span tabindex=0 class=k-button data-'+ft.ns+'name=${data.name}${data.name}',r=n.sortable,o=;return r&&(o+=#if (data.sortIcon) {#,o+='span class=k-icon ${data.sortIcon} k-setting-sortspan',o+=#}#),(n.filterabler)&&(o+='span class=k-icon k-i-arrowhead-s k-setting-fieldmenuspan'),this.options.reorderable&&(o+='span class=k-icon k-si-close k-setting-deletespan'),o&&(i+='span class=k-field-actions'+o+span),i+=span,new ft.ui.PivotSettingTarget(t,e.extend({templatei,emptyTemplate'span class=k-empty${data}span',enabledthis.options.reorderable,dataSourcethis.dataSource},n))},_initSettingTargetsfunction(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWiththis.rowFields,settingcolumns,filterablethis.options.filterable,sortablethis.options.sortable,messages{emptythis.options.messages.columnFields,fieldMenuthis.options.messages.fieldMenu}}),this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWiththis.columnFields,settingrows,filterablethis.options.filterable,sortablethis.options.sortable,messages{emptythis.options.messages.rowFields,fieldMenuthis.options.messages.fieldMenu}})},_createLayoutfunction(){var t=this,n=e(Ut),i=n.find(.k-pivot-rowheaders),r=n.find(.k-pivot-table),o=e(Et).addClass(k-grid k-widget);t._measureFields(),t.columnFields=e(Et).addClass(k-pivot-toolbar k-header k-settings-columns),t.rowFields=e(Et).addClass(k-pivot-toolbar k-header k-settings-rows),t.columnsHeader=e('div class=k-grid-header-wrap ').wrap('div class=k-grid-header '),t.columnsHeader.parent().css(padding-right,ft.support.scrollbar()),t.rowsHeader=e('div class=k-grid k-widget k-alt'),t.content=e('div class=k-grid-content '),i.append(t.measureFields),i.append(t.rowFields),i.append(t.rowsHeader),o.append(t.columnsHeader.parent()),o.append(t.content),r.append(t.columnFields),r.append(o),t.wrapper.append(n),t.columnsHeaderTree=new ft.dom.Tree(t.columnsHeader[0]),t.rowsHeaderTree=new ft.dom.Tree(t.rowsHeader[0]),t.contentTree=new ft.dom.Tree(t.content[0]),t._initSettingTargets()},_progressfunction(e){ft.ui.progress(this.wrapper,e)},_resizefunction(){var e=this.columnsHeader.children(table),t=this.content.children(table);this.content[0].firstChild&&(this._setSectionsWidth(),this._setSectionsHeight(),this._setContentWidth(),this._setContentHeight(),e.css(table-layout,At),t.css(table-layout,At),clearTimeout(this._layoutTimeout),this._layoutTimeout=setTimeout(function(){e.css(table-layout,fixed),t.css(table-layout,fixed)}))},_setSectionsWidthfunction(){var e=this.rowsHeader,t=e.parent(.k-pivot-rowheaders).width(At),n=Math.max(this.measureFields.outerWidth(),this.rowFields.outerWidth());n=Math.max(e.children(table).width(),n),t.width(n)},_setSectionsHeightfunction(){var e=this.measureFields.height(At).height(),t=this.columnFields.height(At).height(),n=this.rowFields.height(At).innerHeight(),i=this.columnsHeader.height(At).innerHeight(),r=n-this.rowFields.height(),o=tete,a=inin;this.measureFields.height(o),this.columnFields.height(o),this.rowFields.height(a-r),this.columnsHeader.height(a)},_setContentWidthfunction(){var e=this.content.find(table),t=this.content.width(),n=e.children(colgroup).children().length,i=100,r=nthis.options.columnWidth;rt&&(i=Math.ceil(rt100)),e.add(this.columnsHeader.children(table)).css(width,i+%)},_setContentHeightfunction(){var e=this,n=e.content,i=e.rowsHeader,r=e.wrapper.innerHeight(),o=ft.support.scrollbar(),a=n[0].offsetHeight===n[0].clientHeight;if(e.wrapper.is(visible)){if(!r)return a&&(o=0),i.height(n.height()-o),t;r-=e.columnFields.outerHeight(),r-=e.columnsHeader.outerHeight(),2o=r&&(r=2o+1,a(r+=o)),n.height(r),a&&(o=0),i.height(r-o)}},_axisMeasuresfunction(e){var t=[],n=this.dataSource,i=n.measures(),r=i.length1i[0]&&i[0].type;return n.measuresAxis()===e&&(0===n[e]().lengthr)&&(t=i),t},refreshfunction(){var e,t=this,n=t.dataSource,i=n.axes(),r=(i.columns{}).tuples[],o=(i.rows{}).tuples[],a=t._columnBuilder,s=t._rowBuilder,l={},c={};t.trigger(Pt,{actionrebind})(a.measures=this._axisMeasures(columns),t.columnsHeaderTree.render(a.build(r)),t.rowsHeaderTree.render(s.build(o)),l={indexesa._indexes,measuresa.measures,metadataa.metadata},c={indexess._indexes,measuresthis._axisMeasures(rows),metadatas.metadata},t.contentTree.render(t._contentBuilder.build(n.view(),l,c)),t._resize(),t.touchScrollert.touchScroller.contentResized()(e=ft.touchScroller(t.content),e&&e.movable&&(t.touchScroller=e,e.movable.bind(change,function(e){t.columnsHeader.scrollLeft(-e.sender.x),t.rowsHeader.scrollTop(-e.sender.y)}))),t._progress(!1),t.trigger(zt))},_scrollablefunction(){var t=this,n=t.columnsHeader,i=t.rowsHeader;t.content.scroll(function(){n.scrollLeft(this.scrollLeft),i.scrollTop(this.scrollTop)}),i.bind(DOMMouseScroll+It+ mousewheel+It,e.proxy(t._wheelScroll,t))},_wheelScrollfunction(t){var n,i;t.ctrlKey(n=ft.wheelDeltaY(t),i=this.content.scrollTop(),n&&(t.preventDefault(),e(t.currentTarget).one(wheel+It,!1),this.rowsHeader.scrollTop(i+-n),this.content.scrollTop(i+-n)))}}),rt=ft.dom.element,ot=ft.dom.html,at=ft.dom.text,st=function(e,t){return{maxChildren0,children0,maxMembers0,members0,measures1,levelNume,parentMember0!==t}},lt=function(e,t){for(var n=[],i=0;t=i;i++)n.push(e.members[i].name);return n},ct=function(e,t){for(var n=,i=0;t=i;i++)n+=e.members[i].name;return n},dt=mt.extend({initfunction(){this.measures=1,this.metadata={}},buildfunction(e){var t=this._tbody(e),n=this._colGroup();return[rt(table,null,[n,t])]},resetfunction(){this.metadata={}},_colGroupfunction(){for(var e=this._rowLength(),t=[],n=0;en;n++)t.push(rt(col,null));return rt(colgroup,null,t)},_tbodyfunction(e){var t=e[0];return this.map={},this.rows=[],this.rootTuple=t,this._indexes=[],t(this._buildRows(t,0),this._normalize())this.rows.push(rt(tr,null,[rt(th,null,[ot(&nbsp;)])])),rt(tbody,null,this.rows)},_normalizefunction(){for(var e,t,n,i,r,o=this.rows,a=o.length,s=0;as;s++)if(e=o[s],1!==e.rowSpan)for(i=e.children,n=0,t=i.length;tn;n++)r=i[n],r.tupleAll&&(r.attr.rowSpan=e.rowSpan)},_rowIndexfunction(e){for(var t=this.rows,n=t.length,i=0;ni&&t[i]!==e;i++);return i},_rowLengthfunction(){var e=this.rows[0]this.rows[0].children[],t=e.length,n=0,i=0;if(t)for(;ti;i++)n+=e[i].attr.colSpan1;return n(n=this.measures),n},_rowfunction(e,t,n){var i,r,o=this.rootTuple.members[t].name,a=e.members[t].levelNum,s=o+a,l=this.map,c=l[s];return c(c.notFirst=!1,c.parentMember&&c.parentMember===n(c.parentMember=n,c.colSpan=0))(c=rt(tr,null,[]),c.parentMember=n,c.colSpan=0,c.rowSpan=1,l[s]=c,i=l[o+(+a-1)],i&&(r=i.children,c.notFirst=r[1]&&-1===r[1].attr.className.indexOf(k-alt)!0i.notFirst),this.rows.splice(this._rowIndex(i)+1,0,c)),c},_measuresfunction(e,t,n){var i,r,o,a=this.map,s=a.measureRow;for(s(s=rt(tr,null,[]),a.measureRow=s,this.rows.push(s)),r=0,o=e.length;or;r++)i=e[r],s.children.push(this._cell(n,[this._content(i,t)],i));return o},_contentfunction(e,t){return ot(this.template({membere,tuplet}))},_cellfunction(e,t,n){var i=rt(th,{classNamek-header+e},t);return i.value=n.captionn.name,i},_buildRowsfunction(e,n,i){var r,o,a,s,l,c,d,u,h,p,f=e.members,g=f[n],m=f[n+1],v=[],_=0;if(g.measure)return this._measures(g.children,e),t;if(u=ft.stringify(lt(e,n)),r=this._row(e,n,i),a=g.children,s=a.length,p=this.metadata[u],p(this.metadata[u]=p=st(+g.levelNum,n)),this._indexes.push({pathu,tuplee}),g.hasChildren&&(p.expanded===!1&&(s=0,p.children=0),d={classNamek-icon +(sBtHt)},d[ft.attr(path)]=u,v.push(rt(span,d))),v.push(this._content(g,e)),l=this._cell(r.notFirst k-first,v,g),r.children.push(l),r.colSpan+=1,s){for(c=this._cell( k-alt,[this._content(g,e)],g),r.children.push(c);s_;_++)o=this._buildRows(a[_],n,g);h=o.colSpan,l.attr.colSpan=h,p.children=h,p.members=1,r.colSpan+=h,r.rowSpan=o.rowSpan+1,m&&(h=m.measurethis._measures(m.children,e, k-alt)this._buildRows(e,n+1).colSpan,c.attr.colSpan=h,h-=1,p.members+=h,r.colSpan+=h)}else m&&(h=m.measurethis._measures(m.children,e)this._buildRows(e,n+1).colSpan,p.members=h,h1&&(l.attr.colSpan=h,r.colSpan+=h-1));return p.childrenp.maxChildren&&(p.maxChildren=p.children),p.membersp.maxMembers&&(p.maxMembers=p.members),(cl).tupleAll=!0,r}}),ut=mt.extend({initfunction(){this.metadata={}},buildfunction(e){var t=this._tbody(e),n=this._colGroup();return[rt(table,null,[n,t])]},resetfunction(){this.metadata={}},_rowLengthfunction(){for(var e=this.rows[0].children,t=0,n=0,i=e[n];i;)t+=i.attr.colSpan1,i=e[++n];return t},_colGroupfunction(){for(var e=this._rowLength(),t=[],n=0;en;n++)t.push(rt(col,null));return rt(colgroup,null,t)},_tbodyfunction(e){var t=e[0];return this.rootTuple=t,this.rows=[],this.map={},this._indexes=[],t(this._buildRows(t,0),this._normalize())this.rows.push(rt(tr,null,[rt(td,null,[ot(&nbsp;)])])),rt(tbody,null,this.rows)},_normalizefunction(){for(var e,t,n,i,r=this.rows,o=r.length,a=0,s=this.rootTuple.members,l=s[0].name,c=s.length,d=0,u=this.map;oa;a++)for(e=r[a],d=0;cd;d++)n=this[s[d].name],t=e.colSpan[dim+d],t&&nt.levelNum&&(t.attr.colSpan=n-t.levelNum+1);e=u[l],i=u[l+all],e&&(e.children[0].attr.className=k-first),i&&(i.children[0].attr.className+= k-first)},_rowfunction(e){var t=rt(tr,null,e);return t.rowSpan=1,t.colSpan={},this.rows.push(t),t},_contentfunction(e,t){return ot(this.template({membere,tuplet}))},_cellfunction(e,t,n){var i=rt(td,{classNamee},t);return i.value=n.captionn.name,i},_buildRowsfunction(e,t){var n,i,r,o,a,s,l,c,d,u=this.map,h=e.members,p=h[t],f=h[t+1],g=p.children,m=g.length,v=+p.levelNum+1,_=this.rootTuple.members[t].name,w=lt(e,t-1).join(),y=w+(p.parentName),b=u[y+all]u[y],k=[];if(!bb.hasChildb=this._row()b.hasChild=!0,p.measure){for(a=b.allCellk-grid-footer,b.children.push(this._cell(a,[this._content(g[0],e)],g[0])),b.rowSpan=m,d=1;md;d++)this._row([this._cell(a,[this._content(g[d],e)],g[d])]);return b}if(u[w+p.name]=b,n=ft.stringify(lt(e,t)),o=this.metadata[n],o(this.metadata[n]=o=st(v-1,t)),this._indexes.push({pathn,tuplee}),p.hasChildren&&(o.expanded===!1&&(m=0,o.children=0),s={classNamek-icon +(mBtHt)},s[ft.attr(path)]=n,k.push(rt(span,s))),k.push(this._content(p,e)),a=b.allCell&&!mk-grid-footer,c=this._cell(a,k,p),c.levelNum=v,b.children.push(c),b.colSpan[dim+t]=c,(!this[_]vthis[_])&&(this[_]=v),m){for(b.allCell=!1,b.hasChild=!1,d=0;md;d++)i=this._buildRows(g[d],t),b!==i&&(b.rowSpan+=i.rowSpan);b.rowSpan1&&(c.attr.rowSpan=b.rowSpan),o.children=b.rowSpan,l=this._cell(k-grid-footer,[this._content(p,e)],p),l.levelNum=v,r=this._row([l]),r.colSpan[dim+t]=l,r.allCell=!0,u[w+p.name+all]=r,f&&(i=this._buildRows(e,t+1),l.attr.rowSpan=i.rowSpan),b.rowSpan+=r.rowSpan,o.members=r.rowSpan}else f&&(b.hasChild=!1,this._buildRows(e,t+1),(lc).attr.rowSpan=b.rowSpan,o.members=b.rowSpan);return o.childreno.maxChildren&&(o.maxChildren=o.children),o.memberso.maxMembers&&(o.maxMembers=o.members),b}}),ht=mt.extend({initfunction(){this.columnAxis={},this.rowAxis={}},buildfunction(e,n,i){var r,o,a=n.indexes[0],s=n.metadata[aa.patht];return this.columnAxis=n,this.rowAxis=i,this.data=e,this.rowLength=ss.maxChildren+s.maxMembersn.measures.length1,this.rowLength(this.rowLength=1),r=this._tbody(),o=this._colGroup(),[rt(table,null,[o,r])]},_colGroupfunction(){var e=this.columnAxis.measures.length1,t=[],n=0;for(this.rows[0]&&(e=this.rows[0].children.length);en;n++)t.push(rt(col,null));return rt(colgroup,null,t)},_tbodyfunction(){return this.rows=[],this.data[0](this.columnIndexes=this._indexes(this.columnAxis),this.rowIndexes=this._indexes(this.rowAxis),this._buildRows())this.rows.push(rt(tr,null,[rt(td,null,[ot(&nbsp;)])])),rt(tbody,null,this.rows)},_indexesfunction(e){var n,i,r,o,a,s=[],l=e.indexes,c=e.metadata,d=e.measures,u=d.length1,h=0,p=0,f=0,g=l.length;if(!g){for(r=0;ur;r++)s[r]={indexr,measured[r],tuplenull};return s}for(;gf;f++){if(n=l[f],i=c[n.path],o=i.children+i.members,a=0,o&&(o-=u),i.expanded===!1&&i.children!==i.maxChildren&&(a=i.maxChildren),i.parentMember&&0===i.levelNum&&(o=-1),o-1){for(r=0;ur;r++)s[o+p+r]={childreno,indexh,measured[r],tuplen.tuple},h+=1;for(;s[p]!==t;)p+=1}h+=a}return s},_buildRowsfunction(){for(var e=this.rowIndexes,t=e.length,n=0;tn;n++)this.rows.push(this._buildRow(e[n]))},_buildRowfunction(e){for(var t,n,i,r,o,a,s,l=e.indexthis.rowLength,c=this.columnIndexes,d=c.length,u=[],h=0;dh;h++)t=c[h],o={},t.children&&(o.className=k-alt),r=,a=this.data[l+t.index],s=t.measuree.measure,n={columnTuplet.tuple,rowTuplee.tuple,measures,dataItema},!==a.value&&s&&s.type&&(status===s.typer=this.kpiStatusTemplate(n)trend===s.type&&(r=this.kpiTrendTemplate(n))),r(r=this.dataTemplate(n)),i=rt(td,o,[ot(r)]),i.value=a.value,u.push(i);return o={},e.children&&(o.className=k-grid-footer),rt(tr,o,u)}}),gt.plugin(it),ft.PivotExcelExporter=ft.Class.extend({initfunction(e){this.options=e,this.widget=e.widget,this.dataSource=this.widget.dataSource},_columnsfunction(){var e,t=this.widget.columnsHeaderTree.children[0],n=this.widget.rowsHeaderTree.children[0],i=t.children[0].children.length,r=n.children[0].children.length,o=this.widget.options.columnWidth,a=[];if(r&&this.dataSource.data()[0])for(e=0;re;e++)a.push({autoWidth!0});for(e=0;ie;e++)a.push({autoWidth!1,widtho});return a},_cellsfunction(e,t,n){for(var i,r,o,a,s,l=[],c=0,d=e.length;dc;c++){for(r=[],o=e[c].children,i=o.length,a=0;ia;a++)s=o[a],r.push({background#7a7a7a,color#fff,values.value,colSpans.attr.colSpan1,rowSpans.attr.rowSpan1});n&&n(r,c),l.push({cellsr,typet})}return l},_rowsfunction(){var e,t,n=this.widget.columnsHeaderTree.children[0],i=this.widget.rowsHeaderTree.children[0],r=n.children[0].children.length,o=i.children[0].children.length,a=n.children[1].children,s=i.children[1].children,l=this.widget.contentTree.children[0].children[1].children,c=this._cells(a,header);return o&&c[0].cells.splice(0,0,{background#7a7a7a,color#fff,value,colSpano,rowSpana.length}),e=function(e,t){for(var n,i,o=0,a=l[t].children;ro;o++)n=a[o],i=+n.value,isNaN(i)&&(i=),e.push({background#dfdfdf,color#333,valuei,colSpan1,rowSpan1})},t=this._cells(s,data,e),c.concat(t)},_freezePanefunction(){var e=this.widget.columnsHeaderTree.children[0],t=this.widget.rowsHeaderTree.children[0],n=t.children[0].children.length,i=e.children[1].children;return{colSplitn,rowSpliti.length}},workbookfunction(){var t;return this.dataSource.view()[0](t=e.Deferred(),t.resolve())t=this.dataSource.fetch(),t.then(e.proxy(function(){return{sheets[{columnsthis._columns(),rowsthis._rows(),freezePanethis._freezePane(),filternull}]}},this))}}),pt={extendfunction(t){t.events.push(excelExport),t.options.excel=e.extend(t.options.excel,this.options),t.saveAsExcel=this.saveAsExcel},options{proxyURL,filterable!1,fileNameExport.xlsx},saveAsExcelfunction(){var t=this.options.excel{},n=new ft.PivotExcelExporter({widgetthis});n.workbook().then(e.proxy(function(e){if(!this.trigger(excelExport,{workbooke})){var n=new ft.ooxml.Workbook(e);ft.saveAs({dataURIn.toDataURL(),fileNamee.fileNamet.fileName,proxyURLt.proxyURL,forceProxyt.forceProxy})}},this))}},ft.PivotExcelMixin=pt,ft.ooxml&&ft.ooxml.Workbook&&pt.extend(it.prototype),ft.PDFMixin&&(ft.PDFMixin.extend(it.prototype),it.fn._drawPDF=function(){return this._drawPDFShadow()})}(window.kendo.jQuery),function(e,t){function n(e){return function(t){var n=t.children(.k-animation-container);return n.length(n=t),n.children(e)}}function i(e){return f.template(e,{useWithBlock!1})}function r(e){return e.find( div .k-checkbox [type=checkbox])}function o(e){return function(t,n){n=n.closest(G);var i,r=n.parent();return r.parent().is(li)&&(i=r.parent()),this._dataSourceMove(t,r,i,function(t,i){return this._insert(t.data(),i,n.index()+e)})}}function a(t,n){for(var i;t&&ul!=t.nodeName.toLowerCase();)i=t,t=t.nextSibling,3==i.nodeType&&(i.nodeValue=e.trim(i.nodeValue)),p.test(i.className)n.insertBefore(i,n.firstChild)n.appendChild(i)
}function s(t){var n=t.children(div),i=t.children(ul),r=n.children(.k-icon),o=t.children(checkbox),s=n.children(.k-in);t.hasClass(k-treeview)(n.length(n=e(div ).prependTo(t)),!r.length&&i.lengthr=e(span class='k-icon' ).prependTo(n)i.length&&i.children().length(r.remove(),i.remove()),o.length&&e(span class='k-checkbox' ).appendTo(n).append(o),s.length(s=t.children(a).eq(0).addClass(k-in),s.length(s=e(span class='k-in' )),s.appendTo(n),n.length&&a(n[0].nextSibling,s[0])))}function l(e){var t=this;t.treeview=e,t.hovered=e.element,t._draggable=new g.Draggable(e.element,{filterdivnot(.k-state-disabled) .k-in,hintfunction(t){return e.templates.dragClue({iteme.dataItem(t),treeviewe.options})},cursorOffset{left10,topf.support.mobileOS-40f.support.zoomLevel()10},dragstartk(t.dragstart,t),dragcancelk(t.dragcancel,t),dragk(t.drag,t),dragendk(t.dragend,t),$angulare.options.$angular})}var c,d,u,h,p,f=window.kendo,g=f.ui,m=f.data,v=e.extend,_=f.template,w=e.isArray,y=g.Widget,b=m.HierarchicalDataSource,k=e.proxy,x=f.keys,C=.kendoTreeView,S=select,T=check,D=navigate,A=expand,E=change,I=error,M=checked,P=indeterminate,z=collapse,F=dragstart,R=drag,B=drop,H=dragend,L=dataBound,N=click,O=visibility,V=undefined,U=k-state-hover,W=k-treeview,j=visible,G=.k-item,q=string,$=aria-selected,Y=aria-disabled,Q={textdataTextField,urldataUrlField,spriteCssClassdataSpriteCssClassField,imageUrldataImageUrlField},K=function(e){returnobject==typeof HTMLElemente instanceof HTMLElemente&&object==typeof e&&1===e.nodeType&&typeof e.nodeName===q};d=n(.k-group),u=n(.k-group,.k-content),h=function(e){return e.children(div).children(.k-icon)},p=k-sprite,c=f.ui.DataBoundWidget.extend({initfunction(e,t){var n,i,r=this,o=!1,a=t&&!!t.dataSource;w(t)&&(n=!0,t={dataSourcet}),t&&typeof t.loadOnDemand==V&&w(t.dataSource)&&(t.loadOnDemand=!1),y.prototype.init.call(r,e,t),e=r.element,t=r.options,i=e.is(ul)&&ee.hasClass(W)&&e.children(ul),o=!a&&i.length,o&&(t.dataSource.list=i),r._animation(),r._accessors(),r._templates(),e.hasClass(W)(r.wrapper=e,r.root=e.children(ul).eq(0))(r._wrapper(),i&&(r.root=e,r._group(r.wrapper))),r._tabindex(),r.root.attr(role,tree),r._dataSource(o),r._attachEvents(),r._dragging(),or._syncHtmlAndDataSource()t.autoBind&&(r._progress(!0),r.dataSource.fetch()),t.checkboxes&&t.checkboxes.checkChildren&&r.updateIndeterminate(),r.element[0].id&&(r._ariaId=f.format({0}_tv_active,r.element[0].id)),f.notify(r)},_attachEventsfunction(){var t=this,n=.k-innot(.k-state-selected,.k-state-disabled),i=mouseenter;t.wrapper.on(i+C,.k-in.k-state-selected,function(e){e.preventDefault()}).on(i+C,n,function(){e(this).addClass(U)}).on(mouseleave+C,n,function(){e(this).removeClass(U)}).on(N+C,n,k(t._click,t)).on(dblclick+C,.k-innot(.k-state-disabled),k(t._toggleButtonClick,t)).on(N+C,.k-plus,.k-minus,k(t._toggleButtonClick,t)).on(keydown+C,k(t._keydown,t)).on(focus+C,k(t._focus,t)).on(blur+C,k(t._blur,t)).on(mousedown+C,.k-in,.k-checkbox checkbox,.k-plus,.k-minus,k(t._mousedown,t)).on(change+C,.k-checkbox checkbox,k(t._checkboxChange,t)).on(click+C,.k-checkbox checkbox,k(t._checkboxClick,t)).on(click+C,.k-request-retry,k(t._retryRequest,t)).on(click+C,function(n){e(n.target).is(kendoFocusable)t.focus()})},_checkboxClickfunction(t){var n=e(t.target);n.data(P)&&(n.data(P,!1).prop(P,!1).prop(M,!0),this._checkboxChange(t))},_syncHtmlAndDataSourcefunction(e,t){var n,i,o,a,s,l,c,d;for(e=ethis.root,t=tthis.dataSource,n=t.view(),i=f.attr(uid),o=f.attr(expanded),a=this.options.checkboxes,s=e.children(li),l=0;s.lengthl;l++)d=n[l],c=s.eq(l),c.attr(role,treeitem).attr(i,d.uid),d.expanded=true===c.attr(o),a&&(d.checked=r(c).prop(M)),this._syncHtmlAndDataSource(c.children(ul),d.children)},_animationfunction(){var e=this.options,t=e.animation;t===!1t={expand{effects{}},collapse{hide!0,effects{}}}t.collapse&&effectsin t.collapse(t.collapse=v({reverse!0},t.expand)),v(t.collapse,{hide!0}),e.animation=t},_draggingfunction(){var e=this.options.dragAndDrop,t=this.dragging;e&&!tthis.dragging=new l(this)!e&&t&&(t.destroy(),this.dragging=null)},_templatesfunction(){var e=this,t=e.options,n=k(e._fieldAccessor,e);t.template&&typeof t.template==qt.template=_(t.template)t.template(t.template=i(# var text = +n(text)+(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ## text ## } #)),e._checkboxes(),e.templates={wrapperCssClassfunction(e,t){var n=k-item,i=t.index;return e.firstLevel&&0===i&&(n+= k-first),i==e.length-1&&(n+= k-last),n},cssClassfunction(e,t){var n=,i=t.index,r=e.length-1;return e.firstLevel&&0===i&&(n+=k-top ),n+=0===i&&i!=rk-topi==rk-botk-mid},textClassfunction(e){var t=k-in;return e.enabled===!1&&(t+= k-state-disabled),e.selected===!0&&(t+= k-state-selected),t},toggleButtonClassfunction(e){var t=k-icon;return t+=e.expanded!==!0 k-plus k-minus,e.enabled===!1&&(t+=-disabled),t},groupAttributesfunction(e){var t=;return e.firstLevel(t=role='group'),t+(e.expanded!==!0 style='displaynone')},groupCssClassfunction(e){var t=k-group;return e.firstLevel&&(t+= k-treeview-lines),t},dragCluei(div class='k-header k-drag-clue'span class='k-icon k-drag-status' #= data.treeview.template(data) #div),groupi(ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) ##= data.renderItems(data) #ul),itemContenti(# var imageUrl = +n(imageUrl)+(data.item); ## var spriteCssClass = +n(spriteCssClass)+(data.item); ## if (imageUrl) { #img class='k-image' alt='' src='#= imageUrl #'# } ## if (spriteCssClass) { #span class='k-sprite #= spriteCssClass #' # } ##= data.treeview.template(data) #),itemElementi(# var item = data.item, r = data.r; ## var url = +n(url)+(item); #div class='#= r.cssClass(data.group, item) #'# if (item.hasChildren) { #span class='#= r.toggleButtonClass(item) #' role='presentation' # } ## if (data.treeview.checkboxes) { #span class='k-checkbox' role='presentation'#= data.treeview.checkboxes.template(data) #span# } ## var tag = url  'a'  'span'; ## var textAttr = url  ' href='' + url + '''  ''; ##=tag#  class='#= r.textClass(item) #'#= textAttr ##= r.itemContent(data) ##=tag#div),itemi(# var item = data.item, r = data.r; #li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' +f.attr(uid)+='#= item.uid #' aria-selected='#= item.selected  true  false  #' #=item.enabled === false  aria-disabled='true'  ''## if (item.expanded) { #data-expanded='true' aria-expanded='true'# } ##= r.itemElement(data) #li),loadingi(div class='k-icon k-loading'  # data.messages.loading #),retryi(# data.messages.requestFailed # button class='k-button k-request-retry'# data.messages.retry #button)}},itemsfunction(){return this.element.find(.k-item  divfirst-child)},setDataSourcefunction(e){var t=this.options;t.dataSource=e,this._dataSource(),this.dataSource.fetch(),t.checkboxes&&t.checkboxes.checkChildren&&this.updateIndeterminate()},_bindDataSourcefunction(){this._refreshHandler=k(this.refresh,this),this._errorHandler=k(this._error,this),this.dataSource.bind(E,this._refreshHandler),this.dataSource.bind(I,this._errorHandler)},_unbindDataSourcefunction(){var e=this.dataSource;e&&(e.unbind(E,this._refreshHandler),e.unbind(I,this._errorHandler))},_dataSourcefunction(e){function t(e){for(var n=0;e.lengthn;n++)e[n]._initChildren(),e[n].children.fetch(),t(e[n].children.view())}var n=this,i=n.options,r=i.dataSource;r=w(r){datar}r,n._unbindDataSource(),r.fields(r.fields=[{fieldtext},{fieldurl},{fieldspriteCssClass},{fieldimageUrl}]),n.dataSource=r=b.create(r),e&&(r.fetch(),t(r.view())),n._bindDataSource()},events[F,R,B,H,L,A,z,S,E,D,T],options{nameTreeView,dataSource{},animation{expand{effectsexpandvertical,duration200},collapse{duration100}},messages{loadingLoading...,requestFailedRequest failed.,retryRetry},dragAndDrop!1,checkboxes!1,autoBind!0,loadOnDemand!0,template,dataTextFieldnull},_accessorsfunction(){var e,t,n,i=this,r=i.options,o=i.element;for(e in Q)t=r[Q[e]],n=o.attr(f.attr(e+-field)),!t&&n&&(t=n),t(t=e),w(t)(t=[t]),r[Q[e]]=t},_fieldAccessorfunction(t){var n=this.options[Q[t]],i=n.length,r=(function(item) {;return 0===ir+=return item['+t+'];(r+=var levels = [+e.map(n,function(e){returnfunction(d){ return +f.expr(e)+}}).join(,)+];,r+=return levels[Math.min(item.level(), +i+-1)](item)),r+=})},setOptionsfunction(e){y.fn.setOptions.call(this,e),this._animation(),this._dragging(),this._templates()},_triggerfunction(e,t){return this.trigger(e,{nodet.closest(G)[0]})},_setCheckedfunction(t,n){if(t&&e.isFunction(t.view))for(var i=0,r=t.view();r.lengthi;i++)r[i][M]=n,r[i].children&&this._setChecked(r[i].children,n)},_setIndeterminatefunction(e){var t,n,i,o=d(e),a=!0;if(o.length&&(t=r(o.children()),n=t.length)){if(n1){for(i=1;ni;i++)if(t[i].checked!=t[i-1].checkedt[i].indeterminatet[i-1].indeterminate){a=!1;break}}else a=!t[0].indeterminate;return r(e).data(P,!a).prop(P,!a).prop(M,a&&t[0].checked)}},updateIndeterminatefunction(e){var t,n,i;if(e=ethis.wrapper,t=d(e).children(),t.length){for(n=0;t.lengthn;n++)this.updateIndeterminate(t.eq(n));i=this._setIndeterminate(e),i&&i.prop(M)&&(this.dataItem(e).checked=!0)}},_bubbleIndeterminatefunction(e){if(e.length){var t,n=this.parent(e);n.length&&(this._setIndeterminate(n),t=n.children(div).find(.k-checkbox checkbox),t.prop(P)===!1this.dataItem(n).set(M,t.prop(M))this.dataItem(n).checked=!1,this._bubbleIndeterminate(n))}},_checkboxChangefunction(t){var n=e(t.target),i=n.prop(M),r=n.closest(G);this.dataItem(r).set(M,i),this._trigger(T,r)},_toggleButtonClickfunction(t){this.toggle(e(t.target).closest(G))},_mousedownfunction(t){var n=e(t.currentTarget).closest(G);this._clickTarget=n,this.current(n)},_focusablefunction(e){return e&&e.length&&e.is(visible)&&!e.find(.k-infirst).hasClass(k-state-disabled)},_focusfunction(){var t=this.select(),n=this._clickTarget;f.support.touch(n&&n.length&&(t=n),this._focusable(t)(t=this.current()),this._focusable(t)(t=this._nextVisible(e())),this.current(t))},focusfunction(){var e,t=this.wrapper,n=t[0],i=[],r=[],o=document.documentElement;do n=n.parentNode,n.scrollHeightn.clientHeight&&(i.push(n),r.push(n.scrollTop));while(n!=o);for(t.focus(),e=0;i.lengthe;e++)i[e].scrollTop=r[e]},_blurfunction(){this.current().find(.k-infirst).removeClass(k-state-focused)},_enabledfunction(e){return!e.children(div).children(.k-in).hasClass(k-state-disabled)},parentfunction(t){var n,i,r=bk-treeviewb,o=bk-itemb;typeof t==q&&(t=this.element.find(t)),K(t)(t=t[0]),i=o.test(t.className);do t=t.parentNode,o.test(t.className)&&(in=ti=!0);while(!r.test(t.className)&&!n);return e(n)},_nextVisiblefunction(e){function t(e){for(;e.length&&!e.next().length;)e=i.parent(e);return e.next().lengthe.next()e}var n,i=this,r=i._expanded(e);return e.length&&e.is(visible)r(n=d(e).children().first(),n.length(n=t(e)))n=t(e)n=i.root.children().eq(0),i._enabled(n)(n=i._nextVisible(n)),n},_previousVisiblefunction(e){var t,n,i=this;if(!e.lengthe.prev().length)for(n=e.lengthe.prev()i.root.children().last();i._expanded(n)&&(t=d(n).children().last(),t.length);)n=t;else n=i.parent(e)e;return i._enabled(n)(n=i._previousVisible(n)),n},_keydownfunction(n){var i,r=this,o=n.keyCode,a=r.current(),s=r._expanded(a),l=a.find(.k-checkboxfirst checkbox),c=f.support.isRtl(r.element);n.target==n.currentTarget&&(!c&&o==x.RIGHTc&&o==x.LEFTsi=r._nextVisible(a)r.expand(a)!c&&o==x.LEFTc&&o==x.RIGHTsr.collapse(a)(i=r.parent(a),r._enabled(i)(i=t))o==x.DOWNi=r._nextVisible(a)o==x.UPi=r._previousVisible(a)o==x.HOMEi=r._nextVisible(e())o==x.ENDi=r._previousVisible(e())o==x.ENTERa.find(.k-infirst).hasClass(k-state-selected)r._trigger(S,a)r.select(a)o==x.SPACEBAR&&l.length&&(l.prop(M,!l.prop(M)).data(P,!1).prop(P,!1),r._checkboxChange({targetl}),i=a),i&&(n.preventDefault(),a[0]!=i[0]&&(r._trigger(D,i),r.current(i))))},_clickfunction(t){var n,i=this,r=e(t.currentTarget),o=u(r.closest(G)),a=r.attr(href);n=a#==aa.indexOf(#+this.element.id+-)=0o.length&&!o.children().length,n&&t.preventDefault(),r.hasClass(.k-state-selected)i._trigger(S,r)i.select(r)},_wrapperfunction(){var e,t,n=this,i=n.element,r=k-widget k-treeview;i.is(ul)(e=i.wrap(div ).parent(),t=i)(e=i,t=e.children(ul).eq(0)),n.wrapper=e.addClass(r),n.root=t},_groupfunction(e){var t=this,n=e.hasClass(W),i={firstLeveln,expandednt._expanded(e)},r=e.children(ul);r.addClass(t.templates.groupCssClass(i)).css(display,i.expandednone),t._nodes(r,i)},_nodesfunction(t,n){var i,r=this,o=t.children(li);n=v({lengtho.length},n),o.each(function(t,o){o=e(o),i={indext,expandedr._expanded(o)},s(o),r._updateNodeClasses(o,n,i),r._group(o)})},_checkboxesfunction(){var e,t=this.options,n=t.checkboxes;n&&(e=input type='checkbox' #= (item.enabled === false)  'disabled'  '' # #= item.checked  'checked'  '' #,n.name&&(e+= name='+n.name+'),e+= ,n=v({templatee},t.checkboxes),typeof n.template==q&&(n.template=_(n.template)),t.checkboxes=n)},_updateNodeClassesfunction(e,t,n){var i=e.children(div),r=e.children(ul),o=this.templates;e.hasClass(k-treeview)(n=n{},n.expanded=typeof n.expanded!=Vn.expandedthis._expanded(e),n.index=typeof n.index!=Vn.indexe.index(),n.enabled=typeof n.enabled!=Vn.enabled!i.children(.k-in).hasClass(k-state-disabled),t=t{},t.firstLevel=typeof t.firstLevel!=Vt.firstLevele.parent().parent().hasClass(W),t.length=typeof t.length!=Vt.lengthe.parent().children().length,e.removeClass(k-first k-last).addClass(o.wrapperCssClass(t,n)),i.removeClass(k-top k-mid k-bot).addClass(o.cssClass(t,n)),i.children(.k-in).removeClass(k-in k-state-default k-state-disabled).addClass(o.textClass(n)),(r.lengthtrue==e.attr(data-hasChildren))&&(i.children(.k-icon).removeClass(k-plus k-minus k-plus-disabled k-minus-disabled).addClass(o.toggleButtonClass(n)),r.addClass(k-group)))},_processNodesfunction(t,n){var i=this;i.element.find(t).each(function(t,r){n.call(i,t,e(r).closest(G))})},dataItemfunction(t){var n=e(t).closest(G).attr(f.attr(uid)),i=this.dataSource;return i&&i.getByUid(n)},_insertNodefunction(t,n,i,r,o){var a,l,c,u,h=this,p=d(i),f=p.children().length+1,g={firstLeveli.hasClass(W),expanded!o,lengthf},m=,v=function(e,t){e.appendTo(t)};for(c=0;t.lengthc;c++)u=t[c],u.index=n+c,m+=h._renderItem({groupg,itemu});if(l=e(m),l.length){for(h.angular(compile,function(){return{elementsl.get(),datat.map(function(e){return{dataIteme}})}}),p.length(p=e(h._renderGroup({groupg})).appendTo(i)),r(l,p),i.hasClass(k-item)&&(s(i),h._updateNodeClasses(i)),h._updateNodeClasses(l.prev().first()),h._updateNodeClasses(l.next().last()),c=0;t.lengthc;c++)u=t[c],u.hasChildren&&(a=u.children.data(),a.length&&h._insertNode(a,u.index,l.eq(c),v,!h._expanded(l.eq(c))));return l}},_updateNodesfunction(t,n){function i(e,t){e.find(.k-checkbox checkbox).prop(M,t).data(P,!1).prop(P,!1)}var r,o,a,s,l,c,d,h=this,p={treeviewh.options,items};if(selected==n)s=t[0],o=h.findByUid(s.uid).find(.k-infirst).removeClass(k-state-hover).toggleClass(k-state-selected,s[n]).end(),s[n]&&h.current(o),o.attr($,!!s[n]);else{for(d=e.map(t,function(e){return h.findByUid(e.uid).children(div)}),h.angular(cleanup,function(){return{elementsd}}),r=0;t.lengthr;r++)p.item=s=t[r],a=d[r],o=a.parent(),expanded!=n&&checked!=n&&a.children(.k-in).html(h.templates.itemContent(p)),n==M(l=s[n],i(a,l),h.options.checkboxes.checkChildren&&(i(o.children(.k-group),l),h._setChecked(s.children,l),h._bubbleIndeterminate(o)))expanded==nh._toggle(o,s,s[n])enabled==n&&(o.find(.k-checkbox checkbox).prop(disabled,!s[n]),c=!u(o).is(j),o.removeAttr(Y),s[n](s.selected&&s.set(selected,!1),s.expanded&&s.set(expanded,!1),c=!0,o.attr($,!1).attr(Y,!0)),h._updateNodeClasses(o,{},{enableds[n],expanded!c})),a.length&&this.trigger(itemChange,{itema,datas,nsg});h.angular(compile,function(){return{elementsd,datae.map(t,function(e){return[{dataIteme}]})}})}},_appendItemsfunction(e,t,n){var i=d(n),r=i.children(),o=!this._expanded(n);typeof e==V&&(e=r.length),this._insertNode(t,e,n,function(t,n){e=r.lengtht.appendTo(n)t.insertBefore(r.eq(e))},o),this._expanded(n)&&(this._updateNodeClasses(n),d(n).css(display,block))},_refreshChildrenfunction(e,t,n){var i,r,o,a=this.options,l=a.loadOnDemand,c=a.checkboxes&&a.checkboxes.checkChildren;if(d(e).empty(),t.length)for(this._appendItems(n,t,e),r=d(e).children(),l&&c&&this._bubbleIndeterminate(r.last()),i=0;r.lengthi;i++)o=r.eq(i),this.trigger(itemChange,{itemo.children(div),datathis.dataItem(o),nsg});else s(e)},_refreshRootfunction(t){var n,i,r,o=this._renderGroup({itemst,group{firstLevel!0,expanded!0}});for(this.root.length(this._angularItems(cleanup),n=e(o),this.root.attr(class,n.attr(class)).html(n.html()))this.root=this.wrapper.html(o).children(ul),this.root.attr(role,tree),i=0;t.lengthi;i++)r=this.root.children(.k-item),this.trigger(itemChange,{itemr.eq(i),datat[i],nsg});this._angularItems(compile)},refreshfunction(e){var n,i,r=e.node,o=e.action,a=e.items,s=this.wrapper,l=this.options,c=l.loadOnDemand,d=l.checkboxes&&l.checkboxes.checkChildren;if(e.field){if(!a[0]!a[0].level)return;return this._updateNodes(a,e.field)}if(r&&(s=this.findByUid(r.uid),this._progress(s,!1)),d&&remove!=o){for(i=!1,n=0;a.lengthn;n++)if(checkedin a[n]){i=!0;break}if(!i&&r&&r.checked)for(n=0;a.lengthn;n++)a[n].checked=!0}if(add==othis._appendItems(e.index,a,s)remove==othis._remove(this.findByUid(a[0].uid),!1)itemchange==othis._updateNodes(a)itemloaded==othis._refreshChildren(s,a,e.index)this._refreshRoot(a),remove!=o)for(n=0;a.lengthn;n++)(!ca[n].expanded)&&a[n].load();this.trigger(L,{noderst})},_errorfunction(e){var t=e.node&&this.findByUid(e.node.uid),n=this.templates.retry({messagesthis.options.messages});t(this._progress(t,!1),this._expanded(t,!1),h(t).addClass(k-i-refresh),e.node.loaded(!1))(this._progress(!1),this.element.html(n))},_retryRequestfunction(e){e.preventDefault(),this.dataSource.fetch()},expandfunction(e){this._processNodes(e,function(e,t){this.toggle(t,!0)})},collapsefunction(e){this._processNodes(e,function(e,t){this.toggle(t,!1)})},enablefunction(e,t){t=2==arguments.length!!t!0,this._processNodes(e,function(e,n){this.dataItem(n).set(enabled,t)})},currentfunction(n){var i=this,r=i._current,o=i.element,a=i._ariaId;return arguments.length0&&n&&n.length(r&&(r[0].id===a&&r.removeAttr(id),r.find(.k-infirst).removeClass(k-state-focused)),r=i._current=e(n,o).closest(G),r.find(.k-infirst).addClass(k-state-focused),a=r[0].ida,a&&(i.wrapper.removeAttr(aria-activedescendant),r.attr(id,a),i.wrapper.attr(aria-activedescendant,a)),t)(r(r=i._nextVisible(e())),r)},selectfunction(n){var i=this,r=i.element;return arguments.length(n=e(n,r).closest(G),r.find(.k-state-selected).each(function(){var t=i.dataItem(this);t(t.set(selected,!1),delete t.selected)e(this).removeClass(k-state-selected)}),n.length&&i.dataItem(n).set(selected,!0),i.trigger(E),t)r.find(.k-state-selected).closest(G)},_togglefunction(e,t,n){var i,r,o=this.options,a=u(e),s=nexpandcollapse;a.data(animating)this._trigger(s,e)(this._expanded(e,n),i=t&&t.loaded(),r=!a.children().length,!ni&&!r(this._updateNodeClasses(e,{},{expandedn}),na.css(height,a.height()).css(height),a.kendoStop(!0,!0).kendoAnimate(v({reset!0},o.animation[s],{completefunction(){n&&a.css(height,)}})))(o.loadOnDemand&&this._progress(e,!0),a.remove(),t.load()))},togglefunction(t,n){t=e(t),h(t).is(.k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled)&&(1==arguments.length&&(n=!this._expanded(t)),this._expanded(t,n))},destroyfunction(){var e=this;y.fn.destroy.call(e),e.wrapper.off(C),e._unbindDataSource(),e.dragging&&e.dragging.destroy(),f.destroy(e.element),e.root=e.wrapper=e.element=null},_expandedfunction(e,n){var i=f.attr(expanded),r=this.dataItem(e);return 1==arguments.lengthtrue===e.attr(i)r&&r.expanded(u(e).data(animating)(r&&(r.set(expanded,n),n=r.expanded),n(e.attr(i,true),e.attr(aria-expanded,true))(e.removeAttr(i),e.attr(aria-expanded,false))),t)},_progressfunction(e,t){var n=this.element,i=this.templates.loading({messagesthis.options.messages});1==arguments.length(t=e,tn.html(i)n.empty())h(e).toggleClass(k-loading,t).removeClass(k-i-refresh)},textfunction(e,n){var i=this.dataItem(e),r=this.options[Q.text],o=i.level(),a=r.length,s=r[Math.min(o,a-1)];return n(i.set(s,n),t)i[s]},_objectOrSelffunction(t){return e(t).closest([data-role=treeview]).data(kendoTreeView)this},_dataSourceMovefunction(t,n,i,r){var o,a=this._objectOrSelf(in),s=a.dataSource,l=e.Deferred().resolve().promise();return i&&i[0]!=a.element[0]&&(o=a.dataItem(i),o.loaded()(a._progress(i,!0),l=o.load()),i!=this.root&&(s=o.children,s&&s instanceof b(o._initChildren(),o.loaded(!0),s=o.children))),t=this._toObservableData(t),r.call(this,s,t,l)},_toObservableDatafunction(t){var n,i,r=t;return(t instanceof window.jQueryK(t))&&(n=this._objectOrSelf(t).dataSource,i=e(t).attr(f.attr(uid)),r=n.getByUid(i),r&&(r=n.remove(r))),r},_insertfunction(e,t,n){t instanceof f.data.ObservableArrayt=t.toJSON()w(t)(t=[t]);var i=e.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),e.splice.apply(e,[n,0].concat(t)),this.findByUid(e[n].uid)},insertAftero(1),insertBeforeo(0),appendfunction(t,n,i){var r=this,o=r.root;return n&&(o=d(n)),r._dataSourceMove(t,o,n,function(t,o,a){function s(){n&&r._expanded(n,!0);var e=t.data(),i=Math.max(e.length,0);return r._insert(e,o,i)}var l;return a.then(function(){l=s(),(i=ie.noop)(l)}),lnull})},_removefunction(t,n){var i,r,o,a=this;return t=e(t,a.element),this.angular(cleanup,function(){return{elementst.get()}}),i=t.parent().parent(),r=t.prev(),o=t.next(),t[ndetachremove](),i.hasClass(k-item)&&(s(i),a._updateNodeClasses(i)),a._updateNodeClasses(r),a._updateNodeClasses(o),t},removefunction(e){var t=this.dataItem(e);t&&this.dataSource.remove(t)},detachfunction(e){return this._remove(e,!0)},findByTextfunction(t){return e(this.element).find(.k-in).filter(function(n,i){return e(i).text()==t}).closest(G)},findByUidfunction(t){var n,i,r=this.element.find(.k-item),o=f.attr(uid);for(i=0;r.lengthi;i++)if(r[i].getAttribute(o)==t){n=r[i];break}return e(n)},expandPathfunction(n,i){function r(e,t,n){e&&!e.loaded()e.set(expanded,!0)t.call(n)}var o,a,s;for(n=n.slice(0),o=this,a=this.dataSource,s=a.get(n[0]),i=ie.noop;n.length0&&s&&(s.expandeds.loaded());)s.set(expanded,!0),n.shift(),s=a.get(n[0]);return n.length(a.bind(change,function(e){var t,s=e.node&&e.node.id;s&&s===n[0]&&(n.shift(),n.length(t=a.get(n[0]),r(t,i,o))i.call(o))}),r(s,i,o),t)i.call(o)},_parentsfunction(e){for(var t=e&&e.parentNode(),n=[];t&&t.parentNode;)n.push(t),t=t.parentNode();return n},expandTofunction(e){var t,n;for(e instanceof f.data.Node(e=this.dataSource.get(e)),t=this._parents(e),n=0;t.lengthn;n++)t[n].set(expanded,!0)},_renderItemfunction(e){return e.group(e.group={}),e.treeview=this.options,e.r=this.templates,this.templates.item(e)},_renderGroupfunction(e){var t=this;return e.renderItems=function(e){var n=,i=0,r=e.items,o=rr.length0,a=e.group;for(a.length=o;oi;i++)e.group=a,e.item=r[i],e.item.index=i,n+=t._renderItem(e);return n},e.r=t.templates,t.templates.group(e)}}),l.prototype={_removeTouchHoverfunction(){var e=this;f.support.touch&&e.hovered&&(e.hovered.find(.+U).removeClass(U),e.hovered=!1)},_hintStatusfunction(n){var i=this._draggable.hint.find(.k-drag-status)[0];return n(i.className=k-icon k-drag-status +n,t)e.trim(i.className.replace(k-(icondrag-status)g,))},dragstartfunction(t){var n=this,i=n.treeview,r=n.sourceNode=t.currentTarget.closest(G);i.trigger(F,{sourceNoder[0]})&&t.preventDefault(),n.dropHint=e(div class='k-drop-hint' ).css(O,hidden).appendTo(i.element)},dragfunction(t){var n,i,r,o,a,s,l,c,d,u,h=this,p=h.treeview,g=h.sourceNode,m=h.dropTarget=e(f.eventTarget(t)),v=m.closest(.k-treeview);v.lengthe.contains(g[0],m[0])n=k-denied(n=k-insert-middle,i=m.closest(.k-top,.k-mid,.k-bot),i.length(o=i.outerHeight(),a=f.getOffset(i).top,s=m.closest(.k-in),l=o(s.length042),c=a+lt.y.location,d=t.y.locationa+o-l,h._removeTouchHover(),u=s.length&&!c&&!d,h.hovered=uv!1,h.dropHint.css(O,uhiddenvisible),s.toggleClass(U,u),un=k-add(r=i.position(),r.top+=c0o,h.dropHint.css(r)[cprependToappendTo](m.closest(G).children(divfirst)),c&&i.hasClass(k-top)&&(n=k-insert-top),d&&i.hasClass(k-bot)&&(n=k-insert-bottom)))m[0]!=h.dropHint[0]&&(n=v[0]!=p.element[0]k-addk-denied))(n=k-denied,h._removeTouchHover()),p.trigger(R,{sourceNodeg[0],dropTargetm[0],pageYt.y.location,pageXt.x.location,statusClassn.substring(2),setStatusClassfunction(e){n=e}}),0!==n.indexOf(k-insert)&&h.dropHint.css(O,hidden),h._hintStatus(n)},dragcancelfunction(){this.dropHint.remove()},dragendfunction(){function e(e){a.updateIndeterminate(),a.trigger(H,{sourceNodee&&e[0],destinationNoden[0],dropPositions})}var n,i,r,o=this,a=o.treeview,s=over,l=o.sourceNode,c=o.dropHint,d=o.dropTarget;returnvisible==c.css(O)(s=c.prevAll(.k-in).length0afterbefore,n=c.closest(G))d&&(n=d.closest(.k-treeview .k-item),n.length(n=d.closest(.k-treeview))),i={sourceNodel[0],destinationNoden[0],validk-denied!=o._hintStatus(),setValidfunction(e){this.valid=e},dropTargetd[0],dropPositions},r=a.trigger(B,i),c.remove(),o._removeTouchHover(),!i.validr(o._draggable.dropped=i.valid,t)(o._draggable.dropped=!0,over==sa.append(l,n,e)(before==sl=a.insertBefore(l,n)after==s&&(l=a.insertAfter(l,n)),e(l)),t)},destroyfunction(){this._draggable.destroy()}},g.plugin(c)}(window.kendo.jQuery),function(e,t){function n(e,t){var n,i,r=[];for(n=0,i=e.length;in;n++)e[n].field!==t&&r.push(e[n]);return r}function i(e,t,n){var i,r,o,a;if(!e)return[];for(e=e.filters,i=0,r=[],o=e.length;oi;i++)a=e[i].operator,(nin===a)&&a!==ne[i].field!==tr.push(e[i]);return r}function r(t,n,r){var o,a=0,s=r.length;if(t=i(t,n,in)[0])for(o=t.value.split(,);sa;a++)r[a].checked=e.inArray(r[a].uniqueName,o)=0;else for(;sa;a++)r[a].checked=!0}function o(e,t){var n,i=e.length;for(n=0;in;n++)e[n].checked&&0!==e[n].level()&&t.push(e[n].uniqueName),e[n].hasChildren&&o(e[n].children.view(),t)}var a=window.kendo,s=a.ui,l=kendoContextMenu,c=e.proxy,d=.kendoPivotFieldMenu,u=s.Widget,h=u.extend({initfunction(e,t){u.fn.init.call(this,e,t),this._dataSource(),this._layout(),a.notify(this)},events[],options{namePivotFieldMenu,filternull,filterable!0,sortable!0,messages{infoShow items with value that,sortAscendingSort Ascending,sortDescendingSort Descending,filterFieldsFields Filter,filterFilter,includeInclude Fields...,titleFields to include,clearClear,okOK,cancelCancel,operators{containsContains,doesnotcontainDoes not contain,startswithStarts with,endswithEnds with,eqIs equal to,neqIs not equal to}}},_layoutfunction(){var t=this.options;this.wrapper=e(a.template(f)({nsa.ns,filterablet.filterable,sortablet.sortable,messagest.messages})),this.menu=this.wrapper[l]({filtert.filter,targetthis.element,orientationvertical,showOnclick,closeOnClick!1,openc(this._menuOpen,this),selectc(this._select,this),copyAnchorStyles!1}).data(l),this._createWindow(),t.filterable&&this._initFilterForm()},_initFilterFormfunction(){var e=this.menu.element.find(.k-filter-item),t=c(this._filter,this);this._filterOperator=new a.ui.DropDownList(e.find(select)),this._filterValue=e.find(.k-textbox),e.on(submit+d,t).on(click+d,.k-button-filter,t).on(click+d,.k-button-clear,c(this._reset,this))},_setFilterFormfunction(e){var t=this._filterOperator,n=,i=;e&&(n=e.operator,i=e.value),t.value(n),t.value()t.select(0),this._filterValue.val(i)},_clearFiltersfunction(e){var t,n,r=this.dataSource.filter(){},o=0;for(r.filters=r.filters[],t=i(r,e),n=t.length;no;o++)r.filters.splice(r.filters.indexOf(t[o]),1);return r},_filterfunction(e){var n,i,r=this,o=r._filterValue.val();return e.preventDefault(),o(n={fieldr.currentMember,operatorr._filterOperator.value(),valueo},i=r._clearFilters(r.currentMember),i.filters.push(n),r.dataSource.filter(i),r.menu.close(),t)(r.menu.close(),t)},_resetfunction(e){var t=this,n=t._clearFilters(t.currentMember);e.preventDefault(),n.filters[0](n={}),t.dataSource.filter(n),t._setFilterForm(null),t.menu.close()},_sortfunction(e){var t=this.currentMember,i=this.dataSource.sort()[];i=n(i,t),i.push({fieldt,dire}),this.dataSource.sort(i),this.menu.close()},setDataSourcefunction(e){this.options.dataSource=e,this._dataSource()},_dataSourcefunction(){this.dataSource=a.data.PivotDataSource.create(this.options.dataSource)},_createWindowfunction(){var t=this.options.messages;this.includeWindow=e(a.template(g)({messagest})).on(click+d,.k-button-ok,c(this._applyIncludes,this)).on(click+d,.k-button-cancel,c(this._closeWindow,this)),this.includeWindow=new s.Window(this.includeWindow,{titlet.title,visible!1,resizable!1,openc(this._windowOpen,this)})},_applyIncludesfunction(e){var t,n=[],r=this.treeView.dataSource.view(),a=r[0].checked,s=this.dataSource.filter(),l=i(s,this.currentMember,in)[0];o(r,n),l&&(a(s.filters.splice(s.filters.indexOf(l),1),s.filters.length(s={}))l.value=n.join(,),t=s),n.length&&(ta(t={fieldthis.currentMember,operatorin,valuen.join(,)},s&&(s.filters.push(t),t=s))),t&&this.dataSource.filter(t),this._closeWindow(e)},_closeWindowfunction(e){e.preventDefault(),this.includeWindow.close()},_treeViewDataSourcefunction(){var e=this;return a.data.HierarchicalDataSource.create({schema{model{iduniqueName,hasChildrenfunction(e){return parseInt(e.childrenCardinality,10)0}}},transport{readfunction(t){var n={},i=e.treeView.dataSource.get(t.data.uniqueName),o=t.data.uniqueName;o(n.memberUniqueName=i.uniqueName.replace(&g,&amp;),n.treeOp=1)n.levelUniqueName=e.currentMember+.[(ALL)],e.dataSource.schemaMembers(n).done(function(n){r(e.dataSource.filter(),e.currentMember,n),t.success(n)}).fail(t.error)}}})},_createTreeViewfunction(e){var t=this;t.treeView=new s.TreeView(e,{autoBind!1,dataSourcet._treeViewDataSource(),dataTextFieldcaption,template# data.item.caption  data.item.name #,checkboxes{checkChildren!0},dataBoundfunction(){s.progress(t.includeWindow.element,!1)}})},_menuOpenfunction(t){var n;t.event&&(n=a.attr(name),this.currentMember=e(t.event.target).closest([+n+]).attr(n),this.options.filterable&&this._setFilterForm(i(this.dataSource.filter(),this.currentMember)[0]))},_selectfunction(t){var n=e(t.item);e(.k-pivot-filter-window).not(this.includeWindow.element).kendoWindow(close),n.hasClass(k-include-item)this.includeWindow.center().open()n.hasClass(k-sort-asc)this._sort(asc)n.hasClass(k-sort-desc)&&this._sort(desc)},_windowOpenfunction(){this.treeViewthis._createTreeView(this.includeWindow.element.find(.k-treeview)),s.progress(this.includeWindow.element,!0),this.treeView.dataSource.read()},destroyfunction(){u.fn.destroy.call(this),this.menu&&(this.menu.destroy(),this.menu=null),this.treeView&&(this.treeView.destroy(),this.treeView=null),this.includeWindow&&(this.includeWindow.destroy(),this.includeWindow=null),this.wrapper=null,this.element=null
}}),p='div class=k-filterable k-content tabindex=-1 data-role=fieldmenuform class=k-filter-menudivdiv class=k-filter-help-text#=messages.info#divselect#for(var op in messages.operators){#option value=#=op##=messages.operators[op]#option#}#selectinput class=k-textbox type=text diva class=k-button k-primary k-button-filter href=##=messages.filter#aa class=k-button k-button-clear href=##=messages.clear#adivdivformdiv',f='ul class=k-pivot-fieldmenu# if (sortable) {#li class=k-item k-sort-ascspan class=k-linkspan class=k-icon k-i-sort-ascspan${messages.sortAscending}spanlili class=k-item k-sort-descspan class=k-linkspan class=k-icon k-i-sort-descspan${messages.sortDescending}spanli# if (filterable) {#li class=k-separatorli# } ## } ## if (filterable) {#li class=k-item k-include-itemspan class=k-linkspan class=k-icon k-filterspan${messages.include}spanlili class=k-separatorlili class=k-item k-filter-itemspan class=k-linkspan class=k-icon k-filterspan${messages.filterFields}spanulli'+p+liulli# } #ul,g='div class=k-popup-edit-form k-pivot-filter-windowdiv class=k-edit-form-containerdiv class=k-treeviewdivdiv class=k-edit-buttons k-state-defaulta class=k-button k-primary k-button-ok href=#${messages.ok}aa class=k-button k-button-cancel href=#${messages.cancel}adivdiv';s.plugin(h)}(window.kendo.jQuery),function(e,t){function n(t,i){var r,o,a=[];if(e.isPlainObject(t))if(t.hasOwnProperty(filters))a=t.filters;else if(t.field==i)return t;for(e.isArray(t)&&(a=t),r=0;a.lengthr;r++)if(o=n(a[r],i))return o}function i(t,n){t.filters&&(t.filters=e.grep(t.filters,function(e){return i(e,n),e.filterse.filters.lengthe.field!=n}))}function r(e,t){var n=o.getter(t,!0);return function(t){for(var i,r,o=e(t),a=[],s=0,l={};o.lengths;)i=o[s++],r=n(i),l.hasOwnProperty(r)(a.push(i),l[r]=!0);return a}}var o=window.kendo,a=o.ui,s=o.data.DataSource,l=a.Widget,c=change,d=boolean,u=enums,h=string,p=Is equal to,f=Is not equal to,g=e.proxy,m=l.extend({initfunction(n,i){var r,a,s,p,f,m,v,_,w,y,b,k;if(n=e(n).addClass(k-filtercell),r=this.wrapper=e(span).appendTo(n),a=this,f=i,_=a.operators=i.operators{},w=a.input=e(input).attr(o.attr(bind),value value).appendTo(r),l.fn.init.call(a,n[0],i),i=a.options,s=a.dataSource=i.dataSource,a.model=s.reader.model,v=i.type=h,y=o.getter(reader.model.fields,!0)(s){},b=y[i.field],b&&b.type&&(v=i.type=b.type),i.values&&(i.type=v=u),_=_[v]i.operators[v],!f.operator)for(m in _){i.operator=m;break}a._parse=function(e){return e+},a.model&&a.model.fields&&(k=a.model.fields[i.field],k&&k.parse&&(a._parse=g(k.parse,k))),a.viewModel=p=o.observable({operatori.operator,valuenull,operatorVisiblefunction(){var e=this.get(value);return null!==e&&e!==t&&undefined!=e}}),p.bind(c,g(a.updateDsFilter,a)),v==h&&a.initSuggestDataSource(i),null!==i.inputWidth&&w.width(i.inputWidth),a._setInputType(i,v),v!=d&&i.showOperators!==!1a._createOperatorDropDown(_)r.addClass(k-operator-hidden),a._createClearIcon(),o.bind(this.wrapper,p),v==h&&(i.templatea.setAutoCompleteSource()),v==u&&a.setComboBoxSource(a.options.values),a._refreshUI(),a._refreshHandler=g(a._refreshUI,a),a.dataSource.bind(c,a._refreshHandler)},_setInputTypefunction(t,n){var i,r,a,s,l,c=this,p=c.input;function==typeof t.templatet.template.call(c.viewModel,{elementc.input,dataSourcec.suggestDataSource})n==hp.attr(o.attr(role),autocomplete).attr(o.attr(text-field),t.dataTextFieldt.field).attr(o.attr(filter),t.suggestionOperator).attr(o.attr(delay),t.delay).attr(o.attr(min-length),t.minLength).attr(o.attr(value-primitive),!0)date==np.attr(o.attr(role),datepicker)n==d(p.remove(),i=e(input type='radio'),r=c.wrapper,a=o.guid(),s=e(label).text(t.messages.isTrue).append(i),i.attr(o.attr(bind),checkedvalue).attr(name,a).val(true),l=s.clone().text(t.messages.isFalse),i.clone().val(false).appendTo(l),r.append([s,l]))number==np.attr(o.attr(role),numerictextbox)n==u&&p.attr(o.attr(role),combobox).attr(o.attr(text-field),text).attr(o.attr(suggest),!0).attr(o.attr(filter),contains).attr(o.attr(value-field),value).attr(o.attr(value-primitive),!0)},_createOperatorDropDownfunction(t){var n,i,r=[];for(n in t)r.push({textt[n],valuen});i=e('input class=k-dropdown-operator '+o.attr(bind)+'=value operator').appendTo(this.wrapper),this.operatorDropDown=i.kendoDropDownList({dataSourcer,dataTextFieldtext,dataValueFieldvalue,openfunction(){this.popup.element.width(150)},valuePrimitive!0}).data(kendoDropDownList),this.operatorDropDown.wrapper.find(.k-i-arrow-s).removeClass(k-i-arrow-s).addClass(k-filter)},initSuggestDataSourcefunction(e){var n=e.suggestDataSource;n instanceof s(!e.customDataSource&&n&&(n.group=t),n=this.suggestDataSource=s.create(n)),e.customDataSource(n._pageSize=t,n.reader.data=r(n.reader.data,this.options.field)),this.suggestDataSource=n},setAutoCompleteSourcefunction(){var e=this.input.data(kendoAutoComplete);e&&e.setDataSource(this.suggestDataSource)},setComboBoxSourcefunction(e){var t=s.create({datae}),n=this.input.data(kendoComboBox);n&&n.setDataSource(t)},_refreshUIfunction(){var t=this,i=n(t.dataSource.filter(),this.options.field){},r=t.viewModel;t.manuallyUpdatingVM=!0,i=e.extend(!0,{},i),t.options.type==d&&r.value!==i.value&&t.wrapper.find(radio).prop(checked,!1),i.operator&&r.set(operator,i.operator),r.set(value,i.value),t.manuallyUpdatingVM=!1},updateDsFilterfunction(n){var i,r,o,a=this,s=a.viewModel;a.manuallyUpdatingVMoperator==n.field&&s.value===t(i=e.extend({},a.viewModel.toJSON(),{fielda.options.field}),r={logicand,filters[]},i.value!==t&&null!==i.value&&r.filters.push(i),o=a._merge(r),a.dataSource.filter(o.filters.lengtho{}))},_mergefunction(t){var n,r,o,a=this,s=t.logicand,l=t.filters,c=a.dataSource.filter(){filters[],logicand};for(i(c,a.options.field),r=0,o=l.length;or;r++)n=l[r],n.value=a._parse(n.value);return l=e.grep(l,function(e){return!==e.value&&null!==e.value}),l.length&&(c.filters.length(t.filters=l,and!==c.logic&&(c.filters=[{logicc.logic,filtersc.filters}],c.logic=and),c.filters.push(l.length1tl[0]))(c.filters=l,c.logic=s)),c},_createClearIconfunction(){var t=this;e(button type='button' class='k-button k-button-icon').attr(o.attr(bind),visibleoperatorVisible).html(span class='k-icon k-i-close').click(g(t.clearFilter,t)).appendTo(t.wrapper)},clearFilterfunction(){this.viewModel.set(value,null)},destroyfunction(){var e=this;e.filterModel=null,l.fn.destroy.call(e),o.destroy(e.element)},events[c],options{nameFilterCell,delay200,minLength1,inputWidthnull,valuest,customDataSource!1,field,dataTextField,typestring,suggestDataSourcenull,suggestionOperatorstartswith,operatoreq,showOperators!0,templatenull,messages{isTrueis true,isFalseis false,filterFilter,clearClear,operatorOperator},operators{string{eqp,neqf,startswithStarts with,containsContains,doesnotcontainDoes not contain,endswithEnds with},number{eqp,neqf,gteIs greater than or equal to,gtIs greater than,lteIs less than or equal to,ltIs less than},date{eqp,neqf,gteIs after or equal to,gtIs after,lteIs before or equal to,ltIs before},enums{eqp,neqf}}}});a.plugin(m)}(window.kendo.jQuery),function(e,t){function n(t){t=e(t),t.children(v).children(.k-icon).remove(),t.filter(has(.k-panel),has(.k-content)).children(.k-linknot(has([class=k-i-arrow]))).each(function(){var t=e(this),n=t.parent();t.append(span class='k-icon +(n.hasClass(P)k-i-arrow-n k-panelbar-collapsek-i-arrow-s k-panelbar-expand)+')})}function i(t){t=e(t),t.filter(.k-firstnot(first-child)).removeClass(x),t.filter(.k-lastnot(last-child)).removeClass(g),t.filter(first-child).addClass(x),t.filter(last-child).addClass(g)}var r=window.kendo,o=r.ui,a=r.keys,s=e.extend,l=e.each,c=r.template,d=o.Widget,u=^(uladiv)$i,h=.kendoPanelBar,p=img,f=href,g=k-last,m=k-link,v=.+m,_=error,w=.k-item,y=.k-group,b=y+visible,k=k-image,x=k-first,C=expand,S=select,T=k-content,D=activate,A=collapse,E=mouseenter,I=mouseleave,M=contentLoad,P=k-state-active,z= .k-panel,F= .k-content,R=k-state-focused,B=k-state-disabled,H=k-state-selected,L=.+H,N=k-state-highlight,O=w+not(.k-state-disabled),V= +O+  +v+, .k-panel  +O+  +v,U=w+.k-state-disabled  .k-link,W= li  +L+, .k-panel  li  +L,j=k-state-default,G=aria-disabled,q=aria-expanded,$=aria-hidden,Y=aria-selected,Q=visible,K=empty,X=single,Z={contentc(div role='region' class='k-content'#= contentAttributes(data) ##= content(item) #div),groupc(ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) ##= renderItems(data) #ul),itemWrapperc(#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) ##= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) ##= tag(item) #),itemc(li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items item.items, panelBar panelBar, group { expanded item.expanded } }) ## } else if (item.content  item.contentUrl) { ##= renderContent(data) ## } #li),imagec(img class='k-image' alt='' src='#= imageUrl #' ),arrowc(span class='#= arrowClass(item) #'span),spritec(span class='k-sprite #= spriteCssClass #'span),emptyc()},J={ariafunction(e){var t=;return(e.itemse.contente.contentUrl)&&(t+=q+='+(e.expandedtruefalse)+' ),e.enabled===!1&&(t+=G+='true'),t},wrapperCssClassfunction(e,t){var n=k-item,i=t.index;return n+=t.enabled===!1 +Bt.expanded===!0 +P k-state-default,0===i&&(n+= k-first),i==e.length-1&&(n+= k-last),t.cssClass&&(n+= +t.cssClass),n},textClassfunction(e,t){var n=m;return t.firstLevel&&(n+= k-header),n},textAttributesfunction(e){return e.url href='+e.url+'},arrowClassfunction(e){var t=k-icon;return t+=e.expanded k-i-arrow-n k-panelbar-collapse k-i-arrow-s k-panelbar-expand},textfunction(e){return e.encoded===!1e.textr.htmlEncode(e.text)},tagfunction(e){return e.urle.contentUrlaspan},groupAttributesfunction(e){return e.expanded!==!0 style='displaynone'},groupCssClassfunction(){returnk-group k-panel},contentAttributesfunction(e){return e.item.expanded!==!0 style='displaynone'},contentfunction(e){return e.contente.contente.contentUrl&nbsp;},contentUrlfunction(e){return e.contentUrl'href='+e.contentUrl+''}},et=d.extend({initfunction(t,n){var i,o=this;d.fn.init.call(o,t,n),t=o.wrapper=o.element.addClass(k-widget k-reset k-header k-panelbar),n=o.options,t[0].id&&(o._itemId=t[0].id+_pb_active),o._tabindex(),o._initData(n),o._updateClasses(),o._animations(n),t.on(click+h,V,function(t){o._click(e(t.currentTarget))&&t.preventDefault()}).on(E+h+ +I+h,V,o._toggleHover).on(click+h,U,!1).on(keydown+h,e.proxy(o._keydown,o)).on(focus+h,function(){var e=o.select();o._current(e[0]eo._first())}).on(blur+h,function(){o._current(null)}).attr(role,menu),i=t.find(li.+P+  .+T),i[0]&&o.expand(i.parent(),!1),r.notify(o)},events[C,A,S,D,_,M],options{namePanelBar,animation{expand{effectsexpandvertical,duration200},collapse{duration200}},expandModemultiple},destroyfunction(){d.fn.destroy.call(this),this.element.off(h),r.destroy(this.element)},_initDatafunction(e){var t=this;e.dataSource&&(t.element.empty(),t.append(e.dataSource,t.element))},setOptionsfunction(e){var t=this.options.animation;this._animations(e),e.animation=s(!0,t,e.animation),dataSourcein e&&this._initData(e),d.fn.setOptions.call(this,e)},expandfunction(t,n){var i=this,r={};return n=n!==!1,t=this.element.find(t),t.each(function(o,a){a=e(a);var s=a.find(z).add(a.find(F));if(!a.hasClass(B)&&s.length0){if(i.options.expandMode==X&&i._collapseAllExpanded(a))return i;t.find(.+N).removeClass(N),a.addClass(N),n(r=i.options.animation,i.options.animation={expand{effects{}},collapse{hide!0,effects{}}}),i._triggerEvent(C,a)i._toggleItem(a,!1),n(i.options.animation=r)}}),i},collapsefunction(t,n){var i=this,r={};return n=n!==!1,t=i.element.find(t),t.each(function(t,o){o=e(o);var a=o.find(z).add(o.find(F));!o.hasClass(B)&&a.is(Q)&&(o.removeClass(N),n(r=i.options.animation,i.options.animation={expand{effects{}},collapse{hide!0,effects{}}}),i._triggerEvent(A,o)i._toggleItem(o,!0),n(i.options.animation=r))}),i},_toggleDisabledfunction(e,t){e=this.element.find(e),e.toggleClass(j,t).toggleClass(B,!t).attr(G,!t)},selectfunction(n){var i=this;return n===ti.element.find(W).parent()(n=i.element.find(n),n.lengthn.each(function(){var n=e(this),r=n.children(v);return n.hasClass(B)i(i._triggerEvent(S,n)i._updateSelected(r),t)})this._updateSelected(n),i)},clearSelectionfunction(){this.select(e())},enablefunction(e,t){return this._toggleDisabled(e,t!==!1),this},disablefunction(e){return this._toggleDisabled(e,!1),this},appendfunction(e,t){t=this.element.find(t);var r=this._insert(e,t,t.lengtht.find(z)null);return l(r.items,function(){r.group.append(this),i(this)}),n(t),i(r.group.find(.k-first, .k-last)),r.group.height(auto),this},insertBeforefunction(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return l(n.items,function(){t.before(this),i(this)}),i(t),n.group.height(auto),this},insertAfterfunction(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return l(n.items,function(){t.after(this),i(this)}),i(t),n.group.height(auto),this},removefunction(e){e=this.element.find(e);var t=this,r=e.parentsUntil(t.element,w),o=e.parent(ul);return e.remove(),!oo.hasClass(k-panelbar)o.children(w).lengtho.remove(),r.length&&(r=r.eq(0),n(r),i(r)),t},reloadfunction(t){var n=this;t=n.element.find(t),t.each(function(){var t=e(this);n._ajaxRequest(t,t.children(.+T),!t.is(Q))})},_firstfunction(){return this.element.children(O).first()},_lastfunction(){var e=this.element.children(O).last(),t=e.children(b);return t[0]t.children(O).last()e},_currentfunction(n){var i=this,r=i._focused,o=i._itemId;return n===tr(i.element.removeAttr(aria-activedescendant),r&&(r[0].id===o&&r.removeAttr(id),r.children(v).removeClass(R)),e(n).length&&(o=n[0].ido,n.attr(id,o).children(v).addClass(R),i.element.attr(aria-activedescendant,o)),i._focused=n,t)},_keydownfunction(e){var t=this,n=e.keyCode,i=t._current();e.target==e.currentTarget&&(n==a.DOWNn==a.RIGHT(t._current(t._nextItem(i)),e.preventDefault())n==a.UPn==a.LEFT(t._current(t._prevItem(i)),e.preventDefault())n==a.ENTERn==a.SPACEBAR(t._click(i.children(v)),e.preventDefault())n==a.HOME(t._current(t._first()),e.preventDefault())n==a.END&&(t._current(t._last()),e.preventDefault()))},_nextItemfunction(e){if(!e)return this._first();var t=e.children(b),n=e.nextAll(visible).first();return t[0]&&(n=t.children(.+x)),n[0](n=e.parent(b).parent(w).next()),n[0](n=this._first()),n.hasClass(B)&&(n=this._nextItem(n)),n},_prevItemfunction(e){if(!e)return this._last();var t,n=e.prevAll(visible).first();if(n[0])for(t=n;t[0];)t=t.children(b).children(.+g),t[0]&&(n=t);else n=e.parent(b).parent(w),n[0](n=this._last());return n.hasClass(B)&&(n=this._prevItem(n)),n},_insertfunction(t,n,i){var o,a,l=this,c=e.isPlainObject(t),d=n&&n[0];return d(i=l.element),a={firstLeveli.hasClass(k-panelbar),expandedi.parent().hasClass(P),lengthi.children().length},d&&!i.length&&(i=e(et.renderGroup({groupa})).appendTo(n)),t instanceof r.Observable&&(t=t.toJSON()),ce.isArray(t)(o=e.map(c[t]t,function(t,n){return e(string==typeof ttet.renderItem({groupa,items(t,{indexn})}))}),d&&n.attr(q,!1))(o=string==typeof t&&!=t.charAt(0)l.element.find(t)e(t),l._updateItemsClasses(o)),{itemso,groupi}},_toggleHoverfunction(t){var n=e(t.currentTarget);n.parents(li.+B).lengthn.toggleClass(k-state-hover,t.type==E)},_updateClassesfunction(){var t,r,o=this;t=o.element.find(li  ul).not(function(){return e(this).parentsUntil(.k-panelbar,div).length}).addClass(k-group k-panel).attr(role,group),t.parent().attr(q,!1).not(.+P).children(ul).attr($,!0).hide(),r=o.element.add(t).children(),o._updateItemsClasses(r),n(r),i(r)},_updateItemsClassesfunction(e){for(var t=e.length,n=0;tn;n++)this._updateItemClasses(e[n],n)},_updateItemClassesfunction(t,n){var i,o,a=this._selected,s=this.options.contentUrls,l=s&&s[n],c=this.element[0];t=e(t).addClass(k-item).attr(role,menuitem),r.support.browser.msie&&t.css(list-style-position,inside).css(list-style-position,),t.children(p).addClass(k),o=t.children(a).addClass(m),o[0]&&(o.attr(href,l),o.children(p).addClass(k)),t.filter(not([disabled])not([class=k-state])).addClass(k-state-default),t.filter(li[disabled]).addClass(k-state-disabled).attr(G,!0).removeAttr(disabled),t.children(div).addClass(T).attr(role,region).attr($,!0).hide().parent().attr(q,!1),o=t.children(L),o[0]&&(a&&a.removeAttr(Y).children(L).removeClass(H),o.addClass(H),this._selected=t.attr(Y,!0)),t.children(v)[0](i=span class='+m+',s&&s[n]&&t[0].parentNode==c&&(i='a class=k-link k-header href='+s[n]+''),t.contents().filter(function(){return!(this.nodeName.match(u)3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll(i)),t.parent(.k-panelbar)[0]&&t.children(v).addClass(k-header)},_clickfunction(e){var t,n,i,r,o,a,s,l=this,c=l.element;if(!e.parents(li.+B).length&&e.closest(.k-widget)[0]==c[0]){if(o=e.closest(v),a=o.closest(w),l._updateSelected(o),n=a.find(z).add(a.find(F)),i=o.attr(f),r=i&&(#==i.charAt(i.length-1)-1!=i.indexOf(#+l.element[0].id+-)),t=!(!r&&!n.length),n.data(animating))return t;if(l._triggerEvent(S,a)&&(t=!0),t!==!1)return l.options.expandMode==X&&l._collapseAllExpanded(a)t(n.length&&(s=n.is(Q),l._triggerEvent(sAC,a)(t=l._toggleItem(a,s))),t)}},_toggleItemfunction(e,n){var i,r,o=this,a=e.find(z),s=e.find(v),l=s.attr(f);return a.length(this._toggleGroup(a,n),i=!0)(r=e.children(.+T),r.length&&(i=!0,r.is(K)&&l!==to._ajaxRequest(e,r,n)o._toggleGroup(r,n))),i},_toggleGroupfunction(e,t){var n=this,i=n.options.animation,r=i.expand,o=s({},i.collapse),a=o&&effectsin o;e.is(Q)==t&&(e.parent().attr(q,!t).attr($,t).toggleClass(P,!t).find( .k-link  .k-icon).toggleClass(k-i-arrow-n,!t).toggleClass(k-panelbar-collapse,!t).toggleClass(k-i-arrow-s,t).toggleClass(k-panelbar-expand,t),r=ts(aos({reverse!0},r),{hide!0})s({completefunction(e){n._triggerEvent(D,e.closest(w))}},r),e.kendoStop(!0,!0).kendoAnimate(r))},_collapseAllExpandedfunction(t){var n,i=this,r=!1,o=t.find(z).add(t.find(F));return o.is(Q)&&(r=!0),o.is(Q)0===o.length(n=t.siblings(),n.find(z).add(n.find(F)).filter(function(){return e(this).is(Q)}).each(function(t,n){n=e(n),r=i._triggerEvent(A,n.closest(w)),ri._toggleGroup(n,!0)})),r},_ajaxRequestfunction(t,n,i){var r=this,o=t.find(.k-panelbar-collapse, .k-panelbar-expand),a=t.find(v),s=setTimeout(function(){o.addClass(k-loading)},100),l={},c=a.attr(f);e.ajax({typeGET,cache!1,urlc,dataTypehtml,datal,errorfunction(e,t){o.removeClass(k-loading),r.trigger(_,{xhre,statust})&&this.complete()},completefunction(){clearTimeout(s),o.removeClass(k-loading)},successfunction(e){function o(){return{elementsn.get()}}try{r.angular(cleanup,o),n.html(e),r.angular(compile,o)}catch(a){var s=window.console;s&&s.error&&s.error(a.name+ +a.message+ in +c),this.error(this.xhr,error)}r._toggleGroup(n,i),r.trigger(M,{itemt[0],contentElementn[0]})}})},_triggerEventfunction(e,t){var n=this;return n.trigger(e,{itemt[0]})},_updateSelectedfunction(e){var t=this,n=t.element,i=e.parent(w),r=t._selected;r&&r.removeAttr(Y),t._selected=i.attr(Y,!0),n.find(W).removeClass(H),n.find( .+N+, .k-panel  .+N).removeClass(N),e.addClass(H),e.parentsUntil(n,w).filter(has(.k-header)).addClass(N),t._current(i[0]inull)},_animationsfunction(e){e&&animationin e&&!e.animation&&(e.animation={expand{effects{}},collapse{hide!0,effects{}}})}});s(et,{renderItemfunction(e){e=s({panelBar{},group{}},e);var t=Z.empty,n=e.item;return Z.item(s(e,{imagen.imageUrlZ.imaget,spriten.spriteCssClassZ.spritet,itemWrapperZ.itemWrapper,renderContentet.renderContent,arrown.itemsn.contentn.contentUrlZ.arrowt,subGroupet.renderGroup},J))},renderGroupfunction(e){return Z.group(s({renderItemsfunction(e){for(var t=,n=0,i=e.items,r=ii.length0,o=s({lengthr},e.group);rn;n++)t+=et.renderItem(s(e,{groupo,items({indexn},i[n])}));return t}},e,J))},renderContentfunction(e){return Z.content(s(e,J))}}),r.ui.plugin(et)}(window.kendo.jQuery),function(e){var t=e.proxy,n=.kendoResponsivePanel,i=open,r=close,o=click+n+ touchstart+n,a=kendo.ui.Widget,s=a.extend({initfunction(i,r){a.fn.init.call(this,i,r),this._toggleHandler=t(this._toggleButtonClick,this),this._closeHandler=t(this._close,this),e(document.documentElement).on(o,this.options.toggleButton,this._toggleHandler),this._registerBreakpoint(),this.element.addClass(k-rpanel k-rpanel-+this.options.orientation),this._resizeHandler=t(this.resize,this,!1),e(window).on(resize+n,this._resizeHandler)},_mediaQuery@media (max-width #= breakpoint-1 #px) {.k-rpanel-animate.k-rpanel-left,.k-rpanel-animate.k-rpanel-right {-webkit-transition -webkit-transform .2s ease-out;-ms-transition -ms-transform .2s ease-out;transition transform .2s ease-out;} .k-rpanel-animate.k-rpanel-top {-webkit-transition max-height .2s linear;-ms-transition max-height .2s linear;transition max-height .2s linear;}} @media (min-width #= breakpoint #px) {#= toggleButton # { display none; } .k-rpanel-left { float left; } .k-rpanel-right { float right; } .k-rpanel-left, .k-rpanel-right {position relative;-webkit-transform translateX(0) translateZ(0);-ms-transform translateX(0) translateZ(0);transform translateX(0) translateZ(0);} .k-rpanel-top { max-height none; }},_registerBreakpointfunction(){var e=this.options;this._registerStyle(kendo.template(this._mediaQuery)({breakpointe.breakpoint,toggleButtone.toggleButton}))},_registerStylefunction(t){var n=e(head,body)[0],i=document.createElement(style);n.appendChild(i),i.styleSheeti.styleSheet.cssText=ti.appendChild(document.createTextNode(t))},options{nameResponsivePanel,orientationleft,toggleButton.k-rpanel-toggle,breakpoint640,autoClose!0},events[i,r],_resizefunction(){this.element.removeClass(k-rpanel-animate)},_toggleButtonClickfunction(e){e.preventDefault(),this.element.hasClass(k-rpanel-expanded)this.close()this.open()},openfunction(){this.trigger(i)(this.element.addClass(k-rpanel-animate k-rpanel-expanded),this.options.autoClose&&e(document.documentElement).on(o,this._closeHandler))},closefunction(){this.trigger(r)(this.element.addClass(k-rpanel-animate).removeClass(k-rpanel-expanded),e(document.documentElement).off(o,this._closeHandler))},_closefunction(t){var n=t.isDefaultPrevented(),i=e(t.target).closest(this.options.toggleButton+,.k-rpanel);i.lengthnthis.close()},destroyfunction(){a.fn.destroy.call(this),e(window).off(resize+n,this._resizeHandler),e(document.documentElement).off(o,this._closeHandler)}});kendo.ui.plugin(s)}(window.kendo.jQuery),function(e,t){function n(t){t.children(g).addClass(C),t.children(a).addClass(w).children(g).addClass(C),t.filter(not([disabled])not([class=k-state-disabled])).addClass(F),t.filter(li[disabled]).addClass(z).removeAttr(disabled),t.filter(not([class=k-state])).children(a).filter(focus).parent().addClass(R+ +L),t.attr(role,tab),t.filter(.+R).attr(aria-selected,!0),t.each(function(){var t=e(this);t.children(.+w).lengtht.contents().filter(function(){return!(this.nodeName.match(p)3==this.nodeType&&!c(this.nodeValue))}).wrapAll(span class='+w+')})}function i(e){var t=e.children(.k-item);t.filter(.k-firstnot(first-child)).removeClass(S),t.filter(.k-lastnot(last-child)).removeClass(y),t.filter(first-child).addClass(S),t.filter(last-child).addClass(y)}var r=window.kendo,o=r.ui,a=r.keys,s=e.map,l=e.each,c=e.trim,d=e.extend,u=r.template,h=o.Widget,p=^(adiv)$i,f=.kendoTabStrip,g=img,m=href,v=prev,_=show,w=k-link,y=k-last,b=click,k=error,x=empty,C=k-image,S=k-first,T=select,D=activate,A=k-content,E=contentUrl,I=mouseenter,M=mouseleave,P=contentLoad,z=k-state-disabled,F=k-state-default,R=k-state-active,B=k-state-focused,H=k-state-hover,L=k-tab-on-top,N=.k-itemnot(.+z+),O=.k-tabstrip-items  +N+not(.+R+),V={contentu(div class='k-content'#= contentAttributes(data) # role='tabpanel'#= content(item) #div),itemWrapperu(#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) ##= image(item) ##= sprite(item) ##= text(item) ##= tag(item) #),itemu(li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active  aria-selected='true'  ''##= itemWrapper(data) #li),imageu(img class='k-image' alt='' src='#= imageUrl #' ),spriteu(span class='k-sprite #= spriteCssClass #'span),emptyu()},U={wrapperCssClassfunction(e,t){var n=k-item,i=t.index;return n+=t.enabled===!1 k-state-disabled k-state-default,0===i&&(n+= k-first),i==e.length-1&&(n+= k-last),n},textAttributesfunction(e){return e.url href='+e.url+'},textfunction(e){return e.encoded===!1e.textr.htmlEncode(e.text)},tagfunction(e){return e.urlaspan},contentAttributesfunction(e){return e.active!==!0 style='displaynone' aria-hidden='true' aria-expanded='false'},contentfunction(e){return e.contente.contente.contentUrl&nbsp;},contentUrlfunction(e){return e.contentUrlr.attr(content-url)+'='+e.contentUrl+''}},W=h.extend({initfunction(t,n){var i,o,a=this;h.fn.init.call(a,t,n),a._animations(a.options),n=a.options,a._wrapper(),a._isRtl=r.support.isRtl(a.wrapper),a._tabindex(),a._updateClasses(),a._tabPosition(),a._dataSource(),n.dataSource&&a.dataSource.fetch(),a.options.contentUrls&&a.wrapper.find(.k-tabstrip-items  .k-item).each(function(t,n){e(n).find(.+w).data(E,a.options.contentUrls[t])}),a.wrapper.on(I+f+ +M+f,O,a._toggleHover).on(focus+f,e.proxy(a._active,a)).on(blur+f,function(){a._current(null)}),a._keyDownProxy=e.proxy(a._keydown,a),n.navigatable&&a.wrapper.on(keydown+f,a._keyDownProxy),a.wrapper.children(.k-tabstrip-items).on(b+f,.k-state-disabled .k-link,!1).on(b+f,  +N,function(t){var n,i=a.wrapper[0];if(i!==document.activeElement)if(n=r.support.browser.msie)try{i.setActive()}catch(o){i.focus()}else i.focus();a._click(e(t.currentTarget))&&t.preventDefault()}),i=a.tabGroup.children(li.+R),o=a.contentHolder(i.index()),i[0]&&o.length0&&0===o[0].childNodes.length&&a.activateTab(i.eq(0)),a.element.attr(role,tablist),a.element[0].id&&(a._ariaId=a.element[0].id+_ts_active),r.notify(a)},_activefunction(){var e=this.tabGroup.children().filter(.+R);e=e[0]ethis._endItem(first),e[0]&&this._current(e)},_endItemfunction(e){return this.tabGroup.children(N)[e]()},_itemfunction(e,t){var n;return n=t===vlastfirst,e(e=e[t](),e[0](e=this._endItem(n)),e.hasClass(z)&&(e=this._item(e,t)),e)this._endItem(n)},_currentfunction(e){var n=this,i=n._focused,r=n._ariaId;return e===ti(i&&(i[0].id===r&&i.removeAttr(id),i.removeClass(B)),e&&(e.hasClass(R)e.addClass(B),n.element.removeAttr(aria-activedescendant),r=e[0].idr,r&&(e.attr(id,r),n.element.attr(aria-activedescendant,r))),n._focused=e,t)},_keydownfunction(e){var n,i=this,r=e.keyCode,o=i._current(),s=i._isRtl;if(e.target==e.currentTarget){if(r==a.DOWNr==a.RIGHT)n=svnext;else if(r==a.UPr==a.LEFT)n=snextv;else if(r==a.ENTERr==a.SPACEBAR)i._click(o),e.preventDefault();else{if(r==a.HOME)return i._click(i._endItem(first)),e.preventDefault(),t;if(r==a.END)return i._click(i._endItem(last)),e.preventDefault(),t}n&&(i._click(i._item(o,n)),e.preventDefault())}},_dataSourcefunction(){var t=this;t.dataSource&&t._refreshHandlert.dataSource.unbind(change,t._refreshHandler)t._refreshHandler=e.proxy(t.refresh,t),t.dataSource=r.data.DataSource.create(t.options.dataSource).bind(change,t._refreshHandler)},setDataSourcefunction(e){var t=this;t.options.dataSource=e,t._dataSource(),t.dataSource.fetch()},_animationsfunction(e){e&&animationin e&&!e.animation&&(e.animation={open{effects{}},close{effects{}}})},refreshfunction(e){var t,n,i,o,a=this,s=a.options,l=r.getter(s.dataTextField),c=r.getter(s.dataContentField),d=r.getter(s.dataContentUrlField),u=r.getter(s.dataImageUrlField),h=r.getter(s.dataUrlField),p=r.getter(s.dataSpriteCssClass),f=[],g=a.dataSource.view();for(e=e{},i=e.action,i&&(g=e.items),t=0,o=g.length;ot;t++)n={textl(g[t])},s.dataContentField&&(n.content=c(g[t])),s.dataContentUrlField&&(n.contentUrl=d(g[t])),s.dataUrlField&&(n.url=h(g[t])),s.dataImageUrlField&&(n.imageUrl=u(g[t])),s.dataSpriteCssClass&&(n.spriteCssClass=p(g[t])),f[t]=n;if(add==e.action)e.indexa.tabGroup.children().lengtha.insertBefore(f,a.tabGroup.children().eq(e.index))a.append(f);else if(remove==e.action)for(t=0;g.lengtht;t++)a.remove(e.index);elseitemchange==e.action(t=a.dataSource.view().indexOf(g[0]),e.field===s.dataTextField&&a.tabGroup.children().eq(t).find(.k-link).text(g[0].get(e.field)))(a.trigger(dataBinding),a.remove(li),a.append(f),a.trigger(dataBound))},valuefunction(n){var i=this;return n===ti.select().text()(n!=i.value()&&i.tabGroup.children().each(function(){e.trim(e(this).text())==n&&i.select(this)}),t)},itemsfunction(){return this.tabGroup[0].children},setOptionsfunction(e){var t=this,n=t.options.animation;t._animations(e),e.animation=d(!0,n,e.animation),e.navigatablet.wrapper.on(keydown+f,t._keyDownProxy)t.wrapper.off(keydown+f,t._keyDownProxy),h.fn.setOptions.call(t,e)},events[T,D,_,k,P,change,dataBinding,dataBound],options{nameTabStrip,dataTextField,dataContentField,dataImageUrlField,dataUrlField,dataSpriteCssClass,dataContentUrlField,tabPositiontop,animation{open{effectsexpandvertical fadeIn,duration200},close{duration200}},collapsible!1,navigatable!0,contentUrls!1},destroyfunction(){var e=this;h.fn.destroy.call(e),e._refreshHandler&&e.dataSource.unbind(change,e._refreshHandler),e.wrapper.off(f),e.wrapper.children(.k-tabstrip-items).off(f),e.scrollWrap.children(.k-tabstrip).unwrap(),r.destroy(e.wrapper)},selectfunction(t){var n=this;return 0===arguments.lengthn.tabGroup.children(li.+R)(isNaN(t)(t=n.tabGroup.children().get(t)),t=n.tabGroup.find(t),e(t).each(function(t,i){i=e(i),i.hasClass(R)n.trigger(T,{itemi[0],contentElementn.contentHolder(i.index())[0]})n.activateTab(i)}),n)},enablefunction(e,t){return this._toggleDisabled(e,t!==!1),this},disablefunction(e){return this._toggleDisabled(e,!1),this},reloadfunction(t){t=this.tabGroup.find(t);var n=this;return t.each(function(){var t=e(this),i=t.find(.+w).data(E),r=n.contentHolder(t.index());i&&n.ajaxRequest(t,r,null,i)}),n},appendfunction(e){var t=this,n=t._create(e);return l(n.tabs,function(e){var i=n.contents[e];t.tabGroup.append(this),t.wrapper.append(i),t.angular(compile,function(){return{elements[i]}})}),i(t.tabGroup),t._updateContentElements(),t.resize(!0),t},insertBeforefunction(t,n){n=this.tabGroup.find(n);var r=this,o=r._create(t),a=e(r.contentElement(n.index()));return l(o.tabs,function(e){var t=o.contents[e];n.before(this),a.before(t),r.angular(compile,function(){return{elements[t]}})}),i(r.tabGroup),r._updateContentElements(),r.resize(!0),r
},insertAfterfunction(t,n){n=this.tabGroup.find(n);var r=this,o=r._create(t),a=e(r.contentElement(n.index()));return l(o.tabs,function(e){var t=o.contents[e];n.after(this),a.after(t),r.angular(compile,function(){return{elements[t]}})}),i(r.tabGroup),r._updateContentElements(),r.resize(!0),r},removefunction(t){var n,i=this,o=typeof t;returnstring===ot=i.tabGroup.find(t)number===o&&(t=i.tabGroup.children().eq(t)),n=t.map(function(){var t=i.contentElement(e(this).index());return r.destroy(t),t}),t.remove(),n.remove(),i._updateContentElements(),i.resize(!0),i},_createfunction(i){var r,o,a,l=e.isPlainObject(i),c=this;return le.isArray(i)(i=e.isArray(i)i[i],r=s(i,function(t,n){return e(W.renderItem({groupc.tabGroup,itemd(t,{indexn})}))}),o=s(i,function(n,i){returnstring==typeof n.contentn.contentUrle(W.renderContent({itemd(n,{indexi})}))t}))(r=string==typeof i&&!=i[0]c.element.find(i)e(i),o=e(),r.each(function(){if(a=e(div class='+A+'),k-tabstrip-items.test(this.parentNode.className)){var t=parseInt(this.getAttribute(aria-controls).replace(^.-,),10)-1;a=e(c.contentElement(t))}o=o.add(a)}),n(r)),{tabsr,contentso}},_toggleDisabledfunction(t,n){t=this.tabGroup.find(t),t.each(function(){e(this).toggleClass(F,n).toggleClass(z,!n)})},_updateClassesfunction(){var r,o,a,s=this;s.wrapper.addClass(k-widget k-header k-tabstrip),s.tabGroup=s.wrapper.children(ul).addClass(k-tabstrip-items k-reset),s.tabGroup[0](s.tabGroup=e(ul class='k-tabstrip-items k-reset').appendTo(s.wrapper)),r=s.tabGroup.find(li).addClass(k-item),r.length&&(o=r.filter(.+R).index(),a=o=0ot,s.tabGroup.contents().filter(function(){return 3==this.nodeType&&!c(this.nodeValue)}).remove()),o=0&&r.eq(o).addClass(L),s.contentElements=s.wrapper.children(div),s.contentElements.addClass(A).eq(a).addClass(R).css({displayblock}),r.length&&(n(r),i(s.tabGroup),s._updateContentElements())},_updateContentElementsfunction(){var t=this,n=t.options.contentUrls[],i=t.tabGroup.find(.k-item),o=(t.element.attr(id)r.guid())+-,a=t.wrapper.children(div);a.length&&i.lengtha.length(a.each(function(e){var t=parseInt(this.id.replace(o,),10),n=i.filter([aria-controls=+o+t+]),r=o+(e+1);n.data(aria,r),this.setAttribute(id,r)}),i.each(function(){var t=e(this);this.setAttribute(aria-controls,t.data(aria)),t.removeData(aria)}))i.each(function(i){var r=a.eq(i),s=o+(i+1);this.setAttribute(aria-controls,s),!r.length&&n[i]e(div class='+A+').appendTo(t.wrapper).attr(id,s)(r.attr(id,s),e(this).children(.k-loading)[0]n[i]e(span class='k-loading k-complete').prependTo(this)),r.attr(role,tabpanel),r.filter(not(.+R+)).attr(aria-hidden,!0).attr(aria-expanded,!1),r.filter(.+R).attr(aria-expanded,!0)}),t.contentElements=t.contentAnimators=t.wrapper.children(div),t.tabsHeight=t.tabGroup.outerHeight()+parseInt(t.wrapper.css(border-top-width),10)+parseInt(t.wrapper.css(border-bottom-width),10),r.kineticScrollNeeded&&r.mobile.ui.Scroller&&(r.touchScroller(t.contentElements),t.contentElements=t.contentElements.children(.km-scroll-container))},_wrapperfunction(){var e=this;e.wrapper=e.element.is(ul)e.element.wrapAll(div ).parent()e.element,e.scrollWrap=e.wrapper.parent(.k-tabstrip-wrapper),e.scrollWrap[0](e.scrollWrap=e.wrapper.wrapAll(div class='k-tabstrip-wrapper' ).parent())},_tabPositionfunction(){var e=this,t=e.options.tabPosition;e.wrapper.addClass(k-floatwrap k-tabstrip-+t),bottom==t&&e.tabGroup.appendTo(e.wrapper),e.resize(!0)},_setContentElementsDimensionsfunction(){var e,t,n,i,r,o,a=this,s=a.options.tabPosition;(left==sright==s)&&(e=a.wrapper.children(.k-content),t=e.filter(visible),n=margin-+s,i=a.tabGroup,r=i.outerWidth(),o=Math.ceil(i.height())-parseInt(t.css(padding-top),10)-parseInt(t.css(padding-bottom),10)-parseInt(t.css(border-top-width),10)-parseInt(t.css(border-bottom-width),10),setTimeout(function(){e.css(n,r).css(min-height,o)}))},_resizefunction(){this._setContentElementsDimensions()},_sizeScrollWrapfunction(e){var t,n;e.is(visible)&&(t=this.options.tabPosition,n=Math.floor(e.outerHeight(!0))+(left===tright===t2this.tabsHeight),this.scrollWrap.css(height,n).css(height))},_toggleHoverfunction(t){e(t.currentTarget).toggleClass(H,t.type==I)},_clickfunction(e){var t,n,i=this,r=e.find(.+w),o=r.attr(m),a=i.options.collapsible,s=i.contentHolder(e.index());if(e.closest(.k-widget)[0]==i.wrapper[0]){if(e.is(.+z+(a,.+R)))return!0;if(n=r.data(E)o&&(#==o.charAt(o.length-1)-1!=o.indexOf(#+i.element[0].id+-)),t=!on,i.tabGroup.children([data-animating]).length)return t;if(i.trigger(T,{iteme[0],contentElements[0]}))return!0;if(t!==!1)return a&&e.is(.+R)(i.deactivateTab(e),!0)(i.activateTab(e)&&(t=!0),t)}},deactivateTabfunction(e){var t=this,n=t.options.animation,i=n.open,o=d({},n.close),a=o&&effectsin o;e=t.tabGroup.find(e),o=d(aod({reverse!0},i),{hide!0}),r.size(i.effects)(e.kendoAddClass(F,{durationi.duration}),e.kendoRemoveClass(R,{durationi.duration}))(e.addClass(F),e.removeClass(R)),e.removeAttr(aria-selected),t.contentAnimators.filter(.+R).kendoStop(!0,!0).kendoAnimate(o).removeClass(R).attr(aria-hidden,!0)},activateTabfunction(e){var t,n,i,o,a,s,l,c,u,h,p,f,g,m,v;if(!this.tabGroup.children([data-animating]).length)return e=this.tabGroup.find(e),t=this,n=t.options.animation,i=n.open,o=d({},n.close),a=o&&effectsin o,s=e.parent().children(),l=s.filter(.+R),c=s.index(e),o=d(aod({reverse!0},i),{hide!0}),r.size(i.effects)(l.kendoRemoveClass(R,{durationo.duration}),e.kendoRemoveClass(H,{durationo.duration}))(l.removeClass(R),e.removeClass(H)),u=t.contentAnimators,t.inRequest&&(t.xhr.abort(),t.inRequest=!1),0===u.length(t.tabGroup.find(.+L).removeClass(L),e.addClass(L).css(z-index),e.addClass(R),t._current(e),t.trigger(change),!1)(h=u.filter(.+R),p=t.contentHolder(c),f=p.closest(.k-content),t.tabsHeight=t.tabGroup.outerHeight()+parseInt(t.wrapper.css(border-top-width),10)+parseInt(t.wrapper.css(border-bottom-width),10),t._sizeScrollWrap(h),0===p.length(h.removeClass(R).attr(aria-hidden,!0).kendoStop(!0,!0).kendoAnimate(o),!1)(e.attr(data-animating,!0),g=(e.children(.+w).data(E)!1)&&p.is(x),m=function(){t.tabGroup.find(.+L).removeClass(L),e.addClass(L).css(z-index),r.size(i.effects)(l.kendoAddClass(F,{durationi.duration}),e.kendoAddClass(R,{durationi.duration}))(l.addClass(F),e.addClass(R)),l.removeAttr(aria-selected),e.attr(aria-selected,!0),t._current(e),t._sizeScrollWrap(f),f.addClass(R).removeAttr(aria-hidden).kendoStop(!0,!0).attr(aria-expanded,!0).kendoAnimate(d({initfunction(){t.trigger(_,{iteme[0],contentElementp[0]}),r.resize(p)}},i,{completefunction(){e.removeAttr(data-animating),t.trigger(D,{iteme[0],contentElementp[0]}),r.resize(p),t.scrollWrap.css(height,).css(height)}}))},v=function(){g(e.removeAttr(data-animating),t.ajaxRequest(e,p,function(){e.attr(data-animating,!0),m(),t.trigger(change)}))(m(),t.trigger(change))},h.removeClass(R),h.attr(aria-hidden,!0),h.attr(aria-expanded,!1),h.lengthh.kendoStop(!0,!0).kendoAnimate(d({completev},o))v(),!0))},contentElementfunction(e){var n,i,o,a;if(isNaN(e-0))return t;if(n=this.contentElements&&this.contentElements[0]&&!r.kineticScrollNeededthis.contentElementsthis.contentAnimators,e=n&&0en.length+ee,i=RegExp(-+(e+1)+$),n)for(o=0,a=n.length;ao;o++)if(i.test(n.eq(o).closest(.k-content)[0].id))return n[o];return t},contentHolderfunction(t){var n=e(this.contentElement(t)),i=n.children(.km-scroll-container);return r.support.touch&&i[0]in},ajaxRequestfunction(t,n,i,o){var a,s,l,c,d,u,h,p,f;t=this.tabGroup.find(t),a=this,s=e.ajaxSettings.xhr,l=t.find(.+w),c={},d=t.width()2,u=!1,h=t.find(.k-loading).removeClass(k-complete),h[0](h=e(span class='k-loading').prependTo(t)),p=2d-h.width(),f=function(){h.animate({marginLeft(parseInt(h.css(marginLeft),10)0)dp0},500,f)},r.support.browser.msie&&10r.support.browser.version&&setTimeout(f,40),o=ol.data(E)l.attr(m),a.inRequest=!0,a.xhr=e.ajax({typeGET,cache!1,urlo,dataTypehtml,datac,xhrfunction(){var t=this,n=s(),i=t.progressUploadprogressUploadt.progressprogress!1;return n&&e.each([n,n.upload],function(){this.addEventListener&&this.addEventListener(progress,function(e){i&&t[i](e)},!1)}),t.noProgress=!(window.XMLHttpRequest&&uploadin new XMLHttpRequest),n},progressfunction(e){if(e.lengthComputable){var t=parseInt(e.loadede.total100,10)+%;h.stop(!0).addClass(k-progress).css({widtht,marginLeft0})}},errorfunction(e,t){a.trigger(error,{xhre,statust})&&this.complete()},stopProgressfunction(){clearInterval(u),h.stop(!0).addClass(k-progress)[0].style.cssText=},completefunction(e){a.inRequest=!1,this.noProgresssetTimeout(this.stopProgress,500)this.stopProgress(),abort==e.statusText&&h.remove()},successfunction(e){var s,l,c;h.addClass(k-complete);try{s=this,l=10,s.noProgress&&(h.width(l+%),u=setInterval(function(){s.progress({lengthComputable!0,loadedMath.min(l,100),total100}),l+=10},40)),a.angular(cleanup,function(){return{elementsn.get()}}),r.destroy(n),n.html(e)}catch(d){c=window.console,c&&c.error&&c.error(d.name+ +d.message+ in +o),this.error(this.xhr,error)}i&&i.call(a,n),a.angular(compile,function(){return{elementsn.get()}}),a.trigger(P,{itemt[0],contentElementn[0]})}})}});d(W,{renderItemfunction(e){e=d({tabStrip{},group{}},e);var t=V.empty,n=e.item;return V.item(d(e,{imagen.imageUrlV.imaget,spriten.spriteCssClassV.spritet,itemWrapperV.itemWrapper},U))},renderContentfunction(e){return V.content(d(e,U))}}),r.ui.plugin(W)}(window.kendo.jQuery),function(e,t){function n(e,t,n){var i,r=e.getTimezoneOffset();e.setTime(e.getTime()+t),n(i=e.getTimezoneOffset()-r,e.setTime(e.getTime()+iz))}function i(){var e=new $,t=new $(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),n=new $(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0);return-1(t.getTimezoneOffset()-n.getTimezoneOffset())}function r(e){return 60e.getHours()z+e.getMinutes()z+1e3e.getSeconds()+e.getMilliseconds()}function o(e,t,n){var i,o=r(t),a=r(n);return e&&o!=a(i=r(e),oi&&(i+=F),oa&&(a+=F),i=o&&a=i)!0}function a(e){var t=e.parseFormats;e.format=f(e.formatd.getCulture(e.culture).calendars.standard.patterns.t),t=j(t)t[t],t.splice(0,0,e.format),e.parseFormats=t}function s(e){e.preventDefault()}var l,c,d=window.kendo,u=d.keys,h=d.parseDate,p=d._activeElement,f=d._extractFormat,g=d.support,m=g.browser,v=d.ui,_=v.Widget,w=open,y=close,b=change,k=.kendoTimePicker,x=click+k,C=k-state-default,S=disabled,T=readonly,D=li,A=span,E=k-state-focused,I=k-state-hover,M=mouseenter+k+ mouseleave+k,P=mousedown+k,z=6e4,F=864e5,R=k-state-selected,B=k-state-disabled,H=aria-selected,L=aria-expanded,N=aria-hidden,O=aria-disabled,V=aria-readonly,U=aria-activedescendant,W=id,j=e.isArray,G=e.extend,q=e.proxy,$=Date,Y=new $;Y=new $(Y.getFullYear(),Y.getMonth(),Y.getDate(),0,0,0),l=function(t){var n=this,i=t.id;n.options=t,n.ul=e('ul tabindex=-1 role=listbox aria-hidden=true unselectable=on class=k-list k-reset').css({overflowg.kineticScrollNeededauto}).on(x,D,q(n._click,n)).on(mouseenter+k,D,function(){e(this).addClass(I)}).on(mouseleave+k,D,function(){e(this).removeClass(I)}),n.list=e(div class='k-list-container').append(n.ul).on(P,s),i&&(n._timeViewID=i+_timeview,n._optionID=i+_option_selected,n.ul.attr(W,n._timeViewID)),n._popup(),n._heightHandler=q(n._height,n),n.template=d.template('li tabindex=-1 role=option class=k-item unselectable=on#=data#li',{useWithBlock!1})},l.prototype={currentfunction(n){var i=this,r=i.options.active;return n===ti._current(i._current&&i._current.removeClass(R).removeAttr(H).removeAttr(W),n&&(n=e(n).addClass(R).attr(W,i._optionID).attr(H,!0),i.scroll(n[0])),i._current=n,r&&r(n),t)},closefunction(){this.popup.close()},destroyfunction(){var e=this;e.ul.off(k),e.list.off(k),e._touchScroller&&e._touchScroller.destroy(),e.popup.destroy()},openfunction(){var e=this;e.ul[0].firstChilde.bind(),e.popup.open(),e._current&&e.scroll(e._current[0])},dataBindfunction(e){for(var t,n=this,i=n.options,r=i.format,a=d.toString,s=n.template,l=e.length,c=0,u=;lc;c++)t=e[c],o(t,i.min,i.max)&&(u+=s(a(t,r,i.culture)));n._html(u)},refreshfunction(){var e,t,o,a=this,s=a.options,l=s.format,c=i(),u=0c,h=s.min,p=s.max,f=r(h),g=r(p),m=s.intervalz,v=d.toString,_=a.template,w=new $(+h),y=w.getDate(),b=0,k=;for(o=u(F+cz)mFm,f!=g&&(fg&&(g+=F),o=(g-f)m+1),t=parseInt(o,10);ob;b++)b&&n(w,m,u),g&&t==b&&(e=r(w),yw.getDate()&&(e+=F),eg&&(w=new $(+p))),k+=_(v(w,l,s.culture));a._html(k)},bindfunction(){var e=this,t=e.options.dates;t&&t[0]e.dataBind(t)e.refresh()},_htmlfunction(e){var t=this;t.ul[0].innerHTML=e,t.popup.unbind(w,t._heightHandler),t.popup.one(w,t._heightHandler),t.current(null),t.select(t._value)},scrollfunction(e){if(e){var t,n=this.ul[0],i=e.offsetTop,r=e.offsetHeight,o=n.scrollTop,a=n.clientHeight,s=i+r,l=this._touchScroller;l(t=this.list.height(),it&&(i=i-t+r),l.scrollTo(0,-i))n.scrollTop=oiiso+as-ao}},selectfunction(t){var n=this,i=n.options,r=n._current;t instanceof Date&&(t=d.toString(t,i.format,i.culture)),string==typeof t&&(r&&r.text()===tt=r(t=e.grep(n.ul[0].childNodes,function(e){return(e.textContente.innerText)==t}),t=t[0]tnull)),n.current(t)},setOptionsfunction(e){var t=this.options;e.min=h(e.min),e.max=h(e.max),this.options=G(t,e,{activet.active,changet.change,closet.close,opent.open}),this.bind()},togglefunction(){var e=this;e.popup.visible()e.close()e.open()},valuefunction(e){var t=this;t._value=e,t.ul[0].firstChild&&t.select(e)},_clickfunction(t){var n=this,i=e(t.currentTarget),r=i.text(),o=n.options.dates;o&&o.length0&&(r=o[i.index()]),t.isDefaultPrevented()(n.select(i),n.options.change(r,!0),n.close())},_heightfunction(){var e=this,t=e.list,n=t.parent(.k-animation-container),i=e.options.height;e.ul[0].children.length&&t.add(n).show().height(e.ul[0].scrollHeightiiauto).hide()},_parsefunction(e){var t=this,n=t.options,i=t._valueY;return e instanceof $e(e=h(e,n.parseFormats,n.culture),e&&(e=new $(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),e)},_adjustListWidthfunction(){var e,t,n=this.list,i=n[0].style.width,r=this.options.anchor;(n.data(width)!i)&&(e=window.getComputedStylewindow.getComputedStyle(r[0],null)0,t=eparseFloat(e.width)r.outerWidth(),e&&(m.mozillam.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i=t-(n.outerWidth()-n.width()),n.css({fontFamilyr.css(font-family),widthi}).data(width,i))},_popupfunction(){var e=this,t=e.list,n=e.options,i=n.anchor;e.popup=new v.Popup(t,G(n.popup,{anchori,openn.open,closen.close,animationn.animation,isRtlg.isRtl(n.anchor)})),e._touchScroller=d.touchScroller(e.popup.element)},movefunction(e){var n=this,i=e.keyCode,r=n.ul[0],o=n._current,a=i===u.DOWN;if(i===u.UPa){if(e.altKey)return n.toggle(a),t;o=aoo[0].nextSiblingr.firstChildoo[0].previousSiblingr.lastChild,o&&n.select(o),n.options.change(n._current.text()),e.preventDefault()}else(i===u.ENTERi===u.TABi===u.ESC)&&(e.preventDefault(),o&&n.options.change(o.text(),!0),n.close())}},l.getMilliseconds=r,d.TimeView=l,c=_.extend({initfunction(e,t){var n,i,r,o=this;_.fn.init.call(o,e,t),e=o.element,t=o.options,t.min=h(e.attr(min))h(t.min),t.max=h(e.attr(max))h(t.max),a(t),o._wrapper(),o.timeView=i=new l(G({},t,{ide.attr(W),anchoro.wrapper,formatt.format,changefunction(t,n){no._change(t)e.val(t)},openfunction(t){o.timeView._adjustListWidth(),o.trigger(w)t.preventDefault()(e.attr(L,!0),n.attr(N,!1))},closefunction(t){o.trigger(y)t.preventDefault()(e.attr(L,!1),n.attr(N,!0))},activefunction(t){e.removeAttr(U),t&&e.attr(U,i._optionID)}})),n=i.ul,o._icon(),o._reset();try{e[0].setAttribute(type,text)}catch(s){e[0].type=text}e.addClass(k-input).attr({rolecombobox,aria-expanded!1,aria-ownsi._timeViewID}),r=e.is([disabled]),ro.enable(!1)o.readonly(e.is([readonly])),o._old=o._update(t.valueo.element.val()),o._oldText=e.val(),d.notify(o)},options{nameTimePicker,minY,maxY,format,dates[],parseFormats[],valuenull,interval30,height200,animation{}},events[w,y,b],setOptionsfunction(e){var t=this,n=t._value;_.fn.setOptions.call(t,e),e=t.options,a(e),t.timeView.setOptions(e),n&&t.element.val(d.toString(n,e.format,e.culture))},dataBindfunction(e){j(e)&&this.timeView.dataBind(e)},_editablefunction(e){var t=this,n=e.disable,i=e.readonly,r=t._arrow.off(k),o=t.element.off(k),a=t._inputWrapper.off(k);in(a.addClass(nBC).removeClass(nCB),o.attr(S,n).attr(T,i).attr(O,n).attr(V,i))(a.addClass(C).removeClass(B).on(M,t._toggleHover),o.removeAttr(S).removeAttr(T).attr(O,!1).attr(V,!1).on(keydown+k,q(t._keydown,t)).on(focusout+k,q(t._blur,t)).on(focus+k,function(){t._inputWrapper.addClass(E)}),r.on(x,q(t._click,t)).on(P,s))},readonlyfunction(e){this._editable({readonlye===t!0e,disable!1})},enablefunction(e){this._editable({readonly!1,disable!(e=e===t!0e)})},destroyfunction(){var e=this;_.fn.destroy.call(e),e.timeView.destroy(),e.element.off(k),e._arrow.off(k),e._inputWrapper.off(k),e._form&&e._form.off(reset,e._resetHandler)},closefunction(){this.timeView.close()},openfunction(){this.timeView.open()},minfunction(e){return this._option(min,e)},maxfunction(e){return this._option(max,e)},valuefunction(e){var n=this;return e===tn._value(n._old=n._update(e),null===n._old&&n.element.val(),n._oldText=n.element.val(),t)},_blurfunction(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(E)},_clickfunction(){var e=this,t=e.element;e.timeView.toggle(),g.toucht[0]===p()t.focus()},_changefunction(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.element.trigger(b),t.trigger(b))},_iconfunction(){var t,n=this,i=n.element;t=i.next(span.k-select),t[0](t=e('span unselectable=on class=k-selectspan unselectable=on class=k-icon k-i-clockselectspanspan').insertAfter(i)),n._arrow=t.attr({rolebutton,aria-controlsn.timeView._timeViewID})},_keydownfunction(e){var t=this,n=e.keyCode,i=t.timeView,r=t.element.val();i.popup.visible()e.altKeyi.move(e)n===u.ENTER&&r!==t._oldText&&t._change(r)},_optionfunction(e,n){var i=this,r=i.options;return n===tr[e](n=i.timeView._parse(n),n&&(n=new $(+n),r[e]=n,i.timeView.options[e]=n,i.timeView.bind()),t)},_toggleHoverfunction(t){e(t.currentTarget).toggleClass(I,mouseenter===t.type)},_updatefunction(e){var t=this,n=t.options,i=t.timeView,r=i._parse(e);return o(r,n.min,n.max)(r=null),t._value=r,t.element.val(rd.toString(r,n.format,n.culture)e),i.value(r),r},_wrapperfunction(){var t,n=this,i=n.element;t=i.parents(.k-timepicker),t[0](t=i.wrap(A).parent().addClass(k-picker-wrap k-state-default),t=t.wrap(A).parent()),t[0].style.cssText=i[0].style.cssText,n.wrapper=t.addClass(k-widget k-timepicker k-header).addClass(i[0].className),i.css({width100%,heighti[0].style.height}),n._inputWrapper=e(t[0].firstChild)},_resetfunction(){var t=this,n=t.element,i=n.attr(form),r=ie(#+i)n.closest(form);r[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue)},t._form=r.on(reset,t._resetHandler))}}),v.plugin(c)}(window.kendo.jQuery),function(e,t){function n(n){var i=e(n.useButtonTagbuttonbuttonaa);return i.data({typebutton}),i.attr(Y,n.uid),n.attributes&&i.attr(n.attributes),n.togglable&&(i.addClass(v),n.selected&&i.addClass(x)),n.enable===!1&&i.addClass(C),n.url===tn.useButtonTag(i.attr(href,n.url),n.mobile&&i.attr(d.attr(role),button)),n.group&&i.attr(d.attr(group),n.group),!n.togglable&&n.click&&p(n.click)&&i.data(click,n.click),n.togglable&&n.toggle&&p(n.toggle)&&i.data(toggle,n.toggle),i}function i(e){var t,n=Q.button.base(e);return n.addClass(g),e.primary&&n.addClass(D),e.align&&n.addClass(k-align-+e.align),e.id&&n.attr(id,e.id),overflow!=e.showText&&e.text&&n.html(e.mobile'span class=km-text'+e.text+spane.text),t=overflow!=e.showIcon&&(e.icone.spriteCssClasse.imageUrl),t&&o(e,n),n}function r(e){var t,n=Q.button.base(e);return n.addClass(m+ +g),e.primary&&n.addClass(D),e.id&&n.attr(id,e.id+_overflow),toolbar!=e.showText&&e.text&&n.html(e.mobile'span class=km-text'+e.text+spane.text),t=toolbar!=e.showIcon&&(e.icone.spriteCssClasse.imageUrl),t&&o(e,n),n}function o(t,n){var i,r,o,a=t.icon,s=t.spriteCssClass,l=t.imageUrl;(sla)&&(i=!0,n.contents().not(span.k-sprite,span.+A+,img.k-image).each(function(t,n){(1==n.nodeType3==n.nodeType&&e.trim(n.nodeValue).length0)&&(i=!1)}),n.addClass(iIM)),a(r=n.children(span.+A).first(),r[0](r=e('span class='+A+'span').prependTo(n)),r.addClass(E+a))s(r=n.children(span.k-sprite).first(),r[0](r=e('span class=k-spritespan').prependTo(n)),r.addClass(s))l&&(o=n.children(img.k-image).first(),o[0](o=e('img alt=icon class=k-image ').prependTo(n)),o.attr(src,l))}function a(){var e,t=this.options.anchor,n=t.outerWidth();d.wrap(this.element).addClass(k-split-wrapper),e=border-box!==this.element.css(box-sizing)n-(this.element.outerWidth()-this.element.width())n,this.element.css({fontFamilyt.css(font-family),min-widthe})}function s(e){e.target.is(.k-toggle-button)e.target.toggleClass(x,press==e.type)}function l(t){return t=e(t),t.hasClass(km-actionsheet)t.closest(.km-popup-wrapper)t.addClass(km-widget km-actionsheet).wrap('div class=km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popupdiv').parent().wrap('div class=km-popup-wrapper k-popupdiv').parent()}function c(e){e.preventDefault()}var d=window.kendo,u=d.ui.Widget,h=e.proxy,p=d.isFunction,f=k-toolbar,g=k-button,m=k-overflow-button,v=k-toggle-button,_=k-button-group,w=k-split-button,y=k-separator,b=k-popup,k=k-toolbar-resizable,x=k-state-active,C=k-state-disabled,S=k-group-start,T=k-group-end,D=k-primary,A=k-icon,E=k-i-,I=k-button-icon,M=k-button-icontext,P=k-list-container k-split-container,z=k-split-button-arrow,F=k-overflow-anchor,R=k-overflow-container,B=k-toolbar-first-visible,H=k-toolbar-last-visible,L=click,N=toggle,O=open,V=close,U=overflowOpen,W=overflowClose,j=never,G=auto,q=always,$=k-overflow-hidden,Y=d.attr(uid),Q={button{basen,toolbari,overflowr},buttonGroup{basefunction(t,n,i){var r,o,a=t.buttons;if(a){for(t.attributes&&i.attr(t.attributes),i.data({typebuttonGroup}),i.attr(Y,t.uid),o=0;a.lengtho;o++)a[o].uid(a[o].uid=d.guid()),r=n(e.extend({mobilet.mobile},a[o])),r.appendTo(i);i.children().first().addClass(S),i.children().last().addClass(T)}},toolbarfunction(t){var n=e(divdiv);return Q.buttonGroup.base(t,Q.button.toolbar,n),n.addClass(_),t.align&&n.addClass(k-align-+t.align),t.id&&n.attr(id,t.id),n},overflowfunction(t){var n=e(lili);return Q.buttonGroup.base(t,Q.button.overflow,n),n.addClass((t.mobile_)+ k-overflow-group),t.id&&n.attr(id,t.id+_overflow),n}},splitButton{toolbarfunction(t){var n,i,r,o=e('div class='+w+'div'),s=Q.button.toolbar(t),c=e('a class='+g+ +z+'span class='+(t.mobilekm-icon km-arrowdownk-icon k-i-arrow-s)+'spana'),d=e('ul class='+P+'ul'),u=t.menuButtons;for(s.appendTo(o),c.appendTo(o),d.appendTo(o),r=0;u.lengthr;r++)i=Q.button.toolbar(e.extend({mobilet.mobile,clickt.click},u[r])),i.wrap(lili).parent().appendTo(d);return t.align&&o.addClass(k-align-+t.align),t.id(t.id=t.uid),o.attr(id,t.id+_wrapper),d.attr(id,t.id+_optionlist).attr(Y,t.rootUid),t.mobile&&(d=l(d)),n=d.kendoPopup({appendTot.mobilee(t.mobile).children(.km-pane)null,anchoro,copyAnchorStyles!1,animationt.animation,opena}).data(kendoPopup),o.data({typesplitButton,kendoPopupn}),o.attr(Y,t.uid),o},overflowfunction(t){var n,i,r=e('li class='+w+'li'),o=Q.button.overflow(t),a=t.menuButtons;for(o.appendTo(r),i=0;a.lengthi;i++)n=Q.button.overflow(e.extend({mobilet.mobile},a[i])),n.appendTo(r);return r.data({typesplitButton}),r.attr(Y,t.uid),r}},separator{basefunction(t,n){var i=e(nli&nbsp;lidiv&nbsp;div);return i.data({typeseparator}),i.attr(Y,t.uid),t.attributes&&i.attr(t.attributes),i.addClass(y),i},toolbarfunction(e){var t=Q.separator.base(e,!1);return e.id&&t.attr(id,e.id),t},overflowfunction(e){var t=Q.separator.base(e,!0);return e.id&&t.attr(id,e.id+_overflow),t}},overflowAnchor'div class=k-overflow-anchordiv',overflowContainer'ul class=k-overflow-container k-list-containerul'},K=u.extend({initfunction(t,n){var i,r=this;if(u.fn.init.call(r,t,n),n=r.options,t=r.wrapper=r.element,t.addClass(f+ k-widget),this.uid=d.guid(),t.attr(Y,this.uid),r.isMobile=boolean==typeof n.mobilen.mobiler.element.closest(.km-root)[0],r.animation=r.isMobile{open{effectsfade}}{},r.isMobile&&(t.addClass(km-widget),A=km-icon,E=km-,g=km-button,_=km-buttongroup km-widget,x=km-state-active,C=km-state-disabled),n.resizable(r._renderOverflow(),t.addClass(k),r.overflowUserEvents=new d.UserEvents(r.element,{threshold5,allowSelection!0,filter.+F,taph(r._toggleOverflow,r)}),r._resizeHandler=d.onResize(function(){r.resize()}))r.popup={elemente([])},n.items&&n.items.length)for(i=0;n.items.lengthi;i++)r.add(n.items[i]);r.userEvents=new d.UserEvents(document,{threshold5,allowSelection!0,filter[+Y+=+this.uid+] .+g+, [+Y+=+this.uid+] .+m,taph(r._buttonClick,r),presss,releases}),r.element.on(L,.+C,c),n.resizable&&r.popup.element.on(L,00+C,c),n.resizable&&this._toggleOverflowAnchor(),d.notify(r)},events[L,N,O,V,U,W],options{nameToolBar,items[],resizable!0,mobilenull},destroyfunction(){var t=this;t.element.find(.+w).each(function(t,n){e(n).data(kendoPopup).destroy()}),t.userEvents.destroy(),t.options.resizable&&(d.unbindResize(t._resizeHandler),t.overflowUserEvents.destroy(),t.popup.destroy()),u.fn.destroy.call(t)},addfunction(t){var n,i,r=Q[t.type],o=t.template,a=this,s=a.isMobilek-item k-state-default,l=t.overflowTemplate;e.extend(t,{uidd.guid(),animationa.animation,mobilea.isMobile,rootUida.uid}),o&&!l&&(t.overflow=j),t.overflow!==j&&a.options.resizable&&(l(i=e(p(l)l(t)l),t.id&&i.attr(id,t.id+_overflow))r&&(i=(r.overflowe.noop)(t)),i&&i.length&&(LI!==i.prop(tagName)&&(i.removeAttr(Y),i=i.wrap(lili).parent(),i.attr(Y,t.uid),button===t.type&&t.enable===!1&&(i.find(.+g).removeClass(C),i.addClass(C))),a._attributes(i,t),i.addClass(s).appendTo(a.popup.container),i.data(overflow)===G&&i.addClass($),a.angular(compile,function(){return{elementsi.get()}}))),t.overflow!==q&&(o(n=p(o)o(t)o,n=n instanceof jQueryn.wrap(divdiv).parent()e(divdiv).html(n),t.id&&n.attr(id,t.id),t.attributes&&n.attr(t.attributes),n.attr(Y,t.uid))r&&(n=(r.toolbare.noop)(t)),n&&n.length&&(a._attributes(n,t),a.options.resizable(n.appendTo(a.element).css(visibility,hidden),a._shrink(a.element.innerWidth()),n.css(visibility,visible))n.appendTo(a.element),a.angular(compile,function(){return{elementsn.get()}})))},removefunction(t){var n,i,r,o,a=this.options.resizable;n=this.element.find(t),a&&(i=this.popup.element.find(t)),n.length(r=n.data(type),o=n.attr(Y),splitButton===n.parent(.+w).data(type)&&(r=splitButton,n=n.parent()),i=athis.popup.element.find(li[+Y+='+o+'])e([]))i.length&&(r=i.data(type),i=i.parent(),splitButton===i.data(type)&&(r=splitButton),o=i.attr(Y),n=this.element.find(div.+w+[+Y+='+o+'])),splitButton===r&&n.data(kendoPopup)&&n.data(kendoPopup).destroy(),n.remove(),i.remove()},enablefunction(n,i){var r=this.element.find(n).attr(Y);!r&&this.popup&&(r=this.popup.element.find(n).parent(li).attr(Y)),t===i&&(i=!0),ie([+Y+='+r+']).removeClass(C)e([+Y+='+r+']).addClass(C)},getSelectedFromGroupfunction(e){return this.element.find(.+v+[data-group='+e+']).filter(.+x)},togglefunction(t,n){var i,r=e(t),o=r.data(uid),a=r.data(group);r.hasClass(v)&&(a&&this.element.add(this.popup.element).find(.+v+[data-group='+a+']).filter(.+x).removeClass(x),e.contains(this.element[0],r[0])(i=this.popup.element.find([+Y+='+o+']),LI===i.prop(tagName)&&(i=i.find(.+v+first)))(o=oor.parent().data(uid),i=this.element.find([+Y+='+o+'])),r.add(i).toggleClass(x,n))},_attributesfunction(e,t){e.attr(d.attr(overflow),t.overflowG)},_renderOverflowfunction(){var t=this,n=Q.overflowContainer;t.overflowAnchor=e(Q.overflowAnchor).addClass(g),t.element.append(t.overflowAnchor),t.isMobile(t.overflowAnchor.append('span class=km-icon km-morespan'),n=l(n))t.overflowAnchor.append('span class=k-icon k-i-morespan'),t.popup=new d.ui.Popup(n,{originbottom right,positiontop right,anchort.overflowAnchor,animationt.animation,appendTot.isMobilee(t.isMobile).children(.km-pane)null,copyAnchorStyles!1,openfunction(n){var i=d.wrap(t.popup.element).addClass(k-overflow-wrapper);t.isMobilet.popup.container.css(max-height,parseFloat(e(.km-contentvisible).innerHeight())-15+px)i.css(margin-left,(i.outerWidth()-i.width())2+1),t.trigger(U)&&n.preventDefault()},closefunction(e){t.trigger(W)&&e.preventDefault()}}),t.popup.container=t.isMobilet.popup.element.find(.+R)t.popup.element,t.popup.container.attr(Y,this.uid),t.popup.element.toggleClass(k-rtl,d.support.isRtl(t.element))},_toggleOverflowAnchorfunction(){this.overflowAnchor.css(this.popup.element.children(not(.+$+, .+b+)).length0{visibilityvisible,width}{visibilityhidden,width1px})},_buttonClickfunction(n){var i,r,o,a,s,l,c,d,u,h=this;if(n.preventDefault(),r=e(n.target).closest(.+g,h.element),!r.hasClass(F)&&(!r.length&&h.popup&&(r=e(n.target).closest(.+m,h.popup.container)),a=r.hasClass(m)r.parent(li).hasClass(C)r.hasClass(C),!a)){if(n.target.closest(.+z).length)return h._toggle(n),t;u=r.attr(id)r.attr(id).replace((_overflow$),)t,r.hasClass(v)(l=r.data(group),c=p(r.data(toggle))r.data(toggle)null,h.toggle(r),s=r.hasClass(x),d={targetr,groupl,checkeds,idu},c&&c.call(h,d),h.trigger(N,d))(c=p(r.data(click))r.data(click)null,d={targetr,idu},c&&c.call(h,d),h.trigger(L,d)),r.hasClass(m)&&h.popup.close(),o=r.closest(.k-split-container),o[0]&&(i=o.data(kendoPopup),(iio.parents(.km-popup-wrapper).data(kendoPopup)).close())}},_togglefunction(t){var n,i=e(t.target).closest(.+w),r=i.data(kendoPopup);t.preventDefault(),i.hasClass(C)(n=r.element.is(visible)this.trigger(V,{targeti})this.trigger(O,{targeti}),nr.toggle())},_toggleOverflowfunction(){this.popup.toggle()},_resizefunction(e){var t=e.width;this.options.resizable&&(this.popup.close(),this._shrink(t),this._stretch(t),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidthfunction(){var t=0;return this.element.children(visible).each(function(){t+=e(this).outerWidth(!0)}),Math.ceil(t)},_shrinkfunction(e){var t,n,i;if(ethis._childrenWidth())for(n=this.element.children(visiblenot([data-overflow='never'], .+F+)),i=n.length-1;i=0&&(t=n.eq(i),!(ethis._childrenWidth()));i--)this._hideItem(t)},_stretchfunction(e){var t,n,i;if(ethis._childrenWidth())for(n=this.element.children(hidden),i=0;n.lengthi&&(t=n.eq(i),!(ethis._childrenWidth())&&this._showItem(t,e));i++);},_hideItemfunction(e){e.hide(),this.popup&&this.popup.container.find(li[data-uid='+e.data(uid)+']).removeClass($)},_showItemfunction(e,t){return e.length&&tthis._childrenWidth()+e.outerWidth(!0)(e.show(),this.popup&&this.popup.container.find(li[data-uid='+e.data(uid)+']).addClass($),!0)!1
},_markVisiblesfunction(){var e=this.popup.container.children(),t=this.element.children(not(.k-overflow-anchor)),n=e.filter(not(.k-overflow-hidden)),i=t.filter(visible);e.add(t).removeClass(B+ +H),n.first().add(i.first()).addClass(B),n.last().add(i.last()).addClass(H)}});d.ui.plugin(K)}(window.kendo.jQuery),function(e,t){function n(e){var t=new Date(2100,0,1);return t.setMinutes(-e),t}function i(e){e.preventDefault()}function r(t){var n,i=o.getCulture(t.culture).calendars.standard.patterns;t.format=c(t.formati.g),t.timeFormat=n=c(t.timeFormati.t),o.DateView.normalize(t),-1===e.inArray(n,t.parseFormats)&&t.parseFormats.splice(1,0,n)}var o=window.kendo,a=o.TimeView,s=o.parseDate,l=o._activeElement,c=o._extractFormat,d=o.calendar,u=d.isInRange,h=d.restrictValue,p=d.isEqualDatePart,f=a.getMilliseconds,g=o.ui,m=g.Widget,v=open,_=close,w=change,y=.kendoDateTimePicker,b=click+y,k=disabled,x=readonly,C=k-state-default,S=k-state-focused,T=k-state-hover,D=k-state-disabled,A=mouseenter+y+ mouseleave+y,E=mousedown+y,I=month,M=span,P=aria-activedescendant,z=aria-expanded,F=aria-hidden,R=aria-owns,B=aria-disabled,H=aria-readonly,L=Date,N=new L(1800,0,1),O=new L(2099,11,31),V={viewdate},U={viewtime},W=e.extend,j=m.extend({initfunction(e,t){var n,i=this;m.fn.init.call(i,e,t),e=i.element,t=i.options,t.min=s(e.attr(min))s(t.min),t.max=s(e.attr(max))s(t.max),r(t),i._wrapper(),i._views(),i._icons(),i._reset(),i._template();try{e[0].setAttribute(type,text)}catch(a){e[0].type=text}e.addClass(k-input).attr({rolecombobox,aria-expanded!1}),i._midnight=f(t.min)+f(t.max)===0,n=e.is([disabled]),ni.enable(!1)i.readonly(e.is([readonly])),i._old=i._update(t.valuei.element.val()),i._oldText=e.val(),o.notify(i)},options{nameDateTimePicker,valuenull,format,timeFormat,culture,parseFormats[],dates[],minnew L(N),maxnew L(O),interval30,height200,footer,startI,depthI,animation{},month{},ARIATemplate'Current focused date is #=kendo.toString(data.current, d)#'},events[v,_,w],setOptionsfunction(e){var t,n,i,a=this,l=a._value;m.fn.setOptions.call(a,e),e=a.options,e.min=t=s(e.min),e.max=n=s(e.max),r(e),i=e.valuea._valuea.dateView._current,t&&!p(t,i)&&(t=new L(N)),n&&!p(n,i)&&(n=new L(O)),a.dateView.setOptions(e),a.timeView.setOptions(W({},e,{formate.timeFormat,mint,maxn})),l&&(a.element.val(o.toString(l,e.format,e.culture)),a._updateARIA(l))},_editablefunction(t){var n=this,r=n.element.off(y),a=n._dateIcon.off(y),s=n._timeIcon.off(y),c=n._inputWrapper.off(y),d=t.readonly,u=t.disable;du(c.addClass(uDC).removeClass(uCD),r.attr(k,u).attr(x,d).attr(B,u).attr(H,d))(c.addClass(C).removeClass(D).on(A,n._toggleHover),r.removeAttr(k).removeAttr(x).attr(B,!1).attr(H,!1).on(keydown+y,e.proxy(n._keydown,n)).on(focus+y,function(){n._inputWrapper.addClass(S)}).on(focusout+y,function(){n._inputWrapper.removeClass(S),r.val()!==n._oldText&&n._change(r.val()),n.close(date),n.close(time)}),a.on(E,i).on(b,function(){n.toggle(date),o.support.touchr[0]===l()r.focus()}),s.on(E,i).on(b,function(){n.toggle(time),o.support.touchr[0]===l()r.focus()}))},readonlyfunction(e){this._editable({readonlye===t!0e,disable!1})},enablefunction(e){this._editable({readonly!1,disable!(e=e===t!0e)})},destroyfunction(){var e=this;m.fn.destroy.call(e),e.dateView.destroy(),e.timeView.destroy(),e.element.off(y),e._dateIcon.off(y),e._timeIcon.off(y),e._inputWrapper.off(y),e._form&&e._form.off(reset,e._resetHandler)},closefunction(e){time!==e&&(e=date),this[e+View].close()},openfunction(e){time!==e&&(e=date),this[e+View].open()},minfunction(e){return this._option(min,e)},maxfunction(e){return this._option(max,e)},togglefunction(e){var t=timeView;time!==ee=datet=dateView,this[e+View].toggle(),this[t].close()},valuefunction(e){var n=this;return e===tn._value(n._old=n._update(e),null===n._old&&n.element.val(),n._oldText=n.element.val(),t)},_changefunction(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(w),t.element.trigger(w))},_optionfunction(e,i){var r,o,a=this,l=a.options,c=a.timeView,d=c.options,u=a._valuea._old;if(i===t)return l[e];if(i=s(i,l.parseFormats,l.culture)){if(l.min.getTime()===l.max.getTime()&&(d.dates=[]),l[e]=new L(i.getTime()),a.dateView[e](i),a._midnight=f(l.min)+f(l.max)===0,u&&(r=p(l.min,u),o=p(l.max,u)),ro){if(d[e]=i,r&&!o&&(d.max=n(l.interval)),o){if(a._midnight)return c.dataBind([O]),t;r(d.min=N)}}else d.max=O,d.min=N;c.bind()}},_toggleHoverfunction(t){e(t.currentTarget).toggleClass(T,mouseenter===t.type)},_updatefunction(t){var i,r,a,l,c,d=this,f=d.options,g=f.min,m=f.max,v=f.dates,_=d.timeView,w=d._value,y=s(t,f.parseFormats,f.culture),b=null===y&&null===wy instanceof Date&&w instanceof Date;return+y===+w&&b(c=o.toString(y,f.format,f.culture),c!==t&&d.element.val(null===ytc),y)(null!==y&&p(y,g)y=h(y,g,m)u(y,g,m)(y=null),d._value=y,_.value(y),d.dateView.value(y),y&&(a=d._old,r=_.options,v[0]&&(v=e.grep(v,function(e){return p(y,e)}),v[0]&&(_.dataBind(v),l=!0)),l(p(y,g)&&(r.min=g,r.max=n(f.interval),i=!0),p(y,m)&&(d._midnight(_.dataBind([O]),l=!0)(r.max=m,i(r.min=N),i=!0))),!l&&(!a&&ia&&!p(a,y))&&(i(r.max=O,r.min=N),_.bind())),d.element.val(yo.toString(y,f.format,f.culture)t),d._updateARIA(y),y)},_keydownfunction(e){var t=this,n=t.dateView,i=t.timeView,r=t.element.val(),a=n.popup.visible();e.altKey&&e.keyCode===o.keys.DOWNt.toggle(atimedate)a(n.move(e),t._updateARIA(n._current))i.popup.visible()i.move(e)e.keyCode===o.keys.ENTER&&r!==t._oldText&&t._change(r)},_viewsfunction(){var e,t,n,i,r,l,c=this,d=c.element,h=c.options,p=d.attr(id);c.dateView=e=new o.DateView(W({},h,{idp,anchorc.wrapper,changefunction(){var t,n=e.calendar.value(),i=+n,r=+h.min,o=+h.max;(i===ri===o)&&(t=new L(+c._value),t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),u(t,r,o)&&(n=t)),c._change(n),c.close(date)},closefunction(e){c.trigger(_,V)e.preventDefault()(d.attr(z,!1),n.attr(F,!0),t.popup.visible()d.removeAttr(R))},openfunction(t){c.trigger(v,V)t.preventDefault()(d.val()!==c._oldText&&(l=s(d.val(),h.parseFormats,h.culture),c.dateView[lcurrentvalue](l)),n.attr(F,!1),d.attr(z,!0).attr(R,e._dateViewID),c._updateARIA(l))}})),n=e.div,r=h.min.getTime(),c.timeView=t=new a({idp,valueh.value,anchorc.wrapper,animationh.animation,formath.timeFormat,cultureh.culture,heighth.height,intervalh.interval,minnew L(N),maxnew L(O),datesr===h.max.getTime()[new Date(r)][],parseFormatsh.parseFormats,changefunction(n,i){n=t._parse(n),h.minn(n=new L(+h.min),t.options.min=n)nh.max&&(n=new L(+h.max),t.options.max=n),i(c._timeSelected=!0,c._change(n))(d.val(o.toString(n,h.format,h.culture)),e.value(n),c._updateARIA(n))},closefunction(t){c.trigger(_,U)t.preventDefault()(i.attr(F,!0),d.attr(z,!1),e.popup.visible()d.removeAttr(R))},openfunction(e){t._adjustListWidth(),c.trigger(v,U)e.preventDefault()(d.val()!==c._oldText&&(l=s(d.val(),h.parseFormats,h.culture),c.timeView.value(l)),i.attr(F,!1),d.attr(z,!0).attr(R,t._timeViewID),t.options.active(t.current()))},activefunction(e){d.removeAttr(P),e&&d.attr(P,t._optionID)}}),i=t.ul},_iconsfunction(){var t,n=this,i=n.element;t=i.next(span.k-select),t[0](t=e('span unselectable=on class=k-selectspan unselectable=on class=k-icon k-i-calendarselectspanspan unselectable=on class=k-icon k-i-clockselectspanspan').insertAfter(i)),t=t.children(),n._dateIcon=t.eq(0).attr({rolebutton,aria-controlsn.dateView._dateViewID}),n._timeIcon=t.eq(1).attr({rolebutton,aria-controlsn.timeView._timeViewID})},_wrapperfunction(){var t,n=this,i=n.element;t=i.parents(.k-datetimepicker),t[0](t=i.wrap(M).parent().addClass(k-picker-wrap k-state-default),t=t.wrap(M).parent()),t[0].style.cssText=i[0].style.cssText,i.css({width100%,heighti[0].style.height}),n.wrapper=t.addClass(k-widget k-datetimepicker k-header).addClass(i[0].className),n._inputWrapper=e(t[0].firstChild)},_resetfunction(){var t=this,n=t.element,i=n.attr(form),r=ie(#+i)n.closest(form);r[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue)},t._form=r.on(reset,t._resetHandler))},_templatefunction(){this._ariaTemplate=o.template(this.options.ARIATemplate)},_updateARIAfunction(e){var t,n=this,i=n.dateView.calendar;n.element.removeAttr(P),i&&(t=i._cell,t.attr(aria-label,n._ariaTemplate({currentei.current()})),n.element.attr(P,t.attr(id)))}});g.plugin(j)}(window.kendo.jQuery),function(e,t){function n(e){return v.test(e)}function i(e){return m.test(e)^d+$.test(e)}function r(e){return!n(e)&&!i(e)}function o(e,t){var i=parseInt(e,10);return n(e)&&(i=Math.floor(it100)),i}function a(e,n){return function(i,r){var o,a=this.element.find(i).data(E);return 1==arguments.lengtha[e](a[e]=r,n&&(o=this.element.data(kendo+this.options.name),o.resize(!0)),t)}}function s(e){var t=this,n=e.orientation;t.owner=e,t._element=e.element,t.orientation=n,p(t,n===Scl),t._resizable=new d.ui.Resizable(e.element,{orientationn,handle.k-splitbar-draggable-+n+[data-marker=+e._marker+],hintf(t._createHint,t),startf(t._start,t),maxf(t._max,t),minf(t._min,t),invalidClassk-restricted-size-+n,resizeendf(t._stop,t)})}var l,c,d=window.kendo,u=d.ui,h=d.keys,p=e.extend,f=e.proxy,g=u.Widget,m=^d+(.d+)px$i,v=^d+(.d+)%$i,_=.kendoSplitter,w=expand,y=collapse,b=contentLoad,k=error,x=resize,C=layoutChange,S=horizontal,T=vertical,D=mouseenter,A=click,E=pane,I=mouseleave,M=k-state-focused,P=k-+E,z=.+P,F=g.extend({initfunction(e,t){var n,i=this;g.fn.init.call(i,e,t),i.wrapper=i.element,n=i.options.orientation.toLowerCase()!=T,i.orientation=nST,i._dimension=nwidthheight,i._keys={decreasenh.LEFTh.UP,increasenh.RIGHTh.DOWN},i._resizeStep=10,i._marker=d.guid().substring(0,8),i._initPanes(),i.resizing=new s(i),i.element.triggerHandler(init+_)},events[w,y,b,k,x,C],_addOverlaysfunction(){this._panes().append(div class='k-splitter-overlay k-overlay' )},_removeOverlaysfunction(){this._panes().children(.k-splitter-overlay).remove()},_attachEventsfunction(){var t=this,n=t.options.orientation;t.element.children(.k-splitbar-draggable-+n).on(keydown+_,f(t._keydown,t)).on(mousedown+_,function(e){e.currentTarget.focus()}).on(focus+_,function(t){e(t.currentTarget).addClass(M)}).on(blur+_,function(n){e(n.currentTarget).removeClass(M),t.resizing&&t.resizing.end()}).on(D+_,function(){e(this).addClass(k-splitbar-+t.orientation+-hover)}).on(I+_,function(){e(this).removeClass(k-splitbar-+t.orientation+-hover)}).on(mousedown+_,f(t._addOverlays,t)).end().children(.k-splitbar).on(dblclick+_,f(t._togglePane,t)).children(.k-collapse-next, .k-collapse-prev).on(A+_,t._arrowClick(y)).end().children(.k-expand-next, .k-expand-prev).on(A+_,t._arrowClick(w)).end().end(),e(window).on(resize+_+t._marker,f(t.resize,t,!1)).on(mouseup+_+t._marker,f(t._removeOverlays,t))},_detachEventsfunction(){var t=this;t.element.children(.k-splitbar-draggable-+t.orientation).off(_).end().children(.k-splitbar).off(dblclick+_).children(.k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev).off(_),e(window).off(resize+_+t._marker)},options{nameSplitter,orientationS,panes[]},destroyfunction(){g.fn.destroy.call(this),this._detachEvents(),this.resizing&&this.resizing.destroy(),d.destroy(this.element),this.wrapper=this.element=null},_keydownfunction(t){var n,i=this,r=t.keyCode,o=i.resizing,a=e(t.currentTarget),s=i._keys,l=r===s.increase,c=r===s.decrease;lc(t.ctrlKey(n=a[cnextprev](),o&&o.isResizing()&&o.end(),n[i._dimension]()i._triggerAction(y,a[cprevnext]())i._triggerAction(w,n))o&&o.move((c-11)i._resizeStep,a),t.preventDefault())r===h.ENTER&&o&&(o.end(),t.preventDefault())},_initPanesfunction(){var e=this.options.panes[],t=this;this.element.addClass(k-widget).addClass(k-splitter).children().each(function(n,i){script!=i.nodeName.toLowerCase()&&t._initPane(i,e[n])}),this.resize()},_initPanefunction(t,n){t=e(t).attr(role,group).addClass(P),t.data(E,nn{}).toggleClass(k-scrollable,nn.scrollable!==!1!0),this.ajaxRequest(t)},ajaxRequestfunction(e,t,n){var i,r=this;e=r.element.find(e),i=e.data(E),t=ti.contentUrl,t&&(e.append(span class='k-icon k-loading k-pane-loading' ),d.isLocalUrl(t)jQuery.ajax({urlt,datan{},typeGET,dataTypehtml,successfunction(t){r.angular(cleanup,function(){return{elementse.get()}}),e.html(t),r.angular(compile,function(){return{elementse.get()}}),r.trigger(b,{panee[0]})},errorfunction(t,n){r.trigger(k,{panee[0],statusn,xhrt})}})e.removeClass(k-scrollable).html(iframe src='+t+' frameborder='0' class='k-content-frame'This page requires frames in order to show contentiframe))},_triggerActionfunction(e,t){this.trigger(e,{panet[0]})this[e](t[0])},_togglePanefunction(t){var n,i=this,r=e(t.target);r.closest(.k-splitter)[0]==i.element[0]&&(n=r.children(.k-iconnot(.k-resize-handle)),1===n.length&&(n.is(.k-collapse-prev)i._triggerAction(y,r.prev())n.is(.k-collapse-next)i._triggerAction(y,r.next())n.is(.k-expand-prev)i._triggerAction(w,r.prev())n.is(.k-expand-next)&&i._triggerAction(w,r.next())))},_arrowClickfunction(t){var n=this;return function(i){var r,o=e(i.target);o.closest(.k-splitter)[0]==n.element[0]&&(r=o.is(.k-+t+-prev)o.parent().prev()o.parent().next(),n._triggerAction(t,r))}},_updateSplitBarfunction(e,t,n){var i=function(e,t){return tdiv class='k-icon +e+' },r=this.orientation,o=t.resizable!==!1&&n.resizable!==!1,a=t.collapsible,s=t.collapsed,l=n.collapsible,c=n.collapsed;e.addClass(k-splitbar k-state-default k-splitbar-+r).attr(role,separator).attr(aria-expanded,!(sc)).removeClass(k-splitbar-+r+-hover).toggleClass(k-splitbar-draggable-+r,o&&!s&&!c).toggleClass(k-splitbar-static-+r,!o&&!a&&!l).html(i(k-collapse-prev,a&&!s&&!c)+i(k-expand-prev,a&&s&&!c)+i(k-resize-handle,o)+i(k-collapse-next,l&&!c&&!s)+i(k-expand-next,l&&c&&!s)),oale.removeAttr(tabindex)},_updateSplitBarsfunction(){var t=this;this.element.children(.k-splitbar).each(function(){var n=e(this),i=n.prevAll(z).first().data(E),r=n.nextAll(z).first().data(E);r&&t._updateSplitBar(n,i,r)})},_removeSplitBarsfunction(){this.element.children(.k-splitbar).remove()},_panesfunction(){return this.elementthis.element.children(z)e()},_resizefunction(){var n,i,a,s,l,c,u,h,p,f,g=this,m=g.element,v=m.children(z),_=g.orientation==S,w=m.children(.k-splitbar),y=w.length,b=_widthheight,k=m[b]();g.wrapper.addClass(k-splitter-resizing),0===y(y=v.length-1,v.slice(0,y).after(div tabindex='0' class='k-splitbar' data-marker='+g._marker+' ),g._updateSplitBars(),w=m.children(.k-splitbar))g._updateSplitBars(),w.each(function(){k-=this[_offsetWidthoffsetHeight]}),n=0,i=0,a=e(),v.css({positionabsolute,top0})[b](function(){var s,l=e(this),c=l.data(E){};if(l.removeClass(k-state-collapsed),c.collapsed)s=c.collapsedSizeo(c.collapsedSize,k)0,l.css(overflow,hidden).addClass(k-state-collapsed);else{if(r(c.size))return a=a.add(this),t;s=o(c.size,k)}return i++,n+=s,s}),k-=n,s=a.length,l=Math.floor(ks),a.slice(0,s-1).css(b,l).end().eq(s-1).css(b,k-(s-1)l),c=0,u=_heightwidth,h=_lefttop,p=_offsetWidthoffsetHeight,0===s&&(f=v.filter(function(){return!(e(this).data(E){}).collapsed}).last(),f[b](k+f[0][p])),m.children().css(u,m[u]()).each(function(e,t){script!=t.tagName.toLowerCase()&&(t.style[h]=Math.floor(c)+px,c+=t[p])}),g._detachEvents(),g._attachEvents(),g.wrapper.removeClass(k-splitter-resizing),d.resize(v),g.trigger(C)},togglefunction(e,n){var i,r=this;e=r.element.find(e),i=e.data(E),(ni.collapsible)&&(1==arguments.length&&(n=i.collapsed===t!1i.collapsed),i.collapsed=!n,i.collapsede.css(overflow,hidden)e.css(overflow,),r.resize(!0))},collapsefunction(e){this.toggle(e,!1)},expandfunction(e){this.toggle(e,!0)},_addPanefunction(e,t,n){var i=this;return n.length&&(i.options.panes.splice(t,0,e),i._initPane(n,e),i._removeSplitBars(),i.resize(!0)),n},appendfunction(t){t=t{};var n=this,i=e(div ).appendTo(n.element);return n._addPane(t,n.options.panes.length,i)},insertBeforefunction(t,n){n=e(n),t=t{};var i=this,r=i.wrapper.children(.k-pane).index(n),o=e(div ).insertBefore(e(n));return i._addPane(t,r,o)},insertAfterfunction(t,n){n=e(n),t=t{};var i=this,r=i.wrapper.children(.k-pane).index(n),o=e(div ).insertAfter(e(n));return i._addPane(t,r+1,o)},removefunction(t){t=e(t);var n=this;return t.length&&(d.destroy(t),t.each(function(t,i){n.options.panes.splice(n.wrapper.children(.k-pane).index(i),1),e(i).remove()}),n._removeSplitBars(),n.options.panes.length&&n.resize(!0)),n},sizea(size,!0),mina(min),maxa(max)});u.plugin(F),l={sizingPropertyheight,sizingDomPropertyoffsetHeight,alternateSizingPropertywidth,positioningPropertytop,mousePositioningPropertypageY},c={sizingPropertywidth,sizingDomPropertyoffsetWidth,alternateSizingPropertyheight,positioningPropertyleft,mousePositioningPropertypageX},s.prototype={pressfunction(e){this._resizable.press(e)},movefunction(e,t){this.pressed(this.press(t),this.pressed=!0),this._resizable.targetthis._resizable.press(t),this._resizable.move(e)},endfunction(){this._resizable.end(),this.pressed=!1},destroyfunction(){this._resizable.destroy(),this._resizable=this._element=this.owner=null},isResizingfunction(){return this._resizable.resizing},_createHintfunction(t){var n=this;return e(div class='k-ghost-splitbar k-ghost-splitbar-+n.orientation+ k-state-default' ).css(n.alternateSizingProperty,t[n.alternateSizingProperty]())},_startfunction(t){var n=this,r=e(t.currentTarget),o=r.prev(),a=r.next(),s=o.data(E),l=a.data(E),c=parseInt(o[0].style[n.positioningProperty],10),d=parseInt(a[0].style[n.positioningProperty],10)+a[0][n.sizingDomProperty]-r[0][n.sizingDomProperty],u=parseInt(n._element.css(n.sizingProperty),10),h=function(e){var t=parseInt(e,10);return(i(e)tut100)0},p=h(s.min),f=h(s.max)d-c,g=h(l.min),m=h(l.max)d-c;n.previousPane=o,n.nextPane=a,n._maxPosition=Math.min(d-g,c+f),n._minPosition=Math.max(c+p,d-m)},_maxfunction(){return this._maxPosition},_minfunction(){return this._minPosition},_stopfunction(t){var n,i,o,a,s,l,c,u,h=this,p=e(t.currentTarget),f=h.owner;return f._panes().children(.k-splitter-overlay).remove(),t.keyCode!==d.keys.ESC&&(n=t.position,i=p.prev(),o=p.next(),a=i.data(E),s=o.data(E),l=n-parseInt(i[0].style[h.positioningProperty],10),c=parseInt(o[0].style[h.positioningProperty],10)+o[0][h.sizingDomProperty]-n-p[0][h.sizingDomProperty],u=h._element.children(z).filter(function(){return r(e(this).data(E).size)}).length,(!r(a.size)u1)&&(r(a.size)&&u--,a.size=l+px),(!r(s.size)u1)&&(s.size=c+px),f.resize(!0)),!1}}}(window.kendo.jQuery),function(e,t){function n(e){return e[e.length-1]}function i(e){return e instanceof Arraye[e]}function r(e){returnstring==typeof enumber==typeof eboolean==typeof e}function o(e,t,n){return Math.ceil(etn)}function a(e,t,n){var i=document.createElement(ndiv);return t&&(i.className=t),e.appendChild(i),i}function s(){var t,n=e('div class=k-popupul class=k-listli class=k-itemliuldiv');return n.css({positionabsolute,left-200000px,visibilityhidden}),n.appendTo(document.body),t=parseFloat(v.getComputedStyles(n.find(.k-item)[0],[line-height])[line-height]),n.remove(),t}function l(e,t,n){return{downen,upe(t-1-n)}}function c(e,t){var n=(e.listScreens-1-e.threshold)t,i=e.thresholdt;return function(e,t,r){return trnt-e.top0===e.topt-e.topi}}function d(e,t){return function(n){return t(e.scrollTop,n)}}function u(e){return function(t,n){return e(t.items,t.index,n),t}}function h(e,t){v.support.browser.msie&&10v.support.browser.versione.style.top=t+px(e.style.webkitTransform=translateY(+t+px),e.style.transform=translateY(+t+px))}function p(t,n){return function(i,r){for(var o=0,a=i.length;ao;o++)t(i[o],r[o],n),r[o].item&&(this.trigger(H,{iteme(i[o]),datar[o].item,nsv.ui}),r[o].index===this._selectedIndex&&this.select(this._selectedIndex))}}function f(e,t){var n;return t0(n=e.splice(0,t),e.push.apply(e,n))(n=e.splice(t,-t),e.unshift.apply(e,n)),n}function g(n,i,r){var o=r.template;n=e(n),i.item(o=r.placeholderTemplate),this.angular(cleanup,function(){return{elements[n]}}),n.attr(data-uid,i.itemi.item.uid).attr(data-offset-index,i.index).html(o(i.item{})),n.toggleClass(P,i.current),n.toggleClass(M,i.selected),n.toggleClass(k-first,i.newGroup),n.toggleClass(k-loading-item,!i.item),0!==i.index&&i.newGroup&&e(div class=+I+div).appendTo(n).html(r.groupTemplate({groupi.group})),i.top!==t&&h(n[0],i.top),this.angular(compile,function(){return{elements[n],data[{dataItemi.item,groupi.group,newGroupi.newGroup}]}})}function m(e,t){var n,i,r,o=t.length,a=[];for(i=0;e.lengthi;i++)for(n=e[i],r=0;or;r++)n===t[r]&&a.push({indexi,itemn});return a}var v=window.kendo,_=v.ui,w=_.Widget,y=_.DataBoundWidget,b=e.proxy,k=k-virtual-wrap,x=k-virtual-list,C=k-virtual-content,S=k-list,T=k-group-header,D=k-virtual-item,A=k-item,E=k-height-container,I=k-group,M=k-state-selected,P=k-state-focused,z=k-state-hover,F=change,R=click,B=listBound,H=itemChange,L=activate,N=deactivate,O=.VirtualList,V=y.extend({initfunction(t,n){var r=this;r._listCreated=!1,r._fetching=!1,r._filter=!1,w.fn.init.call(r,t,n),r.options.itemHeight(r.options.itemHeight=s()),n=r.options,r.element.addClass(S+ +x).attr(role,listbox),r.content=r.element.wrap(div unselectable='on' class='+C+'div).parent(),r.wrapper=r.content.wrap(div class='+k+'div).parent(),r.header=r.content.before(div class='+T+'div).prev(),r.element.on(mouseenter+O,linot(.k-loading-item),function(){e(this).addClass(z)}).on(mouseleave+O,li,function(){e(this).removeClass(z)}),r._values=i(r.options.value),r._selectedDataItems=[],r._selectedIndexes=[],r._rangesList={},r._activeDeferred=null,r._promisesList=[],r._optionID=v.guid(),r.setDataSource(n.dataSource),r.content.on(scroll+O,function(){r._renderItems()}),r._selectable()},options{nameVirtualList,autoBind!0,heightnull,listScreens4,threshold.5,itemHeightnull,oppositeBuffer1,typeflat,selectable!1,value[],dataValueFieldnull,template#data#,placeholderTemplateloading...,groupTemplate#group#,fixedGroupTemplatefixed header template,valueMappernull},events[F,R,B,H,L,N],setOptionsfunction(e){w.fn.setOptions.call(this,e),this._selectProxy&&this.options.selectable===!1this.element.off(R,.+D,this._selectProxy)!this._selectProxy&&this.options.selectable&&this._selectable(),this.refresh()},itemsfunction(){return e(this._items)},destroyfunction(){this.wrapper.off(O),this.dataSource.unbind(F,this._refreshHandler),w.fn.destroy.call(this)},setDataSourcefunction(t){var n,i=this,r=t{};r=e.isArray(r){datar}r,r=v.data.DataSource.create(r),i.dataSource(i.dataSource.unbind(F,i._refreshHandler),i.dataSource.unbind(F,i._rangeChangeHandler),n=i.value(),i.value([]),i.mute(function(){i.value(n)}))(i._refreshHandler=e.proxy(i.refresh,i),i._rangeChangeHandler=e.proxy(i.rangeChange,i)),i.dataSource=r.bind(F,i._refreshHandler).bind(F,i._rangeChangeHandler),0!==i.dataSource.view().lengthi.refresh()i.options.autoBind&&i.dataSource.fetch()},rangeChangefunction(){var e=this,t=e.dataSource.page();e._rangeChange===!0&&e._lastPage!==t&&(e._lastPage=t,e.trigger(B))},refreshfunction(e){var t,n=this,i=e&&e.action;n._mute(n._fetchingn._renderItems&&n._renderItems(!0)(n._filter&&n.focus(0),n._createList(),i!n._values.lengthn._filter(n._lastPage=n.dataSource.page(),n._listCreated=!0,n.trigger(B))n.value(n._values,!0).done(function(){n._lastPage=n.dataSource.page(),n._listCreated=!0,n.trigger(B)})),itemchange===i&&(t=m(n._selectedDataItems,e.items),t.length&&n.trigger(selectedItemChange,{itemst})),n._fetching=!1)},removeAtfunction(e){return this._selectedIndexes.splice(e,1),this._values.splice(e,1),{positione,dataItemthis._selectedDataItems.splice(e,1)[0]}},setValuefunction(e){(===enull===e)&&(e=[]),this._values=i(e)},valuefunction(n,r){var o=this;return n===to._values.slice()(o._valueDeferred&&resolved!==o._valueDeferred.state()(o._valueDeferred=e.Deferred()),(===nnull===n)&&(n=[]),n=i(n),n.length&&multiple!==o.options.selectableo.select(-1),o._values=n,(o.isBound()&&!o._muter)&&o._prefetchByValue(n),o._valueDeferred)},_prefetchByValuefunction(e){var n,o,a,s=this,l=s._dataView,c=s._valueGetter,d=!1,u=[];for(o=0;e.lengtho;o++)for(a=0;l.lengtha;a++)n=l[a].item,n&&(d=r(n)e[o]===ne[o]===c(n),d&&u.push(a));if(u.length===e.length)return s._values=[],s.select(u),t;if(function!=typeof s.options.valueMapper)throw Error(valueMapper is not provided);s.options.valueMapper({valuemultiple===this.options.selectableee[0],successfunction(e){s._values=[],s.select(i(e))}})},deferredRangefunction(t){var n=this.dataSource,i=this.itemCount,r=this._rangesList,o=e.Deferred(),a=[],s=Math.floor(ti)i,l=Math.ceil(ti)i,c=l===s[l][s,l];return e.each(c,function(t,o){var s,l=o+i,c=r[o];c&&c.end===ls=c.deferred(s=e.Deferred(),r[o]={endl,deferreds},n._multiplePrefetch(o,i,function(){s.resolve()})),a.push(s)}),e.when.apply(e,a).then(function(){o.resolve()}),o},prefetchfunction(t){var n=this,i=this.itemCount,r=!n._promisesList.length;return n._activeDeferred(n._activeDeferred=e.Deferred(),n._promisesList=[]),e.each(t,function(e,t){var r=Math.floor(ti)i;n._promisesList.push(n.deferredRange(r))}),r&&e.when.apply(e,n._promisesList).done(function(){n._activeDeferred.resolve(),n._activeDeferred=null,n._promisesList=[]}),n._activeDeferred},_findDataItemfunction(e){var t,n,i=this.dataSource.view();if(group===this.options.type)for(n=0;i.lengthn;n++){if(t=i[n].items,!(et.length))return t[e];e-=t.length}return i[e]},selectedDataItemsfunction(){return this._selectedDataItems.slice()},scrollTofunction(e){this.content.scrollTop(e)},scrollToIndexfunction(e){this.scrollTo(ethis.options.itemHeight)},focusfunction(i){var r,o,a,s,l,c,d=this.options.itemHeight,u=this._optionID,h=!0;if(i===t)return s=this.element.find(.+P),s.lengthsnull;if(function==typeof i)for(a=this.dataSource.flatView(),l=0;a.lengthl;l++)if(i(a[l])){i=l;break}return i instanceof Array&&(i=n(i)),isNaN(i)(r=e(i),o=parseInt(e(r).attr(data-offset-index),10))(o=i,r=this._getElementByIndex(o)),-1===o(this.element.find(.+P).removeClass(P),this._focusedIndex=t,t)(r.length(r.hasClass(P)&&(h=!1),this._focusedIndex!==t&&(s=this._getElementByIndex(this._focusedIndex),s.removeClass(P).removeAttr(id),h&&this.trigger(N)),this._focusedIndex=o,r.addClass(P).attr(id,u),c=this._getElementLocation(o),top===cthis.scrollTo(od)bottom===cthis.scrollTo(od+d-this.screenHeight)outScreen===c&&this.scrollTo(od),h&&this.trigger(L))(this._focusedIndex=o,this.items().removeClass(P),this.scrollToIndex(o)),t)},firstfunction(){this.scrollTo(0),this.focus(0)},lastfunction(){var e=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight),this.focus(e)},prevfunction(){var e,n=this._focusedIndex;return!isNaN(n)&&n0(n-=1,this.focus(n),e=this.focus(),e&&e.hasClass(k-loading-item)&&(n+=1,this.focus(n)),n)t},nextfunction(){var e,n=this._focusedIndex,i=this.dataSource.total()-1;return!isNaN(n)&&in(n+=1,this.focus(n),e=this.focus(),e&&e.hasClass(k-loading-item)&&(n-=1,this.focus(n)),n)t},selectfunction(e){var i,r,o,a=this,s=multiple!==a.options.selectable,l=!!a._activeDeferred,c=[];return e===ta._selectedIndexes.slice()(i=a._getIndecies(e),a._filter&&!s&&a._deselectFiltered(i)!i.lengths&&!a._filter&&n(i)===n(this._selectedIndexes)(c=a._deselect(i),s&&(a._activeDeferred=null,l=!1,i.length&&(i=[n(i)])),o=function(){var e=a._select(i);a.focus(i),a._valueDeferred&&a._valueDeferred.resolve(),(e.lengthc.length)&&a.trigger(F,{addede,removedc})},r=a.prefetch(i),l(rr.done(o)o())),t)},isBoundfunction(){return this._listCreated},mutefunction(e){this._mute=!0,b(e(),this),this._mute=!1},filterfunction(e){return e===tthis._filter(this._filter=e,t)},skipUpdatee.noop,_getElementByIndexfunction(t){return this.items().filter(function(n,i){return t===parseInt(e(i).attr(data-offset-index),10)})},_cleanfunction(){this.result=t,this._lastScrollTop=t,e(this.heightContainer).remove(),this.heightContainer=t,this.element.empty()},_screenHeightfunction(){var e=this.options.height,t=this.content;t.height(e),this.screenHeight=e},_getElementLocationfunction(e){var t,n=this.content.scrollTop(),i=this.screenHeight,r=this.options.itemHeight,o=er,a=o+r,s=n+i;return t=o===n-ran&&notopo===sso&&asbottomo=n&&n+(i-r)=oinScreenoutScreen},_templatesfunction(){var e,t={templatethis.options.template,placeholderTemplatethis.options.placeholderTemplate,groupTemplatethis.options.groupTemplate,fixedGroupTemplatethis.options.fixedGroupTemplate};for(e in t)function!=typeof t[e]&&(t[e]=v.template(t[e]));this.templates=t},_generateItemsfunction(e,t){for(var n,i=[];t--0;)n=document.createElement(li),n.tabIndex=-1,n.className=D+ +A,n.setAttribute(role,option),e.appendChild(n),i.push(n);return i},_saveInitialRangesfunction(){var t,n=this.dataSource._ranges,i=e.Deferred();for(i.resolve(),this._rangesList={},t=0;n.lengtht;t++)this._rangesList[n[t].start]={endn[t].end,deferredi}},_createListfunction(){{var t=this,n=t.content.get(0),i=t.options,r=t.dataSource;r.total()}t._listCreated&&t._clean(),t._saveInitialRanges(),t._screenHeight(),t._buildValueGetter(),t.itemCount=o(t.screenHeight,i.listScreens,i.itemHeight),t.itemCountr.total()&&(t.itemCount=r.total()),t._templates(),t._items=t._generateItems(t.element[0],t.itemCount),t._setHeight(i.itemHeightr.total()),t.options.type=r.group().lengthgroupflat,flat===t.options.typet.header.hide()t.header.show(),t.getter=t._getter(function(){t._renderItems(!0)}),t._onScroll=function(e,n){var i=t._listItems(t.getter);return t._fixedHeader(e,i(e,n))},t._renderItems=t._whenChanged(d(n,t._onScroll),u(t._reorderList(t._items,e.proxy(g,t)))),t._renderItems(),t._calculateGroupPadding(t.screenHeight)},_setHeightfunction(e){var t,n,i=this.heightContainer;if(it=i.offsetHeighti=this.heightContainer=a(this.content[0],E),e!==t)for(i.innerHTML=;e0;)n=Math.min(e,25e4),a(i).style.height=n+px,e-=n},_getterfunction(){var e=null,t=this.dataSource,n=t.skip(),i=this.options.type,r=this.itemCount,o={};return function(a,s){var l,c,d,u,h,p,f,g,m=this;if(t.inRange(s,r)){if(n!==s&&(m._mute=!0,m._fetching=!0,m._rangeChange=!0,t.range(s,r),n=s,m._rangeChange=!1,m._fetching=!1,m._mute=!1),group===i){if(!o[s])for(c=o[s]=[],d=t.view(),u=0,h=d.length;hu;u++)for(p=d[u],f=0,g=p.items.length;gf;f++)c.push({itemp.items[f],groupp.value});l=o[s][a-s]}else l=t.view()[a-s];return l}return e!==s&&(e=s,n=s,this._fetching=!0,this.deferredRange(s).then(function(){var e=m._indexConstraint(m.content[0].scrollTop);e=s&&s+r=e&&(m._fetching=!0,m._rangeChange=!0,t.range(s,r),m._rangeChange=!1)})),null}},_fixedHeaderfunction(e,t){var n,i=this.currentVisibleGroup,r=this.options.itemHeight,o=Math.floor((e-t.top)r),a=t.items[o];return a&&a.item&&(n=a.group,n!==i&&(this.header[0].innerHTML=n,this.currentVisibleGroup=n)),t},_itemMapperfunction(e,t){var n,i=this.options.type,o=this.options.itemHeight,a=this._values,s=this._focusedIndex,l=!1,c=!1,d=!1,u=null,h=!1,p=this._valueGetter;if(group===i&&(e&&(d=0===tthis._currentGroup&&this._currentGroup!==e.group,this._currentGroup=e.group),u=ee.groupnull,e=ee.itemnull),a.length&&e)for(n=0;a.lengthn;n++)if(h=r(e)a[n]===ea[n]===p(e)){l=!0;
break}return s===t&&(c=!0),{itemeenull,groupu,newGroupd,selectedl,currentc,indext,topto}},_rangefunction(e){var t,n,i,r=this.itemCount,o=[];for(this._view={},this._currentGroup=null,n=e,i=e+r;in;n++)t=this._itemMapper(this.getter(n,e),n),o.push(t),this._view[t.index]=t;return this._dataView=o,o},_getDataItemsCollectionfunction(e,t){var n=this._range(this._listIndex(e,t));return{indexn.lengthn[0].index0,topn.lengthn[0].top0,itemsn}},_listItemsfunction(){var t=this.screenHeight,n=this.options,i=c(n,t);return e.proxy(function(e,t){var n=this.result,r=this._lastScrollTop;return!t&&n&&i(n,e,r)(n=this._getDataItemsCollection(e,r)),this._lastScrollTop=e,this.result=n,n},this)},_whenChangedfunction(e,t){var n;return function(i){var r=e(i);r!==n&&(n=r,t(r,i))}},_reorderListfunction(t,n){var i=this,r=t.length,o=-10;return n=e.proxy(p(n,this.templates),this),function(e,a,s){var l,c,d=a-o;sMath.abs(d)=r(l=t,c=e)(l=f(t,d),c=d0e.slice(-d)e.slice(0,-d)),n(l,c,i._listCreated),o=a}},_bufferSizesfunction(){var e=this.options;return l(this.screenHeight,e.listScreens,e.oppositeBuffer)},_indexConstraintfunction(e){var t=this.itemCount,n=this.options.itemHeight,i=this.dataSource.total();return Math.min(Math.max(i-t,0),Math.max(0,Math.floor(en)))},_listIndexfunction(e,t){var n,i=this._bufferSizes();return n=e-(eti.downi.up),this._indexConstraint(n)},_selectablefunction(){this.options.selectable&&(this._selectProxy=e.proxy(this,_clickHandler),this.element.on(R+O,.+D,this._selectProxy))},_getIndeciesfunction(e){var t,n,i=[];if(function==typeof e)for(t=this.dataSource.flatView(),n=0;t.lengthn;n++)if(e(t[n])){i.push(n);break}returnnumber==typeof e&&i.push(e),e instanceof jQuery&&(e=parseInt(e.attr(data-offset-index),10),isNaN(e)i.push(e)),e instanceof Array&&(i=e),i},_deselectfunction(n){var i,r,o,a,s,l,c=[],d=this._selectedIndexes,u=0,h=this.options.selectable,p=0;if(-1===n[u]){for(s=0;d.lengths;s++)r=d[s],this._getElementByIndex(r).removeClass(M),c.push({indexr,positions,dataItemthis._selectedDataItems[s]});return this._values=[],this._selectedDataItems=[],this._selectedIndexes=[],n.splice(0,n.length),c}if(h===!0)i=n[u],r=d[u],r!==t&&i!==r&&(this._getElementByIndex(r).removeClass(M),c.push({indexr,positionu,dataItemthis._selectedDataItems[u]}),this._values=[],this._selectedDataItems=[],this._selectedIndexes=[]);else if(multiple===h)for(l=0;n.lengthl;l++)if(u=e.inArray(n[l],d),r=d[u],r!==t){if(a=this._getElementByIndex(r),!a.hasClass(k-state-selected))continue;a.removeClass(M),this._values.splice(u,1),this._selectedIndexes.splice(u,1),o=this._selectedDataItems.splice(u,1),n.splice(l,1),c.push({indexr,positionu+p,dataItemo}),p++,l--}return c},_deselectFilteredfunction(t){for(var n,i,r,o,a=this.element[0].children,s=this._values,l=[],c=0;t.lengthc;c++){for(r=-1,i=t[c],n=this._valueGetter(this._view[i].item),o=0;s.lengtho;o++)if(n==s[o]){r=o;break}r-1&&(l.push(this.removeAt(r)),e(a[i]).removeClass(k-state-selected))}return l.length(this.trigger(change,{added[],removedl}),!0)!1},_selectfunction(t){var n,i,o=this,a=multiple!==this.options.selectable,s=this.dataSource,l=this.itemCount,c=this._valueGetter,d=[];return a&&(o._selectedIndexes=[],o._selectedDataItems=[],o._values=[]),i=s.skip(),e.each(t,function(e,t){var a=lt1Math.floor(tl)+1,u=(a-1)l;o.mute(function(){s.range(u,l),n=o._findDataItem([t-u]),o._selectedIndexes.push(t),o._selectedDataItems.push(n),o._values.push(r(n)nc(n)),d.push({indext,dataItemn}),o._getElementByIndex(t).addClass(M),s.range(i,l)})}),d},_clickHandlerfunction(t){var n=e(t.currentTarget);!t.isDefaultPrevented()&&n.data(uid)&&this.trigger(R,{itemn})},_buildValueGetterfunction(){this._valueGetter=v.getter(this.options.dataValueField)},_calculateGroupPaddingfunction(e){var t=this.items().first(),n=this.header,i=0;n[0]&&none!==n[0].style.display&&(auto!==e&&(i=v.support.scrollbar()),i+=parseFloat(t.css(border-right-width),10)+parseFloat(t.children(.k-group).css(right),10),n.css(padding-right,i))}});v.ui.VirtualList=V,v.ui.plugin(V)}(window.kendo.jQuery),function(e){function t(e,t){function n(e,r){var o,a;if(r=r[t])for(o=i[e]=i[e][],a=0;r.lengtha;a++)o.push(r[a]),n(e+1,r[a])}var i=[];return n(0,e),i}function n(){return I.support.cssBorderSpacing'cellspacing=0'}function i(t,i){return t.lengthtable +n()+' class='+e.trim(k-scheduler-table +(i))+'tr'+t.join(trtr)+trtable}function r(e,t){return e.lengthdiv style='positionrelative'+i(e,t)+div}function o(t,n,r){var o,a=[];if(r0)for(o=0;to;o++)a.push(th&nbsp;th);return n&&a.push('th class=k-scheduler-times-all-day'+n.text+th),1re()e('div class=k-scheduler-times'+i(a)+div)}function a(t,n,o){var a,s,l,c,d,u,h,p,f,g,m=[];for(s=0;t.lengths;s++){for(l=t[s],c=[],d=nl.length,a=0;l.lengtha;a++)u=l[a],c.push('th colspan='+(u.colspand)+' class='+(u.className)+''+u.text+th);m.push(c.join())}if(h=[],o){for(p=t[t.length-1],f=[],g=o.cellContent,a=0;p.lengtha;a++)f.push('td class='+(p[a].className)+''+(gg(a)&nbsp;)+th);h.push(f.join())}return e('div class=k-scheduler-header k-state-defaultdiv class=k-scheduler-header-wrap'+i(m)+r(h,k-scheduler-header-all-day)+divdiv)}function s(t,n){var r,o,a,s,l,c=Array(n).join().split(,),d=[];for(o=0;t.lengtho;o++)for(a=t[o],s=na.length,r=0;a.lengthr;r++)l=a[r].className,a[r].allDay&&(l=k-scheduler-times-all-day),c[sr]+='th class='+l+' rowspan='+s+''+a[r].text+th;for(r=0;nr;r++)d.push(c[r]);return 1ne()e('div class=k-scheduler-times'+i(d)+div)}function l(){return e('div class=k-scheduler-contenttable '+n()+' class=k-scheduler-tablediv')}function c(){return D=DDI.support.scrollbar()}function d(e,t,n){var i,r,o,a,s;for(i=e.length-1;i=0;i--)r=u(e[i]),o=r.start,s=r.end,a=t=o&&s=t,(ao=t&&n=so=t&&n=o)&&(to&&(t=o),sn&&(n=s));return h(e,t,n)}function u(e){return{starte.start,ende.end}}function h(e,t,n){var i,r,o=[];for(i=0;e.lengthi;i++)r=u(e[i]),(tr.start&&r.endtr.start=t&&n=r.end)&&o.push(e[i]);return o}function p(e){return g(e)}function f(e){return g(e)}function g(e){var t,n,i,r,o,a,s,l=[];for(t=0;e.lengtht;t++){for(n=e[t],i=u(n),r=null,o=0,a=l.length;ao;o++)if(s=i.startl[o].end,l[o].starti.starts){r=l[o],i.endr.end&&(r.end=i.end);break}r(r={starti.start,endi.end,events[]},l.push(r)),r.events.push(n)}return l}function m(e,t,n,i){var r,o,a,s,l=t[0];if(l){for(r=[],o=l.dataSource.view(),a=0;o.lengtha;a++)s={texti({textI.htmlEncode(I.getter(l.dataTextField)(o[a])),colorI.getter(l.dataColorField)(o[a]),fieldl.field,titlel.title,namel.name,valueI.getter(l.dataValueField)(o[a])}),classNamek-slot-cell},s[e]=m(e,t.slice(1),n,i),r.push(s);return r}return n}function v(t){return function(n){if(e.isArray(n)n instanceof I.data.ObservableArray){for(var i=0;n.lengthi;i++)if(n[i]==t)return!0;return!1}return n==t}}function _(e){e.className=e.className.replace(E,)+ k-state-selected}var w,y,b,k,x,C,S,T,D,A,E,I=window.kendo,M=I.ui,P=M.Widget,z=I.keys,F=.kendoSchedulerView,R=Math,B='div class=k-marquee k-scheduler-marqueediv class=k-marquee-colordivdiv class=k-marquee-textdiv class=k-label-topdivdiv class=k-label-bottomdivdivdiv';I.ui.scheduler={},w=I.Class.extend({initfunction(e){this._index=e,this._timeSlotCollections=[],this._daySlotCollections=[]},addTimeSlotCollectionfunction(e,t){return this._addCollection(e,t,this._timeSlotCollections)},addDaySlotCollectionfunction(e,t){return this._addCollection(e,t,this._daySlotCollections)},_addCollectionfunction(e,t,n){var i=new x(e,t,this._index,n.length);return n.push(i),i},timeSlotCollectionCountfunction(){return this._timeSlotCollections.length},daySlotCollectionCountfunction(){return this._daySlotCollections.length},daySlotByPositionfunction(e,t){return this._slotByPosition(e,t,this._daySlotCollections)},timeSlotByPositionfunction(e,t){return this._slotByPosition(e,t,this._timeSlotCollections)},_slotByPositionfunction(e,t,n){var i,r,o,a;for(i=0;n.lengthi;i++)for(r=n[i],o=0;or.count();o++)if(a=r.at(o),e=a.offsetLeft&&a.offsetLeft+a.offsetWidthe&&t=a.offsetTop&&a.offsetTop+a.clientHeight=t)return a},refreshfunction(){var e;for(e=0;this._daySlotCollections.lengthe;e++)this._daySlotCollections[e].refresh();for(e=0;this._timeSlotCollections.lengthe;e++)this._timeSlotCollections[e].refresh()},timeSlotRangesfunction(e,t){var n,i=this._timeSlotCollections,r=this._startSlot(e,i);return!r.inRange&&e=r.slot.end&&(r=null),n=r,te&&(n=this._endSlot(t,i)),n&&!n.inRange&&n.slot.start=t&&(n=null),null===r&&null===n[](null===r&&(r={inRange!0,sloti[n.slot.collectionIndex].first()}),null===n&&(n={inRange!0,sloti[r.slot.collectionIndex].last()}),this._continuousRange(b,i,r,n))},daySlotRangesfunction(e,t,n){var i,r=this._daySlotCollections,o=this._startSlot(e,r,n);if(!o.inRange&&e=o.slot.end&&(o=null),i=o,te&&(i=this._endSlot(t,r,n)),i&&!i.inRange&&i.slot.start=t&&(i=null),null===o&&null===i)return[];if(null===o)do e+=I.date.MS_PER_DAY,o=this._startSlot(e,r,n);while(!o.inRange&&e=o.slot.end);if(null===i)do t-=I.date.MS_PER_DAY,i=this._endSlot(t,r,n);while(!i.inRange&&i.slot.start=t);return this._continuousRange(k,r,o,i)},_continuousRangefunction(e,t,n,i){var r,o,a,s,l,c,d=n.slot,u=i.slot,h=d.collectionIndex,p=u.collectionIndex,f=[];for(r=h;p=r;r++)o=t[r],a=o.first(),s=o.last(),l=!1,c=!1,r==h&&(c=!n.inRange),r==p&&(l=!i.inRange),d.starta.start&&(a=d),s.startu.start&&(s=u),ph&&(r==hl=!0r==pc=!0l=c=!0),f.push(new e({starta,ends,collectiono,headl,tailc}));return f},slotRangesfunction(e,t){var n=e._startTimeI.date.toUtcTime(e.start),i=e._endTimeI.date.toUtcTime(e.end);return void 0===t&&(t=e.isMultiDay()),tthis.daySlotRanges(n,i,e.isAllDay)this.timeSlotRanges(n,i)},rangesfunction(e,t,n,i){returnnumber!=typeof e&&(e=I.date.toUtcTime(e)),number!=typeof t&&(t=I.date.toUtcTime(t)),nthis.daySlotRanges(e,t,i)this.timeSlotRanges(e,t)},_startCollectionfunction(e,t){var n,i;for(n=0;t.lengthn;n++)if(i=t[n],i.startInRange(e))return i;return null},_endCollectionfunction(e,t,n){var i,r;for(i=0;t.lengthi;i++)if(r=t[i],r.endInRange(e,n))return r;return null},_getCollectionsfunction(e){return ethis._daySlotCollectionsthis._timeSlotCollections},continuousSlotfunction(e,t){var n=t-11,i=this._getCollections(e.isDaySlot),r=i[e.collectionIndex+n];return rr[tlastfirst]()void 0},firstSlotfunction(){var e=this._getCollections(this.daySlotCollectionCount());return e[0].first()},lastSlotfunction(){var e=this._getCollections(this.daySlotCollectionCount());return e[e.length-1].last()},upSlotfunction(e,t){var n=this,i=function(e,i,r){var o=0===r;return!t&&!e&&o&&n.daySlotCollectionCount()n._daySlotCollections[0].at(i)void 0};return this.timeSlotCollectionCount()(t=!0),this._verticalSlot(e,-1,i)},downSlotfunction(e,t){var n=this,i=function(e,i,r){return!t&&e&&n.timeSlotCollectionCount()n._timeSlotCollections[r].at(0)void 0};return this.timeSlotCollectionCount()(t=!0),this._verticalSlot(e,1,i)},leftSlotfunction(e){return this._horizontalSlot(e,-1)},rightSlotfunction(e){return this._horizontalSlot(e,1)},_horizontalSlotfunction(e,t){var n,i=e.index,r=e.isDaySlot,o=e.collectionIndex,a=this._getCollections(r);return ri+=to+=t,n=a[o],nn.at(i)void 0},_verticalSlotfunction(e,t,n){var i,r=e.index,o=e.isDaySlot,a=e.collectionIndex,s=this._getCollections(o);return(e=n(o,a,r))e(oa+=tr+=t,i=s[a],ii.at(r)void 0)},_collectionfunction(e,t){var n=tthis._daySlotCollectionsthis._timeSlotCollections;return n[e]},_startSlotfunction(e,t,n){var i,r=this._startCollection(e,t),o=!0;return r(r=t[0],o=!1),i=r.slotByStartDate(e,n),i(i=r.first(),o=!1),{sloti,inRangeo}},_endSlotfunction(e,t,n){var i,r=this._endCollection(e,t,n),o=!0;return r(r=t[t.length-1],o=!1),i=r.slotByEndDate(e,n),i(i=r.last(),o=!1),{sloti,inRangeo}},getSlotCollectionfunction(e,t){return this[tgetDaySlotCollectiongetTimeSlotCollection](e)},getTimeSlotCollectionfunction(e){return this._timeSlotCollections[e]},getDaySlotCollectionfunction(e){return this._daySlotCollections[e]}}),y=I.Class.extend({initfunction(t){e.extend(this,t)},innerHeightfunction(){var e,t=this.collection,n=this.start.index,i=this.end.index,r=0;for(e=n;i=e;e++)r+=t.at(e).offsetHeight;return r},eventsfunction(){return this.collection.events()},addEventfunction(e){this.events().push(e)},startSlotfunction(){return this.start.offsetLeftthis.end.offsetLeftthis.endthis.start},endSlotfunction(){return this.start.offsetLeftthis.end.offsetLeftthis.startthis.end}}),b=y.extend({innerHeightfunction(){var e,t=this.collection,n=this.start.index,i=this.end.index,r=0;for(e=n;i=e;e++)r+=t.at(e).offsetHeight;return r},outerRectfunction(e,t,n){return this._rect(offset,e,t,n)},_rectfunction(e,t,n,i){var r,o,a,s,l,c,d,u,h=this.start,p=this.end,f=I.support.isRtl(h.element);returnnumber!=typeof t&&(t=I.date.toUtcTime(t)),number!=typeof n&&(n=I.date.toUtcTime(n)),i(r=h.offsetTop,o=p.offsetTop+p[e+Height],f(a=p.offsetLeft,s=h.offsetLeft+h[e+Width])(a=h.offsetLeft,s=p.offsetLeft+p[e+Width]))(l=t-h.start,0l&&(l=0),c=h.end-h.start,r=h.offsetTop+h[e+Height]lc,d=p.end-n,0d&&(d=0),u=p.end-p.start,o=p.offsetTop+p[e+Height]-p[e+Height]du,f(a=Math.round(p.offsetLeft+p[e+Width]du),s=Math.round(h.offsetLeft+h[e+Width]-h[e+Width]lc))(a=Math.round(h.offsetLeft+h[e+Width]lc),s=Math.round(p.offsetLeft+p[e+Width]-p[e+Width]du))),{topr,bottomo,left0===aaa+1,rights}},innerRectfunction(e,t,n){return this._rect(client,e,t,n)}}),k=y.extend({innerWidthfunction(){var e,t=this.collection,n=this.start.index,i=this.end.index,r=0,o=n!==ioffsetWidthclientWidth;for(e=n;i=e;e++)r+=t.at(e)[o];return r}}),x=I.Class.extend({initfunction(e,t,n,i){this._slots=[],this._events=[],this._start=I.date.toUtcTime(e),this._end=I.date.toUtcTime(t),this._groupIndex=n,this._collectionIndex=i},refreshfunction(){for(var e=0;this._slots.lengthe;e++)this._slots[e].refresh()},startInRangefunction(e){return e=this._start&&this._ende},endInRangefunction(e,t){var n=tthis._endethis._end=e;return e=this._start&&n},slotByStartDatefunction(e){var t,n,i=e;for(number!=typeof i&&(i=I.date.toUtcTime(e)),t=0;this._slots.lengtht;t++)if(n=this._slots[t],n.startInRange(i))return n;return null},slotByEndDatefunction(e,t){var n,i,r=e;if(number!=typeof r&&(r=I.date.toUtcTime(e)),t)return this.slotByStartDate(e,!1);for(n=0;this._slots.lengthn;n++)if(i=this._slots[n],i.endInRange(r))return i;return null},countfunction(){return this._slots.length},eventsfunction(){return this._events},addTimeSlotfunction(e,t,n,i){var r=new S(e,t,n,this._groupIndex,this._collectionIndex,this._slots.length,i);this._slots.push(r)},addDaySlotfunction(e,t,n,i){var r=new T(e,t,n,this._groupIndex,this._collectionIndex,this._slots.length,i);this._slots.push(r)},firstfunction(){return this._slots[0]},lastfunction(){return this._slots[this._slots.length-1]},atfunction(e){return this._slots[e]}}),C=I.Class.extend({initfunction(e,t,n,i,r,o){this.element=e,this.clientWidth=e.clientWidth,this.clientHeight=e.clientHeight,this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight,this.offsetTop=e.offsetTop,this.offsetLeft=e.offsetLeft,this.start=t,this.end=n,this.element=e,this.groupIndex=i,this.collectionIndex=r,this.index=o,this.isDaySlot=!1},startDatefunction(){return I.timezone.toLocalDate(this.start)},endDatefunction(){return I.timezone.toLocalDate(this.end)},startInRangefunction(e){return e=this.start&&this.ende},endInRangefunction(e){return ethis.start&&this.end=e},startOffsetfunction(){return this.start},endOffsetfunction(){return this.end}}),S=C.extend({initfunction(e,t,n,i,r,o,a){C.fn.init.apply(this,arguments),this.isHorizontal=a!0!1},refreshfunction(){var e=this.element;this.clientWidth=e.clientWidth,this.clientHeight=e.clientHeight,this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight,this.offsetTop=e.offsetTop,this.offsetLeft=e.offsetLeft},offsetXfunction(e,t){return ethis.offsetLeft+tthis.offsetLeft+t},startInRangefunction(e){return e=this.start&&this.ende},endInRangefunction(e){return ethis.start&&this.end=e},startOffsetfunction(t,n,i){var r,o,a,s,l;if(i)return this.start;if(r=e(this.element).offset(),o=this.end-this.start,this.isHorizontal){if(l=I.support.isRtl(this.element),a=t-r.left,s=Math.floor(o(athis.offsetWidth)),l)return this.start+o-s}else a=n-r.top,s=Math.floor(o(athis.offsetHeight));return this.start+s},endOffsetfunction(t,n,i){var r,o,a,s,l;if(i)return this.end;if(r=e(this.element).offset(),o=this.end-this.start,this.isHorizontal){if(l=I.support.isRtl(this.element),a=t-r.left,s=Math.floor(o(athis.offsetWidth)),l)return this.start+o-s}else a=n-r.top,s=Math.floor(o(athis.offsetHeight));return this.start+s}}),T=C.extend({initfunction(e,t,n,i,r,o,a){C.fn.init.apply(this,arguments),this.eventCount=a,this.isDaySlot=!0,this.element.children.length(this.firstChildHeight=this.element.children[0].offsetHeight+3,this.firstChildTop=this.element.children[0].offsetTop)(this.firstChildHeight=3,this.firstChildTop=0)},refreshfunction(){this.clientHeight=this.element.clientHeight,this.offsetTop=this.element.offsetTop},startDatefunction(){var e=new Date(this.start);return I.timezone.apply(e,EtcUTC)},endDatefunction(){var e=new Date(this.end);return I.timezone.apply(e,EtcUTC)},startInRangefunction(e){return e=this.start&&this.ende},endInRangefunction(e){return ethis.start&&this.end=e}}),I.ui.SchedulerView=P.extend({initfunction(t,n){P.fn.init.call(this,t,n),this._scrollbar=c(),this._isRtl=I.support.isRtl(t),this._resizeHint=e(),this._moveHint=e(),this._cellId=I.guid(),this._resourcesForGroups(),this._selectedSlots=[]},_isMobilefunction(){var e=this.options;return e.mobile===!0&&I.support.mobileOSphone===e.mobiletablet===e.mobile},_isMobilePhoneViewfunction(){var e=this.options;return e.mobile===!0&&I.support.mobileOS&&!I.support.mobileOS.tabletphone===e.mobile},_addResourceViewfunction(){var e=new w(this.groups.length);return this.groups.push(e),e},dateForTitlefunction(){return I.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},shortDateForTitlefunction(){return I.format(this.options.selectedShortDateFormat,this.startDate(),this.endDate())},_changeGroupfunction(e,t){var n=tprevGroupSlotnextGroupSlot,i=this[n](e.start,e.groupIndex,e.isAllDay);return i&&(e.groupIndex+=t-11),i},_changeGroupContinuouslyfunction(){return null},_changeViewPeriodfunction(){return!1},_horizontalSlotsfunction(e,t,n,i){var r,o,a=ileftSlotrightSlot,s=t[0].start,l=t[t.length-1].end,c=this.groups[e.groupIndex];return n(r=this._normalizeHorizontalSelection(e,t,i),r&&(s=l=r)),s=c[a](s),l=c[a](l),nthis._isVerticallyGrouped()s&&l(s=l=this._changeGroup(e,i)),s&&l(o=this._continuousSlot(e,t,i),o=this._changeGroupContinuously(e,o,n,i),o&&(s=l=o)),{startSlots,endSlotl}},_verticalSlotsfunction(e,t,n,i){var r,o,a=t[0].start,s=t[t.length-1].end,l=this.groups[e.groupIndex];return n(r=this._normalizeVerticalSelection(e,t,i),r&&(a=s=r)),o=iupSlotdownSlot,a=l[o](a,n),s=l[o](s,n),n!this._isVerticallyGrouped()a&&s(a=s=this._changeGroup(e,i)),{startSlota,endSlots}},_normalizeHorizontalSelectionfunction(){return null},_normalizeVerticalSelectionfunction(e,t,n){var i;return i=nt[0].startt[t.length-1].end},_continuousSlotfunction(){return null},constrainSelectionfunction(e){var t,n=this.groups[0];this.inRange(e)n.daySlotCollectionCount()(e.isAllDay=!1)(t=n.firstSlot(),e.isAllDay=t.isDaySlot,e.start=t.startDate(),e.end=t.endDate()),this.groups[e.groupIndex](e.groupIndex=0)},movefunction(e,t,n){var i,r,o,a,s,l,c=!1,d=this.groups[e.groupIndex];if(d.timeSlotCollectionCount()(e.isAllDay=!0),i=d.ranges(e.start,e.end,e.isAllDay,!1),t===z.DOWNt===z.UP){if(c=!0,a=t===z.UP,this._updateDirection(e,i,n,a,!0),s=this._verticalSlots(e,i,n,a),!s.startSlot&&!n&&this._changeViewPeriod(e,a,!0))return c}else if((t===z.LEFTt===z.RIGHT)&&(c=!0,a=t===z.LEFT,this._updateDirection(e,i,n,a,!1),s=this._horizontalSlots(e,i,n,a),!s.startSlot&&!n&&this._changeViewPeriod(e,a,!1)))return c;return c&&(r=s.startSlot,o=s.endSlot,n(l=e.backward,l&&re.start=r.startDate()!l&&o&&(e.end=o.endDate()))r&&o&&(e.isAllDay=r.isDaySlot,e.start=r.startDate(),e.end=o.endDate()),e.events=[]),c},moveToEventInGroupfunction(t,n,i,r){for(var o,a,s=t._continuousEvents[],l=r-11,c=s.length,d=rc-10;cd&&d-1;){if(a=s[d],(!r&&a.start.startDate()=n.startDate()r&&a.start.startDate()=n.startDate())&&(i.length&&(a=s[d+l]),a&&-1===e.inArray(a.uid,i))){o=!!a;break}d+=l}return a},moveToEventfunction(e,t){for(var n,i=e.groupIndex,r=this.groups[i],o=r.ranges(e.start,e.end,e.isAllDay,!1)[0].start,a=this.groups.length,s=t-11,l=e.events;ai&&i-1&&(n=this.moveToEventInGroup(r,o,l,t),i+=s,r=this.groups[i],r&&!n);)l=[],o=tr.lastSlot()r.firstSlot(!0);return n&&(e.events=[n.uid],e.start=n.start.startDate(),e.end=n.end.endDate(),e.isAllDay=n.start.isDaySlot,e.groupIndex=n.start.groupIndex),!!n},currentfunction(e){return void 0===ethis._current(this._current=e,void this._scrollTo(e,this.content[0]))},selectfunction(e){this.clearSelection(),this._selectEvents(e)this._selectSlots(e)},_selectSlotsfunction(e){var t,n,i,r,o,a,s,l=e.isAllDay,c=this.groups[e.groupIndex];for(c.timeSlotCollectionCount()(l=!0),this._selectedSlots=[],t=c.ranges(e.start,e.end,l,!1),r=0;t.lengthr;r++)for(o=t[r],a=o.collection,s=o.start.index;o.end.index=s;s++)i=a.at(s),n=i.element,n.setAttribute(aria-selected,!0),_(n),this._selectedSlots.push({starti.startDate(),endi.endDate(),elementn});e.backward&&(n=t[0].start.element),this.current(n)},_selectEventsfunction(t){var n,i,r=!1,o=t.events,a=this.groups[t.groupIndex]._continuousEvents[],s=a.length;if(!o[0]!a[0])return r;for(i=e(),t.events=[],n=0;sn;n++)e.inArray(a[n].uid,o)-1&&(i=i.add(a[n].element),t.events.push(a[n].uid));return i[0]&&(i.addClass(k-state-selected).attr(aria-selected,!0),this.current(i.last()[0]),this._selectedSlots=[],r=!0),r},inRangefunction(e){var t=this.startDate(),n=I.date.addDays(this.endDate(),1),i=e.start,r=e.end;return i=t&&ni&&rt&&n=r},_resourceValuefunction(e,t){return e.valuePrimitive&&(t=I.getter(e.dataValueField)(t)),t},_resourceBySlotfunction(e){var t,n,i,r,o,a=this.groupedResources,s={};if(a.length)for(t=e.groupIndex,n=a.length-1;n=0;n--)i=a[n],r=this._resourceValue(i,i.dataSource.view()[t%i.dataSource.total()]),i.multiple&&(r=[r]),o=I.setter(i.field),o(s,r),t=Math.floor(ti.dataSource.total());return s},_createResizeHintfunction(t,n,i,r){return e(B).css({leftt,topn,widthi,heightr})},_removeResizeHintfunction(){this._resizeHint.remove(),this._resizeHint=e()},_removeMoveHintfunction(){this._moveHint.remove(),this._moveHint=e()},_scrollTofunction(e,t){var n=e.offsetTop,i=e.offsetHeight,r=t.scrollTop,o=t.clientHeight,a=n+i,s=0;s=rnnar+oo=ia-onr,t.scrollTop=s},_shouldInverseResourceColorfunction(e){var t=new A(e.color).isDark(),n=this.element.css(color),i=new A(n).isDark();return t==i},_eventTmplfunction(t,n){var i,r=this.options,o=e.extend({},I.Template,r.templateSettings),a=o.paramName,s=,l=typeof t,c={storage{},count0};returnfunction===l(c.storage[tmpl+c.count]=t,s+=#=this.tmpl+c.count+(+a+)#,c.count++)string===l&&(s+=t),i=I.template(I.format(n,s),o),c.count0&&(i=e.proxy(i,c.storage)),i},eventResourcesfunction(e){var t,n,i,r,o,a,s,l,c,d,u=[],h=this.options;if(!h.resources)return u;for(t=0;h.resources.lengtht;t++)if(n=h.resources[t],i=n.field,r=I.getter(i)(e))for(n.multiple(r=[r]),o=n.dataSource.view(),a=0;r.lengtha;a++){for(s=null,l=r[a],n.valuePrimitive(l=I.getter(n.dataValueField)(l)),c=0;o.lengthc;c++)if(o[c].get(n.dataValueField)==l){s=o[c];break}null!==s&&(d=I.getter(n.dataColorField)(s),u.push({fieldn.field,titlen.title,namen.name,textI.getter(n.dataTextField)(s),valuel,colord}))}return u},createLayoutfunction(i){var r,o,a,s,l,c=-1;for(i.rows(i.rows=[]),r=0;i.rows.lengthr;r++)if(i.rows[r].allDay){c=r;break}o=i.rows[c],c=0&&i.rows.splice(c,1),a=this.columnLevels=t(i,columns),s=this.rowLevels=t(i,rows),this.table=e(table +n()+' class=k-scheduler-layout k-scheduler-'+this.name+'view'),l=s[s.length-1].length,this.table.append(this._topSection(a,o,l)),this.table.append(this._bottomSection(a,s,l)),this.element.append(this.table),this._scroller()},refreshLayoutfunction(){var t,n,i,r,o,a,s=this,l=s.element.find(.k-scheduler-toolbar),c=s.element.innerHeight(),d=this._scrollbar,u=0,h=this._isRtlleftright;for(t=0;l.lengtht;t++)c-=l.eq(t).outerHeight();s.datesHeader&&(u=s.datesHeader.outerHeight()),s.timesHeader&&s.timesHeader.outerHeight()u&&(u=s.timesHeader.outerHeight()),s.datesHeader&&s.timesHeader&&(n=s.datesHeader.find(tablefirst tr),s.timesHeader.find(tr).height(function(t){e(this).height(n.eq(t).height())})),u&&(c-=u),s.footer&&(c-=s.footer.outerHeight()),i=function(e){var t,n;return e[0].style.height!0(t=e.height(),e.height(auto),n=e.height(),t!=n(e.height(),!0)(e.height(),!1))},r=s.content[0],o=I.support.kineticScrollNeeded0d,i(s.element)&&(s.content.height(c2dc2d+1),s.times.height(r.clientHeight),a=s.times.find(table),a.length&&a.height(s.content.find(table)[0].clientHeight)),r.offsetWidth-r.clientWidth0(s.table.addClass(k-scrollbar-v),s.datesHeader.css(padding-+h,o-parseInt(s.datesHeader.children().css(border-+h+-width),10)))s.datesHeader.css(padding-+h,),r.offsetHeight-r.clientHeight0r.clientHeights.content.children(.k-scheduler-table).height()s.table.addClass(k-scrollbar-h)s.table.removeClass(k-scrollbar-h)},_topSectionfunction(t,n,i){this.timesHeader=o(t.length,n,i);var r=t[t.length-1].length;return this.datesHeader=a(t,r,n),e(tr).append(this.timesHeader.add(this.datesHeader).wrap(td).parent())},_bottomSectionfunction(t,n,i){return this.times=s(n,i),this.content=l(t[t.length-1],n[n.length-1]),e(tr).append(this.times.add(this.content).wrap(td).parent())},_scrollerfunction(){var t,n=this;this.content.bind(scroll+F,function(){n.datesHeader.find(.k-scheduler-header-wrap).scrollLeft(this.scrollLeft),n.times.scrollTop(this.scrollTop)}),t=I.touchScroller(this.content,{avoidScrollingfunction(t){return e(t.event.target).closest(.k-event.k-event-active).length0}}),t&&t.movable&&(this._touchScroller=t,this.content=t.scrollElement,t.movable.bind(change,function(e){n.datesHeader.find(.k-scheduler-header-wrap).scrollLeft(-e.sender.x),n.times.scrollTop(-e.sender.y)}))},_resourcesForGroupsfunction(){var e,t,n,i,r=[],o=this.options.group,a=this.options.resources;if(o=o&&o.resourceso.resources[],a&&o.length)for(e=0,t=a.length;te;e++)for(n=0,i=o.length;in;n++)a[e].name===o[n]&&r.push(a[e]);this.groupedResources=r},_createColumnsLayoutfunction(e,t,n){return m(columns,e,t,n)},_groupOrientationfunction(){var e=this.options.group;return e&&e.resourcese.orientationhorizontal},_isVerticallyGroupedfunction(){return this.groupedResources.length&&vertical===this._groupOrientation()},_createRowsLayoutfunction(e,t,n){return m(rows,e,t,n)},selectionByElementfunction(){return null},clearSelectionfunction(){this.content.find(.k-state-selected).removeAttr(id).attr(aria-selected,!1).removeClass(k-state-selected)},destroyfunction(){var e=this;P.fn.destroy.call(this),e.table&&(I.destroy(e.table),e.table.remove()),e.groups=null,e.table=null,e.content=null,e.times=null,e.datesHeader=null,e.timesHeader=null,e.footer=null,e._resizeHint=null,e._moveHint=null},calendarInfofunction(){return I.getCulture().calendars.standard},prevGroupSlotfunction(e,t,n){var i,r=this.groups[t],o=r.ranges(e,e,n,!1)[0].start;if(!(0=t))return this._isVerticallyGrouped()r.timeSlotCollectionCount()(i=r._collection(no.indexo.collectionIndex,!1),i.last())(i=r._collection(r.daySlotCollectionCount()-1,!0),i.at(o.index))r.timeSlotCollectionCount()(i=r._collection(n0r.timeSlotCollectionCount()-1,n),ni.last()i.at(o.index))(i=r._collection(o.collectionIndex,!0),i.last())},nextGroupSlotfunction(e,t,n){var i,r,o=this.groups[t],a=o.ranges(e,e,n,!1)[0].start;if(!(t=this.groups.length-1))return this._isVerticallyGrouped()o.timeSlotCollectionCount()(r=o.daySlotCollectionCount(),i=o._collection(r0a.collectionIndex,r),ni.first()i.at(a.collectionIndex))(i=o._collection(0,!0),i.at(a.index))o.timeSlotCollectionCount()(i=o._collection(0,n),ni.first()i.at(a.index))(i=o._collection(a.collectionIndex,!0),i.first())},_updateEventForMovefunction(){},_updateEventForResizefunction(){},_updateEventForSelectionfunction(e){return e}}),A=function(e){var t,n,i,r,o,a=this,s=A.formats;if(1===arguments.length)for(e=a.resolveColor(e),r=0;s.lengthr;r++)t=s[r].re,n=s[r].process,i=t.exec(e),i&&(o=n(i),a.r=o[0],a.g=o[1],a.b=o[2]);else a.r=arguments[0],a.g=arguments[1],a.b=arguments[2];a.r=a.normalizeByte(a.r),a.g=a.normalizeByte(a.g),a.b=a.normalizeByte(a.b)},A.prototype={resolveColorfunction(e){return e=e#000,#==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace( g,),e=e.toLowerCase(),e=A.namedColors[e]e},normalizeBytefunction(e){return 0eisNaN(e)0e255255e},percBrightnessfunction(){var e=this;return R.sqrt(.241e.re.r+.691e.ge.g+.068e.be.b)},isDarkfunction(){var e=this,t=e.percBrightness();return 180t}},A.formats=[{re^rgb((d{1,3}),s(d{1,3}),s(d{1,3}))$,processfunction(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re^(w{2})(w{2})(w{2})$,processfunction(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re^(w{1})(w{1})(w{1})$,processfunction(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],A.namedColors={aqua00ffff,azuref0ffff,beigef5f5dc,black000000,blue0000ff,browna52a2a,coralff7f50,cyan00ffff,darkblue00008b,darkcyan008b8b,darkgraya9a9a9,darkgreen006400,darkorangeff8c00,darkred8b0000,dimgray696969,fuchsiaff00ff,goldffd700,goldenroddaa520,gray808080,green008000,greenyellowadff2f,indigo4b0082,ivoryfffff0,khakif0e68c,lightblueadd8e6,lightgreyd3d3d3,lightgreen90ee90,lightpinkffb6c1,lightyellowffffe0,lime00ff00,limegreen32cd32,linenfaf0e6,magentaff00ff,maroon800000,mediumblue0000cd,navy000080,olive808000,orangeffa500,orangeredff4500,orchidda70d6,pinkffc0cb,plumdda0dd,purple800080,redff0000,royalblue4169e1,salmonfa8072,silverc0c0c0,skyblue87ceeb,slateblue6a5acd,slategray708090,snowfffafa,steelblue4682b4,tand2b48c,teal008080,tomatoff6347,turquoise40e0d0,violetee82ee,wheatf5deb3,whiteffffff,whitesmokef5f5f5,yellowffff00,yellowgreen9acd32},E=sk-state-selected,e.extend(M.SchedulerView,{createColumnsp,createRowsf,rangeIndexu,collidingEventsd,groupEqFilterv})}(window.kendo.jQuery),function(e,t){function n(e){var t=new Date(1980,1,1,0,0,0);return c(t,m(e)),t}function i(e,t,n){return e=t&&n=e}function r(e,t,n,i){return i=in=ene,et&&i}function o(e,t,n,i){var r,o=e._continuousEvents,a=o[o.length-1],l=p(t.start.startDate()).getTime();if(i&&a&&p(a.start.startDate()).getTime()==l){for(r=o.length-1;r-1&&!(o[r].isAllDayp(o[r].start.startDate()).getTime()l);r--);o.splice(r+1,0,{elementn,isAllDay!0,uidn.attr(s.attr(uid)),startt.start,endt.end})}else o.push({elementn,isAllDayi,uidn.attr(s.attr(uid)),startt.start,endt.end})}function a(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;)n6n-=7n++,t.push(n);return t}var s=window.kendo,l=s.ui,c=s.date.setTime,d=l.SchedulerView,u=e.extend,h=e.proxy,p=s.date.getDate,f=s.date.MS_PER_MINUTE,g=s.date.MS_PER_DAY,m=s.date.getMilliseconds,v=.kendoMultiDayView,_=s.template('div title=(#=kendo.format({0t} - {1t}, start, end)#) #=title.replace(g,&#34;)#div class=k-event-template k-event-time#kendo.format({0t} - {1t}, start, end)#divdiv class=k-event-template${title}divdiv'),w=s.template('div title=(#=kendo.format({0t}, start)#) #=title.replace(g,&#34;)#div class=k-event-template${title}divdiv'),y=s.template(span class='k-link k-nav-day'#=kendo.toString(date, 'ddd Mdd')#span),b='div role=gridcell aria-selected=false data-#=ns#uid=#=uid##if (resources[0]) { #style=background-color#=resources[0].color#; border-color #=resources[0].color#class=k-event#=inverseColor   k-event-inverse  # #} else {#class=k-event#}#span class=k-event-actions# if(data.tail  data.middle) {#span class=k-icon k-i-arrow-wspan#}## if(data.isException()) {#span class=k-icon k-i-exceptionspan# } else if(data.isRecurring()) {#span class=k-icon k-i-refreshspan# } #span{0}span class=k-event-actions#if (showDelete) {#a href=# class=k-link k-event-deletespan class=k-icon k-si-closespana#}## if(data.head  data.middle) {#span class=k-icon k-i-arrow-espan#}#span#if(resizable && !singleDay && !data.tail && !data.middle){#span class=k-resize-handle k-resize-wspan#}##if(resizable && !singleDay && !data.head && !data.middle){#span class=k-resize-handle k-resize-espan#}#div',k='div role=gridcell aria-selected=false data-#=ns#uid=#=uid# #if (resources[0]) { #style=background-color#=resources[0].color #; border-color #=resources[0].color#class=k-event#=inverseColor   k-event-inverse  ##} else {#class=k-event#}#span class=k-event-actions# if(data.isException()) {#span class=k-icon k-i-exceptionspan# } else if(data.isRecurring()) {#span class=k-icon k-i-refreshspan# } #span{0}span class=k-event-actions#if (showDelete) {#a href=# class=k-link k-event-deletespan class=k-icon k-si-closespana#}#spanspan class=k-event-top-actions# if(data.tail  data.middle) {#span class=k-icon k-i-arrow-nspan# } #spanspan class=k-event-bottom-actions# if(data.head  data.middle) {#span class=k-icon k-i-arrow-sspan# } #span# if(resizable && !data.tail && !data.middle) {#span class=k-resize-handle k-resize-nspan# } ## if(resizable && !data.head && !data.middle) {#span class=k-resize-handle k-resize-sspan# } #div',x=d.extend({initfunction(e,t){var n=this;
d.fn.init.call(n,e,t),n.title=n.options.titlen.options.name,n._workDays=a(n.options),n._templates(),n._editable(),n.calculateDateRange(),n._groups(),n._currentTime()},_currentTimeMarkerUpdaterfunction(){var t,n,i,r,o,a,l,c,d,u,h=new Date,p=this.options;for(p.currentTimeMarker.useLocalTimezone===!1&&(t=p.dataSource.options.schema.timezone,p.dataSource&&t&&(n=s.timezone.offset(h,t),h=s.timezone.convert(h,h.getTimezoneOffset(),n))),this.times.find(.k-current-time).remove(),i=p.group&&horizontal!=p.group.orientationthis.groups.length1,r=0;ir;r++){if(o=this.groups[r],a=s.date.toUtcTime(h),l=o.timeSlotRanges(a,a+1),0===l.length)return;c=l[0].collection,d=c.slotByStartDate(h),d&&(u=e(div class='k-current-time'div),u.appendTo(this.times).css({topMath.round(l[0].innerRect(h,new Date(h.getTime()+1),!1).top),height1px,right1px,left0}))}},_currentTimefunction(){var e,n=this,i=n.options.currentTimeMarker;i!==!1&&i.updateInterval!==t&&(e=i.updateInterval,n._currentTimeMarkerUpdater(),n._currentTimeUpdateTimer=setInterval(h(this._currentTimeMarkerUpdater,n),e))},_updateResizeHintfunction(e,t,n,i){var r,o,a,l,c,u,h,p,f,g,m=e.isMultiDay(),v=this.groups[t],_=v.ranges(n,i,m,e.isAllDay);for(this._removeResizeHint(),r=0;_.lengthr;r++)o=_[r],a=o.startSlot(),l=a.offsetWidth,c=a.clientHeight,u=a.offsetTop,ml=o.innerWidth()(h=o.outerRect(n,i,this.options.snap),u=h.top,c=h.bottom-h.top),p=d.fn._createResizeHint.call(this,a.offsetLeft,u,l,c),this._resizeHint=this._resizeHint.add(p);f=t,g=this.content,m&&(f=Mdd,g=this.element.find(.k-scheduler-header-wraphas(.k-scheduler-header-all-day)  div),g.length(g=this.content)),this._resizeHint.appendTo(g),this._resizeHint.find(.k-label-top,.k-label-bottom).text(),this._resizeHint.first().addClass(k-first).find(.k-label-top).text(s.toString(s.timezone.toLocalDate(n),f)),this._resizeHint.last().addClass(k-last).find(.k-label-bottom).text(s.toString(s.timezone.toLocalDate(i),f))},_updateMoveHintfunction(e,t,n){var i,r,o,a,l,c,d,u=e.isMultiDay(),h=this.groups[t],p=s.date.toUtcTime(e.start)+n,f=p+e.duration(),g=h.ranges(p,f,u,e.isAllDay);for(p=s.timezone.toLocalDate(p),f=s.timezone.toLocalDate(f),this._removeMoveHint(),!u&&(0===m(f)m(f)m(this.startTime()))&&g.length1&&g.pop(),i=0;g.lengthi;i++)r=g[i],o=r.start,a=this._createEventElement(e.clone({startp,endf}),!u),a.addClass(k-event-drag-hint),l={lefto.offsetLeft+2,topo.offsetTop},this._isRtl&&(l.left=.1o.clientWidth+o.offsetLeft+2),ul.width=r.innerWidth()-4(c=r.outerRect(p,f,this.options.snap),l.top=c.top,l.height=c.bottom-c.top,l.width=.9o.clientWidth-4),a.css(l),this._moveHint=this._moveHint.add(a);d=this.content,u&&(d=this.element.find(.k-scheduler-header-wraphas(.k-scheduler-header-all-day)  div),d.length(d=this.content)),this._moveHint.appendTo(d)},_slotByPositionfunction(e,t){var n,i,r,o;for(this._isVerticallyGrouped()(i=this.content.offset(),t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft)i=this.element.find(.k-scheduler-header-wraphas(.k-scheduler-header-all-day)).find(div).offset(),i&&(e-=i.left,t-=i.top),e=Math.ceil(e),t=Math.ceil(t),o=0;this.groups.lengtho;o++)if(r=this.groups[o],n=r.daySlotByPosition(e,t))return n;for(i&&(e+=i.left,t+=i.top),i=this.content.offset(),e-=i.left,t-=i.top,this._isVerticallyGrouped()(t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft),e=Math.ceil(e),t=Math.ceil(t),o=0;this.groups.lengtho;o++)if(r=this.groups[o],n=r.timeSlotByPosition(e,t))return n;return null},_groupCountfunction(){var e=this.groupedResources;return e.lengthvertical===this._groupOrientation()this._rowCountForLevel(e.length-1)this._columnCountForLevel(e.length)this._columnOffsetForResource(e.length)1},_columnCountInResourceViewfunction(){var e=this.groupedResources;return!e.lengththis._isVerticallyGrouped()this._columnCountForLevel(0)this._columnOffsetForResource(e.length)},_timeSlotGroupsfunction(e,t){var n,i,r,o,a,s,l,c,d,u,h,p,f,g,v,_,w=this._timeSlotInterval(),y=this.content.find(trnot(.k-scheduler-header-all-day));for(y.attr(role,row),n=y.length,this._isVerticallyGrouped()&&(n=Math.floor(ne)),i=0;ei;i++)for(r=0,this._isVerticallyGrouped()&&(r=i),o=rn,s=0,this._isVerticallyGrouped()(s=i);(r+1)no;){for(l=y[o].children,c=this.groups[i],o%n===0&&(a=m(new Date(+this.startTime()))),d=st;(s+1)td;d++)u=l[d],h=d%t,p=c.getTimeSlotCollection(h),f=this._dates[h],g=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()),v=g+a,_=v+w,u.setAttribute(role,gridcell),u.setAttribute(aria-selected,!1),p.addTimeSlot(u,v,_);a+=w,o++}},_daySlotGroupsfunction(e,t){var n,i,r,o,a,l,c,d,u,h,p,f;for(n=this.element.find(this._isVerticallyGrouped().k-scheduler-header-all-day.k-scheduler-header-all-day tr),n.attr(role,row),i=0;ei;i++)for(r=0,this._isVerticallyGrouped()&&(r=i),o=this.groups[i],a=o.getDaySlotCollection(0),l=n[r].children,c=0,this._isVerticallyGrouped()(c=i),d=0,u=ct;(c+1)tu;u++)h=l[u],u%t===0&&(d=0),p=this._dates[d],f=Date.UTC(p.getFullYear(),p.getMonth(),p.getDate()),d++,h.setAttribute(role,gridcell),h.setAttribute(aria-selected,!1),a.addDaySlot(h,f,f+s.date.MS_PER_DAY)},_groupsfunction(){var e,t,n,i=this._groupCount(),r=this._columnCountInResourceView();for(this.groups=[],e=0;ie;e++){for(t=this._addResourceView(e),n=0;rn;n++)t.addTimeSlotCollection(this._dates[n],s.date.addDays(this._dates[n],1));this.options.allDaySlot&&t.addDaySlotCollection(this._dates[0],s.date.addDays(this._dates[this._dates.length-1],1))}this._timeSlotGroups(i,r),this.options.allDaySlot&&this._daySlotGroups(i,r)},options{nameMultiDayView,selectedDateFormat{0D},selectedShortDateFormat{0d},allDaySlot!0,showWorkHours!1,title,startTimes.date.today(),endTimes.date.today(),minorTickCount2,majorTick60,majorTimeHeaderTemplate#=kendo.toString(date, 't')#,minorTimeHeaderTemplate&nbsp;,groupHeaderTemplate#=text#,slotTemplate&nbsp;,allDaySlotTemplate&nbsp;,eventTemplate_,allDayEventTemplatew,dateHeaderTemplatey,editable!0,workDayStartnew Date(1980,1,1,8,0,0),workDayEndnew Date(1980,1,1,17,0,0),workWeekStart1,workWeekEnd5,footer{commandworkDay},messages{allDayall day,showFullDayShow full day,showWorkDayShow business hours},currentTimeMarker{updateInterval1e4,useLocalTimezone!0}},events[remove,add,edit],_templatesfunction(){var e=this.options,t=u({},s.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,k),this.allDayEventTemplate=this._eventTmpl(e.allDayEventTemplate,b),this.majorTimeHeaderTemplate=s.template(e.majorTimeHeaderTemplate,t),this.minorTimeHeaderTemplate=s.template(e.minorTimeHeaderTemplate,t),this.dateHeaderTemplate=s.template(e.dateHeaderTemplate,t),this.slotTemplate=s.template(e.slotTemplate,t),this.allDaySlotTemplate=s.template(e.allDaySlotTemplate,t),this.groupHeaderTemplate=s.template(e.groupHeaderTemplate,t)},_editablefunction(){this.options.editable&&(this._isMobile()this._touchEditable()this._mouseEditable())},_mouseEditablefunction(){var t=this;t.element.on(click+v,.k-event ahas(.k-si-close),function(n){t.trigger(remove,{uide(this).closest(.k-event).attr(s.attr(uid))}),n.preventDefault()}),t.options.editable.create!==!1&&t.element.on(dblclick+v,.k-scheduler-content td,function(n){var i,r;e(this).parent().hasClass(k-scheduler-header-all-day)(i=t._slotByPosition(n.pageX,n.pageY),i&&(r=t._resourceBySlot(i),t.trigger(add,{eventInfou({starti.startDate(),endi.endDate()},r)})),n.preventDefault())}).on(dblclick+v,.k-scheduler-header-all-day td,function(e){var n,i=t._slotByPosition(e.pageX,e.pageY);i&&(n=t._resourceBySlot(i),t.trigger(add,{eventInfou({},{isAllDay!0,starts.date.getDate(i.startDate()),ends.date.getDate(i.startDate())},n)})),e.preventDefault()}),t.options.editable.update!==!1&&t.element.on(dblclick+v,.k-event,function(n){t.trigger(edit,{uide(this).closest(.k-event).attr(s.attr(uid))}),n.preventDefault()})},_touchEditablefunction(){var t=this;t.options.editable.create!==!1&&(t._addUserEvents=new s.UserEvents(t.element,{filter.k-scheduler-content td,tapfunction(n){var i,r;e(n.target).parent().hasClass(k-scheduler-header-all-day)(i=t._slotByPosition(n.x.location,n.y.location),i&&(r=t._resourceBySlot(i),t.trigger(add,{eventInfou({starti.startDate(),endi.endDate()},r)})),n.preventDefault())}}),t._allDayUserEvents=new s.UserEvents(t.element,{filter.k-scheduler-header-all-day td,tapfunction(e){var n,i=t._slotByPosition(e.x.location,e.y.location);i&&(n=t._resourceBySlot(i),t.trigger(add,{eventInfou({},{isAllDay!0,starts.date.getDate(i.startDate()),ends.date.getDate(i.startDate())},n)})),e.preventDefault()}})),t.options.editable.update!==!1&&(t._editUserEvents=new s.UserEvents(t.element,{filter.k-event,tapfunction(n){var i=e(n.target).closest(.k-event);i.hasClass(k-event-active)t.trigger(edit,{uidi.attr(s.attr(uid))}),n.preventDefault()}}))},_layoutfunction(e){var t,n,i,r=[],o=[],a=this.options,l=this;for(t=0;e.lengtht;t++)n={},n.text=l.dateHeaderTemplate({datee[t]}),s.date.isToday(e[t])&&(n.className=k-today),r.push(n);return i=this.groupedResources,a.allDaySlot&&o.push({texta.messages.allDay,allDay!0,cellContentfunction(t){var n=t;return t=i.length&&vertical!==l._groupOrientation()t%e.lengtht,l.allDaySlotTemplate({datee[t],resourcesfunction(){return l._resourceBySlot({groupIndexn})}})}}),this._forTimeRange(this.startTime(),this.endTime(),function(e,t,n,i){var r=tl.majorTimeHeaderTemplatel.minorTimeHeaderTemplate,a={textr({datee}),classNameik-slot-cell};o.push(a)}),i.length&&(vertical===this._groupOrientation()o=this._createRowsLayout(i,o,this.groupHeaderTemplate)r=this._createColumnsLayout(i,r,this.groupHeaderTemplate)),{columnsr,rowso}},_footerfunction(){var t,n,i,r=this.options;r.footer!==!1&&(t='div class=k-header k-scheduler-footer',n=r.footer.command,n&&workDay===n(t+='ul class=k-reset k-header',t+='li class=k-state-default k-scheduler-fulldaya href=# class=k-linkspan class=k-icon k-i-clockspan',t+=(r.showWorkHoursr.messages.showFullDayr.messages.showWorkDay)+ali,t+=ul)t+=&nbsp;,t+=div,this.footer=e(t).appendTo(this.element),i=this,this.footer.on(click+v,.k-scheduler-fullday,function(e){e.preventDefault(),i.trigger(navigate,{viewi.namer.name,datei.startDate(),isWorkDay!r.showWorkHours})}))},_forTimeRangefunction(e,t,i,r){var o,a,s,l,d,u,h,p,v,_,w,y,b,k,x,C;for(e=n(e),t=n(t),o=this,a=m(e),s=m(t),l=o.options.minorTickCount,d=o.options.majorTickf,u=dl1,h=new Date(+e),p=h.getDate(),_=0,y=,w=gu,a!=s&&(as&&(s+=g),w=(s-a)u),w=Math.round(w);w_;_++)b=_%(du),k=0===b,x=l-1b,C=b===l-1,y+=i(h,k,x,C),c(h,u,!1);return s&&(v=m(h),ph.getDate()&&(v+=g),vs&&(h=new Date(+t))),r&&(y+=r(h)),y},_contentfunction(e){var t,n,i,r=this,o=r.options,a=r.startTime(),l=this.endTime(),c=1,d=1,u=e.length,h=,p=this.groupedResources,f=this.slotTemplate,g=this.allDaySlotTemplate,m=!1;for(p.length&&(m=vertical===r._groupOrientation(),m(d=this._rowCountForLevel(this.rowLevels.length-2),o.allDaySlot&&(t=function(t){var n,i,o='tr class=k-scheduler-header-all-day',a=function(){return r._resourceBySlot({groupIndext})};for(n=0,i=e.length;in;n++)o+=td+g({datee[n],resourcesa})+td;return o+tr}))c=this._columnCountForLevel(this.columnLevels.length-2)),h+=tbody,n=function(t,n){var o,a,l,d,h=,p=,g=0;for(h=tr+(n' class=k-middle-row')+,d=function(e){return function(){return r._resourceBySlot({groupIndexe})}};cg;g++)for(o=0,a=u;ao;o++)p=,s.date.isToday(e[o])&&(p+=k-today),(s.date.getMilliseconds(t)s.date.getMilliseconds(r.options.workDayStart)s.date.getMilliseconds(t)=s.date.getMilliseconds(r.options.workDayEnd)!r._isWorkDay(e[o]))&&(p+= k-nonwork-hour),h+=td+(!==p' class='+p+'')+,l=s.date.getDate(e[o]),s.date.setTime(l,s.date.getMilliseconds(t)),h+=f({datel,resourcesd(mig)}),h+=td;return h+=tr},i=0;di;i++)h+=tt(i),h+=this._forTimeRange(a,l,n);h+=tbody,this.content.find(table).append(h)},_isWorkDayfunction(e){var t,n=e.getDay(),i=this._workDays;for(t=0;i.lengtht;t++)if(i[t]===n)return!0;return!1},_renderfunction(t){var n,i=this;t=t[],this._dates=t,this._startDate=t[0],this._endDate=t[t.length-10],this.createLayout(this._layout(t)),this._content(t),this._footer(),this.refreshLayout(),n=this.element.find(.k-scheduler-header-all-day td),n.length&&(this._allDayHeaderHeight=n.first()[0].clientHeight),i.datesHeader.on(click+v,.k-nav-day,function(t){var n=e(t.currentTarget).closest(th),r=n.offset(),o=i._slotByPosition(r.left,r.top+n.outerHeight());i.trigger(navigate,{viewday,dateo.startDate()})})},startTimefunction(){var e=this.options;return e.showWorkHourse.workDayStarte.startTime},endTimefunction(){var e=this.options;return e.showWorkHourse.workDayEnde.endTime},startDatefunction(){return this._startDate},endDatefunction(){return this._endDate},_endfunction(e){var t=m(this.endTime())g;return e&&(t=0),new Date(this._endDate.getTime()+t)},nextDatefunction(){return s.date.nextDay(this.endDate())},previousDatefunction(){return s.date.previousDay(this.startDate())},calculateDateRangefunction(){this._render([this.options.date])},destroyfunction(){var e=this;e._currentTimeUpdateTimer&&clearInterval(e._currentTimeUpdateTimer),e.datesHeader&&e.datesHeader.off(v),e.element&&e.element.off(v),e.footer&&e.footer.remove(),d.fn.destroy.call(this),this._isMobile()&&e.options.editable&&(e.options.editable.create!==!1&&(e._addUserEvents.destroy(),e._allDayUserEvents.destroy()),e.options.editable.update!==!1&&e._editUserEvents.destroy())},inRangefunction(e){var t=d.fn.inRange.call(this,e),n=m(this.startTime()),i=m(this.endTime())s.date.MS_PER_DAY,r=m(e.start),o=m(e.end)s.date.MS_PER_DAY;return t&&r=n&&i=o},selectionByElementfunction(e){var t=e.offset();return this._slotByPosition(t.left,t.top)},_timeSlotIntervalfunction(){var e=this.options;return e.majorTicke.minorTickCountf},_timeSlotIndexfunction(e){var t=this.options,n=m(e),i=m(this.startTime()),r=t.majorTickt.minorTickCountf;return(n-i)r},_slotIndexfunction(e,t){return tthis._dateSlotIndex(e)this._timeSlotIndex(e)},_dateSlotIndexfunction(e,t){var n,r,o,a,l=this._dates[],c=1;for(n=0,r=l.length;rn;n++)if(o=s.date.getDate(l[n]),a=new Date(s.date.getDate(l[n]).getTime()+g-(t01)),i(e,o,a))return nc;return-1},_positionAllDayEventfunction(t,n){var i,r,o,a,s,l,c,u=n.innerWidth(),h=n.start.index,p=n.end.index,f=d.collidingEvents(n.events(),h,p),g=this._headerColumnCount0,m=2,v=h!==p54,_=this._allDayHeaderHeight,w=n.startSlot();for(t.css({leftw.offsetLeft+m,widthu-v}),n.addEvent({slotIndexh,starth,endp,elementt}),f.push({slotIndexh,starth,endp,elementt}),i=d.createRows(f),i.length&&i.lengthg&&(this._headerColumnCount=i.length),r=n.start.offsetTop,o=0,a=i.length;ao;o++)for(s=i[o].events,l=0,c=s.length;cl;l++)e(s[l].element).css({topr+o_})},_arrangeColumnsfunction(e,t,n,i){var r,o,a,s,l,c,u,h,p,f,g,m=i.start;for(e={elemente,slotIndexm.index,startt,endt+n},o=m.clientWidth,a=.1o,l=i.events(),c=d.collidingEvents(l,e.start,e.end),i.addEvent(e),c.push(e),r=d.createColumns(c),u=(o-a)r.length,h=0,p=r.length;ph;h++)for(s=r[h].events,f=0,g=s.length;gf;f++)s[f].element[0].style.width=u-4+px,s[f].element[0].style.left=(this._isRtla0)+m.offsetLeft+hu+2+px},_positionEventfunction(e,t,n){var i=e._startTimee.start,r=e._endTimee.end,o=n.innerRect(i,r,!1),a=o.bottom-o.top-2;0a&&(a=0),t.css({topo.top,heighta}),this._arrangeColumns(t,o.top,t[0].clientHeight,n)},_createEventElementfunction(t,n,r,o){var a,l,c,d,h,f,v=nthis.eventTemplatethis.allDayEventTemplate,_=this.options,w=_.editable,y=this._isMobile(),b=w&&w.destroy!==!1&&!y,k=w&&w.resize!==!1,x=p(this.startDate()),C=p(this.endDate()),S=m(this.startTime()),T=m(this.endTime()),D=t._time(start),A=t._time(end);return S=T&&(T=m(new Date(this.endTime().getTime()+g-1))),nt.isAllDay(C=new Date(C.getTime()+g)),l=t.start,c=t.end,t.isAllDay&&(c=p(t.end)),!i(p(l),x,C)&&!i(c,x,C)n&&SD&&ATa=!0p(l)xn&&SDo=!0(cC&&!nn&&AT)&&(r=!0),d=this.eventResources(t),t._startTime&&(l=new Date(D),l=s.timezone.apply(l,EtcUTC)),t.endTime&&(c=new Date(A),c=s.timezone.apply(c,EtcUTC)),h=u({},{nss.ns,resizablek,showDeleteb,middlea,headr,tailo,singleDay1==this._dates.length,resourcesd,inverseColord&&d[0]this._shouldInverseResourceColor(d[0])!1},t,{startl,endc}),f=e(v(h)),this.angular(compile,function(){return{elementsf,data[{dataItemh}]}}),f},_isInTimeSlotfunction(e){var t,n=this.startTime(),i=this.endTime(),o=e._startTimee.start,a=e._endTimee.end;return m(i)===m(s.date.getDate(i))&&(i=s.date.getDate(i),c(i,g-1)),e._date(end)e._date(start)&&(a=+e._date(end)+(g-1)),a-=e._date(end),o-=e._date(start),i=m(i),n=m(n),n===o&&o===a!0(t=o!==i,r(o,n,i,t)r(a,n,i,t)r(n,o,a)r(i,o,a))},_isInDateSlotfunction(e){var t=this.groups[0],n=t.firstSlot().start,r=t.lastSlot().end-1,o=s.date.toUtcTime(e.start),a=s.date.toUtcTime(e.end);return(i(o,n,r)i(a,n,r)i(n,o,a)i(r,o,a))&&(!i(a,n,n)i(a,o,o)e.isAllDay)},_updateAllDayHeaderHeightfunction(e){var t,n;if(this._height!==e&&(this._height=e,t=this.element.find(.k-scheduler-header-all-day td),t.length))for(t.parent().add(this.element.find(.k-scheduler-times-all-day).parent()).height(e),n=0;this.groups.lengthn;n++)this.groups[n].refresh()},_renderEventsfunction(e,t){var n,i,r,a,s,l,c,d,u,h,p,f,m,v,_,w=this.datesHeader.find(.k-scheduler-header-wrap  div);for(i=0,r=e.length;ri;i++)if(n=e[i],this._isInDateSlot(n))if(a=n.isAllDayn.end.getTime()-n.start.getTime()=g,s=a&&!this._isVerticallyGrouped()wthis.content,a)this.options.allDaySlot&&(d=this.groups[t],d._continuousEvents(d._continuousEvents=[]),c=d.slotRanges(n),c.length&&(l=this._createEventElement(n,!a),this._positionAllDayEvent(l,c[0]),o(d,c[0],l,!0),l.appendTo(s)));else if(this._isInTimeSlot(n))for(d=this.groups[t],d._continuousEvents(d._continuousEvents=[]),c=d.slotRanges(n),u=c.length,h=0;uh;h++)p=c[h],f=n.start,m=n.end,u1&&(0===hm=p.end.endDate()h==u-1f=p.start.startDate()(f=p.start.startDate(),m=p.end.endDate())),v=n.clone({startf,endm,_startTimen._startTime,_endTimen.endTime}),this._isInTimeSlot(v)&&(_=p.head,l=this._createEventElement(n,!a,_,p.tail),l.appendTo(s),this._positionEvent(v,l,p),o(d,p,l,!1))},renderfunction(t){var n,r,o,a,l;for(this._headerColumnCount=0,this._groups(),this.element.find(.k-event).remove(),t=new s.data.Query(t).sort([{fieldstart,dirasc},{fieldend,dirdesc}]).toArray(),n=[],this._eventsByResource(t,this.groupedResources,n),r=this,o=e.map(this._dates,function(t){return Math.max.apply(null,e.map(n,function(n){return e.grep(n,function(e){return e.isMultiDay()&&i(t,p(e.start),p(e.end))}).length}))}),a=Math.max.apply(null,o),this._updateAllDayHeaderHeight((a+1)this._allDayHeaderHeight),l=0;n.lengthl;l++)this._renderEvents(n[l],l);this.refreshLayout(),this.trigger(activate)},_eventsByResourcefunction(e,t,n){var i,r,o,a,l=t[0];if(l)for(i=l.dataSource.view(),r=0;i.lengthr;r++)o=this._resourceValue(l,i[r]),a=new s.data.Query(e).filter({fieldl.field,operatord.groupEqFilter(o)}).toArray(),t.length1this._eventsByResource(a,t.slice(1),n)n.push(a);else n.push(e)},_columnOffsetForResourcefunction(e){return this._columnCountForLevel(e)this._columnCountForLevel(e-1)},_columnCountForLevelfunction(e){var t=this.columnLevels[e];return tt.length0},_rowCountForLevelfunction(e){var t=this.rowLevels[e];return tt.length0},clearSelectionfunction(){this.content.add(this.datesHeader).find(.k-state-selected).removeAttr(id).attr(aria-selected,!1).removeClass(k-state-selected)},_updateDirectionfunction(e,t,n,i,r){var o=e.isAllDay,a=t[0].start,s=t[t.length-1].end;n&&(roa.index!==s.indexa.collectionIndex!==s.collectionIndex(e.backward=i)(o&&a.index===s.index!o&&a.collectionIndex===s.collectionIndex)&&(e.backward=i))},_changeViewPeriodfunction(e,n,i){var r,o,a,s;return it(r=nthis.previousDate()this.nextDate(),o=e.start,a=e.end,e.start=new Date(r),e.end=new Date(r),s=e.isAllDaygm(a),c(e.start,m(o)),c(e.end,s),this._isVerticallyGrouped()(e.groupIndex=nthis.groups.length-10),e.events=[],!0)}});u(!0,l,{MultiDayViewx,DayViewx.extend({options{nameDayView,titleDay},nameday}),WeekViewx.extend({options{nameWeekView,titleWeek,selectedDateFormat{0D} - {1D},selectedShortDateFormat{0d} - {1d}},nameweek,calculateDateRangefunction(){var e,t,n=this.options.date,i=s.date.dayOfWeek(n,this.calendarInfo().firstDay,-1),r=[];for(e=0,t=7;te;e++)r.push(i),i=s.date.nextDay(i);this._render(r)}}),WorkWeekViewx.extend({options{nameWorkWeekView,titleWork Week,selectedDateFormat{0D} - {1D},selectedShortDateFormat{0d} - {1d}},nameworkWeek,nextDatefunction(){return s.date.dayOfWeek(s.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDatefunction(){return s.date.previousDay(this.startDate())},calculateDateRangefunction(){for(var e=this.options.date,t=s.date.dayOfWeek(e,this.options.workWeekStart,-1),n=s.date.dayOfWeek(t,this.options.workWeekEnd,1),i=[];n=t;)i.push(t),t=s.date.nextDay(t);this._render(i)}})})}(window.kendo.jQuery),function(e){function t(e){var t,n,i=0;for(t=0,n=e.length;nt;t++)i+=e[t].items.length;return i}function n(e,t){return e.valuePrimitive&&(t=o.getter(e.dataValueField)(t)),t}function i(e){for(var t,n=0,i=e.length,o=[];in;n++)t=e[n],t.groups(t=r(t.groups),o=o.concat(t))o=o.concat(r(t.items));return o}function r(e){for(var t=[].concat(e),n=t.shift(),i=[],r=[].push;n;)n.groupsr.apply(t,n.groups)n.itemsr.apply(t,n.items)r.call(i,n),n=t.shift();return i}var o=window.kendo,a=o.ui,s=.kendoAgendaView,l='div class=k-task title=#title.replace(g,')# data-#=kendo.ns#uid=#=uid## if (resources[0]) {#span class=k-scheduler-mark style=background-color#=resources[0].color#span# } ## if (data.isException()) { #span class=k-icon k-i-exceptionspan# } else if (data.isRecurring()) {#span class=k-icon k-i-refreshspan# } #{0}#if (showDelete) {#a href=# class=k-link k-event-deletespan class=k-icon k-si-closespana#}#div';a.AgendaView=a.SchedulerView.extend({initfunction(t,n){a.SchedulerView.fn.init.call(this,t,n),n=this.options,n.editable&&(n.editable=e.extend({delete!0},n.editable,{create!1,update!1})),this.title=n.title,this.name=agenda,this._eventTemplate=this._eventTmpl(n.eventTemplate,l),this._dateTemplate=o.template(n.eventDateTemplate),this._groupTemplate=o.template(n.eventGroupTemplate),this._timeTemplate=o.template(n.eventTimeTemplate),this.element.on(mouseenter+s,.k-scheduler-agenda .k-scheduler-content tr,_mouseenter).on(mouseleave+s,.k-scheduler-agenda .k-scheduler-content tr,_mouseleave).on(click+s,.k-scheduler-agenda .k-scheduler-content .k-linkhas(.k-si-close),_remove),this._renderLayout(n.date)},_mouseenterfunction(t){e(t.currentTarget).addClass(k-state-hover)},_mouseleavefunction(t){e(t.currentTarget).removeClass(k-state-hover)},_removefunction(t){t.preventDefault(),this.trigger(remove,{uide(t.currentTarget).closest(.k-task).attr(o.attr(uid))})},nextDatefunction(){return o.date.nextDay(this.startDate())},startDatefunction(){return this._startDate},endDatefunction(){return this._endDate},previousDatefunction(){return o.date.previousDay(this.startDate())},_renderLayoutfunction(e){this._startDate=e,this._endDate=o.date.addDays(e,7),this.createLayout(this._layout()),this.table.addClass(k-scheduler-agenda)},_layoutfunction(){var e,t,n,i=[{textthis.options.messages.time,classNamek-scheduler-timecolumn},{textthis.options.messages.event}];if(this._isMobilePhoneView()i.splice(0,0,{textthis.options.messages.date,classNamek-scheduler-datecolumn}),e=this.groupedResources,e.length){for(t=[],n=0;e.lengthn;n++)t.push({text,classNamek-scheduler-groupcolumn});i=t.concat(i)}return{columnsi}},_tasksfunction(e){var t,n,i,r,a,s,l,c=[];for(t=0;e.lengtht;t++)if(n=e[t],i=n.start,r=n.end,a=(o.date.getDate(r)-o.date.getDate(i))o.date.MS_PER_DAY+1,s=n.clone(),s.startDate=o.date.getDate(i),s.startDate=this.startDate()&&c.push(s),a1)for(s.end=o.date.nextDay(i),s.head=!0,l=1;al;l++)i=s.end,s=n.clone(),s.start=i,s.startDate=o.date.getDate(i),s.end=o.date.nextDay(i),l==a-1(s.end=new Date(s.start.getFullYear(),s.start.getMonth(),s.start.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),s.tail=!0)(s.isAllDay=!0,s.middle=!0),s.end=this.endDate()&&s.start=this.startDate()&&c.push(s);return new o.data.Query(c).sort([{fieldstart,dirasc},{fieldend,dirasc}]).groupBy({fieldstartDate}).toArray()},_renderTaskGroupsfunction(e,t){var n,i,r,a,s,l,c,d,u,h=[],p=this.options.editable,f=p&&p.destroy!==!1&&!this._isMobile(),g=this._isMobilePhoneView();for(n=0;e.lengthn;n++)for(i=e[n].value,r=e[n].items,a=o.date.isToday(i),s=0;r.lengths;s++){if(l=r[s],c=[],d=g[]c,0===n&&0===s&&t.length)for(u=0;t.lengthu;u++)d.push(o.format('td class=k-scheduler-groupcolumn{2} rowspan={0}{1}td',t[u].rowSpan,this._groupTemplate({valuet[u].text}),t[u].className));0===s&&(g(d.push(o.format('td class=k-scheduler-datecolumn colspan=2{0}td',this._dateTemplate({datei}))),h.push('tr role=row aria-selected=false'+(a' class=k-today')+d.join()+tr))c.push(o.format('td class=k-scheduler-datecolumn{3}{2} rowspan={0}{1}td',r.length,this._dateTemplate({datei}),n!=e.length-1t.length k-last,t.length k-first))),l.format=l.head{0t}l.tail{1t}{0t}-{1t},l.resources=this.eventResources(l),c.push(o.format('td class=k-scheduler-timecolumndiv{0}{1}{2}divtdtd{3}td',l.taill.middle'span class=k-icon k-i-arrow-wspan',this._timeTemplate(l.clone({startl._startTimel.start,endl.endTimel.end})),l.headl.middle'span class=k-icon k-i-arrow-espan',this._eventTemplate(l.clone({showDeletef})))),h.push('tr role=row aria-selected=false'+(a' class=k-today')+c.join()+tr)}return h.join()},renderfunction(e){var t,n,r=this.content.find(table).empty(),o=[];e.length0&&(t=this.groupedResources,t.length(o=this._createGroupConfiguration(e,t,null),this._renderGroups(o,r,[]))(o=this._tasks(e),r.append(this._renderTaskGroups(o,[])))),n=this._eventsList=i(o),this._angularItems(r,n),this.refreshLayout(),this.trigger(activate)},_angularItemsfunction(e,t){this.angular(compile,function(){var n=[],i=t.map(function(t){return n.push({dataItemt}),e.find(.k-task[+o.attr(uid)+=+t.uid+])});return{elementsi,datan}})},_renderGroupsfunction(e,t,n){var i,r,o;for(i=0,r=e.length;ri;i++)o=n.splice(0),o.push(e[i]),e[i].groupsthis._renderGroups(e[i].groups,t,o)t.append(this._renderTaskGroups(e[i].items,o))},_createGroupConfigurationfunction(e,i,r){var s,l,c,d,u,h,p,f=i[0],g=[],m=f.dataSource.view(),v=this._isMobilePhoneView();for(s=0;m.lengths;s++)l=n(f,m[s]),c=new o.data.Query(e).filter({fieldf.field,operatora.SchedulerView.groupEqFilter(l)}).toArray(),c.length&&(d=this._tasks(c),u=r k-first,s===m.length-1&&(!rr.className.indexOf(k-last)-1)&&(u+= k-last),h={texto.getter(f.dataTextField)(m[s]),valuel,rowSpan0,classNameu},i.length1(h.groups=this._createGroupConfiguration(c,i.slice(1),h),r&&(r.rowSpan+=h.rowSpan))(h.items=d,p=t(h.items),v&&(p+=h.items.length),h.rowSpan=p,r&&(r.rowSpan+=p)),g.push(h));return g},selectionByElementfunction(t){var n,i,r;return t=e(t),!t.hasClass(k-scheduler-datecolumn)&&this._eventsList.length(t.is(.k-task)&&(t=t.closest(td)),this._isMobile()(r=t.parent(),n=r.parent().children().filter(function(){return e(this).children(not(.k-scheduler-datecolumn)).length}).index(r))n=t.parent().index(),i=this._eventsList[n],{indexn,starti.start,endi.end,isAllDayi.isAllDay,uidi.uid})void 0},selectfunction(e){this.clearSelection();var t=this.table.find(.k-task).eq(e.index).closest(tr).addClass(k-state-selected).attr(aria-selected,!0)[0];this.current(t)},movefunction(e,t){var n,i=!1,r=e.index;return t==o.keys.UP(r--,i=!0)t==o.keys.DOWN&&(r++,i=!0),i&&(n=this._eventsList[r],n&&(e.start=n.start,e.end=n.end,e.isAllDay=n.isAllDay,e.events=[n.uid],e.index=r)),i},moveToEventfunction(){return!1},constrainSelectionfunction(e){var t=this._eventsList[0];t&&(e.start=t.start,e.end=t.end,e.isAllDay=t.isAllDay,e.events=[t.uid],e.index=0)},isInRangefunction(){return!0},destroyfunction(){this.element&&this.element.off(s),a.SchedulerView.fn.destroy.call(this)},options{titleAgenda,nameagenda,editable!0,selectedDateFormat{0D}-{1D},selectedShortDateFormat{0d} - {1d},eventTemplate#title#,eventTimeTemplate#if(data.isAllDay) {##=this.options.messages.allDay##} else { ##=kendo.format(format, start, end)## } #,eventDateTemplate'strong class=k-scheduler-agendaday#=kendo.toString(date, dd)#strongem class=k-scheduler-agendaweek#=kendo.toString(date,dddd)#emspan class=k-scheduler-agendadate#=kendo.toString(date, y)#span',eventGroupTemplate'strong class=k-scheduler-adgendagroup#=value#strong',messages{eventEvent,dateDate,timeTime,allDayall day}}})}(window.kendo.jQuery),function(e){function t(e,t){return e.slice(t).concat(e.slice(0,t))}function n(e,t){for(var n=t.firstDay,i=new Date(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());i.getDay()!=n;)r.date.setTime(i,-1d);return i}function i(e,t,n){var i,r=t,o=n;return i=e,i=r&&o=i}var r=window.kendo,o=r.ui,a=o.SchedulerView,s=.kendoMonthView,l=e.extend,c=r.date.getDate,d=r.date.MS_PER_DAY,u=6,h=7,p=r.template('span class=k-link k-nav-day#kendo.toString(date, dd)#span'),f='div role=gridcell aria-selected=false data-#=ns#uid=#=uid##if (resources[0]) { #style=background-color#=resources[0].color #; border-color #=resources[0].color#class=k-event#=inverseColor   k-event-inverse  ##} else {#class=k-event#}#span class=k-event-actions# if(data.tail  data.middle) {#span class=k-icon k-i-arrow-wspan#}## if(data.isException()) {#span class=k-icon k-i-exceptionspan# } else if(data.isRecurring()) {#span class=k-icon k-i-refreshspan#}#span{0}span class=k-event-actions#if (showDelete) {#a href=# class=k-link k-event-deletespan class=k-icon k-si-closespana#}## if(data.head  data.middle) {#span class=k-icon k-i-arrow-espan#}#span# if(resizable && !data.tail && !data.middle) {#span class=k-resize-handle k-resize-wspan#}## if(resizable && !data.head && !data.middle) {#span class=k-resize-handle k-resize-espan#}#div',g=r.template('div title=#=title.replace(g,&#34;)#div class=k-event-template#title#divdiv'),m=r.template('div style=width#=width#px;left#=left#px;top#=top#px class=k-more-events k-buttonspan...spandiv');o.MonthView=a.extend({initfunction(e,t){var n=this;a.fn.init.call(n,e,t),n.title=n.options.title,n.name=month,n._templates(),n._editable(),n._renderLayout(n.options.date),n._groups()},_updateDirectionfunction(e,t,n,i,r){var o,a,s,l,c;n&&(o=t[0].start,a=t[t.length-1].end,s=o.index===a.index,l=o.collectionIndex===a.collectionIndex,c=rs&&lls&&l,c&&(e.backward=i))},_changeViewPeriodfunction(e,t,n){var i=n71;return t&&(i=-1),e.start=r.date.addDays(e.start,i),e.end=r.date.addDays(e.end,i),(!nn&&this._isVerticallyGrouped())&&(e.groupIndex=tthis.groups.length-10),e.events=[],!0},_continuousSlotfunction(e,t,n){var i=e.backward0t.length-1,r=this.groups[e.groupIndex];return r.continuousSlot(t[i].start,n)},_changeGroupContinuouslyfunction(e,t,n,i){var r,o,a,s;return n(r=e.groupIndex,o=this.groups.length-1,a=this._isVerticallyGrouped(),s=this.groups[r],!t&&a(t=s[ilastSlotfirstSlot](),r+=i-11)t&&!a&&(r=io0),(0rro)&&(r=io0,t=null),e.groupIndex=r),t
},_normalizeHorizontalSelectionfunction(e,t,n){var i;return i=nt[0].startt[t.length-1].end},_normalizeVerticalSelectionfunction(e,t){var n;return n=e.backwardt[0].startt[t.length-1].end},_templatesfunction(){var e=this.options,t=l({},r.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,f),this.dayTemplate=r.template(e.dayTemplate,t),this.groupHeaderTemplate=r.template(e.groupHeaderTemplate,t)},dateForTitlefunction(){return r.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},shortDateForTitlefunction(){return r.format(this.options.selectedShortDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDatefunction(){return r.date.nextDay(this._lastDayOfMonth)},previousDatefunction(){return r.date.previousDay(this._firstDayOfMonth)},startDatefunction(){return this._startDate},endDatefunction(){return this._endDate},_renderLayoutfunction(t){var i=this;this._firstDayOfMonth=r.date.firstDayOfMonth(t),this._lastDayOfMonth=r.date.lastDayOfMonth(t),this._startDate=n(t,this.calendarInfo()),this.createLayout(this._layout()),this._content(),this.refreshLayout(),this.content.on(click+s,.k-nav-day,.k-more-events,function(t){var n=e(t.currentTarget).offset(),r=i._slotByPosition(n.left,n.top);t.preventDefault(),i.trigger(navigate,{viewday,dater.startDate()})})},_editablefunction(){this.options.editable&&!this._isMobilePhoneView()&&(this._isMobile()this._touchEditable()this._mouseEditable())},_mouseEditablefunction(){var t=this;t.element.on(click+s,.k-scheduler-monthview .k-event ahas(.k-si-close),function(n){t.trigger(remove,{uide(this).closest(.k-event).attr(r.attr(uid))}),n.preventDefault()}),t.options.editable.create!==!1&&t.element.on(dblclick+s,.k-scheduler-monthview .k-scheduler-content td,function(n){var i,r=e(n.currentTarget).offset(),o=t._slotByPosition(r.left,r.top);o&&(i=t._resourceBySlot(o),t.trigger(add,{eventInfol({isAllDay!0,starto.startDate(),endo.startDate()},i)})),n.preventDefault()}),t.options.editable.update!==!1&&t.element.on(dblclick+s,.k-scheduler-monthview .k-event,function(n){t.trigger(edit,{uide(this).closest(.k-event).attr(r.attr(uid))}),n.preventDefault()})},_touchEditablefunction(){var t=this;t.options.editable.create!==!1&&(t._addUserEvents=new r.UserEvents(t.element,{filter.k-scheduler-monthview .k-scheduler-content td,tapfunction(n){var i,r=e(n.target).offset(),o=t._slotByPosition(r.left,r.top);o&&(i=t._resourceBySlot(o),t.trigger(add,{eventInfol({isAllDay!0,starto.startDate(),endo.startDate()},i)})),n.preventDefault()}})),t.options.editable.update!==!1&&(t._editUserEvents=new r.UserEvents(t.element,{filter.k-scheduler-monthview .k-event,tapfunction(n){0===e(n.event.target).closest(ahas(.k-si-close)).length&&(t.trigger(edit,{uide(n.target).closest(.k-event).attr(r.attr(uid))}),n.preventDefault())}}))},selectionByElementfunction(t){var n=e(t).offset();return this._slotByPosition(n.left,n.top)},_columnCountForLevelfunction(e){var t=this.columnLevels[e];return tt.length0},_rowCountForLevelfunction(e){var t=this.rowLevels[e];return tt.length0},_contentfunction(){var e,t=tbody,n=1,i=this.groupedResources;for(i.length&&this._isVerticallyGrouped()&&(n=this._rowCountForLevel(i.length-1)),e=0;ne;e++)t+=this._createCalendar(e);t+=tbody,this.content.find(table).html(t)},_createCalendarfunction(e){var t,n,i,o,a=this.startDate(),s=hu,l=h,c=[a],d=,p=1,f=this._isVerticallyGrouped(),g=this.groupedResources;for(g.length&&(f(p=this._columnCountForLevel(g.length-1))),this._slotIndices={},t=0,n=sl;nt;t++){for(d+=tr,c.push(a),i=tl,o=0;po;o++)d+=this._createRow(a,i,l,feo);a=r.date.addDays(a,l),d+=tr}return this._weekStartDates=c,this._endDate=r.date.previousDay(a),d},_createRowfunction(e,t,n,i){var o,a=this,s=a._firstDayOfMonth,l=a._lastDayOfMonth,d=a.dayTemplate,u=,h=,p=function(){return a._resourceBySlot({groupIndexi})};for(o=0;no;o++)u=,r.date.isToday(e)&&(u+=k-today),r.date.isInDateRange(e,s,l)(u+= k-other-month),h+=td ,!==u&&(h+='class='+u+''),h+=,h+=d({datee,resourcesp}),h+=td,a._slotIndices[c(e).getTime()]=t+o,e=r.date.nextDay(e);return h},_layoutfunction(){var n,i,r,o=this.calendarInfo(),a=this._isMobile()o.days.namesShorto.days.names,s=t(a,o.firstDay),l=e.map(s,function(e){return{texte}}),c=this.groupedResources;if(c.length)if(this._isVerticallyGrouped()){for(i=[],r=0;6r;r++)i.push({textdiv&nbsp;div,classNamek-hidden k-slot-cell});n=this._createRowsLayout(c,i,this.groupHeaderTemplate)}else l=this._createColumnsLayout(c,l,this.groupHeaderTemplate);return{columnsl,rowsn}},_createEventElementfunction(t){var n,i=this.options,o=i.editable,a=this._isMobile();return t.showDelete=o&&o.destroy!==!1&&!a,t.resizable=o&&o.resize!==!1&&!a,t.ns=r.ns,t.resources=this.eventResources(t),t.inverseColor=t.resources&&t.resources[0]this._shouldInverseResourceColor(t.resources[0])!1,n=e(this.eventTemplate(t)),this.angular(compile,function(){return{elementsn,data[{dataItemt}]}}),n},_isInDateSlotfunction(e){var t=this.groups[0],n=t.firstSlot().start,o=t.lastSlot().end-1,a=r.date.toUtcTime(e.start),s=r.date.toUtcTime(e.end);return(i(a,n,o)i(s,n,o)i(n,a,s)i(o,a,s))&&(!i(s,n,n)i(s,a,a)e.isAllDay)},_slotIndexfunction(e){return this._slotIndices[c(e).getTime()]},_positionMobileEventfunction(t,n,i){var o,s,l,c,d,u,h,p=t.start;t.start.offsetLeftt.end.offsetLeft&&(p=t.end),o=t.start.index,s=o,l=3,c=a.collidingEvents(t.events(),o,s),c.push({elementn,starto,ends}),d=a.createRows(c),u=t.collection.at(o),h=u.container,h(h=e(r.format('div class=k-events-container style=top{0};left{1};width{2}',p.offsetTop+p.firstChildTop+p.firstChildHeight-3+px,p.offsetLeft+px,p.offsetWidth+px)),u.container=h,this.content[0].appendChild(h[0])),l=d.length&&(t.addEvent({elementn,starto,ends,groupIndexp.groupIndex}),i._continuousEvents.push({elementn,uidn.attr(r.attr(uid)),startt.start,endt.end}),h[0].appendChild(n[0]))},_positionEventfunction(t,n,i){var o,s,l,c,d,u,h,p,f,g,v,_,w,y,b,k=this.options.eventHeight,x=t.start;for(t.start.offsetLeftt.end.offsetLeft&&(x=t.end),o=t.start.index,s=t.end.index,l=x.eventCount,c=a.collidingEvents(t.events(),o,s),d=o!==s54,c.push({elementn,starto,ends}),u=a.createRows(c),h=0,p=Math.min(u.length,l);ph;h++)for(f=u[h].events,g=x.offsetTop+x.firstChildHeight+hk+3h+px,v=0,_=f.length;_v;v++)f[v].element[0].style.top=g;if(u.lengthl)for(w=o;s=w;w++){if(y=t.collection,b=y.at(w),b.more)return;b.more=e(m({nsr.ns,startw,endw,widthb.clientWidth-2,leftb.offsetLeft+2,topb.offsetTop+b.firstChildHeight+lk+3l})),this.content[0].appendChild(b.more[0])}else t.addEvent({elementn,starto,ends,groupIndexx.groupIndex}),n[0].style.width=t.innerWidth()-d+px,n[0].style.left=x.offsetLeft+2+px,n[0].style.height=k+px,i._continuousEvents.push({elementn,uidn.attr(r.attr(uid)),startt.start,endt.end}),n.appendTo(this.content)},_slotByPositionfunction(e,t){var n,i,r=this.content.offset();for(e-=r.left,t-=r.top,t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft,e=Math.ceil(e),t=Math.ceil(t),n=0;this.groups.lengthn;n++)if(i=this.groups[n].daySlotByPosition(e,t))return i;return null},_createResizeHintfunction(e){var t=e.startSlot().offsetLeft,n=e.start.offsetTop,i=e.innerWidth(),r=e.start.clientHeight-2,o=a.fn._createResizeHint.call(this,t,n,i,r);o.appendTo(this.content),this._resizeHint=this._resizeHint.add(o)},_updateResizeHintfunction(e,t,n,i){var o,a,s;for(this._removeResizeHint(),o=this.groups[t],a=o.ranges(n,i,!0,e.isAllDay),s=0;a.lengths;s++)this._createResizeHint(a[s]);this._resizeHint.find(.k-label-top,.k-label-bottom).text(),this._resizeHint.first().addClass(k-first).find(.k-label-top).text(r.toString(r.timezone.toLocalDate(n),Mdd)),this._resizeHint.last().addClass(k-last).find(.k-label-bottom).text(r.toString(r.timezone.toLocalDate(i),Mdd))},_updateMoveHintfunction(e,t,n){var i,o,a,s,l,c=r.date.toUtcTime(e.start)+n,d=c+e.duration(),u=this.groups[t],h=u.ranges(c,d,!0,e.isAllDay);for(this._removeMoveHint(),i=0;h.lengthi;i++)o=h[i],a=o.startSlot(),s=o.endSlot(),l=this._createEventElement(e.clone({heado.head,tailo.tail})),l.css({lefta.offsetLeft+2,topa.offsetTop+a.firstChildHeight,heightthis.options.eventHeight,widtho.innerWidth()-(a.index!==s.index54)}),l.addClass(k-event-drag-hint),l.appendTo(this.content),this._moveHint=this._moveHint.add(l)},_groupsfunction(){var e,t,n,i,o,a,s,l,c,d,p,f,g,m,v,_,w,y=this._groupCount(),b=h,k=u;for(this.groups=[],e=0;ye;e++)this._addResourceView(e);for(t=this.content[0].getElementsByTagName(tr),n=0;yn;n++)for(i=0,o=0,this._isVerticallyGrouped()&&(o=n),a=ok;(o+1)ka;a++)for(s=this.groups[n],l=s.addDaySlotCollection(r.date.addDays(this.startDate(),i),r.date.addDays(this.startDate(),i+b)),c=t[a],d=c.children,p=0,c.setAttribute(role,row),this._isVerticallyGrouped()(p=n),f=pb;(p+1)bf;f++)g=d[f],m=g.clientHeight,v=g.children.lengthg.children[0].offsetHeight+30,_=r.date.toUtcTime(r.date.addDays(this.startDate(),i)),i++,w=Math.floor((m-v-this.options.moreButtonHeight)(this.options.eventHeight+3)),g.setAttribute(role,gridcell),g.setAttribute(aria-selected,!1),l.addDaySlot(g,_,_+r.date.MS_PER_DAY,w)},renderfunction(e){this.content.children(.k-event,.k-more-events,.k-events-container).remove(),this._groups(),e=new r.data.Query(e).sort([{fieldstart,dirasc},{fieldend,dirdesc}]).toArray();var t=this.groupedResources;t.lengththis._renderGroups(e,t,0,1)this._renderEvents(e,0),this.refreshLayout(),this.trigger(activate)},_renderEventsfunction(e,t){var n,i,r,o,a,s,l,c,d,u,h,p=this._isMobilePhoneView();for(i=0,r=e.length;ri;i++)if(n=e[i],this._isInDateSlot(n))for(o=this.groups[t],o._continuousEvents(o._continuousEvents=[]),a=o.slotRanges(n,!0),s=a.length,l=0;sl;l++)c=a[l],d=n.start,u=n.end,s1&&(0===lu=c.end.endDate()l==s-1d=c.start.startDate()(d=c.start.startDate(),u=c.end.endDate())),h=n.clone({startd,endu,headc.head,tailc.tail}),pthis._positionMobileEvent(c,this._createEventElement(h),o)this._positionEvent(c,this._createEventElement(h),o)},_renderGroupsfunction(e,t,n,i){var o,s,l,c,d=t[0];if(d)for(o=d.dataSource.view(),s=0;o.lengths;s++)l=this._resourceValue(d,o[s]),c=new r.data.Query(e).filter({fieldd.field,operatora.groupEqFilter(l)}).toArray(),t.length1n=this._renderGroups(c,t.slice(1),n++,i+1)this._renderEvents(c,n++);return n},_groupCountfunction(){var e=this.groupedResources;return e.lengththis._isVerticallyGrouped()this._rowCountForLevel(e.length-1)this._columnCountForLevel(e.length)this._columnOffsetForResource(e.length)1},_columnOffsetForResourcefunction(e){return this._columnCountForLevel(e)this._columnCountForLevel(e-1)},destroyfunction(){this.table&&this.table.removeClass(k-scheduler-monthview),this.content&&this.content.off(s),this.element&&this.element.off(s),a.fn.destroy.call(this),this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable&&(this.options.editable.create!==!1&&this._addUserEvents.destroy(),this.options.editable.update!==!1&&this._editUserEvents.destroy())},events[remove,add,edit,navigate],options{titleMonth,namemonth,eventHeight25,moreButtonHeight13,editable!0,selectedDateFormat{0y},selectedShortDateFormat{0y},groupHeaderTemplate#=text#,dayTemplatep,eventTemplateg}})}(window.kendo.jQuery),function(e,t){function n(e,t){var n;return 0!==e&&ten=t-e(n=e%t,n&&(n=t-n)),n}function i(e){var t=e.getMonth(),n=m(e)et[t]tt[t];return n+e.getDate()}function r(e,n){var i,r;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),X(e,0),i=e.getFullYear(),n!==t(K(e,n,-1),e.setDate(e.getDate()+4))e.setDate(e.getDate()+(4-(e.getDay()7))),X(e,0),r=Math.floor((e.getTime()-new Date(i,0,1,-6))864e5),1+Math.floor(r7)}function o(e,t){var n=Z(e).getDay(),i=7-(n+7-(t7))7;return 0i&&(i+=7),Math.ceil((e.getDate()-i)7)+1}function a(e,t){return e+(te70)}function s(e,t,n){var i,r,s,l,c,d=t.offset;return d(i=new Date(e.getFullYear(),e.getMonth()+1,0),r=o(i,n),s=a(t.day,n),l=sa(new Date(e.getFullYear(),e.getMonth(),1).getDay(),n),c=sa(i.getDay(),n),0dd=r+(d+1-(c10))l&&(d+=1),r-=c10,(l10)ddrnulld)o(e,n)}function l(e,t){return o(new Date(e.getFullYear(),e.getMonth()+1,0),t)}function c(e,t,n){return o(e,n)===s(e,t,n)}function d(e,t,n){for(var i,r,l,c,d=a(t.getDay(),n),u=e.length,h=[],p=0;up;p++)if(r=e[p],c=o(t,n),i=s(t,r,n),null!==i)if(ic)h.push(r);else if(c===i)if(l=a(r.day,n),ld)h.push(r);else if(d===l)return null;return h}function u(e,t,n){for(var i,r=0,o=e.length,a=[];or;r++){if(i=e[r],n&&(i=n(i)),t===i)return null;it&&a.push(i)}return a}function h(e,t){for(var n,i=0,r=e.length;ri;i++){if(n=parseInt(e[i],10),isNaN(n)t.startnnt.end0===n&&0t.start)return null;e[i]=n}return e.sort(v)}function p(e){for(var n,i,r,o=0,a=e.length;ao;o++){if(n=e[o],i=n.length,r=n.substring(i-2).toUpperCase(),r=rt[r],r===t)return null;e[o]={offsetparseInt(n.substring(0,i-2),10)0,dayr}}return e}function f(e){for(var t,n,i=0,r=e.length,o=[];ri;i++)t=e[i],string==typeof tn=t(n=+it[t.day],t.offset&&(n=t.offset+n)),o.push(n);return+o}function g(e){var t=e.getMonth();return 1===t1===new Date(e.getFullYear(),1,29).getMonth()2928nt[t]}function m(e){return e=e.getFullYear(),e%4===0&&e%100!==0e%400===0}function v(e,t){return e-t}function _(e,t){var n,i,r=0,o=[];if(e)for(e=e.split(;),n=e.length;nr;r++)i=S(e[r],t),i&&o.push(i);return o}function w(t,n,i){for(var r=e.isArray(t)t_(t,i),o=n.getTime()-n.getMilliseconds(),a=0,s=r.length;sa;a++)if(r[a].getTime()===o)return!0;return!1}function y(e,t){var n,i,r=0,o=[].concat(e);for(n=o.length;nr;r++)i=o[r],i=U.timezone.convert(i,ti.getTimezoneOffset(),EtcUTC),o[r]=U.toString(i,lt);return o.join(;)+;}function b(e,t){var n=new Date(e);switch(t.freq){caseyearlyn.setFullYear(n.getFullYear(),0,1);break;casemonthlyn.setFullYear(n.getFullYear(),n.getMonth(),1);break;caseweeklyK(n,t.weekStart,-1)}return t.hours&&n.setHours(0),t.minutes&&n.setMinutes(0),t.seconds&&n.setSeconds(0),n}function k(e,t){var n=new Date(e);switch(t.freq){caseyearlyn.setFullYear(n.getFullYear(),11,31);break;casemonthlyn.setFullYear(n.getFullYear(),n.getMonth()+1,0);break;caseweeklyK(n,t.weekStart,-1),n.setDate(n.getDate()+6)}return t.hours&&n.setHours(23),t.minutes&&n.setMinutes(59),t.seconds&&n.setSeconds(59),n}function x(e,t,n){var i,r,o,a,s=e.slice(n._startIdx),l=s.length,c=n.positions,d=[];for(o=0,a=c.length;ao;o++)i=c[o],0ii=l+ii-=1,r=s[i],r&&r.start=t&&d.push(r);return e=e.slice(0,n._startIdx).concat(d),n._startIdx=e.length,e}function C(e,n,i,r){var o,a,s,l,c,d,u,h,p,f,g,m,v,C,S,T,A,E,I,M,P,z,F=D(e.recurrenceRule,r),R=[];if(!F)return[e];for(M=F.positions,P=M01,f=F.start,g=F.end,(fg)&&(e=e.clone({startfnew Date(f.value[0])t,endgnew Date(g.value[0])t})),A=e.start,T=A.getTime(),S=J(A),C=_(e.recurrenceException,r),!C[0]&&F.exdates&&(C=F.exdates.value,e.set(recurrenceException,y(C,r))),h=n=new Date(n),i=new Date(i),v=F.freq,I=mt[v],E=F.count,F.until&&iF.until&&(i=new Date(F.until)),m=yearly===vmonthly===vweekly===v,TnEF.interval1mn=new Date(T)(l=n.getHours(),c=n.getMinutes(),d=n.getSeconds(),F.hours(l=A.getHours()),F.minutes(c=A.getMinutes()),F.seconds(d=A.getSeconds()),n.setHours(l,c,d,A.getMilliseconds())),F._startPeriod=new Date(n),M&&(n=b(n,F),i=k(i,F),z=J(i)-J(n),0z&&(l=n.getHours(),i.setHours(l,n.getMinutes(),n.getSeconds(),n.getMilliseconds()),Y.adjustDST(i,l)),F._startPeriod=new Date(n),F._endPeriod=k(n,F),F._startIdx=0),u=e.duration(),F._startTime=o=Y.toInvariantTime(n),I.setup&&I.setup(F,A,n),I.limit(n,i,F);i=n;)if(s=new Date(n),Q(s,u),p=n=hsh,(p&&!w(C,n,r)M)&&(o=Y.toUtcTime(Y.getDate(n))+J(F._startTime),a=o+u,T!==n.getTime()S!==J(F._startTime)R.push(e.toOccurrence({startnew Date(n),ends,_startTimeo,_endTimea}))(e._startTime=o,e._endTime=a,R.push(e))),M){if(I.next(n,F),I.limit(n,i,F),nF._endPeriod&&(R=x(R,A,F),F._endPeriod=k(n,F),P=R.length),E&&E===P)break}else{if(E&&E===P)break;P++,I.next(n,F),I.limit(n,i,F)}return R}function S(e,t){return e=U.parseDate(e,ot),e&&t&&(e=W.convert(e,e.getTimezoneOffset(),t)),e}function T(e,n){var i,r,o,a,s,l,c,d,u=e.split(;);for(c=0,d=u.length;dc;c++)if(i=u[c].split(),r=i[0],o=i[1],-1!==r.indexOf(TZID)&&(a=r.substring(r.indexOf(TZID)).split(=)[1]),o)for(o=o.split(,),s=0,l=o.length;ls;s++)o[s]=S(o[s],an);return o{valueo,tzida}t}function D(n,i){var r,o,a,s,l,c,d,u,f,g={},m=0,v=!1,_=function(e,t){var n=e.day,i=t.day;return un&&(n+=7),ui&&(i+=7),n-i};if(!n)return null;for(c=n.split(n),c[1]-1===n.indexOf(DTSTART)&&-1===n.indexOf(DTEND)&&-1===n.indexOf(EXDATE)(c=n.split( )),m=0,a=c.length;am;m++)l=e.trim(c[m]),-1!==l.indexOf(DTSTART)g.start=T(l,i)-1!==l.indexOf(DTEND)g.end=T(l,i)-1!==l.indexOf(EXDATE)g.exdates=T(l,i)-1!==l.indexOf(RRULE)s=l.substring(6)e.trim(l)&&(s=l);for(s=s.split(;),m=0,a=s.length;am;m++)switch(d=s[m],r=d.split(=),o=e.trim(r[1]).split(,),e.trim(r[0]).toUpperCase()){caseFREQg.freq=o[0].toLowerCase();break;caseUNTILg.until=S(o[0],i);break;caseCOUNTg.count=parseInt(o[0],10);break;caseINTERVALg.interval=parseInt(o[0],10);break;caseBYSECONDg.seconds=h(o,{start0,end60}),v=!0;break;caseBYMINUTEg.minutes=h(o,{start0,end59}),v=!0;break;caseBYHOURg.hours=h(o,{start0,end23}),v=!0;break;caseBYMONTHDAYg.monthDays=h(o,{start-31,end31}),v=!0;break;caseBYYEARDAYg.yearDays=h(o,{start-366,end366}),v=!0;break;caseBYMONTHg.months=h(o,{start1,end12}),v=!0;break;caseBYDAYg.weekDays=f=p(o),v=!0;break;caseBYWEEKNOg.weeks=h(o,{start-53,end53}),v=!0;break;caseBYSETPOSg.positions=h(o,{start-366,end366});break;caseWKSTg.weekStart=u=rt[o[0]]}return g.freq===tg.count!==t&&g.untilnull(g.interval(g.interval=1),u===t&&(g.weekStart=u=U.culture().calendar.firstDay),f&&(g.weekDays=f.sort(_)),g.positions&&!v&&(g.positions=null),g._hasRuleValue=v,g)}function A(e,t){for(var n,i=e.value,r=e.tzid,o=i.length,a=0;oa;a++)n=i[a],n=W.convert(n,rtn.getTimezoneOffset(),EtcUTC),i[a]=U.toString(n,yyyyMMddTHHmmssZ);return r&&(r=;TZID=+r),r++i.join(,)+ }function E(e,n){var i=e.weekStart,r=FREQ=+e.freq.toUpperCase(),o=e.exdates,a=e.start,s=e.end,l=e.until;return e.interval1&&(r+=;INTERVAL=+e.interval),e.count&&(r+=;COUNT=+e.count),l&&(l=W.convert(l,nl.getTimezoneOffset(),EtcUTC),r+=;UNTIL=+U.toString(l,yyyyMMddTHHmmssZ)),e.months&&(r+=;BYMONTH=+e.months),e.weeks&&(r+=;BYWEEKNO=+e.weeks),e.yearDays&&(r+=;BYYEARDAY=+e.yearDays),e.monthDays&&(r+=;BYMONTHDAY=+e.monthDays),e.weekDays&&(r+=;BYDAY=+f(e.weekDays)),e.hours&&(r+=;BYHOUR=+e.hours),e.minutes&&(r+=;BYMINUTE=+e.minutes),e.seconds&&(r+=;BYSECOND=+e.seconds),e.positions&&(r+=;BYSETPOS=+e.positions),i!==t&&(r+=;WKST=+it[i]),a&&(a=DTSTART+A(a,n)),s&&(s=DTEND+A(s,n)),o&&(o=EXDATE+A(o,n)),(aso)&&(r=a+s+o+RRULE+r),r}var I,M,P,z,F,R,B,H,L,N,O,V,U=window.kendo,W=U.timezone,j=U.Class,G=U.ui,q=G.Widget,$=G.DropDownList,Y=U.date,Q=Y.setTime,K=Y.setDayOfWeek,X=Y.adjustDST,Z=Y.firstDayOfMonth,J=Y.getMilliseconds,et=[0,31,60,91,121,152,182,213,244,274,305,335,366],tt=[0,31,59,90,120,151,181,212,243,273,304,334,365],nt=[31,28,30,31,30,31,30,31,30,31,30,31],it={0SU,1MO,2TU,3WE,4TH,5FR,6SA},rt={SU0,MO1,TU2,WE3,TH4,FR5,SA6},ot=[yyyy-MM-ddTHHmmss.fffzzz,yyyy-MM-ddTHHmmsszzz,yyyy-MM-ddTHHmmss,yyyy-MM-ddTHHmm,yyyy-MM-ddTHH,yyyy-MM-dd,yyyyMMddTHHmmssfffzzz,yyyyMMddTHHmmsszzz,yyyyMMddTHHmmss,yyyyMMddTHHmm,yyyyMMddTHH,yyyyMMdd],at=[months,weeks,yearDays,monthDays,weekDays,hours,minutes,seconds],st=at.length,lt=yyyyMMddTHHmmssZ,ct={monthsfunction(e,t,n){var i=n.months,r=u(i,e.getMonth()+1),o=!1;return null!==r&&(r.lengthe.setMonth(r[0]-1,1)e.setFullYear(e.getFullYear()+1,i[0]-1,1),o=!0),o},monthDaysfunction(e,t,n){for(var i,r,o,a=!1,s=e.getHours(),l=function(e){return 0e&&(e=i+e),e};t=e;){if(r=e.getMonth(),i=g(e),o=u(n.monthDays,e.getDate(),l),null===o)return a;if(a=!0,o.length){if(e.setMonth(r,o.sort(v)[0]),X(e,s),r===e.getMonth())break}else e.setMonth(r+1,1)}return a},yearDaysfunction(e,t,n){for(var r,o,a=!1,s=e.getHours(),l=function(e){return 0e&&(e=r+e),e};te;){if(r=m(e)366365,o=u(n.yearDays,i(e),l),null===o)return a;if(a=!0,r=e.getFullYear(),o.length){e.setFullYear(r,0,o.sort(v)[0]),X(e,s);break}e.setFullYear(r+1,0,1)}return a},weeksfunction(e,t,n){for(var i,o,a,s=n.weekStart,l=!1,c=e.getHours(),d=function(e){return 0e&&(e=53+e),e};te;){if(o=u(n.weeks,r(e,s),d),null===o)return l;if(l=!0,i=e.getFullYear(),o.length){a=7o.sort(v)[0]-1,e.setFullYear(i,0,a),K(e,s,-1),X(e,c);break}e.setFullYear(i+1,0,1)}return l},weekDaysfunction(e,t,n){var i,r,a=n.weekDays,s=n.weekStart,u=d(a,e,s),h=e.getHours();if(null===u)return!1;if(i=u[0],i(i=a[0],K(e,s)),r=i.day,i.offset)for(;t=e&&!c(e,i,s);)o(e,s)===l(e,s)(e.setMonth(e.getMonth()+1,1),X(e,h))(e.setDate(e.getDate()+7),X(e,h),K(e,s,-1));return e.getDay()!==r&&K(e,r),!0},hoursfunction(e,t,n){var i=n.hours,r=n._startTime,o=r.getHours(),a=u(i,o),s=!1;return null!==a&&(s=!0,e.setHours(o),X(e,o),a.length(a=a[0],e.setHours(a))(a=e.getHours(),e.setDate(e.getDate()+1),X(e,a),a=i[0],e.setHours(a),X(e,a)),n.minutes&&e.setMinutes(0),r.setHours(a,e.getMinutes())),s},minutesfunction(e,t,n){var i=n.minutes,r=e.getMinutes(),o=u(i,r),a=n._startTime.getHours(),s=!1;return null!==o&&(s=!0,o.lengtho=o[0](a+=1,o=i[0]),n.seconds&&e.setSeconds(0),e.setHours(a,o),a%=24,X(e,a),n._startTime.setHours(a,o,e.getSeconds())),s},secondsfunction(e,t,n){var i=n.seconds,r=n._startTime.getHours(),o=u(i,e.getSeconds()),a=e.getMinutes(),s=!1;return null!==o&&(s=!0,o.lengthe.setSeconds(o[0])(a+=1,e.setMinutes(a,i[0]),a59&&(a%=60,r=(r+1)%24)),n._startTime.setHours(r,a,e.getSeconds())),s}},dt=j.extend({nextfunction(e,t){var n,i,r=t._startTime,o=r.getDate();if(t.seconds)i=e.getSeconds()+1,e.setSeconds(i),r.setSeconds(i),r.setDate(o);else{if(!t.minutes)return!1;n=e.getMinutes()+1,e.setMinutes(n),r.setMinutes(n),r.setDate(o)}return!0},normalizefunction(e){var t=e.rule;4===e.idx&&t.hours&&(t._startTime.setHours(0),this._hour(e.date,t))},limitfunction(e,n,i){for(var r,o,a,s,l,c=i.interval;n=e;){for(a=o=t,l=e.getDate(),s=0;sts;s++){if(r=at[s],i[r]){if(a=ct[r](e,n,i),o!==t&&a)break;o=a}a&&this.normalize({datee,rulei,dayl,idxs})}if((1===c!this.interval(i,e))&&s===st)break}},intervalfunction(e,t){var i,o,a=new Date(e._startPeriod),s=new Date(t),l=t.getHours(),c=e.weekStart,d=e.interval,u=e.freq,h=!1,p=0,f=0,g=1;returnhourly===u(i=s.getTimezoneOffset()-a.getTimezoneOffset(),o=e._startTime.getHours(),s=s.getTime(),l!==o&&(s+=(o-l)Y.MS_PER_HOUR),s-=a,i&&(s-=iY.MS_PER_MINUTE),i=Math.floor(sY.MS_PER_HOUR),p=n(i,d),0!==p&&(this._hour(t,e,p),h=!0))daily===u(Y.setTime(s,-a),i=Math.floor(sY.MS_PER_DAY),p=n(i,d),0!==p&&(this._date(t,e,p),h=!0))weekly===u(i=52(t.getFullYear()-a.getFullYear()),p=r(t,c)-r(a,c)+i,p=n(p,d),0!==p&&(Y.setDayOfWeek(t,e.weekStart,-1),t.setDate(t.getDate()+7p),X(t,l),h=!0))monthly===u(i=t.getFullYear()-a.getFullYear(),i=t.getMonth()-a.getMonth()+12i,p=n(i,d),0!==p&&(g=e._hasRuleValue1t.getDate(),t.setFullYear(t.getFullYear(),t.getMonth()+p,g),X(t,l),h=!0))yearly===u&&(i=t.getFullYear()-a.getFullYear(),p=n(i,d),e.months(f=t.getMonth()),e.yearDayse.monthDayse.weekDays(g=t.getDate()),0!==p&&(t.setFullYear(t.getFullYear()+p,f,g),X(t,l),h=!0)),h},_hourfunction(e,t,n){var i=t._startTime,r=i.getHours();n&&(r+=n),e.setHours(r),r%=24,i.setHours(r),X(e,r)},_datefunction(e,t,n){var i=e.getHours();e.setDate(e.getDate()+n),X(e,i)this._hour(e,t)}}),ut=dt.extend({nextfunction(e,t){dt.fn.next(e,t)this._hour(e,t,1)},normalizefunction(e){var t=e.rule;4===e.idx&&(t._startTime.setHours(0),this._hour(e.date,t))}}),ht=dt.extend({nextfunction(e,t){dt.fn.next(e,t)this[t.hours_hour_date](e,t,1)}}),pt=ht.extend({setupfunction(e,t){e.weekDays(e.weekDays=[{dayt.getDay(),offset0}])}}),ft=dt.extend({nextfunction(e,t){var n,i;if(!dt.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDayst.weekDayst.yearDayst.weeks)this._date(e,t,1);else{for(n=e.getDate(),i=e.getHours(),e.setMonth(e.getMonth()+1),X(e,i);e.getDate()!==n;)e.setDate(n),X(e,i);this._hour(e,t)}},normalizefunction(e){var t=e.rule,n=e.date,i=n.getHours();0!==e.idxt.monthDayst.weekDaysdt.fn.normalize(e)(n.setDate(e.day),X(n,i))},setupfunction(e,t,n){e.monthDayse.weekDaysn.setDate(t.getDate())}}),gt=ft.extend({nextfunction(e,t){var n,i=e.getHours();if(!dt.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDayst.weekDayst.yearDayst.weeks)this._date(e,t,1);else if(t.months){for(n=e.getDate(),e.setMonth(e.getMonth()+1),X(e,i);e.getDate()!==n;)e.setDate(n),X(e,i);this._hour(e,t)}else e.setFullYear(e.getFullYear()+1),X(e,i),this._hour(e,t)},setupfunction(){}}),mt={hourlynew ut,dailynew ht,weeklynew pt,monthlynew ft,yearlynew gt},vt=click;U.recurrence={rule{parseD,serializeE},expandC,dayInYeari,weekInYearr,weekInMontho,numberOfWeeksl,isExceptionw,toExceptionStringy},I=function(e){for(var t=U.culture().calendar.days.namesShort,n=t.length,i=,r=0,o=[];nr;r++)o.push(r);for(t=t.slice(e).concat(t.slice(0,e)),o=o.slice(e).concat(o.slice(0,e)),r=0;nr;r++)i+='label class=k-checkinput class=k-recur-weekday-checkbox type=checkbox value='+o[r]+'  '+t[r]+label;return i},M=U.template('# if (frequency !== never) { #div class=k-edit-labellabel#messages.repeatEvery#labeldivdiv class=k-edit-fieldinput class=k-recur-interval#messages.interval#div# } ## if (frequency === weekly) { #div class=k-edit-labellabel#messages.repeatOn#labeldivdiv class=k-edit-field#=weekDayCheckBoxes(firstWeekDay)#div# } else if (frequency === monthly) { #div class=k-edit-labellabel#messages.repeatOn#labeldivdiv class=k-edit-fieldul class=k-resetlilabelinput class=k-recur-month-radio type=radio name=month value=monthday #messages.day#labelinput class=k-recur-monthday liliinput class=k-recur-month-radio type=radio name=month value=weekday input class=k-recur-weekday-offset input class=k-recur-weekday liuldiv# } else if (frequency === yearly) { #div class=k-edit-labellabel#messages.repeatOn#labeldivdiv class=k-edit-fieldul class=k-resetliinput class=k-recur-year-radio type=radio name=year value=monthday input class=k-recur-month input class=k-recur-monthday liliinput class=k-recur-year-radio type=radio name=year value=weekday input class=k-recur-weekday-offset input class=k-recur-weekday #messages.of#input class=k-recur-month liuldiv# } ## if (frequency !== never) { #div class=k-edit-labellabel#end.label#labeldivdiv class=k-edit-fieldul class=k-resetlilabelinput class=k-recur-end-never type=radio name=end value=never #end.never#labellililabelinput class=k-recur-end-count type=radio name=end value=count #end.after#labelinput class=k-recur-count #end.occurrence#lililabelinput class=k-recur-end-until type=radio name=end value=until #end.on#labelinput class=k-recur-until liuldiv# } #'),P=[{day0,offset0},{day1,offset0},{day2,offset0},{day3,offset0},{day4,offset0},{day5,offset0},{day6,offset0}],z=[{day1,offset0},{day2,offset0},{day3,offset0},{day4,offset0},{day5,offset0}],F=[{day0,offset0},{day6,offset0}],R=q.extend({initfunction(e,t){var n,i=this,r=t&&t.frequencies;q.fn.init.call(i,e,t),i.wrapper=i.element,t=i.options,t.start=n=t.startY.today(),r&&(t.frequencies=r),string==typeof n&&(t.start=U.parseDate(n,yyyyMMddTHHmmss)),null===t.firstWeekDay&&(t.firstWeekDay=U.culture().calendar.firstDay),i._namespace=.+t.name},options{value,start,timezone,spinners!0,firstWeekDaynull,frequencies[never,daily,weekly,monthly,yearly],mobile!1,messages{frequencies{neverNever,hourlyHourly,dailyDaily,weeklyWeekly,monthlyMonthly,yearlyYearly},hourly{repeatEveryRepeat every ,interval hour(s)},daily{repeatEveryRepeat every ,interval day(s)},weekly{interval week(s),repeatEveryRepeat every ,repeatOnRepeat on },monthly{repeatEveryRepeat every ,repeatOnRepeat on ,interval month(s),dayDay },yearly{repeatEveryRepeat every ,repeatOnRepeat on ,interval year(s),of of },end{labelEnd,mobileLabelEnds,neverNever,afterAfter ,occurrence occurrence(s),onOn },offsetPositions{firstfirst,secondsecond,thirdthird,fourthfourth,lastlast},weekdays{dayday,weekdayweekday,weekendweekend day}}},events[change],_initIntervalfunction(){var e=this,t=e._value;e._container.find(.k-recur-interval).kendoNumericTextBox({spinnerse.options.spinners,valuet.interval1,decimals0,format#,min1,changefunction(){t.interval=this.value(),e._trigger()}})},_weekDayRulefunction(e){var t=this,n=(t._weekDay.elementt._weekDay).val(),i=+(t._weekDayOffset.elementt._weekDayOffset).val(),r=null,o=null;e(day===n(r=P,o=i)weekday===n(r=z,o=i)weekend===n(r=F,o=i)r=[{offseti,day+n}]),t._value.weekDays=r,t._value.positions=o},_weekDayViewfunction(){var e,t,n,i,r=this,o=r._value.weekDays,a=r._value.positions,s=r._weekDayOffset;o&&(n=o.length,a&&(7===n(t=day,e=a)5===n(t=weekday,e=a)2===n&&(t=weekend,e=a)),t(o=o[0],t=o.day,e=o.offset),i=s.valuevalueval,s[i](e),r._weekDay[i](t))},_initWeekDayfunction(){var t,n=this,i=n.options.messages.weekdays,r=n.options.messages.offsetPositions,o=n._container.find(.k-recur-weekday),a=function(){n._weekDayRule(),n._trigger()};o[0]&&(n._weekDayOffset=new $(n._container.find(.k-recur-weekday-offset),{changea,dataTextFieldtext,dataValueFieldvalue,dataSource[{textr.first,value1},{textr.second,value2},{textr.third,value3},{textr.fourth,value4},{textr.last,value-1}]}),t=[{texti.day,valueday},{texti.weekday,valueweekday},{texti.weekend,valueweekend}],n._weekDay=new $(o,{valuen.options.start.getDay(),changea,dataTextFieldtext,dataValueFieldvalue,dataSourcet.concat(e.map(U.culture().calendar.days.names,function(e,t){return{texte,valuet}}))}),n._weekDayView())},_initWeekDaysfunction(){var t,n,i,r,o,a=this,s=a._value,l=a._container.find(.k-recur-weekday-checkbox);if(l[0]&&(l.on(vt+a._namespace,function(){s.weekDays=e.map(l.filter(checked),function(e){return{day+e.value,offset0}}),a.options.mobilea._trigger()}),s.weekDays))for(i=0,r=l.length,o=s.weekDays.length;ri;i++)for(n=l[i],t=0;ot;t++)n.value==s.weekDays[t].day&&(n.checked=!0)},_initMonthDayfunction(){var e=this,t=e._value,n=e._container.find(.k-recur-monthday);n[0]&&(e._monthDay=new U.ui.NumericTextBox(n,{spinnerse.options.spinners,min1,max31,decimals0,format#,valuet.monthDayst.monthDays[0]e.options.start.getDate(),changefunction(){var n=this.value();t.monthDays=n[n]n,e._trigger()}}))},_initCountfunction(){var e=this,t=e._container.find(.k-recur-count),n=e._value;e._count=t.kendoNumericTextBox({spinnerse.options.spinners,valuen.count1,decimals0,format#,min1,changefunction(){n.count=this.value(),e._trigger()}}).data(kendoNumericTextBox)},_initUntilfunction(){var e=this,t=e._container.find(.k-recur-until),n=e.options.start,i=e._value,r=i.until;e._until=t.kendoDatePicker({minr&&nrrn,valuern,changefunction(){i.until=this.value(),e._trigger()}}).data(kendoDatePicker)},_triggerfunction(){this.options.mobilethis.trigger(change)}}),B=R.extend({initfunction(e,t){var n=this;
R.fn.init.call(n,e,t),n._initFrequency(),n._initContainer(),n.value(n.options.value)},options{nameRecurrenceEditor},events[change],destroyfunction(){var e=this;e._frequency.destroy(),e._container.find(input[type=radio],input[type=checkbox]).off(vt+e._namespace),U.destroy(e._container),R.fn.destroy.call(e)},valuefunction(e){var n,i=this,r=i.options.timezone;return e===ti._value.freqE(i._value,r)(i._value=D(e,r){},n=i._value.freq,ni._frequency.value(n)i._frequency.select(0),i._initView(i._frequency.value()),t)},_initContainerfunction(){var t=this.element,n=e('div class=k-recur-view '),i=t.parent(.k-edit-field);i[0]n.insertAfter(i)t.append(n),this._container=n},_initFrequencyfunction(){var t,n=this,i=n.options,r=i.frequencies,o=i.messages.frequencies,a=e(input );r=e.map(r,function(e){return{texto[e],valuee}}),t=r[0],t&&never===t.value&&(t.value=),n.element.append(a),n._frequency=new $(a,{dataTextFieldtext,dataValueFieldvalue,dataSourcer,changefunction(){n._value={},n._initView(n._frequency.value()),n.trigger(change)}})},_initViewfunction(e){var n=this,i=n._value,r=n.options,o={frequencyenever,weekDayCheckBoxesI,firstWeekDayr.firstWeekDay,messagesr.messages[e],endr.messages.end};return U.destroy(n._container),n._container.html(M(o)),e(i.freq=e,weekly!==ei.weekDays(i.weekDays=[{dayr.start.getDay(),offset0}]),n._initInterval(),n._initWeekDays(),n._initMonthDay(),n._initWeekDay(),n._initMonth(),n._initCount(),n._initUntil(),n._period(),n._end(),t)(n._value={},t)},_initMonthfunction(){var t,n=this,i=n._value,r=i.months[n.options.start.getMonth()+1],o=n._container.find(.k-recur-month);o[0]&&(t={changefunction(){i.months=[+this.value()],n.trigger(change)},dataTextFieldtext,dataValueFieldvalue,dataSourcee.map(U.culture().calendar.months.names,function(e,t){return{texte,valuet+1}})},n._month1=new $(o[0],t),n._month2=new $(o[1],t),r&&(r=r[0],n._month1.value(r),n._month2.value(r)))},_endfunction(){var e,t=this,n=t._value,i=t._container,r=t._namespace,o=function(e){t._toggleEnd(e.currentTarget.value),t.trigger(change)};t._buttonNever=i.find(.k-recur-end-never).on(vt+r,o),t._buttonCount=i.find(.k-recur-end-count).on(vt+r,o),t._buttonUntil=i.find(.k-recur-end-until).on(vt+r,o),n.counte=countn.until&&(e=until),t._toggleEnd(e)},_periodfunction(){var e=this,t=e._value,n=monthly===t.freq,i=ne._toggleMonthDaye._toggleYear,r=.k-recur-+(nmonthyear)+-radio,o=e._container.find(r);(nyearly===t.freq)&&(o.on(vt+e._namespace,function(t){i.call(e,t.currentTarget.value),e.trigger(change)}),e._buttonMonthDay=o.eq(0),e._buttonWeekDay=o.eq(1),i.call(e,t.weekDaysweekdaymonthday))},_toggleEndfunction(e){var t,n,i,r,o=this;count===e(o._buttonCount.prop(checked,!0),i=!0,r=!1,t=o._count.value(),n=null)until===e(o._buttonUntil.prop(checked,!0),i=!1,r=!0,t=null,n=o._until.value())(o._buttonNever.prop(checked,!0),i=r=!1,t=n=null),o._count.enable(i),o._until.enable(r),o._value.count=t,o._value.until=n},_toggleMonthDayfunction(e){var t,n=this,i=!1,r=!0,o=!1;monthday===e(n._buttonMonthDay.prop(checked,!0),t=[n._monthDay.value()],i=!0,r=!1,o=!0)(n._buttonWeekDay.prop(checked,!0),t=null),n._weekDay.enable(r),n._weekDayOffset.enable(r),n._monthDay.enable(i),n._value.monthDays=t,n._weekDayRule(o)},_toggleYearfunction(e){var t,n=this,i=!1,r=!0;monthday===e(i=!0,r=!1,t=n._month1.value())t=n._month2.value(),n._month1.enable(i),n._month2.enable(r),n._value.months=[t],n._toggleMonthDay(e)}}),G.plugin(B),H=U.template('div class=k-edit-labellabel#headerTitle#labeldivdiv class=k-edit-field k-recur-pattern k-scheduler-toolbardivdiv class=k-recur-viewdiv'),L=U.template('# if (frequency !== never) { #div class=k-edit-labellabel#messages.repeatEvery#labeldivdiv class=k-edit-fieldinput class=k-recur-interval pattern=d#messages.interval#div# } ## if (frequency === weekly) { #div class=k-edit-labellabel#messages.repeatOn#labeldivdiv class=k-edit-field#=weekDayCheckBoxes(firstWeekDay)#div# } else if (frequency === monthly) { #div class=k-edit-labellabel#messages.repeatBy#labeldivdiv class=k-edit-field k-scheduler-toolbar k-repeat-ruledivdiv class=k-monthday-view style=displaynonediv class=k-edit-labellabel#messages.day#labeldivdiv class=k-edit-fieldinput class=k-recur-monthday pattern=ddivdivdiv class=k-weekday-view style=displaynonediv class=k-edit-labellabel#messages.every#labeldivdiv class=k-edit-fieldselect class=k-recur-weekday-offsetselectdivdiv class=k-edit-labellabel#messages.day#labeldivdiv class=k-edit-fieldselect class=k-recur-weekdayselectdivdiv# } else if (frequency === yearly) { #div class=k-edit-labellabel#messages.repeatBy#labeldivdiv class=k-edit-field k-scheduler-toolbar k-repeat-ruledivdiv class=k-monthday-view style=displaynonediv class=k-edit-labellabel#messages.day#labeldivdiv class=k-edit-fieldinput class=k-recur-monthday pattern=ddivdivdiv class=k-weekday-view style=displaynonediv class=k-edit-labellabel#messages.every#labeldivdiv class=k-edit-fieldselect class=k-recur-weekday-offsetselectdivdiv class=k-edit-labellabel#messages.day#labeldivdiv class=k-edit-fieldselect class=k-recur-weekdayselectdivdivdiv class=k-edit-labellabel#messages.month#labeldivdiv class=k-edit-fieldselect class=k-recur-monthselectdiv# } #'),N=U.template('# if (endPattern === count) { #div class=k-edit-labellabel#messages.after#labeldivdiv class=k-edit-fieldinput class=k-recur-count pattern=d div# } else if (endPattern === until) { #div class=k-edit-labellabel#messages.on#labeldivdiv class=k-edit-fieldinput type=date class=k-recur-until div# } #'),O=U.template('ul class=k-reset k-header k-scheduler-navigation#for (var i = 0, length = dataSource.length; i  length; i++) {#li class=k-state-default #= value === dataSource[i].value  k-state-selected   #a role=button href=# class=k-link data-#=ns#value=#=dataSource[i].value##dataSource[i].text#ali#}#ul'),V=R.extend({initfunction(e,t){var n=this;R.fn.init.call(n,e,t),t=n.options,n._optionTemplate=U.template('option value=#value##text#option'),n.value(t.value),n._pane=t.pane,n._initRepeatButton(),n._initRepeatEnd(),n._defaultValue=n._value},options{nameMobileRecurrenceEditor,animations{leftslide,rightslideright},mobile!0,messages{cancelCancel,updateSave,endTitleRepeat ends,repeatTitleRepeat pattern,headerTitleRepeat event,end{patterns{neverNever,afterAfter...,onOn...},neverNever,afterEnd repeat after,onEnd repeat on},daily{interval},hourly{interval},weekly{interval},monthly{interval,repeatByRepeat by ,dayOfMonthDay of the month,dayOfWeekDay of the week,repeatEveryRepeat every,everyEvery,dayDay },yearly{interval,repeatByRepeat by ,dayOfMonthDay of the month,dayOfWeekDay of the week,repeatEveryRepeat every ,everyEvery,monthMonth,dayDay}}},events[change],valuefunction(e){var n=this,i=n.options.timezone;return e===tn._value.freqE(n._value,i)(n._value=D(e,i){},t)},destroyfunction(){this._destroyView(),U.destroy(this._endFields),this._repeatButton.off(vt+this._namespace),R.fn.destroy.call(this)},_initRepeatButtonfunction(){var t=this,n=t.options.messages.frequencies[this._value.freqnever];t._repeatButton=e('a href=# class=k-button k-scheduler-recur'+n+a).on(vt+t._namespace,function(e){e.preventDefault(),t._createView(repeat),t._pane.navigate(recurrence,t.options.animations.left)}),t.element.append(t._repeatButton)},_initRepeatEndfunction(){var t=this,n=e('div class=k-edit-labellabel'+t.options.messages.end.mobileLabel+labeldiv).insertAfter(t.element.parent(.k-edit-field)),i=e('div class=k-edit-fielda href=# class=k-button k-scheduler-recur-endadiv').on(vt+t._namespace,function(e){e.preventDefault(),t._value.freq&&(t._createView(end),t._pane.navigate(recurrence,t.options.animations.left))}).insertAfter(n);t._endFields=n.add(i).toggleClass(k-state-disabled,!t._value.freq),t._endButton=i.find(.k-scheduler-recur-end).text(t._endText())},_endTextfunction(){var e=this._value,t=this.options.messages.end,n=t.never;return e.countn=U.format({0} {1},t.after,e.count)e.until&&(n=U.format({0} {1d},t.on,e.until)),n},_initFrequencyfunction(){var t=this,n=t.options.messages.frequencies,i=O({dataSourcee.map(this.options.frequencies,function(e){return{textn[e],valuenever!==ee}}),valuet._value.freq,nsU.ns});t._view.element.find(.k-recur-pattern).append(i).on(vt+t._namespace,.k-scheduler-navigation li,function(n){var i=e(this);n.preventDefault(),i.addClass(k-state-selected).siblings().removeClass(k-state-selected),t._value={freqi.children(a).attr(U.attr(value))},t._initRepeatView()})},_initEndNavigationfunction(){var t,n=this,i=n.options.messages.end.patterns,r=n._value,o=;r.counto=countr.until&&(o=until),t=O({dataSource[{texti.never,value},{texti.after,valuecount},{texti.on,valueuntil}],valueo,nsU.ns}),n._view.element.find(.k-recur-pattern).append(t).on(vt+n._namespace,.k-scheduler-navigation li,function(t){var i=e(this),o=null,a=null;t.preventDefault(),i.addClass(k-state-selected).siblings().removeClass(k-state-selected),n._initEndView(i.children(a).attr(U.attr(value))),n._count(o=n._count.value(),a=null)n._until&&(o=null,a=n._until.valU.parseDate(n._until.val(),yyyy-MM-dd)n._until.value()),r.count=o,r.until=a})},_createViewfunction(t){var n=this,i=n.options,r=i.messages,o=r[repeat===trepeatTitleendTitle],a='div data-role=view class=k-popup-edit-form k-scheduler-edit-form k-mobile-list id=recurrencediv data-role=header class=k-headera href=# class=k-button k-scheduler-cancel'+r.cancel+a+r.headerTitle+'a href=# class=k-button k-scheduler-update'+r.update+adiv,s=n._pane.view().id;n._view=n._pane.append(a+H({headerTitleo})),n._view.element.on(vt+n._namespace,a.k-scheduler-cancel, a.k-scheduler-update,function(t){t.preventDefault(),t.stopPropagation(),e(this).hasClass(k-scheduler-update)(n.trigger(change),n._defaultValue=e.extend({},n._value))n._value=n._defaultValue;var i=n._value.freq;n._endButton.text(n._endText()),n._endFields.toggleClass(k-state-disabled,!i),n._repeatButton.text(r.frequencies[inever]),n._pane.one(viewShow,function(){n._destroyView()}),n._pane.navigate(s,n.options.animations.right)}),n._container=n._view.element.find(.k-recur-view),repeat===t(n._initFrequency(),n._initRepeatView())(n._initEndNavigation(),n._initEndView())},_destroyViewfunction(){this._view&&(this._view.destroy(),this._view.element.remove()),this._view=null},_initRepeatViewfunction(){var e=this,n=e._value.freqnever,i={frequencyn,weekDayCheckBoxesI,firstWeekDaye.options.firstWeekDay,messagese.options.messages[n]},r=L(i),o=e._container,a=e._value;return U.destroy(o),o.html(r),r(weekly!==na.weekDays(a.weekDays=[{daye.options.start.getDay(),offset0}]),e._initInterval(),e._initMonthDay(),e._initWeekDays(),e._initWeekDay(),e._initMonth(),e._period(),t)(e._value={},t)},_initEndViewfunction(e){var n,i=this,r=i._value;e===t&&(r.counte=countr.until&&(e=until)),n={endPatterne,messagesi.options.messages.end},U.destroy(i._container),i._container.html(N(n)),i._initCount(),i._initUntil()},_initWeekDayfunction(){var t,n=this,i=n.options.messages.weekdays,r=n.options.messages.offsetPositions,o=n._container.find(.k-recur-weekday),a=function(){n._weekDayRule(),n.trigger(change)};o[0]&&(n._weekDayOffset=n._container.find(.k-recur-weekday-offset).html(n._options([{textr.first,value1},{textr.second,value2},{textr.third,value3},{textr.fourth,value4},{textr.last,value-1}])).change(a),t=[{texti.day,valueday},{texti.weekday,valueweekday},{texti.weekend,valueweekend}],t=t.concat(e.map(U.culture().calendar.days.names,function(e,t){return{texte,valuet}})),n._weekDay=o.html(n._options(t)).change(a).val(n.options.start.getDay()),n._weekDayView())},_initMonthfunction(){var t,n=this,i=n._value,r=n.options.start,o=i.months[r.getMonth()+1],a=n._container.find(.k-recur-month),s=U.culture().calendar.months.names;a[0]&&(t=e.map(s,function(e,t){return{texte,valuet+1}}),a.html(n._options(t)).change(function(){i.months=[+this.value]}),n._monthSelect=a,o&&a.val(o[0]))},_periodfunction(){var t,n,i,r=this,o=r._value,a=r._container,s=r.options.messages[o.freq],l=a.find(.k-repeat-rule),c=a.find(.k-weekday-view),d=a.find(.k-monthday-view);l[0]&&(t=o.weekDaysweekdaymonthday,n=O({valuet,dataSource[{texts.dayOfMonth,valuemonthday},{texts.dayOfWeek,valueweekday}],nsU.ns}),i=function(e){var t=r._weekDay.val(),n=r._weekDayOffset.val(),i=r._monthDay.value(),a=r._monthSelectr._monthSelect.val()null;monthday===e(o.weekDays=null,o.monthDays=i[i]i,o.months=a[+a]a,c.hide(),d.show())(o.monthDays=null,o.months=a[+a]a,o.weekDays=[{offset+n,day+t}],c.show(),d.hide())},l.append(n).on(vt+r._namespace,.k-scheduler-navigation li,function(t){var n,r=e(this).addClass(k-state-selected);t.preventDefault(),r.siblings().removeClass(k-state-selected),n=r.children(a).attr(U.attr(value)),i(n)}),i(t))},_initUntilfunction(){var e=this,t=e._container.find(.k-recur-until),n=e.options.start,i=e._value,r=i.until,o=r&&nrrn;e._until=U.support.input.datet.attr(min,U.toString(o,yyyy-MM-dd)).val(U.toString(rn,yyyy-MM-dd)).on(change,function(){i.until=U.parseDate(this.value,yyyy-MM-dd)})t.kendoDatePicker({mino,valuern,changefunction(){i.until=this.value()}}).data(kendoDatePicker)},_optionsfunction(e,t){var n=0,i=,r=e.length,o=this._optionTemplate;for(t&&(i+=o({value,textt}));rn;n++)i+=o(e[n]);return i}}),G.plugin(V)}(window.kendo.jQuery),function(e,t){function n(e){var t=new Date(1980,1,1,0,0,0);return c(t,f(e)),t}function i(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;)n6n-=7n++,t.push(n);return t}function r(e){var t,n=0;if(e.columns){for(t=0;e.columns.lengtht;t++)n+=r(e.columns[t]);return e.colspan=n,n}return e.colspan=1,1}function o(e,t,n){var i,r,o,s;for(i=e.length-1;i=0;i--)r=e[i].rectLeft,s=e[i].rectRight,o=t=r&&s=t,(or=t&&n=sr=t&&n=r)&&(tr&&(t=r),sn&&(n=s));return a(e,t,n)}function a(e,t,n){var i,r,o=[];for(i=0;e.lengthi;i++)r={rectLefte[i].rectLeft,rectRighte[i].rectRight},(tr.rectLeft&&r.rectRighttr.rectLeft=t&&n=r.rectRight)&&o.push(e[i]);return o}var s=window.kendo,l=s.ui,c=s.date.setTime,d=l.SchedulerView,u=e.extend,h=e.proxy,p=s.date.getDate,f=s.date.getMilliseconds,g=s.date.MS_PER_DAY,m=s.date.MS_PER_MINUTE,v=.kendoTimelineView,_=s.template('divdiv class=k-event-template k-event-time#kendo.format({0t} - {1t}, start, end)#divdiv class=k-event-template${title}divdiv'),w=s.template(span class='k-link k-nav-day'#=kendo.format('{0m}', date)#span),y='div role=gridcell aria-selected=false data-#=ns#uid=#=uid##if (resources[0]) { #style=background-color#=resources[0].color#; border-color #=resources[0].color#class=k-event#=inverseColor   k-event-inverse  # #} else {#class=k-event#}#span class=k-event-actions# if(data.tail) {#span class=k-icon k-i-arrow-wspan#}## if(data.isException()) {#span class=k-icon k-i-exceptionspan# } else if(data.isRecurring()) {#span class=k-icon k-i-refreshspan# } #span{0}span class=k-event-actions#if (showDelete) {#a href=# class=k-link k-event-deletespan class=k-icon k-si-closespana#}## if(data.head) {#span class=k-icon k-i-arrow-espan#}#span#if(resizable && !data.tail){#span class=k-resize-handle k-resize-wspan#}##if(resizable && !data.head){#span class=k-resize-handle k-resize-espan#}#div',b=d.extend({initfunction(e,t){var n=this;d.fn.init.call(n,e,t),n.title=n.options.titlen.options.name,n._workDays=i(n.options),n._templates(),n._editable(),n.calculateDateRange(),n._groups(),n._currentTime()},nametimeline,_currentTimeMarkerUpdaterfunction(){var t,n,i,r,o,a,l,c,d,u,h,p=new Date,f=this.options;if(this.datesHeader.find(.k-current-time).remove(),this._isInDateSlot({startp,endp}))for(f.currentTimeMarker.useLocalTimezone===!1&&(t=f.dataSource.options.schema.timezone,f.dataSource&&t&&(n=s.timezone.offset(p,t),p=s.timezone.convert(p,p.getTimezoneOffset(),n))),i=f.group&&vertical!=f.group.orientationthis.groups.length1,r=0;ir;r++){if(o=this.groups[r],a=s.date.toUtcTime(p),l=o.timeSlotRanges(a,a+1),0===l.length)return;c=l[0].collection,d=c.slotByStartDate(p),d&&(u=e(div class='k-current-time'div),h=this.datesHeader,u.appendTo(h.find(.k-scheduler-header-wrap)).css({leftMath.round(l[0].innerRect(p,new Date(p.getTime()+1),!1).left),width1px,bottom1px,top0}))}},_currentTimefunction(){var e,n=this,i=n.options.currentTimeMarker;i!==!1&&i.updateInterval!==t&&(e=i.updateInterval,n._currentTimeMarkerUpdater(),n._currentTimeUpdateTimer=setInterval(h(this._currentTimeMarkerUpdater,n),e))},_editablefunction(){this.options.editable&&(this._isMobile()this._touchEditable()this._mouseEditable())},_mouseEditablefunction(){var t=this;t.element.on(click+v,.k-event ahas(.k-si-close),function(n){t.trigger(remove,{uide(this).closest(.k-event).attr(s.attr(uid))}),n.preventDefault()}),t.options.editable.create!==!1&&t.element.on(dblclick+v,.k-scheduler-content td,function(e){var n,i=t._slotByPosition(e.pageX,e.pageY);i&&(n=t._resourceBySlot(i),t.trigger(add,{eventInfou({starti.startDate(),endi.endDate()},n)})),e.preventDefault()}),t.options.editable.update!==!1&&t.element.on(dblclick+v,.k-event,function(n){t.trigger(edit,{uide(this).closest(.k-event).attr(s.attr(uid))}),n.preventDefault()})},_touchEditablefunction(){var t=this;t.options.editable.create!==!1&&(t._addUserEvents=new s.UserEvents(t.element,{filter.k-scheduler-content td,tapfunction(e){var n,i=t._slotByPosition(e.x.location,e.y.location);i&&(n=t._resourceBySlot(i),t.trigger(add,{eventInfou({starti.startDate(),endi.endDate()},n)})),e.preventDefault()}})),t.options.editable.update!==!1&&(t._editUserEvents=new s.UserEvents(t.element,{filter.k-event,tapfunction(n){var i=e(n.target).closest(.k-event);i.hasClass(k-event-active)t.trigger(edit,{uidi.attr(s.attr(uid))}),n.preventDefault()}}))},_slotByPositionfunction(e,t){var n,i,r,o,a=this.content,l=a.offset();for(e-=l.left,t-=l.top,this._isRtl(o=s.support.browser,o.mozilla(e+=a[0].scrollWidth-a[0].offsetWidth,e+=a[0].scrollLeft)o.msie(e-=a.scrollLeft(),e+=a[0].scrollWidth-this.content[0].offsetWidth)o.webkit&&(e+=a[0].scrollLeft))e+=a[0].scrollLeft,t+=a[0].scrollTop,e=Math.ceil(e),t=Math.ceil(t),r=0;this.groups.lengthr;r++)if(i=this.groups[r],n=i.timeSlotByPosition(e,t))return n;return null},options{nameTimelineView,titleTimeline,selectedDateFormat{0D},selectedShortDateFormat{0d},dates.date.today(),startTimes.date.today(),endTimes.date.today(),showWorkHours!1,minorTickCount2,editable!0,workDayStartnew Date(1980,1,1,8,0,0),workDayEndnew Date(1980,1,1,17,0,0),workWeekStart1,workWeekEnd5,majorTick60,eventHeight25,eventMinWidth0,columnWidth100,groupHeaderTemplate#=text#,majorTimeHeaderTemplate#=kendo.toString(date, 't')#,slotTemplate&nbsp;,eventTemplate_,dateHeaderTemplatew,footer{commandworkDay},currentTimeMarker{updateInterval1e4,useLocalTimezone!0},messages{defaultRowTextAll events,showFullDayShow full day,showWorkDayShow business hours}},events[remove,add,edit],_templatesfunction(){var e=this.options,t=u({},s.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,y),this.majorTimeHeaderTemplate=s.template(e.majorTimeHeaderTemplate,t),this.dateHeaderTemplate=s.template(e.dateHeaderTemplate,t),this.slotTemplate=s.template(e.slotTemplate,t),this.groupHeaderTemplate=s.template(e.groupHeaderTemplate,t)},_renderfunction(t){var n=this;t=t[],n._dates=t,n._startDate=t[0],n._endDate=t[t.length-10],n._calculateSlotRanges(),n.createLayout(n._layout(t)),n._content(t),n._footer(),n._setContentWidth(),n.refreshLayout(),n.datesHeader.on(click+v,.k-nav-day,function(t){var i=e(t.currentTarget).closest(th),r=n._slotByPosition(i.offset().left,n.content.offset().top);n.trigger(navigate,{viewtimeline,dater.startDate()})}),n.timesHeader.find(table trlast).hide(),n.datesHeader.find(table trlast).hide()},_setContentWidthfunction(){var e=this.content,t=e.width(),n=this.content.find(table),i=n.find(trfirst).children().length,r=100,o=ithis.options.columnWidth;ot&&(r=Math.ceil(ot100)),n.add(this.datesHeader.find(table)).css(width,r+%)},_calculateSlotRangesfunction(){var e,t,n,i,r=this._dates,o=this.startTime(),a=this.endTime();for(f(a)===f(s.date.getDate(a))&&(a=s.date.getDate(a),c(a,g-1)),a=f(a),o=f(o),e=[],t=0;r.lengtht;t++)n=p(r[t]),c(n,o),i=p(r[t]),c(i,a),e.push({starts.date.toUtcTime(n),ends.date.toUtcTime(i)});this._slotRanges=e},_forTimeRangefunction(e,t,i,r){var o,a,s,l,d,u,h,p,v,_,w,y,b,k,x,C,S,T;for(e=n(e),t=n(t),o=this,a=f(e),s=f(t),l=o.options.minorTickCount,d=o.options.majorTickm,u=dl1,h=new Date(+e),p=h.getDate(),_=0,y=,w=gu,a!=s&&(as&&(s+=g),w=(s-a)u),w=Math.round(w);w_;_++)b=_%(du),k=0===b,x=l-1b,C=b===l-1,S=l,w%l!==0&&(T=lw-(_+1),k&&T&&(S=w%l)),y+=i(h,k,x,C,S),c(h,u,!1);return s&&(v=f(h),ph.getDate()&&(v+=g),vs&&(h=new Date(+t))),r&&(y+=r(h)),y},_layoutfunction(e){var t,n,i,o=[],a=[],s=this,l=[{texts.options.messages.defaultRowText}],c=[];for(t=0;s.options.minorTickCountt;t++)c.push({text,className});for(this._forTimeRange(s.startTime(),s.endTime(),function(e,t,n,i,a){var l,d=s.majorTimeHeaderTemplate;t&&(l={textd({datee}),classNameik-slot-cell,columnsc.slice(0,a)},r(l),o.push(l))}),n=0;e.lengthn;n++)a.push({texts.dateHeaderTemplate({datee[n]}),classNamek-slot-cell,columnso.slice(0)});return i=this.groupedResources,i.length&&(vertical===this._groupOrientation()l=s._createRowsLayout(i,null,this.groupHeaderTemplate)a=s._createColumnsLayout(i,a,this.groupHeaderTemplate)),{columnsa,rowsl}},_footerfunction(){var t,n,i,r=this.options;r.footer!==!1&&(t='div class=k-header k-scheduler-footer',n=r.footer.command,n&&workDay===n(t+='ul class=k-reset k-header',t+='li class=k-state-default k-scheduler-fulldaya href=# class=k-linkspan class=k-icon k-i-clockspan',t+=(r.showWorkHoursr.messages.showFullDayr.messages.showWorkDay)+ali,t+=ul)t+=&nbsp;,t+=div,this.footer=e(t).appendTo(this.element),i=this,this.footer.on(click+v,.k-scheduler-fullday,function(e){e.preventDefault(),i.trigger(navigate,{viewi.namer.name,datei.startDate(),isWorkDay!r.showWorkHours})}))},_columnCountForLevelfunction(e){var t=this.columnLevels[e];return tt.length0},_rowCountForLevelfunction(e){var t=this.rowLevels[e];return tt.length0},_isWorkDayfunction(e){var t,n=e.getDay(),i=this._workDays;for(t=0;i.lengtht;t++)if(i[t]===n)return!0;return!1},_contentfunction(e){var t,n,i,r,o,a=this,l=a.options,c=a.startTime(),d=this.endTime(),u=1,h=1,p=e.length,f=,g=this.groupedResources,m=this.slotTemplate,v=!1;for(g.length&&(v=vertical===a._groupOrientation(),vh=a._groupCount()u=a._groupCount()),f+=tbody,t=function(t){var o,c=,d=,u=function(e){return function(){return a._resourceBySlot({groupIndexe})}};return s.date.isToday(e[r])&&(d+=k-today),(s.date.getMilliseconds(t)s.date.getMilliseconds(l.workDayStart)s.date.getMilliseconds(t)=s.date.getMilliseconds(l.workDayEnd)!a._isWorkDay(e[r]))&&(d+= k-nonwork-hour),c+=td+(!==d' class='+d+'')+,o=s.date.getDate(e[r]),s.date.setTime(o,s.date.getMilliseconds(t)),c+=m({dateo,resourcesu(vni)}),c+=td},n=0;hn;n++){for(f+=tr,i=0;ui;i++)for(r=0,o=p;or;r++)f+=this._forTimeRange(c,d,t);f+=tr}f+=tbody,this.content.find(table).append(f)},_groupsfunction(){var e,t,n,i,r=this._groupCount(),o=this._dates,a=o.length;for(this.groups=[],e=0;re;e++)t=this._addResourceView(e),n=o[0],i=o[o.length-10],t.addTimeSlotCollection(n,s.date.addDays(i,1));this._timeSlotGroups(r,a)},_isVerticallyGroupedfunction(){return this.groupedResources.length&&vertical===this._groupOrientation()},_isHorizontallyGroupedfunction(){return this.groupedResources.length&&horizontal===this._groupOrientation()},_timeSlotGroupsfunction(e,t){var n,i,r,o,a,s,l,c,d,u,h,p,g,m,v,_,w,y,b=this._timeSlotInterval(),k=this._isVerticallyGrouped(),x=this.content.find(tr),C=x.length;for(x.attr(role,row),k&&(C=Math.floor(Ce)),n=0;en;n++)for(i=0,r=this.groups[n],k&&(i=n),a=iC,s=0,k(s=n),l=x[a].children,c=l.length(k1e),d=ct,u=0;tu;u++)for(h=ud+cs,o=f(new Date(+this.startTime())),p=0;dp;p++)g=l[p+h],m=r.getTimeSlotCollection(0),v=this._dates[u],_=Date.UTC(v.getFullYear(),v.getMonth(),v.getDate()),w=_+o,y=w+b,g.setAttribute(role,gridcell),g.setAttribute(aria-selected,!1),m.addTimeSlot(g,w,y,!0),o+=b},startDatefunction(){return this._startDate},endDatefunction(){return this._endDate},startTimefunction(){var e=this.options;return e.showWorkHourse.workDayStarte.startTime},endTimefunction(){var e=this.options;return e.showWorkHourse.workDayEnde.endTime},_timeSlotIntervalfunction(){var e=this.options;return e.majorTicke.minorTickCountm},nextDatefunction(){return s.date.nextDay(this.endDate())},previousDatefunction(){return s.date.previousDay(this.startDate())},calculateDateRangefunction(){this._render([this.options.date])},renderfunction(e){var t,n,i,r,o;for(this._headerColumnCount=0,this._groups(),this.element.find(.k-event).remove(),e=new s.data.Query(e).sort([{fieldstart,dirasc},{fieldend,dirdesc}]).toArray(),t=[],this._eventsByResource(e,this.groupedResources,t),n=[],i=0,r=0;t.lengthr;r++)o={groupIndexr,maxRowCount0,events{}},n.push(o),this._renderEvents(t[r],r,o),o.maxRowCounti&&(i=o.maxRowCount);this._setRowsHeight(n,t.length,i),this._positionEvents(n,t.length),this.trigger(activate)},_positionEventsfunction(e,t){var n,i,r,o;for(n=0;tn;n++){i=e[n].events;for(r in i)o=i[r],this._positionEvent(o)}},_setRowsHeightfunction(t,n,i){var r,o,a,s,l,c=this.options.eventHeight+2,d=this._getBottomRowOffset();for(n=this._isVerticallyGrouped()n1,r=0;nr;r++)o=this._isVerticallyGrouped()t[r].maxRowCounti,o=oo1,a=(c+2)o+d,s=e(this.times.find(tr)[r]),l=e(this.content.find(tr)[r]),s.height(a),l.height(a);this._setContentWidth(),this.refreshLayout(),this._refreshSlots()},_getBottomRowOffsetfunction(){var e,t,n=.5this.options.eventHeight,i=this._isMobile();return i(e=30,t=60)(e=15,t=30),ntn=ten&&(n=e),n},_positionEventfunction(e){var t,n,i,r,o=this.options.eventHeight+2,a=e.slotRange.innerRect(e.start,e.end,!1),s=a.left;this._isRtl&&(s-=this.content[0].scrollWidth-this.content[0].offsetWidth),t=a.right-a.left-2,0t&&(t=0),this.options.eventMinWidtht&&(n=e.slotRange.collection,i=n._slots[n._slots.length-1],r=i.offsetLeft+i.offsetWidth,t=this.options.eventMinWidth,s+tr&&(t=r-a.left-2)),e.element.css({tope.slotRange.start.offsetTop+e.rowIndex(o+2)+px,lefts,widtht})},_refreshSlotsfunction(){for(var e=0;this.groups.lengthe;e++)this.groups[e].refresh()},_eventsByResourcefunction(e,t,n){var i,r,o,a,l=t[0];if(l)for(i=l.dataSource.view(),r=0;i.lengthr;r++)o=this._resourceValue(l,i[r]),a=new s.data.Query(e).filter({fieldl.field,operatord.groupEqFilter(o)}).toArray(),t.length1this._eventsByResource(a,t.slice(1),n)n.push(a);else n.push(e)},_isInDateSlotfunction(e){var t=e.start,n=e.end,i=p(this._startDate),r=s.date.addDays(p(this._endDate),1);return rt&&n=i!0!1},_isInTimeSlotfunction(e){var t,n=e._startTimes.date.toUtcTime(e.start),i=e._endTimes.date.toUtcTime(e.end),r=this._slotRanges;for(n===i&&(i+=1),t=0;r.lengtht;t++)if(r[t].endn&&ir[t].start)return!0;return!1},_adjustEventfunction(e){var t,n=e.start,i=e.end,r=e._time(start),o=e._time(end),a=f(this.startTime()),l=f(this.endTime()),d=null,u=null,h=!1,m=!1;return e.isAllDay(d=p(n),ar&&(c(d,a),m=!0),u=p(i),l===f(p(this.endTime()))u=s.date.addDays(u,1)(c(u,l),h=!0))(l=0===lgl,ar(d=p(n),c(d,a),m=!0)rl&&(d=p(n),d=s.date.addDays(d,1),c(d,a),m=!0),ol(u=p(i),c(u,l),h=!0)ao&&(u=p(i),u=s.date.addDays(u,-1),c(u,l),h=!0)),t=e.clone({startddn,enduui,_startTimeds.date.toUtcTime(d)e._startTime,_endTimeus.date.toUtcTime(u)e._endTime,isAllDay!1}),{occurrencet,headh,tailm}},_renderEventsfunction(e,t,n){var i,r,o,a,s,l,c,d,u,h,p;for(r=0,o=e.length;or;r++)i=e[r],this._isInDateSlot(i)&&(a=i.isAllDayi.end.getTime()-i.start.getTime()=g,s=this.content,(athis._isInTimeSlot(i))&&(l=this._adjustEvent(i),c=this.groups[t],c._continuousEvents(c._continuousEvents=[]),d=c.slotRanges(l.occurrence,!1),u=d[0],this._isInTimeSlot(l.occurrence)&&(h=this._createEventElement(l.occurrence,i,u.headl.head,u.taill.tail),h.appendTo(s).css({top0,heightthis.options.eventHeight}),p={startl.occurrence._startTimel.occurrence.start,endl.occurrence._endTimel.occurrence.end,elementh,uidi.uid,slotRangeu,rowIndex0,offsetTop0},n.events[i.uid]=p,this.addContinuousEvent(c,u,h,i.isAllDay),this._arrangeRows(p,u,n))))},addContinuousEventfunction(e,t,n,i){var r=e._continuousEvents;r.push({elementn,isAllDayi,uidn.attr(s.attr(uid)),startt.start,endt.end})},_createEventElementfunction(t,n,i,r){var o,a,l=this.eventTemplate,c=this.options.editable,d=this._isMobile(),h=c&&c.destroy!==!1&&!d,p=c&&c.resize!==!1,f=n._time(start),g=n._time(end),m=n.start,v=n.end,_=this.eventResources(n);return n._startTime&&(m=new Date(f),m=s.timezone.apply(m,EtcUTC)),n.endTime&&(v=new Date(g),v=s.timezone.apply(v,EtcUTC)),o=u({},{nss.ns,resizablep,showDeleteh,headi,tailr,singleDay1==this._dates.length,resources_,inverseColor_&&_[0]this._shouldInverseResourceColor(_[0])!1},n,{startm,endv}),a=e(l(o)),this.angular(compile,function(){return{elementsa,data[{dataItemo}]}}),a},_arrangeRowsfunction(e,t,n){var i,r,a,s,l,c,u=t.start.index,h=t.end.index,p=e.slotRange.innerRect(e.start,e.end,!1),f=p.right+this.options.eventMinWidth,g=o(t.events(),p.left,f);for(t.addEvent({slotIndexu,startu,endh,rectLeftp.left,rectRightf,elemente.element,uide.uid}),g.push({startu,endh,uide.uid}),i=d.createRows(g),i.lengthn.maxRowCount&&(n.maxRowCount=i.length),r=0,a=i.length;ar;r++)for(s=i[r].events,l=0,c=s.length;cl;l++)n.events[s[l].uid].rowIndex=r},_groupCountfunction(){var e=this.groupedResources;return e.lengthvertical===this._groupOrientation()this._rowCountForLevel(e.length-1)this._columnCountForLevel(e.length-1)1},_updateEventForSelectionfunction(e){var t=this._adjustEvent(e.clone());return t.occurrence},_updateEventForMovefunction(e){e.isAllDay&&e.set(isAllDay,!1)},_updateEventForResizefunction(e){e.isAllDay&&e.set(isAllDay,!1)},_updateMoveHintfunction(e,t,n){var i,r,o,a,s,l,c,d,u,h,p,f=this.groups[t],g=e.clone({starte.start,ende.end}),m=g.duration();for(g.start=new Date(g.start.getTime()+n),g.end=new Date(+g.start+m),i=this._adjustEvent(g),r=f.slotRanges(i.occurrence,!1),this._removeMoveHint(),o=0;r.lengtho;o++)a=r[o],s=a.start,l=this._createEventElement(i.occurrence,i.occurrence,!1,!1),l.addClass(k-event-drag-hint),c=a.innerRect(i.occurrence.start,i.occurrence.end,this.options.snap),d=c.right-c.left-2,0d&&(d=0),u=c.left,this._isRtl&&(u-=this.content[0].scrollWidth-this.content[0].offsetWidth),h={leftu,tops.offsetTop,heights.offsetHeight-2,widthd},l.css(h),this._moveHint=this._moveHint.add(l);
p=this.content,this._moveHint.appendTo(p)},_updateResizeHintfunction(e,t,n,i){var r,o,a,l,c,u,h,p,f,g,m,v=this.groups[t],_=v.ranges(n,i,!1,!1);for(this._removeResizeHint(),r=0;_.lengthr;r++)o=_[r],a=o.startSlot(),l=o.innerRect(n,i,!1),l.top=a.offsetTop,c=l.right-l.left,u=a.offsetHeight,h=l.left,p=this.content,this._isRtl&&(h-=p[0].scrollWidth-p[0].offsetWidth),f=d.fn._createResizeHint.call(this,h,l.top,c,u),this._resizeHint=this._resizeHint.add(f);g=t,m=this.content,this._resizeHint.appendTo(m),this._resizeHint.find(.k-label-top,.k-label-bottom).text(),this._resizeHint.first().addClass(k-first).find(.k-label-top).text(s.toString(s.timezone.toLocalDate(n),g)),this._resizeHint.last().addClass(k-last).find(.k-label-bottom).text(s.toString(s.timezone.toLocalDate(i),g))},selectionByElementfunction(e){var t=e.offset();return this._slotByPosition(t.left,t.top)},_updateDirectionfunction(e,t,n,i,r){var o=t[0].start,a=t[t.length-1].end;n&&!r&&o.index===a.index&&o.collectionIndex===a.collectionIndex&&(e.backward=i)},_changeGroupfunction(e,t){var n=tprevGroupSlotnextGroupSlot,i=this[n](e.start,e.groupIndex,!1);return i&&(e.groupIndex+=t-11),i},prevGroupSlotfunction(e,t,n){var i,r=this.groups[t],o=r.ranges(e,e,n,!1)[0].start;if(!(0=t))return this._isVerticallyGrouped()o(i=r._collection(0,n),i.last())},nextGroupSlotfunction(e,t,n){var i,r=this.groups[t],o=r.ranges(e,e,n,!1)[0].start;if(!(t=this.groups.length-1))return this._isVerticallyGrouped()o(i=r._collection(0,n),i.first())},_verticalSlotsfunction(e,t,n,i){var r=ileftSlotrightSlot,o=t[0].start,a=t[t.length-1].end,s=this.groups[e.groupIndex];return o=s[r](o),a=s[r](a),n!this._isVerticallyGrouped()o&&a(o=a=this._changeGroup(e,i)),{startSloto,endSlota}},_horizontalSlotsfunction(e,t,n,i){var r=iupSlotdownSlot,o=t[0].start,a=t[t.length-1].end,s=this.groups[e.groupIndex];return o=s[r](o),a=s[r](a),n!this._isHorizontallyGrouped()o&&a(o=a=this._changeGroup(e,i)),{startSloto,endSlota}},_changeViewPeriodfunction(e,t){var n,i=tthis.previousDate()this.nextDate(),r=e.start,o=e.end;return e.start=new Date(i),e.end=new Date(i),this._isHorizontallyGrouped()&&(e.groupIndex=tthis.groups.length-10),n=o-r,t(o=f(this.endTime()),o=0===ogo,c(e.start,o-n),c(e.end,o))(r=f(this.startTime()),c(e.start,r),c(e.end,r+n)),e.events=[],!0},movefunction(e,t,n){var i,r,o,a,l,c=!1,d=this.groups[e.groupIndex],u=s.keys,h=d.ranges(e.start,e.end,!1,!1);if(t===u.DOWNt===u.UP)c=!0,o=t===u.UP,this._updateDirection(e,h,n,o,!0),a=this._verticalSlots(e,h,n,o);else if(!(t!==u.LEFT&&t!==u.RIGHT(c=!0,o=t===u.LEFT,this._updateDirection(e,h,n,o,!1),a=this._horizontalSlots(e,h,n,o),a.startSlot&&a.endSlotn!this._changeViewPeriod(e,o,!1))))return c;return c&&(i=a.startSlot,r=a.endSlot,n(l=e.backward,l&&ie.start=i.startDate()!l&&r&&(e.end=r.endDate()))i&&r&&(e.start=i.startDate(),e.end=r.endDate()),e.events=[]),c},destroyfunction(){var e=this;e.element&&e.element.off(v),e.footer&&e.footer.remove(),e._currentTimeUpdateTimer&&clearInterval(e._currentTimeUpdateTimer),d.fn.destroy.call(this),this._isMobile()&&e.options.editable&&(e.options.editable.create!==!1&&e._addUserEvents.destroy(),e.options.editable.update!==!1&&e._editUserEvents.destroy())}});u(!0,l,{TimelineViewb,TimelineWeekViewb.extend({options{nameTimelineWeekView,titleTimeline Week,selectedDateFormat{0D} - {1D},selectedShortDateFormat{0d} - {1d},majorTick120},nametimelineWeek,calculateDateRangefunction(){var e,t,n=this.options.date,i=s.date.dayOfWeek(n,this.calendarInfo().firstDay,-1),r=[];for(e=0,t=7;te;e++)r.push(i),i=s.date.nextDay(i);this._render(r)}}),TimelineWorkWeekViewb.extend({options{nameTimelineWorkWeekView,titleTimeline Work Week,selectedDateFormat{0D} - {1D},selectedShortDateFormat{0d} - {1d},majorTick120},nametimelineWorkWeek,nextDatefunction(){return s.date.dayOfWeek(s.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDatefunction(){return s.date.previousDay(this.startDate())},calculateDateRangefunction(){for(var e=this.options.date,t=s.date.dayOfWeek(e,this.options.workWeekStart,-1),n=s.date.dayOfWeek(t,this.options.workWeekEnd,1),i=[];n=t;)i.push(t),t=s.date.nextDay(t);this._render(i)}}),TimelineMonthViewb.extend({options{nameTimelineMonthView,titleTimeline Month,selectedDateFormat{0D} - {1D},selectedShortDateFormat{0d} - {1d},workDayStartnew Date(1980,1,1,0,0,0),workDayEndnew Date(1980,1,1,23,59,59),footer!1,majorTick1440,minorTickCount1},nametimelineMonth,calculateDateRangefunction(){var e,t,n=this.options.date,i=s.date.firstDayOfMonth(n),r=s.date.lastDayOfMonth(n),o=[];for(e=0,t=r.getDate();te;e++)o.push(i),i=s.date.nextDay(i);this._render(o)}})})}(window.kendo.jQuery),function(e,t){function n(e,t){return t=t,e.startTimezone&&(t=e.startTimezone,e.endTimezone&&(t+=  +e.endTimezone)),t}function i(e,t){var n=t.timezone;n&&(e[P.attr(timezone)]=n)}function r(e,t){var n,i=t.model.fields[t.field].validation;i&&(n=i.dateCompare,n&&$(n)&&n.message&&(e[P.attr(dateCompare-msg)]=n.message))}function o(e,t){return function(n){return n=e(n),s(n,apply,t),n[]}}function a(e,t){return function(n){return n&&([object Array]===K.call(n)n instanceof P.data.ObservableArray(n=[n])),s(n,remove,t,!0),n=e(n),n[]}}function s(e,t,n,i){var r,o,a;for(e=e[],o=0,a=e.length;ao;o++)r=e[o],ir.startTimezoner.endTimezonen(r.start=P.timezone.convert(r.start,r.startTimezoner.endTimezone,n),r.end=P.timezone.convert(r.end,r.endTimezoner.startTimezone,n),r.start=P.timezone[t](r.start,n),r.end=P.timezone[t](r.end,n))(r.start=P.timezone[t](r.start,r.startTimezoner.endTimezone),r.end=P.timezone[t](r.end,r.endTimezoner.startTimezone))n&&(r.start=P.timezone[t](r.start,n),r.end=P.timezone[t](r.end,n))r.startTimezoner.endTimezone(r.start=P.timezone[t](r.start,r.startTimezoner.endTimezone),r.end=P.timezone[t](r.end,r.endTimezoner.startTimezone),n&&(r.start=P.timezone.convert(r.start,r.startTimezoner.endTimezone,n),r.end=P.timezone.convert(r.end,r.endTimezoner.startTimezone,n)))n&&(r.start=P.timezone[t](r.start,n),r.end=P.timezone[t](r.end,n)),i&&delete r.uid;return e}function l(e,t){for(var n,i=e.length,r=0;ir;r++)if(n=e[r],n.uid===t)return n}function c(e,t,n){return e=nP.timezone.convert(e,t,n)P.timezone.remove(e,t)}function d(e){var t,n,i,r,o,a,s,l,d,u,h,p;return e.filter([name=end]).length&&(t=e.closest(.k-scheduler-edit-form),n=t.find([name=start]visible),i=t.find([name=end]visible),i[0]&&n[0]&&(a=P.widgetInstance(n,P.ui),s=P.widgetInstance(i,P.ui),l=t.data(kendoEditable),d=ll.options.modelnull,a&&s(r=a.value(),o=s.value())(r=P.parseDate(n.val()),o=P.parseDate(i.val())),r&&o))(d&&(u=n.attr(P.attr(timezone)),h=d.startTimezone,p=d.endTimezone,h=hp,p=ph,h&&(r=c(r,h,u),o=c(o,p,u))),o=r)!0}function u(e,t,n,i){for(var r=e.length,o=[],a=0;ra;a++)o=o.concat(e[a].expand(t,n,i));return o}function h(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e}function p(t){return t=null!=tt,t.typee.type(t)string}function f(t,n){var i,r,o=(t.fieldst)[n],a=[url,email,number,date,boolean],s=oo.validation{},l=(p(o),P.attr(type)),c=e.inArray,d={};for(i in s)r=s[i],c(i,a)=0d[l]=iP.isFunction(r)(d[i]=$(r)r.valueir),d[P.attr(i+-msg)]=r.message;return d}function g(t,n){var i=f(n,t.field);return function(n){e(P.format('select data-{0}bind=value{1}',P.ns,t.field)).appendTo(n).attr(i).kendoDropDownList({dataTextFieldt.dataTextField,dataValueFieldt.dataValueField,dataSourcet.dataSource,valuePrimitivet.valuePrimitive,optionLabelNone,templateP.format('span class=k-scheduler-mark style=background-color#= data.{0}{0}none #span#={1}#',t.dataColorField,t.dataTextField)})}}function m(t){var n=f(t.model,t.field);return function(t){e('textarea name=description class=k-textbox').attr(n).appendTo(t)}}function v(t,n){var i=f(n,t.field);return function(n){e(P.format('select data-{0}bind=value{1}',P.ns,t.field)).appendTo(n).attr(i).kendoMultiSelect({dataTextFieldt.dataTextField,dataValueFieldt.dataValueField,dataSourcet.dataSource,valuePrimitivet.valuePrimitive,itemTemplateP.format('span class=k-scheduler-mark style=background-color#= data.{0}{0}none #span#={1}#',t.dataColorField,t.dataTextField),tagTemplateP.format('span class=k-scheduler-mark style=background-color#= data.{0}{0}none #span#={1}#',t.dataColorField,t.dataTextField)})}}function _(t,n){var i=f(n,t.field);return function(n){var r,o,a=,s=t.dataSource.view();for(r=0,o=s.length;or;r++)a+=P.format('option value={0}{1}option',P.getter(t.dataValueField)(s[r]),P.getter(t.dataTextField)(s[r]));e(P.format('select data-{0}bind=value{1} multiple=multiple data-{0}value-primitive={3}{2}select',P.ns,t.field,a,t.valuePrimitive)).appendTo(n).attr(i)}}function w(e,t){var n,i=e.end.getTime()-e.start.getTime(),r=new Date(e.start.getTime());return P.date.setTime(r,t),n=new Date(r.getTime()),P.date.setTime(n,i,!0),{startr,endn}}var y,b,k,x,C,S,T,D,A,E,I,M,P=window.kendo,z=P.date,F=P.support.input,R=z.MS_PER_DAY,B=z.getDate,H=P.date.getMilliseconds,L=P.recurrence,N=P.keys,O=P.ui,V=O.Widget,U=O.DataBoundWidget,W=string,j=O.Popup,G=O.Calendar,q=P.data.DataSource,$=e.isPlainObject,Y=e.extend,Q=e.proxy,K=Object.prototype.toString,X=e.isArray,Z=.kendoScheduler,J=click,et=change,tt=cancel,nt=remove,it=save,rt=add,ot=edit,at=(valuestartvalueend)(,$),st=B(new Date),lt=recurrenceException,ct=Are you sure you want to delete this event,dt=Do you want to delete only this event occurrence or the whole series,ut=Do you want to edit only this event occurrence or the whole series,ht='a class=k-button #=className# #=attr# href=##=text#a',pt=P.template('li class=k-current-view data-#=ns#name=#=view#a role=button href=# class=k-link${views[view].title}ali'),ft=P.template('div class=k-floatwrap k-header k-scheduler-toolbar# if (pdf) { #ul class=k-reset k-scheduler-toolslia role=button href=# class=k-button k-pdfspan class=k-icon k-i-pdfspan${messages.pdf}aliul# } #ul class=k-reset k-scheduler-navigationli class=k-state-default k-header k-nav-todaya role=button href=# class=k-link${messages.today}alili class=k-state-default k-header k-nav-preva role=button href=# class=k-linkspan class=k-icon k-i-arrow-wspanalili class=k-state-default k-header k-nav-nexta role=button href=# class=k-linkspan class=k-icon k-i-arrow-espanalili class=k-state-default k-nav-currenta role=button href=# class=k-linkspan class=k-icon k-i-calendarspanspan class=k-sm-date-format data-#=ns#bind=text formattedShortDatespanspan class=k-lg-date-format data-#=ns#bind=text formattedDatespanaliulul class=k-reset k-header k-scheduler-views#for(var view in views){#li class=k-state-default k-view-#= view.toLowerCase() # data-#=ns#name=#=view#a role=button href=# class=k-link${views[view].title}ali#}#uldiv'),gt=P.template('div class=k-floatwrap k-header k-scheduler-toolbarul class=k-reset k-header k-scheduler-navigationli class=k-state-default k-nav-todaya role=button href=# class=k-link${messages.today}aliulul class=k-reset k-header k-scheduler-views#for(var view in views){#li class=k-state-default k-view-#= view.toLowerCase() # data-#=ns#name=#=view#a role=button href=# class=k-link${views[view].title}ali#}#uldivdiv class=k-floatwrap k-header k-scheduler-toolbarul class=k-reset k-header k-scheduler-navigationli class=k-state-default k-nav-preva role=button href=# class=k-linkspan class=k-icon k-i-arrow-wspanalili class=k-state-default k-nav-currentspan class=k-sm-date-format data-#=ns#bind=text formattedShortDatespanspan class=k-lg-date-format data-#=ns#bind=text formattedDatespanlili class=k-state-default k-nav-nexta role=button href=# class=k-linkspan class=k-icon k-i-arrow-espanaliuldiv'),mt=function(t,n){var o={namen.field},a=F.dateP.attr(role)+'=datepicker ',s=P.attr(role)+'=datetimepicker ',l=n.model.isAllDay,c=P.attr(validate)+='+!l+',d=P.attr(validate)+='+l+';i(o,n),r(o,n),e('input type=datetime-local required '+P.attr(type)+'=date '+s+P.attr(bind)+'=value'+n.field+',invisibleisAllDay '+c+).attr(o).appendTo(t),e('input type=date required '+P.attr(type)+'=date '+a+P.attr(bind)+'=value'+n.field+',visibleisAllDay '+d+).attr(o).appendTo(t),e(span +P.attr(for)+'='+n.field+' class=k-invalid-msg').hide().appendTo(t)},vt=function(t,n){var o={namen.field},a=n.model.isAllDay,s=P.attr(validate)+='+!a+' ,l=P.attr(validate)+='+a+' ;i(o,n),r(o,n),e('input type=text required '+P.attr(type)+'=date '+P.attr(role)+'=datetimepicker '+P.attr(bind)+'=value'+n.field+',invisibleisAllDay '+s+).attr(o).appendTo(t),e('input type=text required '+P.attr(type)+'=date '+P.attr(role)+'=datepicker '+P.attr(bind)+'=value'+n.field+',visibleisAllDay '+l+).attr(o).appendTo(t),e(span +P.attr(bind)+'=text '+n.field+'Timezonespan').appendTo(t),end===n.field&&e(span +P.attr(bind)+'=text startTimezone, invisible endTimezonespan').appendTo(t),e(span +P.attr(for)+'='+n.field+' class=k-invalid-msg').hide().appendTo(t)},_t=function(t,n){e(div +P.attr(bind)+'=value'+n.field+' ').attr({namen.field}).appendTo(t).kendoRecurrenceEditor({startn.model.start,timezonen.timezone,messagesn.messages})},wt=function(t,n){e(div +P.attr(bind)+'=value'+n.field+' ').attr({namen.field}).appendTo(t).kendoMobileRecurrenceEditor({startn.model.start,timezonen.timezone,messagesn.messages,panen.pane,valuen.model[n.field]})},yt=function(t,i){var r=n(i.model,i.messages.noTimezone);e('a href=# class=k-button k-timezone-button data-bind=invisibleisAllDay'+r+a).click(i.click).appendTo(t)},bt=function(t,n){e('a href=# class=k-button data-bind=invisibleisAllDay'+n.messages.timezoneEditorButton+a).click(n.click).appendTo(t)},kt=function(t,n){e(div +P.attr(bind)+'=value'+n.field+' ').attr({namen.field}).toggle(n.visible).appendTo(t).kendoMobileTimezoneEditor({optionLabeln.noTimezone})},xt=function(t,n){e(div +P.attr(bind)+'=value'+n.field+' ').attr({namen.field}).toggle(n.visible).appendTo(t).kendoTimezoneEditor({optionLabeln.noTimezone})},Ct=P.Class.extend({initfunction(t,n){var i=t.timezone;this.reader=n,n.model&&(this.model=n.model),this.timezone=i,this.data=o(e.proxy(this.data,this),i),this.serialize=a(e.proxy(this.serialize,this),i)},errorsfunction(e){return this.reader.errors(e)},parsefunction(e){return this.reader.parse(e)},datafunction(e){return this.reader.data(e)},totalfunction(e){return this.reader.total(e)},groupsfunction(e){return this.reader.groups(e)},aggregatesfunction(e){return this.reader.aggregates(e)},serializefunction(e){return this.reader.serialize(e)}}),St=P.data.Model.define({initfunction(e){var t=this;P.data.Model.fn.init.call(t,e),t._defaultId=t.defaults[t.idField]},_timefunction(e){var t=this[e],n=_+e+Time;return this[n]this[n]-P.date.toUtcTime(P.date.getDate(t))H(t)},_datefunction(e){var t=_+e+Time;return this[t]this[t]-this._time(e)P.date.getDate(this[e])},clonefunction(t,n){var i=this.uid,r=new this.constructor(e.extend({},this.toJSON(),t));return n(r.uid=i),r},durationfunction(){var e=this.end,t=this.start,n=(e.getTimezoneOffset()-t.getTimezoneOffset())P.date.MS_PER_MINUTE;return e-t-n},expandfunction(e,t,n){return LL.expand(this,e,t,n)[this]},updatefunction(e){for(var t in e)this.set(t,e[t]);this._startTime&&this.set(_startTime,P.date.toUtcTime(this.start)),this._endTime&&this.set(_endTime,P.date.toUtcTime(this.end))},isMultiDayfunction(){return this.isAllDaythis.duration()=P.date.MS_PER_DAY},isExceptionfunction(){return!this.isNew()&&this.recurrenceId},isOccurrencefunction(){return this.isNew()&&this.recurrenceId},isRecurringfunction(){return!(!this.recurrenceRule&&!this.recurrenceId)},isRecurrenceHeadfunction(){return!(!this.id!this.recurrenceRule)},toOccurrencefunction(t){return t=e.extend(t,{recurrenceExceptionnull,recurrenceRulenull,recurrenceIdthis.idthis.recurrenceId}),t[this.idField]=this.defaults[this.idField],this.clone(t,!0)},toJSONfunction(){var e=P.data.Model.fn.toJSON.call(this);return e.uid=this.uid,delete e._startTime,delete e._endTime,e},shouldSerializefunction(e){return P.data.Model.fn.shouldSerialize.call(this,e)&&_defaultId!==e},setfunction(e,t){var n,i,r,o=this.isAllDay!1;P.data.Model.fn.set.call(this,e,t),isAllDay==e&&t!=o&&(n=P.date.getDate(this.start),i=new Date(this.end),r=P.date.getMilliseconds(i),0===r&&t&&(r=R),this.set(start,n),t===!0(P.date.setTime(i,-r),ni&&(i=n))P.date.setTime(i,R-r),this.set(end,i))},idid,fields{id{typenumber},title{defaultValue,typestring},start{typedate,validation{required!0}},startTimezone{typestring},end{typedate,validation{required!0,dateCompare{valued}}},endTimezone{typestring},recurrenceRule{defaultValue,typestring},recurrenceException{defaultValue,typestring},isAllDay{typeboolean,defaultValue!1},description{typestring}}}),Tt=q.extend({initfunction(e){q.fn.init.call(this,Y(!0,{},{schema{modelBaseSt,modelSt}},e)),this.reader=new Ct(this.options.schema,this.reader)},expandfunction(e,t){var n=this.view(),i={};return e&&t&&(t=new Date(t.getTime()+R-1),i={logicor,filters[{logicand,filters[{fieldstart,operatorgte,valuee},{fieldend,operatorgte,valuee},{fieldstart,operatorlte,valuet}]},{logicand,filters[{fieldstart,operatorlte,valuenew Date(e.getTime()+R-1)},{fieldend,operatorgte,valuee}]}]},n=new P.data.Query(u(n,e,t,this.reader.timezone)).filter(i).toArray()),n},cancelChangesfunction(e){e&&e.isOccurrence()&&this._removeExceptionDate(e),q.fn.cancelChanges.call(this,e)},insertfunction(e,t){if(t){if(!(t instanceof St)){var n=t;t=this._createNewModel(),t.accept(n)}return(!this._pushCreated&&t.isRecurrenceHead()t.recurrenceId)&&(t=t.recurrenceIdtt.toOccurrence(),this._addExceptionDate(t)),q.fn.insert.call(this,e,t)}},pushCreatefunction(e){this._pushCreated=!0,q.fn.pushCreate.call(this,e),this._pushCreated=!1},removefunction(e){return e.isRecurrenceHead()this._removeExceptions(e)e.isRecurring()&&this._addExceptionDate(e),q.fn.remove.call(this,e)},_removeExceptionsfunction(e){for(var t=this.data().slice(0),n=t.shift(),i=e.id;n;)n.recurrenceId===i&&q.fn.remove.call(this,n),n=t.shift();e.set(lt,)},_removeExceptionDatefunction(e){var t,n;e.recurrenceId&&(t=this.get(e.recurrenceId),t&&(n=e.start,t.set(lt,t.recurrenceException.replace(L.toExceptionString(n,this.reader.timezone),))))},_addExceptionDatefunction(e){var t=e.start,n=this.reader.timezone,i=this.get(e.recurrenceId),r=i.recurrenceException;L.isException(r,t,n)i.set(lt,r+L.toExceptionString(t,n))}});Tt.create=function(e){(X(e)e instanceof P.data.ObservableArray)&&(e={datae});var t=e{},n=t.data;if(t.data=n,!(t instanceof Tt)&&t instanceof P.data.DataSource)throw Error(Incorrect DataSource type. Only SchedulerDataSource instances are supported);return t instanceof Tttnew Tt(t)},Y(!0,P.data,{SchedulerDataSourceTt,SchedulerDataReaderCt,SchedulerEventSt}),y={update{textSave,classNamek-primary k-scheduler-update},canceledit{textCancel,classNamek-scheduler-cancel},destroy{textDelete,imageClassk-delete,classNamek-primary k-scheduler-delete,iconClassk-icon}},b={mobile{dateRangemt,timezonePopUpyt,timezonekt,recurrencewt,descriptionm,multipleResources_,resourcesg},desktop{dateRangevt,timezonePopUpbt,timezonext,recurrence_t,descriptionm,multipleResourcesv,resourcesg}},k=P.Observable.extend({initfunction(e,t){P.Observable.fn.init.call(this),this.element=e,this.options=Y(!0,{},this.options,t),this.createButton=this.options.createButton,this.toggleDateValidationHandler=Q(this._toggleDateValidation,this)},_toggleDateValidationfunction(t){if(isAllDay==t.field){var n,i,r,o=this.container,a=this.editable.options.model.isAllDay,s=P.attr(bind);o.find([+s+=end],[+s+=start]).each(function(){n=e(this),at.test(n.attr(s))&&(i=n.is([+P.attr(role)+=datetimepicker],[type=datetime]),r=a!==i,n.attr(P.attr(validate),r))})}},fieldsfunction(e,t){var n,i,r=this,o=r.options.messages,a=r.options.timezone,s=function(e){e.preventDefault(),r._initTimezoneEditor(t,this)},l=[{fieldtitle,titleo.editor.title},{fieldstart,titleo.editor.start,editore.dateRange,timezonea},{fieldend,titleo.editor.end,editore.dateRange,timezonea},{fieldisAllDay,titleo.editor.allDayEvent}];P.timezone.windows_zones&&(l.push({fieldtimezone,titleo.editor.timezone,editore.timezonePopUp,clicks,messageso.editor,modelt}),l.push({fieldstartTimezone,titleo.editor.startTimezone,editore.timezone,noTimezoneo.editor.noTimezone}),l.push({fieldendTimezone,titleo.editor.endTimezone,editore.timezone,noTimezoneo.editor.noTimezone})),t.recurrenceIdl.push({fieldrecurrenceRule,titleo.editor.repeat,editore.recurrence,timezonea,messageso.recurrenceEditor,panethis.pane}),descriptionin t&&l.push({fielddescription,titleo.editor.description,editore.description({modelt,fielddescription})});for(n=0;this.options.resources.lengthn;n++)i=this.options.resources[n],l.push({fieldi.field,titlei.title,editori.multiplee.multipleResources(i,t)e.resources(i,t)});return l},endfunction(){return this.editable.end()},_buildEditTemplatefunction(e,t,n){var i,r,o,a,s=this.options.messages,l=Y({},P.Template,this.options.templateSettings),c=l.paramName,d=this.options.editable.template,u=;if(d)typeof d===W&&(d=window.unescape(d)),u+=P.template(d,l)(e);else for(i=0,r=t.length;ri;i++)o=t[i],startTimezone===o.field&&(u+='div class=k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones style=displaynone',u+='div class=k-edit-form-container',u+='div class=k-edit-labeldiv',u+='div class=k-edit-fieldlabel class=k-checkinput class=k-timezone-toggle type=checkbox '+s.editor.separateTimezones+labeldiv),u+='div class=k-edit-labellabel for='+o.field+''+(o.titleo.field)+labeldiv,!e.editablee.editable(o.field)(n.push(o),u+=div +P.attr(container-for)+'='+o.field+' class=k-edit-fielddiv')(a=#,o.field(o=P.expr(o.field,c),a+=o+==null''+o)a+='',a+=#,a=P.template(a,l),u+='div class=k-edit-field'+a(e)+div),endTimezone===o.field&&(u+=this._createEndTimezoneButton());return u},_createEndTimezoneButtonfunction(){returndivdiv},_revertTimezonesfunction(e){e.set(startTimezone,this._startTimezone),e.set(endTimezone,this._endTimezone),delete this._startTimezone,delete this._endTimezone}}),x=k.extend({initfunction(){k.fn.init.apply(this,arguments),this.pane=P.mobile.ui.Pane.wrap(this.element),this.pane.element.parent().css(height,this.options.height),this.view=this.pane.view(),this._actionSheetButtonTemplate=P.template('lia #=attr# class=k-button #=className# href=##text#ali'),this._actionSheetPopupOptions=e(document.documentElement).hasClass(km-root){modal!1}{alignbottom center,positionbottom center,effectslideInup}},options{animations{leftslide,rightslideright}},destroyfunction(){this.close(),this.unbind(),this.pane.destroy()},_initTimezoneEditorfunction(t){var i,r=this,o=r.pane,a=r.options.messages,s=r.timezoneView,l=r.container.find(.k-scheduler-timezones),c=l.find(.k-timezone-toggle),d=l.find(.k-edit-labellast).add(l.find(.k-edit-fieldlast)),u=function(e){if(startTimezone===e.field){var n=t.startTimezone;c.prop(disabled,!n),n(d.hide(),t.set(endTimezone,),c.prop(checked,!1))}};r._startTimezone=t.startTimezone,r._endTimezone=t.endTimezone,s(i='div data-role=view class=k-popup-edit-form k-scheduler-edit-form k-mobile-listdiv data-role=header class=k-headera href=# class=k-button k-scheduler-cancel'+a.cancel+a+a.editor.timezoneTitle+'a href=# class=k-button k-scheduler-update'+a.save+adivdiv,this.timezoneView=s=o.append(i),s.contentElement().append(l.show()),s.element.on(J+Z,.k-scheduler-cancel, .k-scheduler-update,function(i){var s,l;i.preventDefault(),i.stopPropagation(),e(this).hasClass(k-scheduler-cancel)&&r._revertTimezones(t),t.unbind(change,u),s=o.element.find(#edit).data(kendoMobileView),l=n(t,a.editor.noTimezone),s.contentElement().find(.k-timezone-button).text(l),o.navigate(s,r.options.animations.right)}),c.click(function(){d.toggle(c.prop(checked)),t.set(endTimezone,)}),t.bind(change,u)),c.prop(checked,t.endTimezone).prop(disabled,!t.startTimezone),t.endTimezoned.show()d.hide(),o.navigate(s,r.options.animations.left)},_createActionSheetButtonfunction(e){return e.template=this._actionSheetButtonTemplate,this.createButton(e)},showDialogfunction(t){var n,i,r=,o='ulli class=km-actionsheet-title'+t.title+li,a=this.element.find(.k-event[+P.attr(uid)+='+t.model.uid+']);for(this.container&&(a=this.container.find(.k-scheduler-delete),a[0]&&(r=phone)),n=0;t.buttons.lengthn;n++)o+=this._createActionSheetButton(t.buttons[n]);o+=ul,i=e(o).appendTo(this.pane.view().element).kendoMobileActionSheet({typer,cancelthis.options.messages.cancel,cancelTemplate'li class=km-actionsheet-cancela class=k-button href=##cancel#ali',closefunction(){this.destroy()},commandfunction(n){var r=i.element.find(linot(.km-actionsheet-cancel)  .k-button).index(e(n.currentTarget));r-1&&(i.close(),t.buttons[r].click())},popupthis._actionSheetPopupOptions}).data(kendoMobileActionSheet),i.open(a)},editEventfunction(t){var n,i,r,o,a,s=this.pane,l=,c=this.options.messages,d=c.save,u=c.destroy,h=c.cancel,p=c.editor.editorTitle;return l+='div data-role=view class=k-popup-edit-form k-scheduler-edit-form k-mobile-list id=edit '+P.attr(uid)+'='+t.uid+'div data-role=header class=k-headera href=# class=k-button k-scheduler-cancel'+h+a+p+'a href=# class=k-button k-scheduler-update'+d+adiv,n=this.fields(b.mobile,t),i=this,r=[],l+=this._buildEditTemplate(t,n,r),!t.isNew()&&this.options.editable&&this.options.editable.destroy!==!1&&(l+='div class=k-edit-buttonsa href=# class=k-scheduler-delete k-button'+u+adiv),l+=div,o=s.append(l),a=this.container=o.element,this.editable=a.kendoEditable({fieldsr,modelt,clearContainer!1,targeti.options.target,validateOnBlur!0}).data(kendoEditable),a.find(input[type=checkbox],input[type=radio]).parent(.k-edit-field).addClass(k-check).prev(.k-edit-label).addClass(k-check).click(function(){e(this).next().children(input).click()}),this.trigger(edit,{containera,modelt})this.trigger(cancel,{containera,modelt})(a.on(J+Z,a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete,function(n){var r,o;n.preventDefault(),n.stopPropagation(),r=e(this),r.hasClass(k-scheduler-edit)s.navigate(#edit,i.options.animations.right)(o=cancel,r.hasClass(k-scheduler-update)o=saver.hasClass(k-scheduler-delete)&&(o=remove),i.trigger(o,{containera,modelt}))}),s.navigate(o,i.options.animations.left),t.bind(change,i.toggleDateValidationHandler)),this.editable},_viewsfunction(){return this.pane.element.find(P.roleSelector(view)).not(this.view.element)},closefunction(){var e,t,n,i;if(this.container){for(this.pane.navigate(,this.options.animations.right),e=this._views(),n=0,i=e.length;in;n++)t=e.eq(n).data(kendoMobileView),t&&t.purge();e.remove(),this.container=null,this.editable&&(this.editable.options.model.unbind(change,this.toggleDateValidationHandler),this.editable.destroy(),this.editable=null),this.timezoneView=null}}}),C=k.extend({destroyfunction(){this.close(),this.unbind()},editEventfunction(t){var n,i,r,o=this,a=o.options.editable,s=div +P.attr(uid)+'='+t.uid+' class=k-popup-edit-form k-scheduler-edit-formdiv class=k-edit-form-container',l=o.options.messages,c=l.save,d=l.cancel,u=l.destroy,h=this.fields(b.desktop,t),p=[];return s+=this._buildEditTemplate(t,h,p),i=$(a)a.window{},s+='div class=k-edit-buttons k-state-default',s+=this.createButton({nameupdate,textc,attrn})+this.createButton({namecanceledit,textd,attrn}),t.isNew()a.destroy===!1(s+=this.createButton({namedelete,textu,attrn})),s+=divdivdiv,r=this.container=e(s).appendTo(o.element).eq(0).kendoWindow(Y({modal!0,resizable!1,draggable!0,titlel.editor.editorTitle,visible!1,closefunction(e){e.userTriggered&&o.trigger(tt,{containerr,modelt})&&e.preventDefault()}},i)),o.editable=r.kendoEditable({fieldsp,modelt,clearContainer!1,validateOnBlur!0,targeto.options.target}).data(kendoEditable),o.trigger(ot,{containerr,modelt})o.trigger(tt,{containerr,modelt})(r.data(kendoWindow).center().open(),r.on(J+Z,a.k-scheduler-cancel,function(e){e.preventDefault(),e.stopPropagation(),o.trigger(tt,{containerr,modelt})}),r.on(J+Z,a.k-scheduler-update,function(e){e.preventDefault(),e.stopPropagation(),o.trigger(save,{containerr,modelt})}),r.on(J+Z,a.k-scheduler-delete,function(e){e.preventDefault(),e.stopPropagation(),o.trigger(nt,{containerr,modelt})}),t.bind(change,o.toggleDateValidationHandler)),o.editable},closefunction(){var e=this,t=function(){e.editable&&(e.editable.options.model.unbind(change,e.toggleDateValidationHandler),e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null)};e.editable(e._timezonePopup&&e._timezonePopup.data(kendoWindow)&&(e._timezonePopup.data(kendoWindow).destroy(),e._timezonePopup=null),e.container.is(visible)e.container.data(kendoWindow).bind(deactivate,t).close()t())t()},_createEndTimezoneButtonfunction(){var e=this.options.messages,t=;return t+='div class=k-edit-buttons k-state-default',t+=this.createButton({namesavetimezone,texte.save})+this.createButton({namecanceltimezone,texte.cancel}),t+=divdivdiv},showDialogfunction(t){var n,i,r,o=P.format(div class='k-popup-edit-form'div class='k-edit-form-container'p class='k-popup-message'{0}p,t.text);for(o+='div class=k-edit-buttons k-state-default',n=0;t.buttons.lengthn;n++)o+=this.createButton(t.buttons[n]);o+=divdivdiv,i=this.element,this.popup&&this.popup.destroy(),r=this.popup=e(o).appendTo(i).eq(0).on(click,.k-button,function(n){n.preventDefault(),r.close();var i=e(n.currentTarget).index();t.buttons[i].click()}).kendoWindow({modal!0,resizable!1,draggable!1,titlet.title,visible!1,closefunction(){this.destroy(),i.focus()}}).getKendoWindow(),r.center().open()},_initTimezoneEditorfunction(e,t){var n,i=this,r=i.container.find(.k-scheduler-timezones),o=r.find(.k-timezone-toggle),a=r.find(.k-edit-labellast).add(r.find(.k-edit-fieldlast)),s=r.find(.k-scheduler-savetimezone),l=r.find(.k-scheduler-canceltimezone),c=i._timezonePopup,d=function(t){if(startTimezone===t.field){var n=e.startTimezone;o.prop(disabled,!n),n(a.hide(),e.set(endTimezone,),o.prop(checked,!1))}};i._startTimezone=e.startTimezone,i._endTimezone=e.endTimezone,c(i._timezonePopup=c=r.kendoWindow({modal!0,resizable!1,draggable!0,titlei.options.messages.editor.timezoneEditorTitle,visible!1,closefunction(n){e.unbind(change,d),n.userTriggered&&i._revertTimezones(e),t&&t.focus()}}),o.click(function(){a.toggle(o.prop(checked)),e.set(endTimezone,)
}),s.click(function(e){e.preventDefault(),n.close()}),l.click(function(t){t.preventDefault(),i._revertTimezones(e),n.close()}),e.bind(change,d)),o.prop(checked,e.endTimezone).prop(disabled,!e.startTimezone),e.endTimezonea.show()a.hide(),n=c.data(kendoWindow),n.center().open()}}),S=U.extend({initfunction(t,n){var i=this;V.fn.init.call(i,t,n),i.options.views&&i.options.views.length(i.options.views=[day,week]),i.resources=[],i._initModel(),i._wrapper(),i._views(),i._toolbar(),i._dataSource(),i._resources(),i._resizeHandler=function(){i.resize()},i.wrapper.on(mousedown+Z+ selectstart+Z,function(t){e(t.target).is(kendoFocusable)t.preventDefault()}),i.options.editable&&i.options.editable.resize!==!1&&i._resizable(),i._movable(),i._bindResize(),i.options.messages&&i.options.messages.recurrence&&(L.options=i.options.messages.recurrence),i._selectable(),i._ariaId=P.guid(),i._createEditor()},_bindResizefunction(){e(window).on(resize+Z,this._resizeHandler)},_unbindResizefunction(){e(window).off(resize+Z,this._resizeHandler)},dataItemsfunction(){var n,i,r,o,a,s=this,l=s.items(),c=s._data,d=e.map(l,function(t){return e(t).attr(data-uid)}),u={},h=d.length;for(n=0;hn;n++)u[d[n]]=null;for(r=c.length,n=0;rn;n++)o=c[n],u[o.uid]!==t&&(u[o.uid]=o);a=[];for(i in u)a.push(u[i]);return a},_isMobilefunction(){var e=this.options;return e.mobile===!0&&P.support.mobileOSphone===e.mobiletablet===e.mobile},_isMobilePhoneViewfunction(){var e=this.options;return e.mobile===!0&&P.support.mobileOS&&!P.support.mobileOS.tabletphone===e.mobile},_groupsByResourcefunction(e,t,n,i,r){var o,a,s,l,c,d,u;if(n(n=[]),o=e[0]){for(s=o.dataSource.view(),l=0,c=0;s.lengthc;c++)d=P.getter(o.dataValueField)(s[c]),u=t+l+c,a=this._groupsByResource(e.slice(1),u,n,d,o.field),a[o.field]=d,l=a.groupIndex,r&&i&&(a[r]=i),1===e.length&&(a.groupIndex=t+c,n.push(a));return a}return{}},datafunction(){return this._data},selectfunction(n){var i,r,o,a,s,l,c,d,u,h,p=this,f=p.view(),g=p._selection,m=f.groups;if(n===t)return o=f._selectedSlots,g(g&&g.events&&(r=p._selectedEvents()),{startg.start,endg.end,eventsr,slotso,resourcesf._resourceBySlot(g)})[];if(!n)return p._selection=null,f.clearSelection(),t;if(e.isArray(n)&&(n={eventsn.splice(0)}),n.resources){s=[],l=[],f.groupedResources&&p._groupsByResource(f.groupedResources,0,l);for(a in n.resources)s.push({fielda,operatoreq,valuen.resources[a]});i=new P.data.Query(l).filter(s).toArray()}return n.events&&n.events.length(p._selectEvents(n.events,i),p._select(),t)(m&&n.start&&n.end&&(c=B(f._startDate),d=P.date.addDays(B(f._endDate),1),dn.start&&n.end=c&&(u=i&&i.lengthm[i[0].groupIndex]m[0],h=u.ranges(n.start,n.end,n.isAllDay,!1),h.length&&(p._selection={startP.timezone.toLocalDate(h[0].start.start),endP.timezone.toLocalDate(h[h.length-1].end.end),groupIndexh[0].start.groupIndex,indexh[0].start.index,isAllDayh[0].start.isDaySlot,events[]},p._select()))),t)},_selectEventsfunction(e,t){var n,i,r,o,a,s,l,c,d=this,u=d.view(),h=u.groups,p=e.length,f=t&&t.length;for(n=0;pn;n++)if(h&&f){for(i=h[t[0].groupIndex],r=[],o=i.timeSlotCollectionCount(),a=i.daySlotCollectionCount(),s=0;os;s++)r=r.concat(i.getTimeSlotCollection(s).events());for(l=0;al;l++)r=r.concat(i.getDaySlotCollection(l).events());r=new P.data.Query(r).filter({fieldelement[0].getAttribute('data-uid'),operatoreq,valuee[n]}).toArray(),r[0]&&d._createSelection(r[0].element)}else c=u.element.find(P.format(.k-event[data-uid={0}], .k-task[data-uid={0}],e[n])),c.length&&d._createSelection(c[0])},_selectablefunction(){var t,n=this,i=n.wrapper,r=P.support.mobileOStouchendmousedown;n.options.selectable&&(n._tabindex(),i.on(r+Z,.k-scheduler-header-all-day td, .k-scheduler-content td, .k-event,function(e){var t=e.which,r=e.button,o=P.support.browser,a=t&&3===tr&&2==r;P.support.mobileOS&&e.isDefaultPrevented()(an._createSelection(e.currentTarget),i.focus(),o.msie&&9o.version&&setTimeout(function(){i.focus()}))}),t=e.proxy(n._mouseMove,n),i.on(mousedown+Z,.k-scheduler-header-all-day td, .k-scheduler-content td,function(e){var n=e.which,r=e.button,o=n&&3===nr&&2==r;oi.on(mousemove+Z,.k-scheduler-header-all-day td, .k-scheduler-content td,t)}),i.on(mouseup+Z+ mouseleave+Z,function(){i.off(mousemove+Z,.k-scheduler-header-all-day td, .k-scheduler-content td,t)}),i.on(focus+Z,function(){n._selectionn._createSelection(n.wrapper.find(.k-scheduler-content).find(tdfirst)),n._select()}),i.on(focusout+Z,function(){n.view().clearSelection(),n._ctrlKey=n._shiftKey=!1}),i.on(keydown+Z,Q(n._keydown,n)),i.on(keyup+Z,function(e){n._ctrlKey=e.ctrlKey,n._shiftKey=e.shiftKey}))},_selectfunction(){var t,n,i,r,o,a=this,s=a.view(),l=a.wrapper,c=s.current(),d=a._selection;if(c&&(c.removeAttribute(id),c.removeAttribute(aria-label),l.removeAttr(aria-activedescendant)),s.select(d),c=s.current(),c&&a._old!==c){if(t=e(c).data(uid),a._old&&t&&t===e(a._old).data(uid))return;i=d,r=a._selectedEvents(),o=s._selectedSlots,r[0](i=r[0]d,n=P.format(a.options.messages.ariaEventLabel,i.title,i.start,i.start))n=P.format(a.options.messages.ariaSlotLabel,i.start,i.end),c.setAttribute(id,a._ariaId),c.setAttribute(aria-label,n),l.attr(aria-activedescendant,a._ariaId),a._old=c,a.trigger(change,{startd.start,endd.end,eventsr,slotso,resourcess._resourceBySlot(d)})}},_selectedEventsfunction(){for(var e,t=this._selection.events,n=t.length,i=0,r=[];ni;i++)e=this.occurrenceByUid(t[i]),e&&r.push(e);return r},_mouseMovefunction(t){var n=this;clearTimeout(n._moveTimer),n._moveTimer=setTimeout(function(){var i,r,o,a=n.view(),s=n._selection;s&&(i=a.selectionByElement(e(t.currentTarget)),i&&s.groupIndex===i.groupIndex&&(r=i.startDate(),o=i.endDate(),r=s.ends.backward=!1s.start=o&&(s.backward=!0),s.backwards.start=rs.end=o,n._select()))},5)},_viewByIndexfunction(e){var t,n=this.views;for(t in n){if(!e)return t;e--}},_keydownfunction(t){var n=this,i=t.keyCode,r=n.view(),o=r.options.editable,a=n._selection,s=t.shiftKey;n._ctrlKey=t.ctrlKey,n._shiftKey=t.shiftKey,i===N.TABr.moveToEvent(a,s)&&(n._select(),t.preventDefault())o&&i===N.ENTERa.events.lengtho.update!==!1&&n.editEvent(a.events[0])o.create!==!1&&(a.isAllDay&&(a=e.extend({},a,{endP.date.addDays(a.end,-1)})),n.addEvent(Y({},a,r._resourceBySlot(a))))i===N.DELETE&&o!==!1&&o.destroy!==!1n.removeEvent(a.events[0])i=49&&57=in.view(n._viewByIndex(i-49))r.move(a,i,s)&&(r.inRange(a)n._select()n.date(a.start),t.preventDefault()),n._adjustSelectedDate()},_createSelectionfunction(t){var n,i,r;this._selection&&(this._ctrlKeythis._shiftKey)(this._selection={events[],groupIndex0}),t=e(t),r=this._selection,t.is(.k-event)&&(n=t.attr(P.attr(uid))),i=this.view().selectionByElement(t),i&&(r.groupIndex=i.groupIndex0),n&&(i=l(this._data,n)),i&&i.uid&&(n=[i.uid]),this._updateSelection(i,n),this._adjustSelectedDate()},_updateSelectionfunction(e,t){var n,i,r=this._selection;e&&r&&(n=this.view(),e.uid&&(e=n._updateEventForSelection(e)),this._shiftKey&&r.start&&r.end(i=r.ende.end,r.end=e.endDatee.endDate()e.end,i&&n._timeSlotInterval&&P.date.setTime(r.end,-n._timeSlotInterval()))(r.start=e.startDatee.startDate()e.start,r.end=e.endDatee.endDate()e.end),r.isAllDay=isDaySlotin ee.isDaySlote.isAllDay,r.index=e.index,r.events=this._ctrlKeyr.events.concat(t[])t[])},options{nameScheduler,datest,editable!0,autoBind!0,snap!0,mobile!1,timezone,allDaySlot!0,minnew Date(1900,0,1),maxnew Date(2099,11,31),toolbarnull,messages{todayToday,pdfExport to PDF,saveSave,cancelCancel,destroyDelete,deleteWindowTitleDelete event,ariaSlotLabelSelected from {0t} to {1t},ariaEventLabel{0} on {1D} at {2t},views{dayDay,weekWeek,workWeekWork Week,agendaAgenda,monthMonth,timelineTimeline,timelineWeekTimeline Week,timelineWorkWeekTimeline Work Week,timelineMonthTimeline Month},recurrenceMessages{deleteWindowTitleDelete Recurring Item,deleteWindowOccurrenceDelete current occurrence,deleteWindowSeriesDelete the series,editWindowTitleEdit Recurring Item,editWindowOccurrenceEdit current occurrence,editWindowSeriesEdit the series},editor{titleTitle,startStart,endEnd,allDayEventAll day event,descriptionDescription,repeatRepeat,timezone ,startTimezoneStart timezone,endTimezoneEnd timezone,separateTimezonesUse separate start and end time zones,timezoneEditorTitleTimezones,timezoneEditorButtonTime zone,timezoneTitleTime zones,noTimezoneNo timezone,editorTitleEvent}},heightnull,widthnull,resources[],group{resources[],directionhorizontal},views[],selectable!1},events[nt,ot,tt,it,add,dataBinding,dataBound,moveStart,move,moveEnd,resizeStart,resize,resizeEnd,navigate,change],destroyfunction(){var t,n=this;V.fn.destroy.call(n),n.dataSource&&(n.dataSource.unbind(et,n._refreshHandler),n.dataSource.unbind(progress,n._progressHandler),n.dataSource.unbind(error,n._errorHandler)),n.calendar&&(n.calendar.destroy(),n.popup.destroy()),n.view()&&n.view().destroy(),n._editor&&n._editor.destroy(),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),t=n.element.add(n.wrapper).add(n.toolbar).add(n.popup),t.off(Z),clearTimeout(n._moveTimer),n._model=null,n.toolbar=null,n.element=null,e(window).off(resize+Z,n._resizeHandler),P.destroy(n.wrapper)},setDataSourcefunction(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},itemsfunction(){return this.wrapper.find(.k-scheduler-content).children(.k-event, .k-task)},_movablefunction(){var n,i,r,o,a,s,l=this,c=l._isMobile(),d=l.options.editable&&l.options.editable.move!==!1,u=l.options.editable&&l.options.editable.resize!==!1;(du&&c)&&(l._moveDraggable=new P.ui.Draggable(l.element,{distance0,filter.k-event,ignore.k-resize-handle,holdToDragc}),d&&l._moveDraggable.bind(dragstart,function(e){var o=l.view(),d=e.currentTarget;return o.options.editable&&o.options.editable.move!==!1c&&!d.hasClass(k-event-active)(l.element.find(.k-event-active).removeClass(k-event-active),e.preventDefault(),t)(a=l.occurrenceByUid(d.attr(P.attr(uid))),s=a.clone(),o._updateEventForMove(s),n=o._slotByPosition(e.x.startLocation,e.y.startLocation),r=n.startOffset(e.x.startLocation,e.y.startLocation,l.options.snap),i=n,(!nl.trigger(moveStart,{eventa}))&&e.preventDefault(),t)(e.preventDefault(),t)}).bind(drag,function(e){var t,n,c=l.view(),d=c._slotByPosition(e.x.location,e.y.location);d&&(o=d.startOffset(e.x.location,e.y.location,l.options.snap),t=o-r,c._updateMoveHint(s,d.groupIndex,t),n=w(s,t),l.trigger(move,{eventa,slot{elementd.element,startd.startDate(),endd.endDate()},resourcesc._resourceBySlot(d),startn.start,endn.end})c._updateMoveHint(s,d.groupIndex,t)i=d)}).bind(dragend,function(t){var c,d,u,h,p,f,g;l.view()._removeMoveHint(),c=o-r,d=w(s,c),u=d.start,h=d.end,p=l.view()._resourceBySlot(i),f=l.view()._resourceBySlot(n),g=l.trigger(moveEnd,{eventa,slot{elementi.element,starti.startDate(),endi.endDate()},startu,endh,resourcesp}),gs.start.getTime()==u.getTime()&&s.end.getTime()==h.getTime()&&P.stringify(p)==P.stringify(f)(l.view()._updateEventForMove(a),l._updateEvent(null,a,e.extend({startu,endh},p))),t.currentTarget.removeClass(k-event-active),this.cancelHold()}).bind(dragcancel,function(){l.view()._removeMoveHint(),this.cancelHold()}),c&&(l._moveDraggable.bind(hold,function(e){l.element.find(.k-scheduler-monthview).length&&e.preventDefault(),l.element.find(.k-event-active).removeClass(k-event-active),e.currentTarget.addClass(k-event-active)}),l._moveDraggable.userEvents.bind(press,function(e){e.preventDefault()})))},_resizablefunction(){function t(e){var t,n={k-resize-eeast,k-resize-wwest,k-resize-nnorth,k-resize-ssouth};for(t in n)if(e.hasClass(t))return n[t]}var n,i,r,o,a,s=this;s._resizeDraggable=new P.ui.Draggable(s.element,{distance0,filter.k-resize-handle,dragstartfunction(t){var l=e(t.currentTarget),c=l.closest(.k-event),d=c.attr(P.attr(uid)),u=s.view();r=s.occurrenceByUid(d),o=r.clone(),u._updateEventForResize(o),a=u._slotByPosition(t.x.startLocation,t.y.startLocation),s.trigger(resizeStart,{eventr})&&t.preventDefault(),n=P.date.toUtcTime(o.start),i=P.date.toUtcTime(o.end)},dragfunction(l){var c,d,u,h,p,f;a&&(c=e(l.currentTarget),d=t(c),u=s.view(),h=u._slotByPosition(l.x.location,l.y.location),h&&a.groupIndex==h.groupIndex&&(a=h,p=n,f=i,south==d!a.isDaySlot&&a.end-P.date.toUtcTime(o.start)=u._timeSlotInterval()&&(i=o.isAllDaya.startOffset(l.x.location,l.y.location,s.options.snap)a.endOffset(l.x.location,l.y.location,s.options.snap))north==d!a.isDaySlot&&P.date.toUtcTime(o.end)-a.start=u._timeSlotInterval()&&(n=a.startOffset(l.x.location,l.y.location,s.options.snap))east==da.isDaySlot&&P.date.toUtcTime(P.date.getDate(a.endDate()))=P.date.toUtcTime(P.date.getDate(o.start))i=o.isAllDaya.startOffset(l.x.location,l.y.location,s.options.snap)a.endOffset(l.x.location,l.y.location,s.options.snap)!a.isDaySlot&&a.end-P.date.toUtcTime(o.start)=u._timeSlotInterval()&&(i=a.endOffset(l.x.location,l.y.location,s.options.snap))west==d&&(a.isDaySlot&&P.date.toUtcTime(P.date.getDate(o.end))=P.date.toUtcTime(P.date.getDate(a.startDate()))n=a.startOffset(l.x.location,l.y.location,s.options.snap)!a.isDaySlot&&P.date.toUtcTime(o.end)-a.start=u._timeSlotInterval()&&(n=a.startOffset(l.x.location,l.y.location,s.options.snap))),s.trigger(resize,{eventr,slot{elementa.element,starta.startDate(),enda.endDate()},startP.timezone.toLocalDate(n),endP.timezone.toLocalDate(i),resourcesu._resourceBySlot(a)})(n=p,i=f)u._updateResizeHint(o,a.groupIndex,n,i)))},dragendfunction(l){var c,d=e(l.currentTarget),u=new Date(o.start.getTime()),h=new Date(o.end.getTime()),p=t(d);s.view()._removeResizeHint(),south==ph=P.timezone.toLocalDate(i)north==pu=P.timezone.toLocalDate(n)east==ph=a.isDaySlotP.date.getDate(P.timezone.toLocalDate(i))P.timezone.toLocalDate(i)west==p&&(a.isDaySlot(u=new Date(P.timezone.toLocalDate(n)),u.setHours(0),u.setMinutes(0))u=P.timezone.toLocalDate(n)),c=s.trigger(resizeEnd,{eventr,slot{elementa.element,starta.startDate(),enda.endDate()},startu,endh,resourcess.view()._resourceBySlot(a)}),!c&&h.getTime()=u.getTime()&&(o.start.getTime()!=u.getTime()o.end.getTime()!=h.getTime())&&(s.view()._updateEventForResize(r),s._updateEvent(p,r,{startu,endh})),a=null,r=null},dragcancelfunction(){s.view()._removeResizeHint(),a=null,r=null}})},_updateEventfunction(e,t,n){var i,r=this,o=function(e,t){try{r._preventRefresh=!0,e.update(n),r._convertDates(e)}finally{r._preventRefresh=!1}r.trigger(it,{evente})(t&&t(),r._updateSelection(e),r.dataSource.sync())},a=function(e){return e.recurrenceRuler.dataSource.getByUid(e.uid)r.dataSource.get(e.recurrenceId)},s=function(){var i,s,l=a(t);(south==enorth==e)&&(n.start&&(i=P.date.getDate(l.start),P.date.setTime(i,H(n.start)),n.start=i),n.end&&(s=P.date.getDate(l.end),P.date.setTime(s,H(n.end)),n.end=s)),r.dataSource._removeExceptions(l),o(l)},l=function(){var e=a(t),n=function(){r._convertDates(e)},i=e.toOccurrence({startt.start,endt.end});o(r.dataSource.add(i),n)};t.recurrenceRulet.isOccurrence()(i=r.options.messages.recurrenceMessages,r._showRecurringDialog(t,l,s,{titlei.editWindowTitle,texti.editRecurringi.editRecurringut,occurrenceTexti.editWindowOccurrence,seriesTexti.editWindowSeries}))o(r.dataSource.getByUid(t.uid))},_modelForContainerfunction(t){return t=e(t).closest([+P.attr(uid)+]),this.dataSource.getByUid(t.attr(P.attr(uid)))},showDialogfunction(e){this._editor.showDialog(e)},focusfunction(){this.wrapper.focus()},_confirmationfunction(e,t){var n,i,r,o=this.options.editable;o===!0o.confirmation!==!1(n=this.options.messages,i=typeof o.confirmation===Wo.confirmationct,r=[{namedestroy,textn.destroy,clickfunction(){e()}}],this._isMobile()&&P.mobile.ui.Paner.push({namecanceledit,textn.cancel,clickfunction(){e(!0)}}),this._unbindResize(),this.showDialog({modelt,texti,titlen.deleteWindowTitle,buttonsr}),this._bindResize())e()},addEventfunction(e){var t,n,i=this._editor.editable,r=this.dataSource;e=e{},n=this.trigger(add,{evente}),!n&&(i&&i.end()!i)&&(this.cancelEvent(),e&&e.toJSON&&(e=e.toJSON()),t=r.add(e),t&&(this.cancelEvent(),this._editEvent(t)))},saveEventfunction(){var e,t,n,i=this._editor;i&&(e=i.editable,t=i.container,n=this._modelForContainer(t),t&&e&&e.end()&&!this.trigger(it,{containert,eventn})&&(n.isRecurrenceHead()&&this.dataSource._removeExceptions(n),n.dirtyn.isOccurrence()this._convertDates(n,remove),this.dataSource.sync()))},cancelEventfunction(){var e,t=this._editor,n=t.container;n&&(e=this._modelForContainer(n),e&&e.isOccurrence()&&(this._convertDates(e,remove),this._convertDates(this.dataSource.get(e.recurrenceId),remove)),this.dataSource.cancelChanges(e),t.close())},editEventfunction(e){var t=string==typeof ethis.occurrenceByUid(e)e;t&&(this.cancelEvent(),t.isRecurring()this._editRecurringDialog(t)this._editEvent(t))},_editEventfunction(e){this._unbindResize(),this._createPopupEditor(e),this._bindResize()},_editRecurringDialogfunction(e){var t=this,n=function(){e.isException()t._editEvent(e)t.addEvent(e)},i=function(){e.recurrenceId&&(e=t.dataSource.get(e.recurrenceId)),t._editEvent(e)},r=t.options.messages.recurrenceMessages;t._showRecurringDialog(e,n,i,{titler.editWindowTitle,textr.editRecurringr.editRecurringut,occurrenceTextr.editWindowOccurrence,seriesTextr.editWindowSeries})},_showRecurringDialogfunction(e,t,n,i){var r=this,o=r.options.editable,a=$(o)o.editRecurringModedialog;series===an()occurrence===at()(this._unbindResize(),r.showDialog({modele,titlei.title,texti.text,buttons[{texti.occurrenceText,clickt},{texti.seriesText,clickn}]}),this._bindResize())},_createButtonfunction(e){var t=e.templateht,n=typeof e===Wee.namee.text,i={classNamek-scheduler-+(n).replace(sg,),textn,attr};if(!(n$(e)&&e.template))throw Error(Custom commands should have name specified);return $(e)(e.className&&(e.className+= +i.className),edit===n&&$(e.text)&&(e=Y(!0,{},e),e.text=e.text.edit),i=Y(!0,i,y[n],e))i=Y(!0,i,y[n]),P.template(t)(i)},_convertDatesfunction(e,t){var n=this.dataSource.reader.timezone,i=e.startTimezone,r=e.endTimezone,o=e.start,a=e.start;t=tapply,i=ir,r=ri,i&&(napply===t(o=P.timezone.convert(e.start,n,i),a=P.timezone.convert(e.end,n,r))(o=P.timezone.convert(e.start,i,n),a=P.timezone.convert(e.end,r,n))(o=P.timezone[t](e.start,i),a=P.timezone[t](e.end,r)),e._set(start,o),e._set(end,a))},_createEditorfunction(){var e,n=this;e=n._editor=this._isMobile()&&P.mobile.ui.Panenew x(this.wrapper,Y({},this.options,{targetthis,timezonen.dataSource.reader.timezone,resourcesn.resources,createButtonQ(this._createButton,this)}))new C(this.wrapper,Y({},this.options,{targetthis,createButtonQ(this._createButton,this),timezonen.dataSource.reader.timezone,resourcesn.resources})),e.bind(cancel,function(e){return n.trigger(cancel,{containere.container,evente.model})(e.preventDefault(),t)(n.cancelEvent(),n.focus(),t)}),e.bind(edit,function(e){n.trigger(ot,{containere.container,evente.model})&&e.preventDefault()}),e.bind(save,function(){n.saveEvent()}),e.bind(remove,function(e){n.removeEvent(e.model)})},_createPopupEditorfunction(e){var t=this._editor;(!e.isNew()e.isOccurrence())&&(e.isOccurrence()&&this._convertDates(e.recurrenceIdthis.dataSource.get(e.recurrenceId)e),this._convertDates(e)),this.editable=t.editEvent(e)},removeEventfunction(e){var t=this,n=string==typeof et.occurrenceByUid(e)e;n&&(n.isRecurring()t._deleteRecurringDialog(n)t._confirmation(function(e){et._removeEvent(n)},n))},occurrenceByUidfunction(e){var t=this.dataSource.getByUid(e);return t(t=l(this._data,e)),t},occurrencesInRangefunction(e,t){return new P.data.Query(this._data).filter({logicor,filters[{logicand,filters[{fieldstart,operatorgte,valuee},{fieldend,operatorgte,valuee},{fieldstart,operatorlt,valuet}]},{logicand,filters[{fieldstart,operatorlte,valuee},{fieldend,operatorgt,valuee}]}]}).toArray()},_removeEventfunction(e){this.trigger(nt,{evente})this.dataSource.remove(e)&&this.dataSource.sync()},_deleteRecurringDialogfunction(e){var t=this,n=e,i=function(){var e=n.recurrenceIdnn.toOccurrence(),i=t.dataSource.get(e.recurrenceId);t._convertDates(i),t._removeEvent(e)},r=function(){n.recurrenceId&&(n=t.dataSource.get(n.recurrenceId)),t._removeEvent(n)},o=t.options.messages.recurrenceMessages;t._showRecurringDialog(e,i,r,{titleo.deleteWindowTitle,texto.deleteRecurringo.deleteRecurringdt,occurrenceTexto.deleteWindowOccurrence,seriesTexto.deleteWindowSeries})},_unbindViewfunction(e){var t=this;t.angular(cleanup,function(){return{elementst.items()}}),e.destroy()},_bindViewfunction(e){var t=this;t.options.editable&&(t._viewRemoveHandler&&e.unbind(nt,t._viewRemoveHandler),t._viewRemoveHandler=function(e){t.removeEvent(e.uid)},e.bind(nt,t._viewRemoveHandler),t._viewAddHandler&&e.unbind(rt,t._viewAddHandler),t._viewAddHandler=function(e){t.addEvent(e.eventInfo)},e.bind(rt,this._viewAddHandler),t._viewEditHandler&&e.unbind(ot,t._viewEditHandler),t._viewEditHandler=function(e){t.editEvent(e.uid)},e.bind(ot,this._viewEditHandler)),t._viewNavigateHandler&&e.unbind(navigate,t._viewNavigateHandler),t._viewNavigateHandler=function(e){var n,i;e.view&&(n=isWorkDayin e,i=nchangeWorkDaychangeView,t.trigger(navigate,{viewe.view,isWorkDaye.isWorkDay,actioni,datee.date})(n&&(t._workDayMode=e.isWorkDay),t._selectView(e.view),t.date(e.date)))},e.bind(navigate,t._viewNavigateHandler),t._viewActivateHandler&&e.unbind(activate,t._viewActivateHandler),t._viewActivateHandler=function(){var e=this;t._selection&&(e.constrainSelection(t._selection),t._select(),t._adjustSelectedDate())},e.bind(activate,t._viewActivateHandler)},_selectViewfunction(e){var t,n,i,r=this;e&&r.views[e]&&(r._selectedView&&r._unbindView(r._selectedView),r._selectedView=r._renderView(e),r._selectedViewName=e,t=pt({viewsr.views,viewe,nsP.ns}),n=r.toolbar.find(.k-scheduler-views lifirst-child),n.is(.k-current-view)n.replaceWith(t)r.toolbar.find(.k-scheduler-views).prepend(t),i=r.toolbar.find(.k-scheduler-views li).removeClass(k-state-selected),r.options.views.length1&&i.end().find(.k-view-+e.replace(.g,.).toLowerCase()).addClass(k-state-selected))},viewfunction(e){var n=this;return e(n._selectView(e),n.rebind(),t)n._selectedView},_renderViewfunction(e){var t=this._initializeView(e);return this._bindView(t),this._model.set(formattedDate,t.dateForTitle()),this._model.set(formattedShortDate,t.shortDateForTitle()),t},resizefunction(e){var t=this.getSize(),n=this._size,i=this.view();i&&i.groups&&(e!nt.width!==n.widtht.height!==n.height)&&(this.refresh({actionresize}),this._size=t)},_adjustSelectedDatefunction(){var e=this._model.selectedDate,t=this._selection,n=t.start;n&&!P.date.isInDateRange(e,B(n),B(t.end))&&e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())},_initializeViewfunction(e){var t,n,i=this.views[e];if(i){if(t=$(i),n=i.type,typeof n===W&&(n=P.getter(i.type)(window)),!n)throw Error(There is no such view);i=new n(this.wrapper,h(Y(!0,{},this.options,ti{},{resourcesthis.resources,datethis.date(),showWorkHoursthis._workDayMode})))}return i},_viewsfunction(){var e,t,n,i,r,o,a,s,l,c=this.options.views;for(this.views={},a=0,s=c.length;sa;a++)l=!1,e=c[a],i=$(e),i(o=r=e.typee.typee,typeof o!==W&&(r=e.title,l=!0))o=r=e,t=T[r],t&&!l&&(e.type=t.type,t.title=this.options.messages.views[r],day===t.typet.messages={allDaythis.options.messages.allDay}agenda===t.type&&(t.messages={eventthis.options.messages.event,datethis.options.messages.date,timethis.options.messages.time})),e=Y({titler},t,ie{}),r&&(this.views[r]=e,(!ne.selected)&&(n=r));n&&(this._selectedViewName=n)},rebindfunction(){this.dataSource.fetch()},_dataSourcefunction(){var e=this,t=e.options,n=t.dataSource;n=X(n){datan}n,!t.timezonen instanceof Ttn instanceof Tt&&(t.timezone=n.scheman.schema.timezone)n=Y(!0,n,{schema{timezonet.timezone}}),e.dataSource&&e._refreshHandlere.dataSource.unbind(et,e._refreshHandler).unbind(progress,e._progressHandler).unbind(error,e._errorHandler)(e._refreshHandler=Q(e.refresh,e),e._progressHandler=Q(e._requestStart,e),e._errorHandler=Q(e._error,e)),e.dataSource=P.data.SchedulerDataSource.create(n).bind(et,e._refreshHandler).bind(progress,e._progressHandler).bind(error,e._errorHandler),e.options.dataSource=e.dataSource},_errorfunction(){this._progress(!1)},_requestStartfunction(){this._progress(!0)},_progressfunction(e){var t=this.element.find(.k-scheduler-content);P.ui.progress(t,e)},_resourcesfunction(){var t,n,i,r,o,a=this,s=a.options.resources;for(t=0;s.lengtht;t++){if(n=s[t],i=n.field,r=n.dataSource,!i!r)throw Error('The field and dataSource options of the scheduler resource are mandatory.');a.resources.push({fieldi,namen.namei,titlen.titlei,dataTextFieldn.dataTextFieldtext,dataValueFieldn.dataValueFieldvalue,dataColorFieldn.dataColorFieldcolor,valuePrimitivenull!=n.valuePrimitiven.valuePrimitive!0,multiplen.multiple!1,dataSourceP.data.DataSource.create(r)})}o=e.map(a.resources,function(e){return e.dataSource.fetch()}),e.when.apply(null,o).then(function(){a.options.autoBinda.view(a._selectedViewName)a._selectView(a._selectedViewName)})},_initModelfunction(){var e=this;e._model=P.observable({selectedDatenew Date(this.options.date),formattedDate,formattedShortDate}),e._model.bind(change,function(t){selectedDate===t.field&&e.view(e._selectedViewName)})},_wrapperfunction(){var e=this,t=e.options,n=t.height,i=t.width;e.wrapper=e.element.addClass(k-widget k-scheduler k-floatwrap).attr(role,grid).attr(aria-multiselectable,!0),e._isMobile()&&e.wrapper.addClass(k-scheduler-mobile),e._isMobilePhoneView()&&e.wrapper.addClass(k-scheduler-phone),n&&e.wrapper.height(n),i&&e.wrapper.width(i)},datefunction(e){return null!=e&&B(e)=B(this.options.min)&&B(e)=B(this.options.max)&&this._model.set(selectedDate,e),B(this._model.get(selectedDate))},_toolbarfunction(){var n,i,r=this,o=r.options,a=[];o.toolbar&&(a=e.isArray(o.toolbar)o.toolbar[o.toolbar]),n=this._isMobilePhoneView()gtft,i=e(n({messageso.messages,pdfe.grep(a,function(e){returnpdf==epdf==e.name}).length0,nsP.ns,viewsr.views})),r.wrapper.append(i),r.toolbar=i,P.bind(r.toolbar,r._model),i.on(J+Z,.k-pdf,function(e){e.preventDefault(),r.saveAsPDF()}),i.on(J+Z,.k-scheduler-navigation li,function(n){var i=e(this),o=new Date(r.date()),a=;if(n.preventDefault(),i.hasClass(k-nav-today))a=today,o=new Date;else if(i.hasClass(k-nav-next))a=next,o=r.view().nextDate();else if(i.hasClass(k-nav-prev))a=previous,o=r.view().previousDate();else if(i.hasClass(k-nav-current)&&!r._isMobilePhoneView())return r._showCalendar(),t;r.trigger(navigate,{viewr._selectedViewName,actiona,dateo})r.date(o)}),i.on(J+Z,.k-scheduler-views li,function(t){t.preventDefault();var n=e(this).attr(P.attr(name));r.trigger(navigate,{viewn,actionchangeView,dater.date()})(r.view(n),r.element.find(.k-state-expanded).removeClass(k-state-expanded))}),i.on(J+Z,.k-scheduler-views li.k-current-view,function(){r.element.find(.k-scheduler-views).toggleClass(k-state-expanded)}),i.find(li).hover(function(){e(this).addClass(k-state-hover)},function(){e(this).removeClass(k-state-hover)})},_showCalendarfunction(){var t=this,n=t.toolbar.find(.k-nav-current),i=e('div class=k-calendar-containerdiv class=k-scheduler-calendardiv');t.popup(t.popup=new j(i,{anchorn,activatefunction(){t.calendar(t.calendar=new G(this.element.find(.k-scheduler-calendar),{changefunction(){var e=this.value();t.trigger(navigate,{viewt._selectedViewName,actionchangeDate,datee})(t.date(e),t.popup.close())},mint.options.min,maxt.options.max})),t.calendar.value(t.date())},copyAnchorStyles!1})),t.popup.open()},refreshfunction(e){var t=this,n=this.view();this._progress(!1),this.angular(cleanup,function(){return{elementst.items()}}),e=e{},n&&(e&&itemchange===e.action&&(this._editor.editablethis._preventRefresh)this.trigger(dataBinding,{actione.actionrebind,indexe.index,itemse.items})(e&&resize===e.action!this._editorthis._editor.close(),this._data=this.dataSource.expand(n.startDate(),n.endDate()),n.render(this._data),this.trigger(dataBound)))},slotByPositionfunction(e,t){var n,i=this.view();return i._slotByPosition(n=i._slotByPosition(e,t),n{startDaten.startDate(),endDaten.endDate(),groupIndexn.groupIndex,elementn.element,isDaySlotn.isDaySlot}null)null},slotByElementfunction(t){var n=e(t).offset();return this.slotByPosition(n.left,n.top)},resourcesBySlotfunction(e){return this.view()._resourceBySlot(e)}}),T={day{typekendo.ui.DayView},week{typekendo.ui.WeekView},workWeek{typekendo.ui.WorkWeekView},agenda{typekendo.ui.AgendaView},month{typekendo.ui.MonthView},timeline{typekendo.ui.TimelineView},timelineWeek{typekendo.ui.TimelineWeekView},timelineWorkWeek{typekendo.ui.TimelineWorkWeekView},timelineMonth{typekendo.ui.TimelineMonthView}},O.plugin(S),P.PDFMixin&&(P.PDFMixin.extend(S.prototype),D=k-scheduler-pdf-export,S.fn._drawPDF=function(){var e,t,n=this.wrapper,i=n[0].style.cssText;return n.css({widthn.width(),heightn.height()}),n.addClass(D),this.resize(!0),e=this._drawPDFShadow(),t=this,e.always(function(){n[0].style.cssText=i,n.removeClass(D),t.resize(!0)}),e}),A=V.extend({initfunction(e,t){var n=this,i=P.timezone.windows_zones;if(!i!P.timezone.zones_titles)throw Error(kendo.timezones.min.js is not included.);V.fn.init.call(n,e,t),n.wrapper=n.element,n._zonesQuery=new P.data.Query(i),n._zoneTitleId=P.guid(),n._zoneTitlePicker(),n._zonePicker(),n._zoneTitle.bind(cascade,function(){this.value()n._zone.wrapper.hide()}),n._zone.bind(cascade,function(){n._value=this.value(),n.trigger(change)}),n.value(n.options.value)},options{nameTimezoneEditor,value,optionLabelNo timezone},events[change],_zoneTitlePickerfunction(){var t=this,n=e('input id='+t._zoneTitleId+'').appendTo(t.wrapper);t._zoneTitle=new P.ui.DropDownList(n,{dataSourceP.timezone.zones_titles,dataValueFieldother_zone,dataTextFieldname,optionLabelt.options.optionLabel})},_zonePickerfunction(){var t=this,n=e(input ).appendTo(this.wrapper);t._zone=new P.ui.DropDownList(n,{dataValueFieldzone,dataTextFieldterritory,dataSourcet._zonesQuery.data,cascadeFromt._zoneTitleId,dataBoundfunction(){t._value=this.value(),this.wrapper.toggle(this.dataSource.view().length1)}}),t._zone.wrapper.hide()},destroyfunction(){V.fn.destroy.call(this),P.destroy(this.wrapper)},valuefunction(e){var n,i=this;return e===ti._value(n=i._zonesQuery.filter({fieldzone,operatoreq,valuee}).data[0],n(i._zoneTitle.value(n.other_zone),i._zone.value(n.zone))i._zoneTitle.select(0),t)}}),O.plugin(A),E=P.template('option value=#=other_zone##=name#option'),I=P.template('option value=#=zone##=territory#option'),M=V.extend({initfunction(e,t){var n=this,i=P.timezone.windows_zones;if(!i!P.timezone.zones_titles)throw Error(kendo.timezones.min.js is not included.);V.fn.init.call(n,e,t),n.wrapper=n.element,n._zonesQuery=new P.data.Query(i),n._zoneTitlePicker(),n._zonePicker(),n.value(n.options.value)},options{nameMobileTimezoneEditor,optionLabelNo timezone,value},events[change],_bindZonesfunction(e){var t=ethis._filter(e)[];this._zone.html(this._options(t,I))
},_filterfunction(e){return this._zonesQuery.filter({fieldother_zone,operatoreq,valuee}).data},_optionsfunction(e,t,n){var i=0,r=,o=e.length;for(n&&(r+=t({other_zone,namen}));oi;i++)r+=t(e[i]);return r},_zoneTitlePickerfunction(){var t=this,n=t._options(P.timezone.zones_titles,E,t.options.optionLabel);t._zoneTitle=e(select+n+select).appendTo(t.wrapper).change(function(){var e=this.value,n=t._zone;t._bindZones(e),e&&n[0].children.length1n.show()n.hide(),t._value=n[0].value,t.trigger(change)})},_zonePickerfunction(){var t=this;t._zone=e('select style=displaynoneselect').appendTo(this.wrapper).change(function(){t._value=this.value,t.trigger(change)}),t._bindZones(t._zoneTitle.val()),t._value=t._zone[0].value},destroyfunction(){V.fn.destroy.call(this),P.destroy(this.wrapper)},valuefunction(e){var n,i=this,r=i._zone,o=,a=;return e===ti._value(n=i._zonesQuery.filter({fieldzone,operatoreq,valuee}).data[0],n&&(a=n.zone,o=n.other_zone),i._zoneTitle.val(o),i._bindZones(o),r.val(a),a=r[0].value,a&&r[0].children.length1r.show()r.hide(),i._value=a,t)}}),O.plugin(M)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui.Widget,i=e.proxy,r=Math.abs,o=20,a=t.Class.extend({initfunction(n,i,o){o=e.extend({minXDelta30,maxYDelta20,maxDuration1e3},o),new t.UserEvents(n,{surfaceo.surface,allowSelection!0,startfunction(e){2r(e.x.velocity)=r(e.y.velocity)&&e.sender.capture()},movefunction(e){var t=e.touch,n=e.event.timeStamp-t.startTime,a=t.x.initialDelta0rightleft;r(t.x.initialDelta)=o.minXDelta&&r(t.y.initialDelta)o.maxYDelta&&o.maxDurationn&&(i({directiona,toucht,targett.target}),t.cancel())}})}}),s=n.extend({initfunction(e,r){function o(e){return function(t){s._triggerTouch(e,t)}}function a(e){return function(t){s.trigger(e,{touchest.touches,distancet.distance,centert.center,eventt.event})}}var s=this;n.fn.init.call(s,e,r),r=s.options,e=s.element,s.wrapper=e,s.events=new t.UserEvents(e,{filterr.filter,surfacer.surface,minHoldr.minHold,multiTouchr.multiTouch,allowSelection!0,presso(touchstart),holdo(hold),tapi(s,_tap),gesturestarta(gesturestart),gesturechangea(gesturechange),gestureenda(gestureend)}),r.enableSwipe(s.events.bind(start,i(s,_swipestart)),s.events.bind(move,i(s,_swipemove)))(s.events.bind(start,i(s,_dragstart)),s.events.bind(move,o(drag)),s.events.bind(end,o(dragend))),t.notify(s)},events[touchstart,dragstart,drag,dragend,tap,doubletap,hold,swipe,gesturestart,gesturechange,gestureend],options{nameTouch,surfacenull,global!1,multiTouch!1,enableSwipe!1,minXDelta30,maxYDelta20,maxDuration1e3,minHold800,doubleTapTimeout800},cancelfunction(){this.events.cancel()},_triggerTouchfunction(e,t){this.trigger(e,{toucht.touch,eventt.event})&&t.preventDefault()},_tapfunction(e){var n=this,i=n.lastTap,r=e.touch;i&&n.options.doubleTapTimeoutr.endTime-i.endTime&&t.touchDelta(r,i).distanceo(n._triggerTouch(doubletap,e),n.lastTap=null)(n._triggerTouch(tap,e),n.lastTap=r)},_dragstartfunction(e){this._triggerTouch(dragstart,e)},_swipestartfunction(e){2r(e.x.velocity)=r(e.y.velocity)&&e.sender.capture()},_swipemovefunction(e){var t=this,n=t.options,i=e.touch,o=e.event.timeStamp-i.startTime,a=i.x.initialDelta0rightleft;r(i.x.initialDelta)=n.minXDelta&&r(i.y.initialDelta)n.maxYDelta&&n.maxDurationo&&(t.trigger(swipe,{directiona,touche.touch}),i.cancel())}});window.jQuery.fn.kendoMobileSwipe=function(e,t){this.each(function(){new a(this,e,t)})},t.ui.plugin(s)}(window.kendo.jQuery),function(e){function t(e){var t,n,i=[],r=e.className;for(t=0,n=e.level;nt;t++)i.push(o(span,{classNamer}));return i}function n(){var t=i._activeElement();body!==t.nodeName.toLowerCase()&&e(t).blur()}var i=window.kendo,r=i.dom,o=r.element,a=r.text,s=i.support.mobileOS,l=i.ui,c=l.Widget,d=e.extend,u=e.map,h=e.isFunction,p=i.keys,f={titleTitle,startStart Time,endEnd Time,percentComplete% Done,parentIdPredecessor ID,idID,orderIdOrder ID},g=string,m=.kendoGanttList,v=click,_=.,w={wrapperk-treelist k-grid k-widget,headerk-header,altk-alt,editCellk-edit-cell,groupk-treelist-group,gridHeaderk-grid-header,gridHeaderWrapk-grid-header-wrap,gridContentk-grid-content,gridContentWrapk-grid-content,selectedk-state-selected,iconk-icon,iconCollapsek-i-collapse,iconExpandk-i-expand,iconHiddenk-i-none,iconPlaceHolderk-icon k-i-none,inputk-input,dropPositionsk-insert-top k-insert-bottom k-add k-insert-middle,dropTopk-insert-top,dropBottomk-insert-bottom,dropAddk-add,dropMiddlek-insert-middle,dropDeniedk-denied,dragStatusk-drag-status,dragCluek-drag-clue,dragClueTextk-clue-text},y=l.GanttList=c.extend({initfunction(e,t){c.fn.init.call(this,e,t),0===this.options.columns.length&&this.options.columns.push(title),this.dataSource=this.options.dataSource,this._columns(),this._layout(),this._domTrees(),this._header(),this._sortable(),this._editable(),this._selectable(),this._draggable(),this._attachEvents(),this._adjustHeight()},_adjustHeightfunction(){this.content.height(this.element.height()-this.header.parent().outerHeight())},destroyfunction(){c.fn.destroy.call(this),this._reorderDraggable&&this._reorderDraggable.destroy(),this._tableDropArea&&this._tableDropArea.destroy(),this._contentDropArea&&this._contentDropArea.destroy(),this.touch&&this.touch.destroy(),this.timer&&clearTimeout(this.timer),this.content.off(m),this.header=null,this.content=null,this.levels=null,i.destroy(this.element)},options{nameGanttList,selectable!0,editable!0},_attachEventsfunction(){var t=this,n=y.styles;t.content.on(v+m,td  span.+n.icon+not(.+n.iconHidden+),function(n){var i=e(this),r=t._modelFromElement(i);r.set(expanded,!r.get(expanded)),n.stopPropagation()})},_domTreesfunction(){this.headerTree=new r.Tree(this.header[0]),this.contentTree=new r.Tree(this.content[0])},_columnsfunction(){var e=this.options.columns,t=function(){this.field=,this.title=,this.editable=!1,this.sortable=!1};this.columns=u(e,function(e){return e=string==typeof e{fielde,titlef[e]}e,d(new t,e)})},_layoutfunction(){var e=this.element,t=y.styles;e.addClass(t.wrapper).append(div class='+t.gridHeader+'div class='+t.gridHeaderWrap+'divdiv).append(div class='+t.gridContentWrap+'div),this.header=e.find(_+t.gridHeaderWrap),this.content=e.find(_+t.gridContent)},_headerfunction(){var e=this.headerTree,t=o(colgroup,null,this._cols()),n=o(thead,{rolerowgroup},[o(tr,{rolerow},this._ths())]),i=o(table,{style{minWidththis.options.listWidth+px},rolegrid},[t,n]);e.render([i])},_renderfunction(e){var t,n,i;this.levels=[{fieldnull,value0}],t=o(colgroup,null,this._cols()),n=o(tbody,{rolerowgroup},this._trs(e)),i=o(table,{style{minWidththis.options.listWidth+px},tabIndex0,roletreegrid},[t,n]),this.contentTree.render([i]),this.trigger(render)},_thsfunction(){var e,t,n,i,r=this.columns,s=[];for(n=0,i=r.length;in;n++)e=r[n],t={data-fielde.field,data-titlee.title,classNamey.styles.header,rolecolumnheader},s.push(o(th,t,[a(e.title)]));return s},_colsfunction(){var e,t,n,i,r,a=this.columns,s=[];for(i=0,r=a.length;ri;i++)e=a[i],n=e.width,t=n&&0!==parseInt(n,10){style{widthtypeof n===gnn+px}}null,s.push(o(col,t,[]));return s},_trsfunction(e){var t,n,i,r,o,a=[],s=[],l=y.styles;for(r=0,o=e.length;or;r++)t=e[r],i=this._levels({idxt.parentId,idt.id,summaryt.summary}),n={data-uidt.uid,data-leveli,rolerow},t.summary&&(n[aria-expanded]=t.expanded),r%2!==0&&s.push(l.alt),t.summary&&s.push(l.group),s.length&&(n.className=s.join( )),a.push(this._tds({taskt,attrn,leveli})),s=[];return a},_tdsfunction(e){var t,n,i,r=[],a=this.columns;for(n=0,i=a.length;in;n++)t=a[n],r.push(this._td({taske.task,columnt,levele.level}));return o(tr,e.attr,r)},_tdfunction(e){var n,r,s=[],l=this.options.resourcesField,c=y.styles,d=e.task,u=e.column,h=d.get(u.field)[];if(u.field==l){for(n=[],r=0;h.lengthr;r++)n.push(i.format({0} [{1}],h[r].get(name),h[r].get(formatedValue)));n=n.join(, )}else n=u.formati.format(u.format,h)h;returntitle===u.field&&(s=t({levele.level,classNamec.iconPlaceHolder}),s.push(o(span,{classNamec.icon+ +(d.summaryd.expandedc.iconCollapsec.iconExpandc.iconHidden)}))),s.push(o(span,null,[a(n)])),o(td,{rolegridcell},s)},_levelsfunction(e){var t,n,i,r=this.levels,o=e.summary,a=e.idx,s=e.id;for(n=0,i=r.length;in;n++)if(t=r[n],t.field==a)return o&&r.push({fields,valuet.value+1}),t.value},_sortablefunction(){var e,t,n,r,o,a=this.options.resourcesField,s=this.columns,l=this.header.find(th);for(r=0,o=l.length;or;r++)e=s[r],e.sortable&&e.field!==a&&(n=l.eq(r),t=n.data(kendoColumnSorter),t&&t.destroy(),n.attr(data-+i.ns+field,e.field).kendoColumnSorter({dataSourcethis.dataSource}));l=null},_selectablefunction(){var t=this,n=this.options.selectable;n&&this.content.on(v+m,tr,function(n){var i=e(this);n.ctrlKeyt.clearSelection()t.select(i)})},selectfunction(e){var t=this.content.find(e),n=y.styles.selected;return t.length(t.siblings(_+n).removeClass(n).attr(aria-selected,!1).end().addClass(n).attr(aria-selected,!0),void this.trigger(change))this.content.find(_+n)},clearSelectionfunction(){var e=this.select();e.length&&(e.removeClass(y.styles.selected),this.trigger(change))},_setDataSourcefunction(e){this.dataSource=e},_editablefunction(){var t=this,i=y.styles,r=span.+i.icon+not(+i.iconHidden+),o=function(){t.editable&&t.editable.end()&&t._closeCell()},a=function(t){var r=e(t.currentTarget);r.hasClass(i.editCell)n()};this.options.editable&&(this._startEditHandler=function(n){var i=n.currentTargete(n.currentTarget)n,r=t._columnFromElement(i);t.editabler.editable&&t._editCell({celli,columnr})},t.content.on(focusin+m,function(){clearTimeout(t.timer),t.timer=null}).on(focusout+m,function(){t.timer=setTimeout(o,1)}).on(keydown+m,function(e){var i,r,a=e.keyCode;switch(a){case p.ENTERn(),o();break;case p.ESCt.editable&&(i=t._editableContainer,r=t._modelFromElement(i),t.trigger(cancel,{modelr,celli})t._closeCell(!0))}}),st.touch=t.content.kendoTouch({filtertd,touchstartfunction(e){a(e.touch)},doubletapfunction(n){e(n.touch.initialTouch).is(r)t._startEditHandler(n.touch)}}).data(kendoTouch)t.content.on(mousedown+m,td,function(e){a(e)}).on(dblclick+m,td,function(n){e(n.target).is(r)t._startEditHandler(n)}))},_editCellfunction(t){var n,r=this.options.resourcesField,o=y.styles,a=t.cell,s=t.column,l=this._modelFromElement(a),c=this.dataSource._createNewModel(l.toJSON()),d=c.fields[s.field]c[s.field],u=d.validation,p=i.attr(type),f=i.attr(bind),g={names.field,requiredd.validationd.validation.required===!0!1};return s.field===rvoid s.editor(a,c)(this._editableContent=a.children().detach(),this._editableContainer=a,a.data(modelCopy,c),date!==d.type&&date!==e.type(d)!HmsFgu.test(s.format)(start===s.field&&delete d.validation.dateCompare,g[f]=value+s.field,g[p]=date,n=function(t,n){e('input type=text').attr(g).appendTo(t).kendoDateTimePicker({formatn.format})}),this.editable=a.addClass(o.editCell).kendoEditable({fields{fields.field,formats.format,editors.editorn},modelc,clearContainer!1}).data(kendoEditable),u&&u.dateCompare&&h(u.dateCompare)&&u.message&&(e(span +i.attr(for)+'='+s.field+' class=k-invalid-msg').hide().appendTo(a),a.find([name=+s.field+]).attr(i.attr(dateCompare-msg),u.message)),void(this.trigger(edit,{modell,cella})&&this._closeCell(!0)))},_closeCellfunction(e){var t=y.styles,n=this._editableContainer,i=this._modelFromElement(n),r=this._columnFromElement(n),o=r.field,a=n.data(modelCopy),s={};s[o]=a.get(o),n.empty().removeData(modelCopy).removeClass(t.editCell).append(this._editableContent),this.editable.destroy(),this.editable=null,this._editableContainer=null,this._editableContent=null,e(start===o&&(s.end=new Date(s.start.getTime()+i.duration())),this.trigger(update,{taski,updateInfos}))},_draggablefunction(){var t,n=this,r=null,o=!0,a=y.styles,l=tr[+i.attr(level)+ = 0]last,c={},u=function(){r=null,t=null,o=!0,c={}},h=function(e){for(var t=e;t;){if(r.get(id)===t.get(id)){o=!1;break}t=n.dataSource.taskParent(t)}},p=function(){var n=e(t).height(),r=i.getOffset(t).top;d(t,{beforeLimitr+.25n,afterLimitr+.75n})},f=function(e){var n,r=e.location,o=a.dropAdd,s=add,l=parseInt(t.attr(i.attr(level)),10);t.beforeLimit=r(n=t.prev(),o=a.dropTop,s=insert-before)r=t.afterLimit&&(n=t.next(),o=a.dropBottom,s=insert-after),n&&parseInt(n.attr(i.attr(level)),10)===l&&(o=a.dropMiddle),c.className=o,c.command=s},g=function(){return n._reorderDraggable.hint.children(_+a.dragStatus).removeClass(a.dropPositions)};this.options.editable&&(this._reorderDraggable=this.content.kendoDraggable({distance10,holdToDrags,grouplistGroup,filtertr[data-uid],ignore_+a.input,hintfunction(t){return e('div class='+a.header+ +a.dragClue+'').css({width300,paddingLeftt.css(paddingLeft),paddingRightt.css(paddingRight),lineHeightt.height()+px,paddingTopt.css(paddingTop),paddingBottomt.css(paddingBottom)}).append('span class='+a.icon+ +a.dragStatus+' span class='+a.dragClueText+'')},cursorOffset{top-20,left0},containerthis.content,dragstartfunction(e){n.editable&&e.preventDefault(),r=n._modelFromElement(e.currentTarget),this.hint.children(_+a.dragClueText).text(r.get(title))},dragfunction(e){o&&(f(e.y),g().addClass(c.className))},dragendfunction(){u()},dragcancelfunction(){u()}}).data(kendoDraggable),this._tableDropArea=this.content.kendoDropTargetArea({distance0,grouplistGroup,filtertr[data-uid],dragenterfunction(e){t=e.dropTarget,h(n._modelFromElement(t)),p(),g().toggleClass(a.dropDenied,!o)},dragleavefunction(){o=!0,g()},dropfunction(){var e=n._modelFromElement(t),i=e.orderId,a={parentIde.parentId};if(o){switch(c.command){caseadda.parentId=e.id;break;caseinsert-beforea.orderId=e.parentId===r.parentId&&e.orderIdr.orderIdi-1i;break;caseinsert-aftera.orderId=e.parentId===r.parentId&&e.orderIdr.orderIdii+1}n.trigger(update,{taskr,updateInfoa})}}}).data(kendoDropTargetArea),this._contentDropArea=this.element.kendoDropTargetArea({distance0,grouplistGroup,filter_+a.gridContent,dropfunction(){var e=n._modelFromElement(n.content.find(l)),t=e.orderId,i={parentIdnull,orderIdnull!==r.parentIdt+1t};n.trigger(update,{taskr,updateInfoi})}}).data(kendoDropTargetArea))},_modelFromElementfunction(e){var t=e.closest(tr),n=this.dataSource.getByUid(t.attr(i.attr(uid)));return n},_columnFromElementfunction(e){var t=e.closest(td),n=t.parent(),i=n.children().index(t);return this.columns[i]}});d(!0,l.GanttList,{stylesw})}(window.kendo.jQuery),function(e){function t(e){return delete e.name,delete e.prefix,delete e.views,e}function n(e){var t=[],n=e.workWeekStart;for(t.push(n);e.workWeekEnd!=n;)n6n-=7n++,t.push(n);return t}function i(){var t=kendo._activeElement();body!==t.nodeName.toLowerCase()&&e(t).blur()}var r,o,a=kendo.ui.Widget,s=kendo.dom.element,l=kendo.dom.text,c=e.isPlainObject,d=e.extend,u=e.proxy,h=kendo.support.browser,p=kendo.support.mobileOS,f=!1,g=kendo.keys,m=kendo.data.Query,v=.kendoGanttTimeline,_=click,w=dblclick,y=mousemove,b=mouseenter,k=mouseleave,x=keydown,C=.,S=kendo.template(#=kendo.toString(start, 't')#),T=kendo.template(#=kendo.toString(start, 'ddd Mdd')#),D=kendo.template(#=kendo.toString(start, 'ddd Mdd')# - #=kendo.toString(kendo.date.addDays(end, -1), 'ddd Mdd')#),A=kendo.template(#=kendo.toString(start, 'MMM')#),E=kendo.template(#=kendo.toString(start, 'yyyy')#),I=kendo.template('div class=#=styles.marquee#div class=#=styles.marqueeColor#divdiv'),M=kendo.template('div style=z-index 100002; class=#=styles.tooltipWrapper#div class=#=styles.tooltipContent#div#=messages.start# #=kendo.toString(start, format)#divdiv#=messages.end# #=kendo.toString(end, format)#divdivdiv'),P=kendo.template('div style=z-index 100002; class=#=styles.tooltipWrapper# div class=#=styles.tooltipContent##=text#%divdiv class=#=styles.tooltipCallout# style=left13px;divdiv'),z=kendo.template('div class=#=styles.taskDetails#strong#=task.title#strongdiv class=#=styles.taskDetailsPercent##=kendo.toString(task.percentComplete, p0)#divul class=#=styles.reset#li#=messages.start# #=kendo.toString(task.start, hmm tt ddd, MMM d)#lili#=messages.end# #=kendo.toString(task.end, hmm tt ddd, MMM d)#liuldiv'),F={day{typekendo.ui.GanttDayView},week{typekendo.ui.GanttWeekView},month{typekendo.ui.GanttMonthView},year{typekendo.ui.GanttYearView}},R={altk-alt,resetk-reset,nonWorkingk-nonwork-hour,headerk-header,gridHeaderk-grid-header,gridHeaderWrapk-grid-header-wrap,gridContentk-grid-content,tasksWrapperk-gantt-tables,rowsTablek-gantt-rows,columnsTablek-gantt-columns,tasksTablek-gantt-tasks,dependenciesWrapperk-gantt-dependencies,resourcek-resource,resourceAltk-resource k-alt,taskk-task,taskSinglek-task-single,taskMilestonek-task-milestone,taskSummaryk-task-summary,taskWrapk-task-wrap,taskMilestoneWrapk-milestone-wrap,resourcesWrapk-resources-wrap,taskDotk-task-dot,taskDotStartk-task-start,taskDotEndk-task-end,taskDragHandlek-task-draghandle,taskContentk-task-content,taskTemplatek-task-template,taskActionsk-task-actions,taskDeletek-task-delete,taskCompletek-task-complete,taskDetailsk-task-details,taskDetailsPercentk-task-pct,linkk-link,iconk-icon,iconDeletek-si-close,taskResizeHandlek-resize-handle,taskResizeHandleWestk-resize-w,taskResizeHandleEastk-resize-e,taskSummaryProgressk-task-summary-progress,taskSummaryCompletek-task-summary-complete,linek-line,lineHorizontalk-line-h,lineVerticalk-line-v,arrowWestk-arrow-w,arrowEastk-arrow-e,dragHintk-drag-hint,dependencyHintk-dependency-hint,tooltipWrapperk-widget k-tooltip k-popup k-group k-reset,tooltipContentk-tooltip-content,tooltipCalloutk-callout k-callout-s,calloutk-callout,marqueek-marquee k-gantt-marquee,marqueeColork-marquee-color},B=kendo.ui.GanttView=a.extend({initfunction(e,t){a.fn.init.call(this,e,t),this.title=this.options.titlethis.options.name,this.header=this.element.find(C+B.styles.gridHeader),this.content=this.element.find(C+B.styles.gridContent),this.contentWidth=this.content.width(),this._workDays=n(this.options),this._headerTree=t.headerTree,this._taskTree=t.taskTree,this._dependencyTree=t.dependencyTree,this._taskCoordinates={},this._currentTime()},destroyfunction(){a.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this.headerRow=null,this.header=null,this.content=null,this._dragHint=null,this._resizeHint=null,this._resizeTooltip=null,this._taskTooltip=null,this._percentCompleteResizeTooltip=null,this._headerTree=null,this._taskTree=null,this._dependencyTree=null},options{showWorkHours!1,showWorkDays!1,workDayStartnew Date(1980,1,1,8,0,0),workDayEndnew Date(1980,1,1,17,0,0),workWeekStart1,workWeekEnd5,hourSpan1,slotSize100,currentTimeMarker{updateInterval1e4}},renderLayoutfunction(){this._slots=this._createSlots(),this._tableWidth=this._calculateTableWidth(),this.createLayout(this._layout()),this._slotDimensions(),this._adjustHeight(),this.content.find(C+B.styles.dependenciesWrapper).width(this._tableWidth)},_adjustHeightfunction(){this.content.height(this.element.height()-this.header.outerHeight())},createLayoutfunction(e){var t=this._headers(e),n=this._colgroup(),i=this._headerTree,r=s(thead,null,t),o=s(table,{style{widththis._tableWidth+px}},[n,r]);i.render([o]),this.headerRow=this.header.find(tablefirst tr).last()},_slotDimensionsfunction(){var e,t,n,i,r=this.headerRow[0].children,o=this._timeSlots();for(n=0,i=r.length;in;n++)t=r[n],e=o[n],e.offsetLeft=t.offsetLeft,e.offsetWidth=t.offsetWidth},renderfunction(e){var t,n=e.length,i=B.styles,r=this._rowsTable(n),o=this._columnsTable(n),a=this._tasksTable(e),s=this.options.currentTimeMarker;this._taskTree.render([r,o,a]),t=this.content.find(C+i.rowsTable),this._contentHeight=t.height(),this._rowHeight=this._contentHeightt.find(tr).length,this.content.find(C+i.columnsTable).height(this._contentHeight),s!==!1&&void 0!==s.updateInterval&&this._renderCurrentTime()},_rowsTablefunction(e){var t,n,i=[],r=B.styles,o=[null,{classNamer.alt}];for(n=0;en;n++)t=s(tr,o[n%2],[s(td,null,[l( )])]),i.push(t);return this._createTable(1,i,{classNamer.rowsTable})},_columnsTablefunction(){var e,t,n,i,r,o=[],a=B.styles,c=this._timeSlots(),d=c.length,u=0;for(r=0;dr;r++)t=c[r],i={},n=t.span,u+=n,1!==n&&(i.colspan=n),t.isNonWorking&&(i.className=a.nonWorking),o.push(s(td,i,[l( )]));return e=s(tr,null,o),this._createTable(u,[e],{classNamea.columnsTable})},_tasksTablefunction(e){var t,n,i,r,o,a,l,c,d=[],u=B.styles,h=this._taskCoordinates={},p=this._calculateMilestoneWidth(),g=Math.round(p.width),m=this.options.resourcesField,v=[u.resource,u.resourceAlt],_=this._calculateResourcesMargin(),w=this._calculateTaskBorderWidth(),y=function(e){var t=i.left,n=t+i.width;r.isMilestone()&&(t-=g2,n=t+g),h[r.id]={startt,endn,rowIndexe}};for(l=0,c=e.length;cl;l++)r=e[l],i=this._taskPosition(r),i.borderWidth=w,t=s(tr,null),n=s(td,null,[this._renderTask(e[l],i)]),r[m]&&r[m].length&&(o=fthis._tableWidth-i.leftMath.max(i.widthp.clientWidth,0)+i.left,a={widththis._tableWidth-(o+_)+px},a[frightleft]=o+px,n.children.push(s(div,{classNameu.resourcesWrap,stylea},this._renderResources(r[m],v[l%2])))),t.children.push(n),d.push(t),y(l);return this._createTable(1,d,{classNameB.styles.tasksTable})},_createTablefunction(e,t,n){var i,r,o,a=[];for(o=0;eo;o++)a.push(s(col));return i=s(colgroup,null,a),r=s(tbody,null,t),n.style(n.style={}),n.style.width=this._tableWidth+px,s(table,n,[i,r])},_calculateTableWidthfunction(){var e,t,n,i,r=this._timeSlots(),o=0,a=0;for(n=0,i=r.length;in;n++)e=r[n].span,a+=e,eo&&(o=e);return t=Math.round(athis.options.slotSizeo)},_calculateMilestoneWidthfunction(){var t,n,i=B.styles.task+ +B.styles.taskMilestone,r=e(div class='+i+' style='visibility hidden; position absolute');return this.content.append(r),n=r[0].getBoundingClientRect(),t={widthn.right-n.left,clientWidthr[0].clientWidth},r.remove(),t},_calculateResourcesMarginfunction(){var t,n=e(div class='+B.styles.resourcesWrap+' style='visibility hidden; position absolute');return this.content.append(n),t=parseInt(n.css(fmargin-rightmargin-left),10),n.remove(),t},_calculateTaskBorderWidthfunction(){var t,n,i=B.styles.task+ +B.styles.taskSingle,r=e(div class='+i+' style='visibility hidden; position absolute');return this.content.append(r),n=kendo.getComputedStyles(r[0],[border-left-width]),t=parseFloat(n[border-left-width],10),r.remove(),t},_renderTaskfunction(e,t){var n,i,r,o=this.options.editable,a=t.left,l=B.styles,c=l.taskWrap,d={};return e.summaryi=this._renderSummary(e,t)e.isMilestone()(i=this._renderMilestone(e,t),c+= +l.taskMilestoneWrap)i=this._renderSingleTask(e,t),n=s(div,{classNamec,style{lefta+px}},[i]),o&&(n.children.push(s(div,{classNamel.taskDot+ +l.taskDotStart})),n.children.push(s(div,{classNamel.taskDot+ +l.taskDotEnd}))),e.summarye.isMilestone()!o(r=Math.round(t.widthe.percentComplete),d[frightleft]=r+px,n.children.push(s(div,{classNamel.taskDragHandle,styled}))),n},_renderSingleTaskfunction(e,t){var n,i=B.styles,r=Math.round(t.widthe.percentComplete),o=s(div,{classNamei.taskContent},[s(div,{classNamei.taskTemplate},[l(e.title)])]);return this.options.editable&&(o.children.push(s(span,{classNamei.taskActions},[s(a,{classNamei.link+ +i.taskDelete,href#},[s(span,{classNamei.icon+ +i.iconDelete})])])),o.children.push(s(span,{classNamei.taskResizeHandle+ +i.taskResizeHandleWest})),o.children.push(s(span,{classNamei.taskResizeHandle+ +i.taskResizeHandleEast}))),n=s(div,{classNamei.task+ +i.taskSingle,data-uide.uid,style{widthMath.max(t.width-2t.borderWidth,0)+px}},[s(div,{classNamei.taskComplete,style{widthr+px}}),o])},_renderMilestonefunction(e){var t=B.styles,n=s(div,{classNamet.task+ +t.taskMilestone,data-uide.uid});return n},_renderSummaryfunction(e,t){var n=B.styles,i=Math.round(t.widthe.percentComplete),r=s(div,{classNamen.task+ +n.taskSummary,data-uide.uid,style{widtht.width+px}},[s(div,{classNamen.taskSummaryProgress,style{widthi+px}},[s(div,{classNamen.taskSummaryComplete,style{widtht.width+px}})])]);return r},_renderResourcesfunction(e,t){var n,i,r,o=[];for(i=0,r=e.length;ri;i++)n=e[i],o.push(s(span,{classNamet,style{colorn.get(color)}},[l(n.get(name))]));return f&&o.reverse(),o},_taskPositionfunction(e){var t=Math.round,n=t(this._offset(fe.ende.start)),i=t(this._offset(fe.starte.end));return{leftn,widthi-n}},_offsetfunction(e){var t,n,i,r,o=this._timeSlots(),a=0;return o.length(r=this._slotIndex(start,e),t=o[r],et.enda=t.offsetWidthe=t.start&&(n=e-t.start,i=t.end-t.start,a=nit.offsetWidth),f&&(a=t.offsetWidth+1-a),t.offsetLeft+a)0},_slotIndexfunction(e,t,n){var i,r=this._timeSlots(),o=0,a=r.length-1;n&&(r=[].slice.call(r).reverse());do i=Math.ceil((a+o)2),tr[i][e]o=i(i===a&&i--,a=i);while(o!==a);return n&&(o=r.length-1-o),o},_timeByPositionfunction(t,n,i){var r,o,a,s=this._slotByPosition(t);return nis.ends.start(r=t-e(C+B.styles.tasksTable).offset().left,o=s.end-s.start,a=r-s.offsetLeft,f&&(a=s.offsetWidth-a),new Date(s.start.getTime()+o(as.offsetWidth)))},_slotByPositionfunction(t){var n=t-e(C+B.styles.tasksTable).offset().left,i=this._slotIndex(offsetLeft,n,f);return this._timeSlots()[i]},_renderDependenciesfunction(e){var t,n,i=[],r=this._dependencyTree;for(t=0,n=e.length;nt;t++)i.push.apply(i,this._renderDependency(e[t]));r.render(i)},_renderDependencyfunction(e){var t,n,i,r,o=this._taskCoordinates[e.predecessorId],a=this._taskCoordinates[e.successorId];if(!o!a)return[];for(n=_render+[FF,FS,SF,SS][f3-e.typee.type],t=this[n](o,a),i=0,r=t.length;ri;i++)t[i].attr[data-uid]=e.uid;return t},_renderFFfunction(e,t){var n=this._dependencyFF(e,t,!1);return n[n.length-1].children[0]=this._arrow(!0),n},_renderSSfunction(e,t){var n=this._dependencyFF(t,e,!0);return n[0].children[0]=this._arrow(!1),n.reverse()},_renderFSfunction(e,t){var n=this._dependencyFS(e,t,!1);return n[n.length-1].children[0]=this._arrow(!1),n},_renderSFfunction(e,t){var n=this._dependencyFS(t,e,!0);return n[0].children[0]=this._arrow(!0),n.reverse()},_dependencyFFfunction(e,t,n){var i,r=this,o=[],a=0,s=0,l=0,c=0,d=nstartend,u=2,h=1,p=this._rowHeight,f=10,g=e.rowIndexp+Math.floor(p2)-1,m=t.rowIndexp+Math.floor(p2)-1,v=B.styles,_=function(){o.push(r._line(v.line+ +v.lineHorizontal,{lefta+px,tops+px,widthl+px}))},w=function(){o.push(r._line(v.line+ +v.lineVertical,{lefta+px,tops+px,heightc+px}))};return a=e[d],s=g,l=f,i=t[d]-e[d],i0!==n&&(l=Math.abs(i)+f),n(a-=l,l-=h,_())(_(),a+=l-u),sm(c=s-m,c+=u,s=m,w())(c=m-s,c+=u,w(),s+=c-u),l=Math.abs(a-t[d]),n(l-=h,a-=l),_(),o},_dependencyFSfunction(e,t,n){var i=this,r=[],o=0,a=0,s=0,l=0,c=this._rowHeight,d=Math.floor(c2),u=10,h=2u,p=t.start-e.end,f=2,g=1,m=e.rowIndexc+Math.floor(c2)-1,v=t.rowIndexc+Math.floor(c2)-1,_=B.styles,w=function(){r.push(i._line(_.line+ +_.lineHorizontal,{lefto+px,topa+px,widths+px}))},y=function(){r.push(i._line(_.line+ +_.lineVertical,{lefto+px,topa+px,heightl+px}))};return o=e.end,a=m,s=u,n&&(o+=g,ph&&(s=p-(u-f)),s-=g),w(),o+=s-f,h=p&&(l=nMath.abs(v-m)-dd,mv(a-=l,l+=f,y())(y(),a+=l),s=e.end-t.start+h,us&&(s=u),o-=s-f,w()),mv(l=a-v,a=v,l+=f,y())(l=v-a,y(),a+=l),s=t.start-o,n(s-=g),w(),r},_linefunction(e,t){return s(div,{classNamee,stylet})},_arrowfunction(e){return s(span,{classNameeB.styles.arrowWestB.styles.arrowEast})},_colgroupfunction(){var e,t,n,i=this._timeSlots(),r=i.length,o=[];for(e=0;re;e++)for(t=0,n=i[e].span;nt;t++)o.push(s(col));return s(colgroup,null,o)},_createDragHintfunction(e){this._dragHint=e.clone().addClass(B.styles.dragHint).css(cursor,move),e.parent().append(this._dragHint)},_updateDragHintfunction(e){var t=this._offset(e);this._dragHint.css({leftt})},_removeDragHintfunction(){this._dragHint.remove(),this._dragHint=null},_createResizeHintfunction(t){var n,i,r=B.styles,o=this._taskCoordinates[t.id].rowIndexthis._rowHeight,a=this.options,s=a.messages;this._resizeHint=e(I({stylesr})).css({top0,heightthis._contentHeight}),this.content.append(this._resizeHint),this._resizeTooltip=e(M({stylesr,startt.start,endt.end,messagess.views,formata.resizeTooltipFormat})).css({top0,left0}),this.content.append(this._resizeTooltip),this._resizeTooltipWidth=this._resizeTooltip.outerWidth(),n=this._resizeTooltip.outerHeight(),i=o-n,0i&&(i=o+this._rowHeight),this._resizeTooltipTop=i},_updateResizeHintfunction(t,n,i){var r=this._offset(fnt),o=this._offset(ftn),a=o-r,s=i!==fro,l=this._tableWidth-kendo.support.scrollbar(),c=this._resizeTooltipWidth,d=this.options,u=d.messages,h=e(C+B.styles.tasksTable).offset().left-e(C+B.styles.tasksWrapper).offset().left;f&&(r+=h),this._resizeHint.css({leftr,widtha}),this._resizeTooltip&&this._resizeTooltip.remove(),s-=Math.round(c2),0ss=0s+cl&&(s=l-c),f&&(s+=h),this._resizeTooltip=e(M({stylesB.styles,startt,endn,messagesu.views,formatd.resizeTooltipFormat})).css({topthis._resizeTooltipTop,lefts,min-widthc}).appendTo(this.content)},_removeResizeHintfunction(){this._resizeHint.remove(),this._resizeHint=null,this._resizeTooltip.remove(),this._resizeTooltip=null},_updatePercentCompleteTooltipfunction(t,n,i){var r,o,a,s;this._removePercentCompleteTooltip(),r=this._percentCompleteResizeTooltip=e(P({stylesB.styles,texti})).appendTo(this.element),o=Math.round(r.outerWidth()2),a=r.find(C+B.styles.callout),s=Math.round(a.outerWidth()2),r.css({topt-(r.outerHeight()+s),leftn-o}),a.css(left,o-s)},_removePercentCompleteTooltipfunction(){this._percentCompleteResizeTooltip&&this._percentCompleteResizeTooltip.remove(),this._percentCompleteResizeTooltip=null},_updateDependencyDragHintfunction(e,t,n){this._removeDependencyDragHint(),nthis._creteVmlDependencyDragHint(e,t)this._creteDependencyDragHint(e,t)},_creteDependencyDragHintfunction(t,n){var i=B.styles,r=n.x-t.x,o=n.y-t.y,a=Math.sqrt(rr+oo),s=Math.atan(or);0r&&(s+=Math.PI),e(div class='+i.line+ +i.lineHorizontal+ +i.dependencyHint+'div).css({topt.y,leftt.x,widtha,transform-origin0% 0,-ms-transform-origin0% 0,-webkit-transform-origin0% 0,transformrotate(+s+rad),-ms-transformrotate(+s+rad),-webkit-transformrotate(+s+rad)}).appendTo(this.content)},_creteVmlDependencyDragHintfunction(t,n){var i=e(kvmlline class='+B.styles.dependencyHint+' style='positionabsolute; top 0px; left 0px;' strokecolor='black' strokeweight='2px' from='+t.x+px,+t.y+px' to='+n.x+px,+n.y+px'kvmlline).appendTo(this.content);i[0].outerHTML=i[0].outerHTML},_removeDependencyDragHintfunction(){this.content.find(C+B.styles.dependencyHint).remove()},_createTaskTooltipfunction(t,n,i){var r,o=B.styles,a=this.options,s=this.content,l=s.offset(),c=s.width(),d=s.scrollLeft(),u=e(n).parents(tr).first(),h=u.offset(),p=a.tooltip&&a.tooltip.templatekendo.template(a.tooltip.template)z,f=i-(l.left-s.scrollLeft()),g=h.top+u.outerHeight()-l.top+s.scrollTop(),m=this._taskTooltip=e('div style=z-index 100002; class='+o.tooltipWrapper+' div class='+o.taskContent+'divdiv');
m.css({leftf,topg}).appendTo(s).find(C+o.taskContent).append(p({styleso,taskt,messagesa.messages.views})),m.outerHeight()h.top-l.top&&m.css(top,h.top-l.top-m.outerHeight()+s.scrollTop()),r=m.outerWidth(),r+f-dc&&(f-=r,df&&(f=d+c-(r+17)),m.css(left,f))},_removeTaskTooltipfunction(){this._taskTooltip&&this._taskTooltip.remove(),this._taskTooltip=null},_scrollTofunction(e){var t=e.offset().left,n=e.width(),i=t+n,r=e.closest(tr),o=r.offset().top,a=r.height(),s=o+a,l=this.content,c=l.offset(),d=c.top,u=l.height(),h=d+u,p=c.left,f=l.width(),g=p+f,m=kendo.support.scrollbar();dol.scrollTop(l.scrollTop()+(o-d))sh&&l.scrollTop(l.scrollTop()+(s+m-h)),pt&&nf&&giig&&fnl.scrollLeft(l.scrollLeft()+(i+m-g))(ig&&nf&&tppt&&fn)&&l.scrollLeft(l.scrollLeft()+(t-p))},_timeSlotsfunction(){return this._slots&&this._slots.lengththis._slots[this._slots.length-1][]},_headersfunction(e){var t,n,i,r,o,a,c,d,u=[],h=B.styles;for(o=0,a=e.length;ao;o++){for(t=e[o],n=[],c=0,d=t.length;dc;c++)i=t[c],r=l(i.text),n.push(s(th,{colspani.span,classNameh.header+(i.isNonWorking +h.nonWorking)},[r]));u.push(s(tr,null,n))}return u},_hoursfunction(e,t){var n,i,r,o=[],a=this.options,s=a.workDayStart.getHours(),l=a.workDayEnd.getHours(),c=a.hourSpan;for(e=new Date(e),t=new Date(t);te;)n=new Date(e),r=n.getHours(),i=r=s&&lr,n.setHours(n.getHours()+c),r==n.getHours()&&n.setHours(n.getHours()+2c),(!a.showWorkHoursi)&&o.push({starte,endn,isNonWorking!i,span1}),e=n;return o},_daysfunction(e,t){var n,i,r=[];for(e=new Date(e),t=new Date(t);te;)n=kendo.date.nextDay(e),i=this._isWorkDay(e),(!this.options.showWorkDaysi)&&r.push({starte,endn,isNonWorking!i,span1}),e=n;return r},_weeksfunction(e,t){var n,i,r,o=[],a=this.calendarInfo().firstDay;for(e=new Date(e),t=new Date(t);te;)n=kendo.date.dayOfWeek(kendo.date.addDays(e,1),a,1),nt&&(n=t),i=this._days(e,n),r=i.length,r0&&o.push({starti[0].start,endi[r-1].end,spanr}),e=n;return o},_monthsfunction(e,t){var n,i,r,o=[];for(e=new Date(e),t=new Date(t);te;)n=new Date(e),n.setMonth(n.getMonth()+1),i=this._days(e,n),r=i.length,r0&&o.push({starti[0].start,endi[r-1].end,spanr}),e=n;return o},_yearsfunction(e,t){var n,i=[];for(e=new Date(e),t=new Date(t);te;)n=new Date(e),n.setFullYear(n.getFullYear()+1),i.push({starte,endn,span12}),e=n;return i},_slotHeadersfunction(e,t){var n,i,r,o=[];for(i=0,r=e.length;ri;i++)n=e[i],o.push({textt(n),isNonWorking!!n.isNonWorking,spann.span});return o},_isWorkDayfunction(e){var t,n,i=e.getDay(),r=this._workDays;for(t=0,n=r.length;nt;t++)if(r[t]===i)return!0;return!1},calendarInfofunction(){return kendo.getCulture().calendars.standard},_renderCurrentTimefunction(){var t,n=this._getCurrentTime(),i=this._offset(n),r=e(div class='k-current-time'div),o=B.styles,a=e(C+o.tasksWrapper),s=e(C+o.tasksTable);this.content&&this._timeSlots().length&&(this.content.find(.k-current-time).remove(),t=this._timeSlots()[this._slotIndex(start,n)],t.startnnt.end(a.length&&s.length&&(i+=s.offset().left-a.offset().left),r.css({lefti+px,top0px,width1px,heightthis._contentHeight+px}).appendTo(this.content)))},_getCurrentTimefunction(){return new Date},_currentTimefunction(){var e=this.options.currentTimeMarker;e!==!1&&void 0!==e.updateInterval&&(this._renderCurrentTime(),this._currentTimeUpdateTimer=setInterval(u(this._renderCurrentTime,this),e.updateInterval))}});d(!0,B,{stylesR}),kendo.ui.GanttDayView=B.extend({nameday,options{timeHeaderTemplateS,dayHeaderTemplateT,resizeTooltipFormathmm tt ddd, MMM d},rangefunction(e){this.start=kendo.date.getDate(e.start),this.end=kendo.date.getDate(e.end),(kendo.date.getMilliseconds(e.end)0this.end.getTime()===this.start.getTime())&&(this.end=kendo.date.addDays(this.end,1))},_createSlotsfunction(){var e,t,n,i,r=[],o=this._days(this.start,this.end),a=[];for(n=0,i=o.length;in;n++)e=o[n],t=this._hours(e.start,e.end),e.span=t.length,a.push.apply(a,t);return r.push(o),r.push(a),r},_layoutfunction(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.dayHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.timeHeaderTemplate))),e}}),kendo.ui.GanttWeekView=B.extend({nameweek,options{dayHeaderTemplateT,weekHeaderTemplateD,resizeTooltipFormathmm tt ddd, MMM d},rangefunction(e){var t=this.calendarInfo(),n=t.firstDay,i=e.end;n===i.getDay()&&i.setDate(i.getDate()+7),this.start=kendo.date.getDate(kendo.date.dayOfWeek(e.start,n,-1)),this.end=kendo.date.getDate(kendo.date.dayOfWeek(i,n,1))},_createSlotsfunction(){var e=[];return e.push(this._weeks(this.start,this.end)),e.push(this._days(this.start,this.end)),e},_layoutfunction(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.weekHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.dayHeaderTemplate))),e}}),kendo.ui.GanttMonthView=B.extend({namemonth,options{weekHeaderTemplateD,monthHeaderTemplateA,resizeTooltipFormatdddd, MMM d, yyyy},rangefunction(e){this.start=kendo.date.firstDayOfMonth(e.start),this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(e.end)),1)},_createSlotsfunction(){var e=[];return e.push(this._months(this.start,this.end)),e.push(this._weeks(this.start,this.end)),e},_layoutfunction(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.monthHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.weekHeaderTemplate))),e}}),kendo.ui.GanttYearView=B.extend({nameyear,options{yearHeaderTemplateE,monthHeaderTemplateA,resizeTooltipFormatdddd, MMM d, yyyy},rangefunction(e){this.start=kendo.date.firstDayOfMonth(new Date(e.start.setMonth(0))),this.end=kendo.date.firstDayOfMonth(new Date(e.end.setMonth(12)))},_createSlotsfunction(){var t=[],n=this._months(this.start,this.end);return e(n).each(function(e,t){t.span=1}),t.push(this._years(this.start,this.end)),t.push(n),t},_layoutfunction(){var e=[],t=this.options;return e.push(this._slotHeaders(this._slots[0],kendo.template(t.yearHeaderTemplate))),e.push(this._slotHeaders(this._slots[1],kendo.template(t.monthHeaderTemplate))),e}}),r={wrapperk-timeline k-grid k-widget,gridHeaderk-grid-header,gridHeaderWrapk-grid-header-wrap,gridContentk-grid-content,gridContentWrapk-grid-content,tasksWrapperk-gantt-tables,dependenciesWrapperk-gantt-dependencies,taskk-task,linek-line,taskResizeHandlek-resize-handle,taskResizeHandleWestk-resize-w,taskDragHandlek-task-draghandle,taskCompletek-task-complete,taskDeletek-task-delete,taskWrapActivek-task-wrap-active,taskWrapk-task-wrap,taskDotk-task-dot,taskDotStartk-task-start,taskDotEndk-task-end,hoveredk-state-hover,selectedk-state-selected,origink-origin},o=kendo.ui.GanttTimeline=a.extend({initfunction(e,t){a.fn.init.call(this,e,t),this.options.views&&this.options.views.length(this.options.views=[day,week,month]),f=kendo.support.isRtl(e),this._wrapper(),this._domTrees(),this._views(),this._selectable(),this._draggable(),this._resizable(),this._percentResizeDraggable(),this._createDependencyDraggable(),this._attachEvents(),this._tooltip()},options{nameGanttTimeline,messages{views{dayDay,weekWeek,monthMonth,yearYear,startStart,endEnd}},snap!0,selectable!0,editable!0},destroyfunction(){a.fn.destroy.call(this),clearTimeout(this._tooltipTimeout),this._currentTimeUpdateTimer&&clearInterval(this._currentTimeUpdateTimer),this._unbindView(this._selectedView),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this._percentDraggable&&this._percentDraggable.destroy(),this._dependencyDraggable&&this._dependencyDraggable.destroy(),this.touch&&this.touch.destroy(),this._headerTree=null,this._taskTree=null,this._dependencyTree=null,this.wrapper.off(v),kendo.destroy(this.wrapper)},_wrapperfunction(){var e=o.styles;this.wrapper=this.element.addClass(e.wrapper).append(div class='+e.gridHeader+'div class='+e.gridHeaderWrap+'divdiv).append(div class='+e.gridContentWrap+'div class='+e.tasksWrapper+'divdiv class='+e.dependenciesWrapper+'divdiv)},_domTreesfunction(){var e=o.styles,t=kendo.dom.Tree,n=this.wrapper;this._headerTree=new t(n.find(C+e.gridHeaderWrap)[0]),this._taskTree=new t(n.find(C+e.tasksWrapper)[0]),this._dependencyTree=new t(n.find(C+e.dependenciesWrapper)[0])},_viewsfunction(){var e,t,n,i,r,o,a,s=this.options.views;for(this.views={},o=0,a=s.length;ao;o++)e=s[o],t=c(e),t&&e.selectable===!1(n=tstring!=typeof e.typee.titlee.typee,i=F[n],i&&(t&&(e.type=i.type),i.title=this.options.messages.views[n]),e=d({titlen},i,te{}),n&&(this.views[n]=e,(!re.selected)&&(r=n)));r&&(this._selectedViewName=r)},viewfunction(e){return e&&(this._selectView(e),this.trigger(navigate,{viewe,actionchangeView})),this._selectedView},_selectViewfunction(e){e&&this.views[e]&&(this._selectedView&&this._unbindView(this._selectedView),this._selectedView=this._initializeView(e),this._selectedViewName=e)},_viewByIndexfunction(e){var t,n=this.views;for(t in n){if(!e)return t;e--}},_initializeViewfunction(e){var n,i=this.views[e];if(i){if(n=i.type,string==typeof n&&(n=kendo.getter(i.type)(window)),!n)throw Error(There is no such view);i=new n(this.wrapper,t(d(!0,{headerTreethis._headerTree,taskTreethis._taskTree,dependencyTreethis._dependencyTree},i,this.options)))}return i},_unbindViewfunction(e){e&&e.destroy()},_rangefunction(e){var t,n,i={fieldstart,dirasc},r={fieldend,dirdesc};return e&&e.length(t=new m(e).sort(i).toArray()[0].startnew Date,n=new m(e).sort(r).toArray()[0].endnew Date,{startnew Date(t),endnew Date(n)}){startnew Date,endnew Date}},_renderfunction(e){var t=this.view(),n=this._range(e);this._tasks=e,t.range(n),t.renderLayout(),t.render(e)},_renderDependenciesfunction(e){this.view()._renderDependencies(e)},_taskByUidfunction(e){var t,n,i=this._tasks,r=i.length;for(n=0;rn;n++)if(t=i[n],t.uid===e)return t},_draggablefunction(){var e,t,n,r,a=this,s=this.options.snap,l=o.styles,c=function(){a.view()._removeDragHint(),e&&e.css(opacity,1),e=null,t=null,a.dragInProgress=!1};this.options.editable&&(this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance0,filterC+l.task,holdToDragkendo.support.mobileOS,ignoreC+l.taskResizeHandle}),this._moveDraggable.bind(dragstart,function(i){var o=a.view();return e=i.currentTarget.parent(),t=a._taskByUid(i.currentTarget.attr(data-uid)),a.trigger(moveStart,{taskt})void i.preventDefault()(n=t.start,r=o._timeByPosition(i.x.location,s)-n,o._createDragHint(e),e.css(opacity,.5),clearTimeout(a._tooltipTimeout),void(a.dragInProgress=!0))}).bind(drag,kendo.throttle(function(e){var i,o,l;a.dragInProgress&&(i=a.view(),o=new Date(i._timeByPosition(e.x.location,s)-r),l=o,a.trigger(move,{taskt,starto})(n=o,f&&(l=new Date(n.getTime()+t.duration())),i._updateDragHint(l)))},15)).bind(dragend,function(){a.trigger(moveEnd,{taskt,startn}),c()}).bind(dragcancel,function(){c()}).userEvents.bind(select,function(){i()}))},_resizablefunction(){var e,t,n,r,a,s=this,l=this.options.snap,c=o.styles,d=function(){s.view()._removeResizeHint(),e=null,t=null,s.dragInProgress=!1};this.options.editable&&(this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance0,filterC+c.taskResizeHandle,holdToDrag!1}),this._resizeDraggable.bind(dragstart,function(i){return a=i.currentTarget.hasClass(c.taskResizeHandleWest),f&&(a=!a),e=i.currentTarget.closest(C+c.task),t=s._taskByUid(e.attr(data-uid)),s.trigger(resizeStart,{taskt})void i.preventDefault()(n=t.start,r=t.end,s.view()._createResizeHint(t),clearTimeout(s._tooltipTimeout),void(s.dragInProgress=!0))}).bind(drag,kendo.throttle(function(e){var i,o;s.dragInProgress&&(i=s.view(),o=i._timeByPosition(e.x.location,l,!a),an=roorr=onon,s.trigger(resize,{taskt,startn,endr})i._updateResizeHint(n,r,a))},15)).bind(dragend,function(){s.trigger(resizeEnd,{taskt,resizeStarta,startn,endr}),d()}).bind(dragcancel,function(){d()}).userEvents.bind(select,function(){i()}))},_percentResizeDraggablefunction(){var e,t,n,r,a,s,l,c,d,u,h=this,p=o.styles,g=function(){h.view()._removePercentCompleteTooltip(),t=null,e=null,h.dragInProgress=!1},m=function(e){t.find(C+p.taskComplete).width(e).end().siblings(C+p.taskDragHandle).css(frightleft,e)};this.options.editable&&(this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance0,filterC+p.taskDragHandle,holdToDrag!1}),this._percentDraggable.bind(dragstart,function(i){t=i.currentTarget.siblings(C+p.task),e=h._taskByUid(t.attr(data-uid)),l=e.percentComplete,n=t.offset(),r=this.element.offset(),a=t.find(C+p.taskComplete).width(),s=t.outerWidth(),clearTimeout(h._tooltipTimeout),h.dragInProgress=!0}).bind(drag,kendo.throttle(function(e){if(h.dragInProgress){u=f-e.x.initialDeltae.x.initialDelta;var t=Math.max(0,Math.min(s,a+u));l=Math.round(ts100),m(t),c=n.top-r.top,d=n.left+t-r.left,f&&(d+=s-2t),h.view()._updatePercentCompleteTooltip(c,d,l)}},15)).bind(dragend,function(){h.trigger(percentResizeEnd,{taske,percentCompletel100}),g()}).bind(dragcancel,function(){m(a),g()}).userEvents.bind(select,function(){i()}))},_createDependencyDraggablefunction(){var t,n,r,a=this,s=e(),l=e(),c=h.msie&&9h.version,d=o.styles,u=function(){t.css(display,).removeClass(d.hovered),t.parent().removeClass(d.origin),t=null,p(!1),l=e(),s=e(),a.view()._removeDependencyDragHint(),a.dragInProgress=!1},p=function(e){l.hasClass(d.origin)(l.find(C+d.taskDot).css(display,eblock),s.toggleClass(d.hovered,e))};this.options.editable&&(c&&document.namespaces&&document.namespaces.add(kvml,urnschemas-microsoft-comvml,#default#VML),this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance0,filterC+d.taskDot,holdToDrag!1}),this._dependencyDraggable.bind(dragstart,function(i){var o,s;t=i.currentTarget.css(display,block).addClass(d.hovered),t.parent().addClass(d.origin),o=t.offset(),s=e(C+d.tasksWrapper).offset(),n=Math.round(o.left-s.left+t.outerHeight()2),r=Math.round(o.top-s.top+t.outerWidth()2),clearTimeout(a._tooltipTimeout),a.dragInProgress=!0}).bind(drag,kendo.throttle(function(t){var i,o,u,h;a.dragInProgress&&(a.view()._removeDependencyDragHint(),i=e(kendo.elementUnderCursor(t)),o=e(C+d.tasksWrapper).offset(),u=t.x.location-o.left,h=t.y.location-o.top,a.view()._updateDependencyDragHint({xn,yr},{xu,yh},c),p(!1),s=i.hasClass(d.taskDot)ie(),l=i.closest(C+d.taskWrap),p(!0))},15)).bind(dragend,function(){var e,n,i,r,o;s.length&&(e=t.hasClass(d.taskDotStart),n=s.hasClass(d.taskDotStart),i=en32n10,r=a._taskByUid(t.siblings(C+d.task).attr(data-uid)),o=a._taskByUid(s.siblings(C+d.task).attr(data-uid)),r!==o&&a.trigger(dependencyDragEnd,{typei,predecessorr,successoro})),u()}).bind(dragcancel,function(){u()}).userEvents.bind(select,function(){i()}))},_selectablefunction(){var t=this,n=o.styles;this.options.selectable&&this.wrapper.on(_+v,C+n.task,function(n){n.stopPropagation(),n.ctrlKeyt.trigger(clear)t.trigger(select,{uide(this).attr(data-uid)})}).on(_+v,C+n.tasksWrapper,function(){t.selectDependency().length0t.clearSelection()t.trigger(clear)}).on(_+v,C+n.line,function(e){e.stopPropagation(),t.selectDependency(this)})},selectfunction(e){var t=this.wrapper.find(e),n=o.styles;return t.length(this.clearSelection(),t.addClass(n.selected),void(kendo.support.mobileOS&&t.parent().addClass(n.taskWrapActive)))this.wrapper.find(C+n.task+C+n.selected)},selectDependencyfunction(t){var n,i=this.wrapper.find(t),r=o.styles;return i.length(this.clearSelection(),this.trigger(clear),n=e(i).attr(data-uid),void this.wrapper.find(C+r.line+[data-uid='+n+']).addClass(r.selected))this.wrapper.find(C+r.line+C+r.selected)},clearSelectionfunction(){var e=o.styles;this.wrapper.find(C+e.selected).removeClass(e.selected),kendo.support.mobileOS&&this.wrapper.find(C+e.taskWrapActive).removeClass(e.taskWrapActive)},_attachEventsfunction(){var t=this,n=o.styles;this.options.editable&&(this._tabindex(),this.wrapper.on(_+v,C+n.taskDelete,function(i){t.trigger(removeTask,{uide(this).closest(C+n.task).attr(data-uid)}),i.stopPropagation(),i.preventDefault()}).on(x+v,function(e){var n;e.keyCode===g.DELETE&&(n=t.selectDependency(),n.length&&(t.trigger(removeDependency,{uidn.attr(data-uid)}),t.clearSelection()))}),pthis.touch=this.wrapper.kendoTouch({filterC+n.task,doubletapfunction(n){t.trigger(editTask,{uide(n.touch.currentTarget).attr(data-uid)})}}).data(kendoTouch)this.wrapper.on(w+v,C+n.task,function(n){t.trigger(editTask,{uide(this).attr(data-uid)}),n.stopPropagation(),n.preventDefault()}))},_tooltipfunction(){var t,n=this,i=this.options.tooltip,r=o.styles,a=function(e){t=e.clientX};i&&i.visible===!1this.wrapper.on(b+v,C+r.task,function(){var i=this,r=n._taskByUid(e(this).attr(data-uid));n.dragInProgress(n._tooltipTimeout=setTimeout(function(){n.view()._createTaskTooltip(r,i,t)},800),e(this).on(y,a))}).on(k+v,C+r.task,function(){clearTimeout(n._tooltipTimeout),n.view()._removeTaskTooltip(),e(this).off(y,a)})}}),d(!0,o,{stylesr})}(window.kendo.jQuery),function(e,t){function n(e){return[+f.attr(uid)+(e='+e+']])}function i(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e}function r(e){var t,n,i,r,o,a;if(e.filter([name=end], [name=start]).length){for(t=e.attr(name),n=f.widgetInstance(e,f.ui),i={},r=e;r!==window&&!o;)r=r.parent(),o=r.data(kendoEditable);return(a=oo.options.modelnull)(i.start=a.start,i.end=a.end,i[t]=nn.value()f.parseDate(e.value()),i.end=i.start)!0}return!0}function o(t,n){var i=t.parents([+f.attr(role)+'=gantt]'),r=[],o=a(i);t.attr(P,0),n&&o.each(function(t,n){r[t]=e(n).scrollTop()});try{t[0].setActive()}catch(s){t[0].focus()}n&&o.each(function(t,n){e(n).scrollTop(r[t])})}function a(t){return e(t).parentsUntil(body).filter(function(e,t){var n=f.getComputedStyles(t,[overflow]);returnvisible!=n.overflow}).add(window)}var s,l,c,d,u,h,p,f=window.kendo,g=f.support.browser,m=f.Observable,v=f.ui.Widget,_=f.data.DataSource,w=f.data.ObservableObject,y=f.data.ObservableArray,b=f.data.Query,k=e.isArray,x=e.inArray,C=f.isFunction,S=e.proxy,T=e.extend,D=e.isPlainObject,A=e.map,E=f.keys,I=.kendoGantt,M=p0,P=tabIndex,z=click,F=width,R=string,B={down{originbottom center,positiontop center},up{origintop center,positionbottom center}},H=aria-activedescendant,L=gantt_active_cell,N=action-option-focused,O=.,V=Are you sure you want to delete this task,U=Are you sure you want to delete this dependency,W='button class=#=styles.button# #=className# #if (action) {#data-action=#=action##}#span class=#=iconClass#span#=text#button',j='a class=#=className# #=attr# href=##=text#a',G=f.template('ul class=#=styles.viewsWrapper##for(var view in views){#li class=#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() # data-#=ns#name=#=view#a href=# class=#=styles.link##=views[view].title#ali#}#ul'),q=f.template('div class=#=styles.popupWrapper#ul class=#=styles.popupList# role=listbox#for(var i = 0, l = actions.length; i  l; i++){#li class=#=styles.item# data-action=#=actions[i].data# role=option#=actions[i].text#span#}#uldiv'),$=function(t,n){var i={namen.field},r=n.model.fields[n.field].validation;r&&D(r)&&r.message&&(i[f.attr(dateCompare-msg)]=r.message),e('input type=text required '+f.attr(type)+'=date '+f.attr(role)+'=datetimepicker '+f.attr(bind)+'=value'+n.field+' '+f.attr(validate)+='true' ).attr(i).appendTo(t),e(span +f.attr(for)+'='+n.field+' class=k-invalid-msg').hide().appendTo(t)},Y=function(t,n){e('a href=# class='+n.styles.button+''+n.messages.assingButton+a).click(n.click).appendTo(t)},Q={wrapperk-widget k-gantt,listWrapperk-gantt-layout k-gantt-treelist,listk-gantt-treelist,timelineWrapperk-gantt-layout k-gantt-timeline,timelinek-gantt-timeline,splitBarWrapperk-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout,splitBark-splitbar,splitBarHoverk-splitbar-horizontal-hover,popupWrapperk-list-container,popupListk-list k-reset,resizeHandlek-resize-handle,iconk-icon,itemk-item,linek-line,buttonDeletek-gantt-delete,buttonCancelk-gantt-cancel,buttonSavek-gantt-update,primaryk-primary,hoveredk-state-hover,selectedk-state-selected,focusedk-state-focused,gridHeaderk-grid-header,gridHeaderWrapk-grid-header-wrap,gridContentk-grid-content,popup{formk-popup-edit-form,editFormk-gantt-edit-form,formContainerk-edit-form-container,resourcesFormContainerk-resources-form-container,messagek-popup-message,buttonsContainerk-edit-buttons k-state-default,buttonk-button,editFieldk-edit-field,editLabelk-edit-label,resourcesFieldk-gantt-resources},toolbar{headerWrapperk-floatwrap k-header k-gantt-toolbar,footerWrapperk-floatwrap k-header k-gantt-toolbar,toolbark-gantt-toolbar,viewsk-gantt-views,viewsWrapperk-reset k-header k-gantt-views,actionsk-gantt-actions,buttonk-button k-button-icontext,iconPlusk-icon k-i-plus,iconPdfk-icon k-i-pdf,viewButtonDefaultk-state-default,viewButtonk-view,linkk-link,pdfButtonk-gantt-pdf,appendButtonk-gantt-create}},K={append{textAdd Task,actionadd,classNameQ.toolbar.appendButton,iconClassQ.toolbar.iconPlus},pdf{textExport to PDF,classNameQ.toolbar.pdfButton,iconClassQ.toolbar.iconPdf}},X=m.extend({initfunction(e,t){m.fn.init.call(this),this.element=e,this.options=T(!0,{},this.options,t),this._popup()},options{directiondown,navigatable!1},_currentfunction(e){var t=p.styles,n=this.list.find(O+t.focused),i=n[e]();i.length&&(n.removeClass(t.focused).removeAttr(id),i.addClass(t.focused).attr(id,N),this.list.find(ul).removeAttr(H).attr(H,N))},_popupfunction(){var t=this,n=p.styles,i=li+O+n.item,r=this.options.messages.actions,o=this.options.navigatable;this.list=e(q({stylesn,actions[{dataadd,textr.addChild},{datainsert-before,textr.insertBefore},{datainsert-after,textr.insertAfter}]})),this.element.append(this.list),this.popup=new f.ui.Popup(this.list,T({anchorthis.element,openfunction(){t._adjustListWidth()},animationthis.options.animation},B[this.options.direction])),this.element.on(z+I,O+n.toolbar.appendButton,function(i){var r=e(this),a=r.attr(f.attr(action));i.preventDefault(),at.trigger(command,{typea})(t.popup.open(),o&&t.list.find(lifirst).addClass(n.focused).attr(id,N).end().find(ul).attr({TABINDEX0,aria-activedescendantN}).focus())}),this.list.find(i).hover(function(){e(this).addClass(n.hovered)},function(){e(this).removeClass(n.hovered)}).end().on(z+I,i,function(){t.trigger(command,{typee(this).attr(f.attr(action))}),t.popup.close()}),o&&(this.popup.bind(close,function(){t.list.find(i).removeClass(n.focused).end().find(ul).attr(P,0),t.element.parents([+f.attr(role)+'=gantt]').find(O+n.gridContent+  tablefirst).focus()}),this.list.find(ul).on(keydown+I,function(e){var i=e.keyCode;switch(i){case E.UPe.preventDefault(),t._current(prev);break;case E.DOWNe.preventDefault(),t._current(next);break;case E.ENTERt.list.find(O+n.focused).click();break;case E.ESCe.preventDefault(),t.popup.close()}}))},_adjustListWidthfunction(){var e,t,n=this.list,i=n[0].style.width,r=this.element;(n.data(F)!i)&&(e=window.getComputedStylewindow.getComputedStyle(r[0],null)0,t=eparseFloat(e.width)r.outerWidth(),e&&(g.mozillag.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i=border-box!==n.css(box-sizing)t-(n.outerWidth()-n.width())t,n.css({fontFamilyr.css(font-family),widthi}).data(F,i))},destroyfunction(){clearTimeout(this._focusTimeout),this.popup.destroy(),this.element.off(I),this.list.off(I),this.unbind()}}),Z=function(e,t){return function(n){var i,r;if(n=k(i){datan}n,i=n{},r=i.data,i.data=r,!(i instanceof e)&&i instanceof _)throw Error(Incorrect DataSource type. Only +t+ instances are supported);return i instanceof einew e(i)}},J=f.data.Model.define({idid,fields{id{typenumber},predecessorId{typenumber},successorId{typenumber},type{typenumber}}}),et=_.extend({initfunction(e){_.fn.init.call(this,T(!0,{},{schema{modelBaseJ,modelJ}},e))},successorsfunction(e){return this._dependencies(predecessorId,e)},predecessorsfunction(e){return this._dependencies(successorId,e)},dependenciesfunction(e){var t=this.predecessors(e),n=this.successors(e);return t.push.apply(t,n),t},_dependenciesfunction(e,t){var n=this.view(),i={fielde,operatoreq,valuet};return n=new b(n).filter(i).toArray()}});et.create=Z(et,GanttDependencyDataSource),s=f.data.Model.define({durationfunction(){var e=this.end,t=this.start;return e-t},isMilestonefunction(){return 0===this.duration()},_offsetfunction(e){var t,n,i=[start,end];for(n=0;i.lengthn;n++)t=new Date(this.get(i[n]).getTime()+e),this.set(i[n],t)},idid,fields{id{typenumber},parentId{typenumber,defaultValuenull,validation{required!0}},orderId{typenumber,validation{required!0}},title{typestring,defaultValue},start{typedate,validation{required!0,dateComparer,messageStart date should be before or equal to the end date}},end{typedate,validation{required!0,dateComparer,messageEnd date should be after or equal to the start date}},percentComplete{typenumber,validation{required!0,min0,max1,step.01}},summary{typeboolean},expanded{typeboolean,defaultValue!0}}}),l=_.extend({initfunction(e){_.fn.init.call(this,T(!0,{},{schema{modelBases,models}},e))},removefunction(e){var t=e.get(parentId),n=this.taskAllChildren(e);return this._removeItems(n),e=_.fn.remove.call(this,e),this._childRemoved(t,e.get(orderId)),e},addfunction(e){return e(e=this._toGanttTask(e),this.insert(this.taskSiblings(e).length,e))t},insertfunction(e,n){return n(n=this._toGanttTask(n),n.set(orderId,e),n=_.fn.insert.call(this,e,n),this._reorderSiblings(n,this.taskSiblings(n).length-1),this._resolveSummaryFields(this.taskParent(n)),n)t},taskChildrenfunction(e){var n,i=this.view(),r={fieldparentId,operatoreq,valuenull},o=this._sort{fieldorderId,dirasc};if(e){if(n=e.get(id),n===tnull===n===n)return[];r.value=n}return i=new b(i).filter(r).sort(o).toArray()},taskAllChildrenfunction(e){var t=[],n=this,i=function(e){var r=n.taskChildren(e);t.push.apply(t,r),A(r,i)};return ei(e)t=this.view(),t},taskSiblingsfunction(e){if(!e)return null;var t=this.taskParent(e);return this.taskChildren(t)},taskParentfunction(e){return e&&null!==e.get(parentId)this.get(e.parentId)null},taskLevelfunction(e){for(var t=0,n=this.taskParent(e);null!==n;)t+=1,n=this.taskParent(n);return t},taskTreefunction(e){var t,n,i,r,o=[],a=this.taskChildren(e);for(n=0,i=a.length;in;n++)t=a[n],o.push(t),t.get(expanded)&&(r=this.taskTree(t),o.push.apply(o,r));return o},updatefunction(e,n){var i,r,o=this,a=function(e,t){var n,i,r=o.taskAllChildren(e);for(n=0,i=r.length;in;n++)r[n]._offset(t)},s=function(e){var t=e.field,n=e.sender;switch(t){casestarto._resolveSummaryStart(o.taskParent(n)),a(n,n.get(t).getTime()-i.getTime());break;caseendo._resolveSummaryEnd(o.taskParent(n));break;casepercentCompleteo._resolveSummaryPercentComplete(o.taskParent(n));break;caseorderIdo._reorderSiblings(n,i)}};n.parentId!==t&&(i=e.get(parentId),i!==n.parentId&&(e.set(parentId,n.parentId),o._childRemoved(i,e.get(orderId)),e.set(orderId,o.taskSiblings(e).length-1),o._resolveSummaryFields(o.taskParent(e))),delete n.parentId),e.bind(change,s);for(r in n)i=e.get(r),e.set(r,n[r]);e.unbind(change,s)},_resolveSummaryFieldsfunction(e){e&&(this._updateSummary(e),this.taskChildren(e).length&&(this._resolveSummaryStart(e),this._resolveSummaryEnd(e),this._resolveSummaryPercentComplete(e)))},_resolveSummaryStartfunction(e){var t=this,n=function(e){var n,i,r,o=t.taskChildren(e),a=o[0].start.getTime();for(i=1,r=o.length;ri;i++)n=o[i].start.getTime(),an&&(a=n);return new Date(a)};this._updateSummaryRecursive(e,start,n)},_resolveSummaryEndfunction(e){var t=this,n=function(e){var n,i,r,o=t.taskChildren(e),a=o[0].end.getTime();for(i=1,r=o.length;ri;i++)n=o[i].end.getTime(),na&&(a=n);return new Date(a)};this._updateSummaryRecursive(e,end,n)},_resolveSummaryPercentCompletefunction(e){var t=this,n=function(e){var n=t.taskChildren(e),i=new b(n).aggregate([{fieldpercentComplete,aggregateaverage}]);return i.percentComplete.average};this._updateSummaryRecursive(e,percentComplete,n)},_updateSummaryRecursivefunction(e,t,n){var i,r;e&&(i=n(e),e.set(t,i),r=this.taskParent(e),r&&this._updateSummaryRecursive(r,t,n))},_childRemovedfunction(e,t){var n,i,r=null===enullthis.get(e),o=this.taskChildren(r);for(n=t,i=o.length;in;n++)o[n].set(orderId,n);this._resolveSummaryFields(r)},_reorderSiblingsfunction(e,t){var n,i=e.get(orderId),r=it,o=rti,a=rit,s=roo+1,l=this.taskSiblings(e);for(a=Math.min(a,l.length-1),n=o;a=n;n++)l[n]!==e&&(l[n].set(orderId,s),s+=1)},_updateSummaryfunction(e){if(null!==e){var t=this.taskChildren(e).length;e.set(summary,t0)}},_toGanttTaskfunction(e){if(!(e instanceof s)){var t=e;e=this._createNewModel(),e.accept(t)}return e}}),l.create=Z(l,GanttDataSource),T(!0,f.data,{GanttDataSourcel,GanttTasks,GanttDependencyDataSourceet,GanttDependencyJ}),c={desktop{dateRange$,resourcesY}},d=f.Observable.extend({initfunction(e,t){f.Observable.fn.init.call(this),this.element=e,this.options=T(!0,{},this.options,t),this.createButton=this.options.createButton},fieldsfunction(t,n){var i,r=this,o=this.options,a=o.messages.editor,s=o.resources,l=function(e){e.preventDefault(),s.editor(r.container.find(O+p.styles.popup.resourcesField),n)};return o.editable.templatei=e.map(n.fields,function(e,t){return{fieldt}})(i=[{fieldtitle,titlea.title},{fieldstart,titlea.start,editort.dateRange},{fieldend,titlea.end,editort.dateRange},{fieldpercentComplete,titlea.percentComplete,formatM}],n.get(s.field)&&i.push({fields.field,titlea.resources,messagesa,editort.resources,clickl,stylesp.styles.popup})),i},_buildEditTemplatefunction(e,t,n){var i,r,o,a,s=this.options.resources,l=this.options.editable.template,c=T({},f.Template,this.options.templateSettings),d=c.paramName,u=p.styles.popup,h=;if(l)typeof l===R&&(l=window.unescape(l)),h+=f.template(l,c)(e);else for(i=0,r=t.length;ri;i++)o=t[i],h+='div class='+u.editLabel+'label for='+o.field+''+(o.titleo.field)+labeldiv,o.field===s.field&&(h+='div class='+u.resourcesField+' style=displaynonediv'),!e.editablee.editable(o.field)(n.push(o),h+=div +f.attr(container-for)+'='+o.field+' class='+u.editField+'div')(a=#,o.field(o=f.expr(o.field,d),a+=o+==null''+o)a+='',a+=#,a=f.template(a,c),h+='div class='+u.editField+''+a(e)+div);return h}}),u=d.extend({destroyfunction(){this.close(),this.unbind()},editTaskfunction(e){this.editable=this._createPopupEditor(e)},closefunction(){var e=this,t=function(){e.editable&&(e.editable.destroy(),e.editable=null,e.container=null),e.popup&&(e.popup.destroy(),e.popup=null)};this.editable&&this.container.is(visible)this.container.data(kendoWindow).bind(deactivate,t).close()t()},showDialogfunction(t){var n,i,r,o,a=t.buttons,s=p.styles.popup,l=f.format('div class={0}div class={1}p class={2}{3}pdiv class={4}',s.form,s.formContainer,s.message,t.text,s.buttonsContainer);
for(n=0,i=a.length;in;n++)l+=this.createButton(a[n]);l+=divdivdiv,r=this.element,this.popup&&this.popup.destroy(),o=this.popup=e(l).appendTo(r).eq(0).on(click,O+s.button,function(t){t.preventDefault(),o.close();var n=e(t.currentTarget).index();a[n].click()}).kendoWindow({modal!0,resizable!1,draggable!1,titlet.title,visible!1,closefunction(){this.destroy(),r.focus()}}).getKendoWindow(),o.center().open()},_createPopupEditorfunction(t){var n,i,r=this,o={},a=this.options.messages,s=p.styles,l=s.popup,d=f.format('div {0}={1} class={2} {3}div class={4}',f.attr(uid),t.uid,l.form,l.editForm,l.formContainer),u=this.fields(c.desktop,t),h=[];return d+=this._buildEditTemplate(t,u,h),d+='div class='+l.buttonsContainer+'',d+=this.createButton({nameupdate,texta.save,classNamep.styles.primary}),d+=this.createButton({namecancel,texta.cancel}),d+=this.createButton({namedelete,texta.destroy}),d+=divdivdiv,n=this.container=e(d).appendTo(this.element).eq(0).kendoWindow(T({modal!0,resizable!1,draggable!0,titlea.editor.editorTitle,visible!1,closefunction(e){e.userTriggered&&r.trigger(cancel,{containern,modelt})&&e.preventDefault()}},o)),i=n.kendoEditable({fieldsh,modelt,clearContainer!1,validateOnBlur!0,targetr.options.target}).data(kendoEditable),this.trigger(edit,{containern,modelt})r.trigger(cancel,{containern,modelt})(n.data(kendoWindow).center().open(),n.on(z+I,O+s.buttonCancel,function(e){e.preventDefault(),e.stopPropagation(),r.trigger(cancel,{containern,modelt})}),n.on(z+I,O+s.buttonSave,function(e){var i,o,a,s,l;for(e.preventDefault(),e.stopPropagation(),i=r.fields(c.desktop,t),o={},s=0,l=i.length;ls;s++)a=i[s].field,o[a]=t.get(a);r.trigger(save,{containern,modelt,updateInfoo})}),n.on(z+I,O+s.buttonDelete,function(e){e.preventDefault(),e.stopPropagation(),r.trigger(remove,{containern,modelt})})),i}}),h=v.extend({initfunction(e,t){v.fn.init.call(this,e,t),this.wrapper=this.element,this.model=this.options.model,this.resourcesField=this.options.resourcesField,this.createButton=this.options.createButton,this._initContainer(),this._attachHandlers()},events[save],openfunction(){this.window.center().open(),this.grid.resize(!0)},closefunction(){this.window.bind(deactivate,S(this.destroy,this)).close()},destroyfunction(){this._dettachHandlers(),this.grid.destroy(),this.grid=null,this.window.destroy(),this.window=null,v.fn.destroy.call(this),f.destroy(this.wrapper),this.element=this.wrapper=null},_attachHandlersfunction(){var t=p.styles,n=this.grid,i=this._cancelProxy=S(this._cancel,this);this.container.on(z+I,O+t.buttonCancel,this._cancelProxy),this._saveProxy=S(this._save,this),this.container.on(z+I,O+t.buttonSave,this._saveProxy),this.window.bind(close,function(e){e.userTriggered&&i(e)}),n.wrapper.on(z+I,input[type='checkbox'],function(){var t=e(this),i=e(t).closest(tr),r=n.dataSource.getByUid(i.attr(f.attr(uid))),o=e(t).is(checked)1;r.set(value,o)})},_dettachHandlersfunction(){this._cancelProxy=null,this._saveProxy=null,this.container.off(I),this.grid.wrapper.off()},_cancelfunction(e){e.preventDefault(),this.close()},_savefunction(e){e.preventDefault(),this._updateModel(),this.wrapper.is(O+p.styles.popup.resourcesField)this.trigger(save,{containerthis.wrapper,modelthis.model}),this.close()},_initContainerfunction(){var t=p.styles.popup,n=f.format('div class={0} {1}div class={2} {3}div',t.form,t.editForm,t.formContainer,t.resourcesFormContainer);n=e(n),this.container=n.find(O+t.resourcesFormContainer),this.window=n.kendoWindow({modal!0,resizable!1,draggable!0,visible!1,titlethis.options.messages.resourcesEditorTitle}).data(kendoWindow),this._resourceGrid(),this._createButtons()},_resourceGridfunction(){var t=this,n=this.options.messages,i=e('div id=resources-grid').appendTo(this.container);this.grid=new f.ui.Grid(i,{columns[{fieldname,titlen.resourcesHeader,templatelabelinput type='checkbox' value='#=name#'# if (value  0 && value !== null) {#checked='checked'# } ##=name#labe},{fieldvalue,titlen.unitsHeader,templatefunction(e){var t=e.format,n=null!==e.valuee.value;return tf.toString(n,t)n}}],height280,sortable!0,editable!0,filterable!0,dataSource{datat.options.data,schema{model{idid,fields{id{fromid},name{fromname,typestring,editable!1},value{fromvalue,typenumber,defaultValue},format{fromformat,typestring}}}}},savefunction(e){var t=!!e.values.value;e.container.parent().find(input[type='checkbox']).prop(checked,t)}})},_createButtonsfunction(){var e,t,n=this.options.buttons,i='div class='+p.styles.popup.buttonsContainer+'';for(e=0,t=n.length;te;e++)i+=this.createButton(n[e]);i+=div,this.container.append(i)},_updateModelfunction(){var e,t,n,i=[],r=this.grid.dataSource.data();for(t=0,n=r.length;nt;t++)e=r[t].get(value),null!==e&&e0&&i.push(r[t]);this.model[this.resourcesField]=i}}),p=v.extend({initfunction(e,t){k(t)&&(t={dataSourcet}),v.fn.init.call(this,e,t),this._wrapper(),this._resources(),this._timeline(),this._toolbar(),this._footer(),this._adjustDimensions(),this._preventRefresh=!0,this.view(this.timeline._selectedViewName),this._preventRefresh=!1,this._dataSource(),this._assignments(),this._dropDowns(),this._list(),this._dependencies(),this._resizable(),this._scrollable(),this._dataBind(),this._attachEvents(),this._createEditor(),f.notify(this)},events[dataBinding,dataBound,add,edit,remove,cancel,save,change,navigate,moveStart,move,moveEnd,resizeStart,resize,resizeEnd],options{nameGantt,autoBind!0,navigatable!1,selectable!0,editable!0,columns[],views[],dataSource{},dependencies{},resources{},assignments{},messages{saveSave,cancelCancel,destroyDelete,deleteTaskConfirmationV,deleteDependencyConfirmationU,deleteTaskWindowTitleDelete task,deleteDependencyWindowTitleDelete dependency,views{dayDay,weekWeek,monthMonth,yearYear,startStart,endEnd},actions{appendAdd Task,addChildAdd Child,insertBeforeAdd Above,insertAfterAdd Below,pdfExport to PDF},editor{editorTitleTask,resourcesEditorTitleResources,titleTitle,startStart,endEnd,percentCompleteComplete,resourcesResources,assingButtonAssign,resourcesHeaderResources,unitsHeaderUnits}},showWorkHours!0,showWorkDays!0,toolbarnull,workDayStartnew Date(1980,1,1,8,0,0),workDayEndnew Date(1980,1,1,17,0,0),workWeekStart1,workWeekEnd5,hourSpan1,snap!0,height600,listWidth30%},selectfunction(e){var n=this.list;return e(n.select(e),t)n.select()},clearSelectionfunction(){this.list.clearSelection()},destroyfunction(){v.fn.destroy.call(this),this.dataSource&&(this.dataSource.unbind(change,this._refreshHandler),this.dataSource.unbind(progress,this._progressHandler),this.dataSource.unbind(error,this._errorHandler)),this.dependencies&&(this.dependencies.unbind(change,this._dependencyRefreshHandler),this.dependencies.unbind(error,this._dependencyErrorHandler)),this.timeline&&(this.timeline.unbind(),this.timeline.destroy()),this.list&&(this.list.unbind(),this.list.destroy()),this.footerDropDown&&this.footerDropDown.destroy(),this.headerDropDown&&this.headerDropDown.destroy(),this._editor&&this._editor.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),this.toolbar.off(I),e(window).off(resize+I,this._resizeHandler),e(this.wrapper).off(I),this.toolbar=null,this.footer=null},_attachEventsfunction(){this._resizeHandler=S(this.resize,this,!1),e(window).on(resize+I,this._resizeHandler)},_wrapperfunction(){var e=p.styles,t=[e.icon,e.resizeHandle].join( ),n=this.options,i=n.height,r=n.width;this.wrapper=this.element.addClass(e.wrapper).append(div class='+e.listWrapper+'divdivdiv).append(div class='+e.splitBarWrapper+'div class='+t+'divdiv).append(div class='+e.timelineWrapper+'divdivdiv),this.wrapper.find(O+e.list).width(n.listWidth),i&&this.wrapper.height(i),r&&this.wrapper.width(r)},_toolbarfunction(){var t,n,i=this,r=p.styles,o=O+r.toolbar.views+  li,a=O+r.toolbar.pdfButton,s=r.hovered,l=this.options.toolbar,c=e(div class='+r.toolbar.actions+');C(l)(l=typeof l===Rlthis._actions(l),l=S(f.template(l),this)),n=e(G({nsf.ns,viewsthis.timeline.views,stylesr.toolbar})),c.append(l({})),t=e(div class='+r.toolbar.headerWrapper+').append(c).append(n),this.wrapper.prepend(t),this.toolbar=t,t.on(z+I,o,function(t){t.preventDefault();var n=e(this).attr(f.attr(name));i.trigger(navigate,{viewn})i.view(n)}).on(z+I,a,function(){i.saveAsPDF()}),this.wrapper.find(O+r.toolbar.toolbar+ li).hover(function(){e(this).addClass(s)},function(){e(this).removeClass(s)})},_actionsfunction(){var e,t,n=this.options,i=n.toolbar,r=;if(!k(i)){if(!n.editable)return r;i=[append]}for(e=0,t=i.length;te;e++)r+=this._createButton(i[e]);return r},_footerfunction(){var t,n,i,r,o;this.options.editable&&(t=p.styles.toolbar,n=this.options.messages.actions,i=e(f.template(W)(T(!0,{stylest},K.append,{textn.append}))),r=e(div class='+t.actions+').append(i),o=e(div class='+t.footerWrapper+').append(r),this.wrapper.append(o),this.footer=o)},_createButtonfunction(e){var t=e.templateW,n=this.options.messages.actions,i=typeof e===Ree.namee.text,r=K[i]K[i].classNamek-gantt-+(i).replace(sg,),o={iconClass,action,texti,classNamer,stylesp.styles.toolbar};if(!(iD(e)&&e.template))throw Error(Custom commands should have name specified);return o=T(!0,o,K[i],{textn[i]}),D(e)&&(e.className&&x(o.className,e.className.split( ))0&&(e.className+= +o.className),o=T(!0,o,e)),f.template(t)(o)},_adjustDimensionsfunction(){var e=this.element,t=p.styles,n=O+t.list,i=O+t.timeline,r=O+t.splitBar,o=this.toolbar.outerHeight(),a=this.footerthis.footer.outerHeight()0,s=e.height(),l=e.width(),c=e.find(r).outerWidth(),d=e.find(n).outerWidth();e.children([n,i,r].join(,)).height(s-(o+a)).end().children(i).width(l-(c+d))},_scrollTofunction(e){var t=this.timeline.view(),i=f.attr(uid),r=string==typeof eee.closest(tr+n()).attr(i),o=t.content.find(n(r));0!==o.length&&t._scrollTo(o)},_dropDownsfunction(){var e=this,t=O+p.styles.toolbar.actions,n=this.options.messages.actions,i=this.dataSource,r=this.timeline,o=function(t){var n,o=t.type,a=i._createNewModel(),s=e.dataItem(e.select()),l=i.taskParent(s),c=r.view()._timeSlots()[0],d=add===osl;a.set(title,New task),d(a.set(parentId,d.get(id)),a.set(start,d.get(start)),a.set(end,d.get(end)))(a.set(start,c.start),a.set(end,c.end)),add!==o&&(n=s.get(orderId),n=insert-before===onn+1),e._createTask(a,n)};this.options.editable&&(this.footerDropDown=new X(this.footer.children(t).eq(0),{messages{actionsn},directionup,animation{open{effectsslideInup}},navigatablee.options.navigatable}),this.headerDropDown=new X(this.toolbar.children(t).eq(0),{messages{actionsn},navigatablee.options.navigatable}),this.footerDropDown.bind(command,o),this.headerDropDown.bind(command,o))},_listfunction(){var e,t,n=this,i=n.options.navigatable,r=p.styles,a=this.wrapper.find(O+r.list),s=a.find( div),l=this.wrapper.find(O+r.toolbar.actions+  button),c={columnsthis.options.columns[],dataSourcethis.dataSource,selectablethis.options.selectable,editablethis.options.editable,listWidtha.outerWidth(),resourcesFieldthis.resources.field},d=c.columns,u=function(){i&&(n._current(n._cachedCurrent),o(n.list.content.find(table),!0)),delete n._cachedCurrent};for(t=0;d.lengtht;t++)e=d[t],e.field===this.resources.field&&function!=typeof e.editor&&(e.editor=S(this._createResourceEditor,this));this.list=new f.ui.GanttList(s,c),this.list.bind(render,function(){n._navigatable()},!0).bind(edit,function(e){n._cachedCurrent=e.cell,n.trigger(edit,{taske.model,containere.cell})&&e.preventDefault()}).bind(cancel,function(e){n.trigger(cancel,{taske.model,containere.cell})&&e.preventDefault(),u()}).bind(update,function(e){n._updateTask(e.task,e.updateInfo),u()}).bind(change,function(){n.trigger(change);var e=n.list.select();e.length(l.removeAttr(data-action,add),n.timeline.select([data-uid='+e.attr(data-uid)+']))(l.attr(data-action,add),n.timeline.clearSelection())})},_timelinefunction(){var e=this,t=p.styles,n=i(T(!0,{resourcesFieldthis.resources.field},this.options)),r=this.wrapper.find(O+t.timeline+  div);this.timeline=new f.ui.GanttTimeline(r,n),this.timeline.bind(navigate,function(n){e.toolbar.find(O+t.toolbar.views+  li).removeClass(t.selected).end().find(O+t.toolbar.viewButton+-+n.view.replace(.g,.).toLowerCase()).addClass(t.selected),e.refresh()}).bind(moveStart,function(t){e.trigger(moveStart,{taskt.task})&&t.preventDefault()}).bind(move,function(t){var n=t.task,i=t.start,r=new Date(i.getTime()+n.duration());e.trigger(move,{taskn,starti,endr})&&t.preventDefault()}).bind(moveEnd,function(t){var n=t.task,i=t.start,r=new Date(i.getTime()+n.duration());e.trigger(moveEnd,{taskn,starti,endr})e._updateTask(e.dataSource.getByUid(n.uid),{starti,endr})}).bind(resizeStart,function(t){e.trigger(resizeStart,{taskt.task})&&t.preventDefault()}).bind(resize,function(t){e.trigger(resize,{taskt.task,startt.start,endt.end})&&t.preventDefault()}).bind(resizeEnd,function(t){var n=t.task,i={};t.resizeStarti.start=t.starti.end=t.end,e.trigger(resizeEnd,{taskn,startt.start,endt.end})e._updateTask(e.dataSource.getByUid(n.uid),i)}).bind(percentResizeEnd,function(t){e._updateTask(e.dataSource.getByUid(t.task.uid),{percentCompletet.percentComplete})}).bind(dependencyDragEnd,function(t){var n=e.dependencies._createNewModel({typet.type,predecessorIdt.predecessor.id,successorIdt.successor.id});e._createDependency(n)}).bind(select,function(t){e.select([data-uid='+t.uid+'])}).bind(editTask,function(t){e.editTask(t.uid)}).bind(clear,function(){e.clearSelection()}).bind(removeTask,function(t){e.removeTask(e.dataSource.getByUid(t.uid))}).bind(removeDependency,function(t){e.removeDependency(e.dependencies.getByUid(t.uid))})},_dataSourcefunction(){var e=this.options,t=e.dataSource;t=k(t){datat}t,this.dataSource&&this._refreshHandlerthis.dataSource.unbind(change,this._refreshHandler).unbind(progress,this._progressHandler).unbind(error,this._errorHandler)(this._refreshHandler=S(this.refresh,this),this._progressHandler=S(this._requestStart,this),this._errorHandler=S(this._error,this)),this.dataSource=f.data.GanttDataSource.create(t).bind(change,this._refreshHandler).bind(progress,this._progressHandler).bind(error,this._errorHandler)},_dependenciesfunction(){var e=this.options.dependencies{},t=k(e){datae}e;this.dependencies&&this._dependencyRefreshHandlerthis.dependencies.unbind(change,this._dependencyRefreshHandler).unbind(error,this._dependencyErrorHandler)(this._dependencyRefreshHandler=S(this.refreshDependencies,this),this._dependencyErrorHandler=S(this._error,this)),this.dependencies=f.data.GanttDependencyDataSource.create(t).bind(change,this._dependencyRefreshHandler).bind(error,this._dependencyErrorHandler)},_resourcesfunction(){var e=this.options.resources,t=e.dataSource{};this.resources={fieldresources,dataTextFieldname,dataColorFieldcolor,dataFormatFieldformat},T(this.resources,e),this.resources.dataSource=f.data.DataSource.create(t)},_assignmentsfunction(){var e=this.options.assignments,t=e.dataSource{};this.assignmentsthis.assignments.dataSource.unbind(change,this._assignmentsRefreshHandler)this._assignmentsRefreshHandler=S(this.refresh,this),this.assignments={dataTaskIdFieldtaskId,dataResourceIdFieldresourceId,dataValueFieldvalue},T(this.assignments,e),this.assignments.dataSource=f.data.DataSource.create(t),this.assignments.dataSource.bind(change,this._assignmentsRefreshHandler)},_createEditorfunction(){var e=this,n=this._editor=new u(this.wrapper,T({},this.options,{targetthis,resources{fieldthis.resources.field,editorS(this._createResourceEditor,this)},createButtonS(this._createPopupButton,this)}));n.bind(cancel,function(n){var i=e.dataSource.getByUid(n.model.uid);return e.trigger(cancel,{containern.container,taski})(n.preventDefault(),t)(e.cancelTask(),t)}).bind(edit,function(t){var n=e.dataSource.getByUid(t.model.uid);e.trigger(edit,{containert.container,taskn})&&t.preventDefault()}).bind(save,function(t){var n=e.dataSource.getByUid(t.model.uid);e.saveTask(n,t.updateInfo)}).bind(remove,function(t){e.removeTask(t.model.uid)})},_createResourceEditorfunction(e,t){var n=this,i=t instanceof wtt.model,r=i.get(id),o=this.options.messages,a=n.resources.field,s=this._resourceEditor=new h(e,{resourcesFielda,datathis._wrapResourceData(r),modeli,messagesT({},o.editor),buttons[{nameupdate,texto.save,classNamep.styles.primary},{namecancel,texto.cancel}],createButtonS(this._createPopupButton,this),savefunction(e){n._updateAssignments(e.model.get(id),e.model.get(a))}});s.open()},_createPopupButtonfunction(e){var t=e.namee.text,n={classNamep.styles.popup.button+ k-gantt-+(t).replace(sg,),textt,attr};if(!(tD(e)&&e.template))throw Error(Custom commands should have name specified);return D(e)&&(e.className&&(e.className+= +n.className),n=T(!0,n,e)),f.template(j)(n)},viewfunction(e){return this.timeline.view(e)},dataItemfunction(e){var t,n;return e(t=this.list,n=t.content.find(e),t._modelFromElement(n))null},setDataSourcefunction(e){this.options.dataSource=e,this._dataSource(),this.list._setDataSource(this.dataSource),this.options.autoBind&&e.fetch()},setDependenciesDataSourcefunction(e){this.options.dependencies=e,this._dependencies(),this.options.autoBind&&e.fetch()},itemsfunction(){return this.wrapper.children(.k-task)},_updateAssignmentsfunction(e,t){for(var n,i,r,o,a,s,l,c=this.assignments.dataSource,d=this.assignments.dataTaskIdField,u=this.assignments.dataResourceIdField,h=!1,p=new b(c.view()).filter({fieldd,operatoreq,valuee}).toArray();p.length;){for(n=p[0],o=0,a=t.length;ao;o++)if(i=t[o],n.get(u)===i.get(id)){r=t[o].get(value),this._updateAssignment(n,r),t.splice(o,1),h=!0;break}hthis._removeAssignment(n),h=!1,p.shift()}for(s=0,l=t.length;ls;s++)i=t[s],this._createAssignment(i,e);c.sync()},cancelTaskfunction(){var e=this._editor,t=e.container;t&&e.close()},editTaskfunction(e){var t,n=string==typeof ethis.dataSource.getByUid(e)e;n&&(t=this.dataSource._createNewModel(n.toJSON()),t.uid=n.uid,this.cancelTask(),this._editTask(t))},_editTaskfunction(e){this._editor.editTask(e)},saveTaskfunction(e,t){var n=this._editor,i=n.container,r=n.editable;i&&r&&r.end()&&this._updateTask(e,t)},_updateTaskfunction(e,t){var n=this.resources.field;this.trigger(save,{taske,valuest})(this._preventRefresh=!0,this.dataSource.update(e,t),t[n]&&this._updateAssignments(e.get(id),t[n]),this._syncDataSource())},_updateAssignmentfunction(e,t){var n=this.assignments.dataValueField;e.set(n,t)},removeTaskfunction(e){var t=this,n=string==typeof ethis.dataSource.getByUid(e)e;n&&this._taskConfirm(function(e){et._removeTask(n)},n)},_createTaskfunction(e,n){if(!this.trigger(add,{taske,dependencynull})){var i=this.dataSource;this._preventRefresh=!0,n===ti.add(e)i.insert(n,e),this._scrollToUid=e.uid,this._syncDataSource()}},_createDependencyfunction(e){this.trigger(add,{tasknull,dependencye})(this._preventDependencyRefresh=!0,this.dependencies.add(e),this._preventDependencyRefresh=!1,this.dependencies.sync())},_createAssignmentfunction(e,t){var n=this.assignments,i=n.dataSource,r=n.dataTaskIdField,o=n.dataResourceIdField,a=n.dataValueField,s=i._createNewModel();s[r]=t,s[o]=e.get(id),s[a]=e.get(value),i.add(s)},removeDependencyfunction(e){var t=this,n=string==typeof ethis.dependencies.getByUid(e)e;n&&this._dependencyConfirm(function(e){et._removeDependency(n)},n)},_removeTaskDependenciesfunction(e,t){this._preventDependencyRefresh=!0;for(var n=0,i=t.length;in;n++)this.dependencies.remove(t[n]);this._preventDependencyRefresh=!1,this.dependencies.sync()},_removeTaskAssignmentsfunction(e){var t,n,i=this.assignments.dataSource,r=i.view(),o={fieldthis.assignments.dataTaskIdField,operatoreq,valuee.get(id)};for(r=new b(r).filter(o).toArray(),this._preventRefresh=!0,t=0,n=r.length;nt;t++)i.remove(r[t]);this._preventRefresh=!1,i.sync()},_removeTaskfunction(e){var t=this.dependencies.dependencies(e.id);this.trigger(remove,{taske,dependenciest})(this._removeTaskDependencies(e,t),this._removeTaskAssignments(e),this._preventRefresh=!0,this.dataSource.remove(e)&&this._syncDataSource(),this._preventRefresh=!1)},_removeDependencyfunction(e){this.trigger(remove,{tasknull,dependencies[e]})this.dependencies.remove(e)&&this.dependencies.sync()},_removeAssignmentfunction(e){this.assignments.dataSource.remove(e)},_taskConfirmfunction(e,t){var n=this.options.messages;this._confirm(e,{modelt,textn.deleteTaskConfirmation,titlen.deleteTaskWindowTitle})},_dependencyConfirmfunction(e,t){var n=this.options.messages;this._confirm(e,{modelt,textn.deleteDependencyConfirmation,titlen.deleteDependencyWindowTitle})},_confirmfunction(e,t){var n,i,r=this.options.editable;r===!0r.confirmation!==!1(n=this.options.messages,i=[{namedelete,textn.destroy,classNamep.styles.primary,clickfunction(){e()}},{namecancel,textn.cancel,clickfunction(){e(!0)}}],this.showDialog(T(!0,{},t,{buttonsi})))e()},showDialogfunction(e){this._editor.showDialog(e)},refreshfunction(){var e,t,i,r,o,a;this._preventRefreshthis.list.editable(this._progress(!1),e=this.dataSource,t=e.taskTree(),i=this._scrollToUid,a=-1,this.current&&(o=this.current.closest(tr).attr(f.attr(uid)),a=this.current.index()),this.trigger(dataBinding)(0!==this.resources.dataSource.data().length&&this._assignResources(t),this._editor&&this._editor.close(),this.clearSelection(),this.list._render(t),this.timeline._render(t),this.timeline._renderDependencies(this.dependencies.view()),i&&(this._scrollTo(i),this.select(n(i))),(io)&&a=0&&(r=this.list.content.find(tr+n(io)+  tdeq(+a+)),this._current(r)),this._scrollToUid=null,this.trigger(dataBound)))},refreshDependenciesfunction(){this._preventDependencyRefreshthis.trigger(dataBinding)(this.timeline._renderDependencies(this.dependencies.view()),this.trigger(dataBound))},_assignResourcesfunction(e){var t,n,i=this.resources,r=this.assignments,o=function(){var e=r.dataSource.view(),t={fieldr.dataTaskIdField};return e=new b(e).group(t).toArray()},a=o(),s=function(e,t){var n,r,o=e.get(id);for(f.setter(i.field)(e,new y([])),n=0,r=a.length;rn;n++)a[n].value===o&&t(e,a[n].items)},l=function(e,t){var n,o,a,s,l,c,d,u;for(n=0,o=t.length;on;n++)a=t[n],s=i.dataSource.get(a.get(r.dataResourceIdField)),l=a.get(r.dataValueField),c=a.get(r.dataResourceIdField),d=s.get(i.dataFormatField)M,u=f.toString(l,d),e[i.field].push(new w({idc,names.get(i.dataTextField),colors.get(i.dataColorField),valuel,formatedValueu}))};for(t=0,n=e.length;nt;t++)s(e[t],l)},_wrapResourceDatafunction(e){var t,n,i,r=this,o=[],a=this.resources.dataSource.view(),s=this.assignments.dataSource.view(),l=new b(s).filter({fieldr.assignments.dataTaskIdField,operatoreq,valuee}).toArray(),c=function(e){var t=null;return new b(l).filter({fieldr.assignments.dataResourceIdField,operatoreq,valuee}).select(function(e){t+=e.get(r.assignments.dataValueField)}),t};for(n=0,i=a.length;in;n++)t=a[n],o.push({idt.get(id),namet.get(r.resources.dataTextField),formatt.get(r.resources.dataFormatField)M,valuec(t.id)});return o},_syncDataSourcefunction(){this._preventRefresh=!1,this._requestStart(),this.dataSource.sync()},_requestStartfunction(){this._progress(!0)},_errorfunction(){this._progress(!1)},_progressfunction(e){f.ui.progress(this.element,e)},_resizablefunction(){var t,n,i,r=this,o=this.wrapper,a=p.styles,s=O+a.gridContent,l=o.find(O+a.list),c=o.find(O+a.timeline);this._resizeDraggable=o.find(O+a.splitBar).height(l.height()).hover(function(){e(this).addClass(a.splitBarHover)},function(){e(this).removeClass(a.splitBarHover)}).end().kendoResizable({orientationhorizontal,handleO+a.splitBar,startfunction(){t=l.width(),n=c.width(),i=c.find(s).scrollLeft()},resizefunction(e){var a=e.x.initialDelta;f.support.isRtl(o)&&(a=-1),0t+a0n-a(l.width(t+a),c.width(n-a),c.find(s).scrollLeft(i+a),r.timeline.view()._renderCurrentTime())}}).data(kendoResizable)},_scrollablefunction(){var t=p.styles,n=O+t.gridContent,i=O+t.gridHeaderWrap,r=this.timeline.element,o=this.list.element;r.find(n).on(scroll,function(){r.find(i).scrollLeft(this.scrollLeft),o.find(n).scrollTop(this.scrollTop)}),o.find(n).on(scroll,function(){o.find(i).scrollLeft(this.scrollLeft)}).on(DOMMouseScroll+I+ mousewheel+I,function(t){var i=r.find(n),o=i.scrollTop(),a=f.wheelDeltaY(t);a&&(t.preventDefault(),e(t.currentTarget).one(wheel+I,!1),i.scrollTop(o+-a))})},_navigatablefunction(){var i,r=this,a=this.options.navigatable,s=this.options.editable,l=this.list.header.find(table),c=this.list.content.find(table),d=p.styles,u=f.support.isRtl(this.wrapper),h=this.timeline.element.find(O+d.gridContent),g=l.add(c),m=n(),v={collapse!1,expand!0},_=function(e){var t=r.timeline.view()._timeSlots()[0].offsetWidth;h.scrollLeft(h.scrollLeft()+(e-tt))},w=function(e){var t=r.current.parent(tr+n()),i=r.current.index(),a=t[e]();0!==r.select().length&&r.clearSelection(),0!==a.length(r._current(a.children(tdeq(+i+))),r._scrollTo(r.current))r.current.is(td)&&prev==eo(l)r.current.is(th)&&next==e&&o(c)},y=function(e){var t=r.current[e]();0!==t.length&&(r._current(t),i=r.current.index())},b=function(e){var t=r.dataItem(r.current);t.summary&&t.expanded!==e&&t.set(expanded,e)},k=function(){var e,t;r.options.editable&&!r.list.editable&&(e=r.select(),t=f.attr(uid),e.length&&r.removeTask(e.attr(t)))};return e(this.wrapper).on(mousedown+I,tr+m+, div+m+not(+O+d.line+),function(t){var i,l=e(t.currentTarget),c=e(t.target).is(button,a,input,a.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap);t.ctrlKey(a&&(i=l.is(tr)e(t.target).closest(td)r.list.content.find(tr+n(l.attr(f.attr(uid)))+  tdfirst),r._current(i)),!a&&!sc(r._focusTimeout=setTimeout(function(){o(r.list.content.find(table),!0)},2)))}),a!==!0(c.on(keydown+I,function(e){e.keyCode==E.DELETE&&k()}),t)(g.on(focus+I,function(){var t=this===c.get(0)tdth,n=(e(this),r.select()),o=r.currente(n.lengthnthis).find(t+eq(+(i0)+));r._current(o)}).on(blur+I,function(){r._current(),this==l&&e(this).attr(P,-1)}).on(keydown+I,function(e){var t,n=e.keyCode;if(r.current)switch(t=r.current.is(td),n){case E.RIGHTe.preventDefault(),e.altKey_()e.ctrlKeyb(uv.collapsev.expand)y(uprevnext);break;case E.LEFTe.preventDefault(),e.altKey_(!0)e.ctrlKeyb(uv.expandv.collapse)y(unextprev);break;case E.UPe.preventDefault(),w(prev);break;case E.DOWNe.preventDefault(),w(next);break;case E.SPACEBARe.preventDefault(),t&&r.select(r.current.closest(tr));break;case E.ENTERe.preventDefault(),tr.options.editable&&(r._cachedCurrent=r.current,r.list._startEditHandler(r.current),e.stopPropagation())r.current.children(a.k-link).click();break;case E.ESCe.stopPropagation();break;case E.DELETEt&&k();break;defaultn=49&&57=n&&r.view(r.timeline._viewByIndex(n-49))}}),t)},_currentfunction(t){var n,i=p.styles;this.current&&this.current.length&&this.current.removeClass(i.focused).removeAttr(id),t&&t.length(this.current=t.addClass(i.focused).attr(id,L),n=e(f._activeElement()),n.is(table)&&this.wrapper.find(n).length0&&n.removeAttr(H).attr(H,L))this.current=null},_dataBindfunction(){var t,n=this;n.options.autoBind&&(this._preventRefresh=!0,this._preventDependencyRefresh=!0,t=e.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],function(e){return e.fetch()}),e.when.apply(null,t).done(function(){n._preventRefresh=!1,n._preventDependencyRefresh=!1,n.refresh()}))},_resizefunction(){this._adjustDimensions(),this.timeline.view()._adjustHeight(),this.timeline.view()._renderCurrentTime(),this.list._adjustHeight()}}),f.PDFMixin&&(f.PDFMixin.extend(p.fn),p.fn._drawPDF=function(){var e=.+Q.list,t=this.wrapper.find(e).width(),n=this.wrapper.clone();return n.find(e).css(width,t),this._drawPDFShadow(n)}),f.ui.plugin(p),T(!0,p,{stylesQ})}(window.kendo.jQuery),function(e,t){function n(e){return function(t){return t[e]}}function i(e){return function(t){return!e(t)}}function r(e){var t,n,i=[],r=e.className;for(t=0,n=e.level;nt;t++)i.push(h(span,{classNamer}));return i}function o(e){var t,n,i,r=0;for(n=0,i=e.length;in;n++)t=e[n].style.width,t&&-1==t.indexOf(%)&&(r+=parseInt(t,10));return r}var a,s,l,c=kendo.data,d=e.extend,u=kendo.dom,h=u.element,p=u.text,f=u.html,g=kendo.ui,m=g.DataBoundWidget,v=c.DataSource,_=c.ObservableArray,w=c.Query,y=c.Model,b=e.proxy,k=e.map,x=e.grep,C=e.inArray,S=e.isPlainObject,T=Array.prototype.push,D=string,A=change,E=error,I=progress,M=.,P=.kendoTreeList,z=click,F=mousedown,R=edit,B=save,H=expand,L=collapse,N=remove,O=dataBinding,V=dataBound,U=cancel,W=filterMenuInit,j=columnHide,G=columnShow,q=th.k-header,$=columnReorder,Y=columnResize,Q=columnMenuInit,K=columnLock,X=columnUnlock,Z={wrapperk-treelist k-grid k-widget,headerk-header,buttonk-button,altk-alt,editCellk-edit-cell,groupk-treelist-group,gridToolbark-grid-toolbar,gridHeaderk-grid-header,gridHeaderWrapk-grid-header-wrap,gridContentk-grid-content,gridContentWrapk-grid-content,gridFilterk-grid-filter,footerTemplatek-footer-template,loadingk-loading,refreshk-i-refresh,retryk-request-retry,selectedk-state-selected,statusk-status,linkk-link,withIconk-with-icon,filterablek-filterable,iconk-icon,iconFilterk-filter,iconCollapsek-i-collapse,iconExpandk-i-expand,iconHiddenk-i-none,iconPlaceHolderk-icon k-i-none,inputk-input,dropPositionsk-insert-top k-insert-bottom k-add k-insert-middle,dropTopk-insert-top,dropBottomk-insert-bottom,dropAddk-add,dropMiddlek-insert-middle,dropDeniedk-denied,dragStatusk-drag-status,dragCluek-drag-clue,dragClueTextk-clue-text},J={create{imageClassk-add,classNamek-grid-add,methodNameaddRow},createchild{imageClassk-add,classNamek-grid-add,methodNameaddRow},destroy{imageClassk-delete,classNamek-grid-delete,methodNameremoveRow},edit{imageClassk-edit,classNamek-grid-edit,methodNameeditRow},update{imageClassk-update,classNamek-primary k-grid-update,methodNamesaveRow},canceledit{imageClassk-cancel,classNamek-grid-cancel,methodName_cancelEdit},excel{imageClassk-i-excel,classNamek-grid-excel,methodNamesaveAsExcel},pdf{imageClassk-i-pdf,classNamek-grid-pdf,methodNamesaveAsPDF}},et=y.define({idid,fields{id{typenumber},parentId{typenumber,nullable!0}},initfunction(e){y.fn.init.call(this,e),this._loaded=!1},loadedfunction(e){return e===tthis._loaded(this._loaded=e,t)},shouldSerializefunction(e){return y.fn.shouldSerialize.call(this,e)&&_loaded!==e&&_error!=e&&_edit!=e}}),tt=v.extend({initfunction(e){v.fn.init.call(this,d(!0,{},{schema{modelBaseet,modelet}},e))},_createNewModelfunction(e){var t={},n=e instanceof y;return n&&(t=e),t=v.fn._createNewModel.call(this,t),nt.accept(e),t},_shouldWrapfunction(){return!0},_readDatafunction(e){var t=this.data();return e=v.fn._readData.call(this,e),this._concat(e,t),e instanceof _et},_concatfunction(e,t){var n,i=t.length;for(n=0;e.lengthn;n++)t[i++]=e[n];t.length=i},_readAggregatesfunction(e){var t=d(this._aggregateResult,this.reader.aggregates(e));
returnin t&&(t[this._defaultParentId()]=t[],delete t[]),t},removefunction(e){var t=this._subtree(this._childrenMap(this.data()),e.id);this._removeItems(t),v.fn.remove.call(this,e)},_filterCallbackfunction(e){var t,n,i=[],r=e.toArray(),o={};for(t=0;r.lengtht;t++)for(n=r[t];n&&(o[n.id]=!0,!o[n.parentId]);)o[n.parentId]=!0,n=this.parentNode(n),n&&i.push(n);return new w(r.concat(i))},_subtreefunction(e,t){var n,i,r=e[t][],o=this._defaultParentId();for(n=0,i=r.length;in;n++)r[n].id!==o&&(r=r.concat(this._subtree(e,r[n].id)));return r},_childrenMapfunction(e){var t,n,i,r,o={};for(e=this._observeView(e),t=0;e.lengtht;t++)n=e[t],i=n.id,r=n.parentId,o[i]=o[i][],o[r]=o[r][],o[r].push(n);return o},_calculateAggregatesfunction(e,t){var n,i,r,o,a,s;for(t=t{},n={},a=t.filter,a&&(e=w.process(e,{filtera,filterCallbackb(this._filterCallback,this)}).data),s=this._childrenMap(e),n[this._defaultParentId()]=new w(this._subtree(s,this._defaultParentId())).aggregate(t.aggregate),o=0;e.lengtho;o++)i=e[o],r=this._subtree(s,i.id),n[i.id]=new w(r).aggregate(t.aggregate);return n},_queryProcessfunction(e,t){var n,i,r,o,a,s,l;for(t=t{},t.filterCallback=b(this._filterCallback,this),n=this._defaultParentId(),i=w.process(e,t),r=this._childrenMap(i.data),e=r[n][],a=0;e.lengtha;a++)s=e[a],s.id!==n&&(l=r[s.id],o=!(!l!l.length),s.loaded()s.loaded(o!s.hasChildren),(s.loaded()s.hasChildren!==!0)&&(s.hasChildren=o),o&&e.splice.apply(e,[a+1,0].concat(l)));return i.data=e,i},_queueRequestfunction(e,t){t.call(this)},_modelLoadedfunction(e){var t=this.get(e);t.loaded(!0),t.hasChildren=this.childNodes(t).length0},_modelErrorfunction(e,t){this.get(e)._error=t},readfunction(e){return e&&e.id(this._data=this._observe([])),v.fn.read.call(this,e)},loadfunction(t){var n=_query,i=this.options.serverSortingthis.options.serverPagingthis.options.serverFilteringthis.options.serverGroupingthis.options.serverAggregates,r=e.Deferred().resolve().promise();if(t.loaded()){if(i)return r}else t.hasChildren&&(n=read);return this[n]({idt.id}).then(b(this._modelLoaded,this,t.id),b(this._modelError,this,t.id))},_byParentIdfunction(e,t){var n,i,r=[],o=this.view();if(e===t)return[];for(i=0;o.lengthi;i++)n=o.at(i),n.parentId==e&&r.push(n);return r},_defaultParentIdfunction(){return this.reader.model.fn.defaults.parentId},childNodesfunction(e){return this._byParentId(e.id,this._defaultParentId())},rootNodesfunction(){return this._byParentId(this._defaultParentId())},parentNodefunction(e){return this.get(e.parentId)},levelfunction(e){var t=-1;e instanceof et(e=this.get(e));do e=this.parentNode(e),t++;while(e);return t},filterfunction(e){var n=v.fn.filter;return e===tn.call(this,e)(n.call(this,e),t)}});tt.create=function(t){return e.isArray(t)t={datat}t instanceof _&&(t={datat.toJSON()}),t instanceof tttnew tt(t)},a=kendo.Observable.extend({initfunction(e,t){kendo.Observable.fn.init.call(this),t=this.options=d(!0,{},this.options,t),this.element=e,this.bind(this.events,t),this.model=this.options.model,this.fields=this._fields(this.options.columns),this._initContainer(),this.createEditable()},events[],_initContainerfunction(){this.wrapper=this.element},createEditablefunction(){var e=this.options;this.editable=new g.Editable(this.wrapper,{fieldsthis.fields,targete.target,clearContainere.clearContainer,modelthis.model})},_isEditablefunction(e){return e.field&&this.model.editable(e.field)},_fieldsfunction(e){var t,n,i,r=[];for(t=0,n=e.length;nt;t++)i=e[t],this._isEditable(i)&&r.push({fieldi.field,formati.format,editori.editor});return r},endfunction(){return this.editable.end()},closefunction(){this.destroy()},destroyfunction(){this.editable.destroy(),this.editable.element.find([+kendo.attr(container-for)+]).empty().end().removeAttr(kendo.attr(role)),this.model=this.wrapper=this.element=this.columns=this.editable=null}}),s=a.extend({initfunction(e,t){a.fn.init.call(this,e,t),this._attachHandlers(),this.open()},events[U,B],options{window{modal!0,resizable!1,draggable!0,titleEdit,visible!1}},_initContainerfunction(){var t=this.options,n=[];this.wrapper=e('div class=k-popup-edit-form').attr(kendo.attr(uid),this.model.uid).append('div class=k-edit-form-container'),t.template(this._appendTemplate(n),this.fields=[])this._appendFields(n),this._appendButtons(n),new u.Tree(this.wrapper.children()[0]).render(n),this.wrapper.appendTo(t.appendTo),this.window=new g.Window(this.wrapper,t.window)},_appendTemplatefunction(e){var t=this.options.template;typeof t===D&&(t=window.unescape(t)),t=kendo.template(t)(this.model),e.push(f(t))},_appendFieldsfunction(e){var t,n,i,r=this.options.columns;for(t=0,n=r.length;nt;t++)i=r[t],i.command(e.push(f('div class=k-edit-labellabel for='+i.field+''+(i.titlei.field)+labeldiv)),e.push(this._isEditable(i)f(div +kendo.attr(container-for)+'='+i.field+' class=k-edit-fielddiv')h(div,{classk-edit-field},[this.options.fieldRenderer(i,this.model)])))},_appendButtonsfunction(e){e.push(h(div,{classk-edit-buttons k-state-default},this.options.commandRenderer()))},_attachHandlersfunction(){var e=this._cancelProxy=b(this._cancel,this);this.wrapper.on(z+P,.k-grid-cancel,this._cancelProxy),this._saveProxy=b(this._save,this),this.wrapper.on(z+P,.k-grid-update,this._saveProxy),this.window.bind(close,function(t){t.userTriggered&&e(t)})},_dettachHandlersfunction(){this._cancelProxy=null,this._saveProxy=null,this.wrapper.off(P)},_cancelfunction(e){this.trigger(U,e)},_savefunction(){this.trigger(B)},openfunction(){this.window.center().open()},closefunction(){this.window.bind(deactivate,b(this.destroy,this)).close()},destroyfunction(){this.window.destroy(),this.window=null,this._dettachHandlers(),a.fn.destroy.call(this)}}),l=m.extend({initfunction(t,n){if(m.fn.init.call(this,t,n),this._dataSource(this.options.dataSource),this._columns(),this._layout(),this._selectable(),this._sortable(),this._resizable(),this._filterable(),this._attachEvents(),this._toolbar(),this._scrollable(),this._reorderable(),this._columnMenu(),this.options.autoBind&&this.dataSource.fetch(),this._hasLockedColumns){var i=this;this.wrapper.addClass(k-grid-lockedcolumns),this._resizeHandler=function(){i.resize()},e(window).on(resize+P,this._resizeHandler)}kendo.notify(this)},_scrollablefunction(){var t,n,i;this.options.scrollable&&(t=this.thead.closest(.k-grid-header-wrap),n=e(this.lockedContent).bind(DOMMouseScroll+P+ mousewheel+P,b(this._wheelScroll,this)),this.content.bind(scroll+P,function(){t.scrollLeft(this.scrollLeft),n.scrollTop(this.scrollTop)}),i=kendo.touchScroller(this.content),i&&i.movable&&(this._touchScroller=i,i.movable.bind(change,function(e){t.scrollLeft(-e.sender.x),n&&n.scrollTop(-e.sender.y)})))},_wheelScrollfunction(t){if(!t.ctrlKey){var n=kendo.wheelDeltaY(t);n&&(t.preventDefault(),e(t.currentTarget).one(wheel+P,!1),this.content.scrollTop(this.content.scrollTop()+-n))}},_progressfunction(){var e=this.options.messages;this.tbody.find(tr).lengththis._showStatus(kendo.template(span class='#= className #'  # messages.loading #)({classNameZ.icon+ +Z.loading,messagese}))},_errorfunction(e){this.dataSource.rootNodes().lengththis._render({errore})},refreshfunction(e){e=e{},itemchange==e.action&&this.editorthis.trigger(O)(this._cancelEditor(),this._render(),this._adjustHeight(),this.trigger(V))},_angularFootersfunction(e){var t,n,i,r=this.dataSource.aggregates(),o=this._footerItems();for(t=0;o.lengtht;t++)n=o.eq(t),i=r[n.attr(data-parentId)],this._angularFooter(e,n.find(td).get(),i)},_angularFooterfunction(e,t,n){var i=this.columns;this.angular(e,function(){return{elementst,datak(i,function(e){return{columne,aggregaten&&n[e.field]}})}})},itemsfunction(){return this._hasLockedColumnsthis._items(this.tbody).add(this._items(this.lockedTable))this._items(this.tbody)},_itemsfunction(t){return t.find(tr).filter(function(){return!e(this).hasClass(Z.footerTemplate)})},_footerItemsfunction(){var t=this.tbody;return this._hasLockedColumns&&(t=t.add(this.lockedTable)),t.find(tr).filter(function(){return e(this).hasClass(Z.footerTemplate)})},dataItemsfunction(){var e,t,n,i=kendo.ui.DataBoundWidget.fn.dataItems.call(this);if(this._hasLockedColumns){for(e=i.length,t=Array(2e),n=e;--n=0;)t[n]=t[n+e]=i[n];i=t}return i},_showStatusfunction(t){var n=this.element.find(.k-status),i=e(this.content).add(this.lockedContent);n.length(n=e(div class='k-status' ).appendTo(this.element)),this._contentTree.render([]),this._hasLockedColumns&&this._lockedContentTree.render([]),i.hide(),n.html(t)},_hideStatusfunction(){this.element.find(.k-status).remove(),e(this.content).add(this.lockedContent).show()},_adjustHeightfunction(){var e,t,n=this.element,i=n.find(M+Z.gridContentWrap),r=n.find(M+Z.gridHeader),o=n.find(M+Z.gridToolbar),a=kendo.support.scrollbar();n.height(this.options.height),t=function(e){var t,n;return e[0].style.height!0(t=e.height(),e.height(auto),n=e.height(),e.height(),t!=n)},t(n)&&(e=n.height()-r.outerHeight()-o.outerHeight(),i.height(e),this._hasLockedColumns&&(a=this.table[0].offsetWidththis.table.parent()[0].clientWidtha0,this.lockedContent.height(e-a)))},_resizefunction(){this._applyLockedContainersWidth(),this._adjustHeight()},destroyfunction(){m.fn.destroy.call(this);var t=this.dataSource;t.unbind(A,this._refreshHandler),t.unbind(E,this._errorHandler),t.unbind(I,this._progressHandler),this._resizeHandler&&e(window).off(resize+P,this._resizeHandler),this.resizable&&(this.resizable.destroy(),this.resizable=null),this.reorderable&&(this.reorderable.destroy(),this.reorderable=null),this._draggableInstance&&this._draggableInstance.element&&(this._draggableInstance.destroy(),this._draggableInstance=null),this._destroyEditor(),this.element.off(P),this._touchScroller&&this._touchScroller.destroy(),this._autoExpandable=null,this._refreshHandler=this._errorHandler=this._progressHandler=null,this.thead=this.content=this.tbody=this.table=this.element=this.lockedHeader=this.lockedContent=null,this._statusTree=this._headerTree=this._contentTree=this._lockedHeaderColsTree=this._lockedContentColsTree=this._lockedHeaderTree=this._lockedContentTree=null},options{nameTreeList,columns[],autoBind!0,scrollable!0,selectable!1,sortable!1,toolbarnull,heightnull,columnMenu!1,messages{noRowsNo records to display,loadingLoading...,requestFailedRequest failed.,retryRetry,commands{editEdit,updateUpdate,canceleditCancel,createAdd new record,createchildAdd child record,destroyDelete,excelExport to Excel,pdfExport to PDF}},excel{hierarchy!0},resizable!1,filterable!1,editable!1,reorderable!1},events[A,R,B,N,H,L,O,V,U,W,j,G,$,Y,Q,K,X],_togglefunction(e,n){var i=e.loaded();e._error&&(e.expanded=!1,e._error=t),(i!e.expanded)&&(t===n&&(n=!e.expanded),e.expanded=n,ithis.dataSource.load(e).always(b(function(){this._render()},this)),this._render())},expandfunction(e){this._toggle(this.dataItem(e),!0)},collapsefunction(e){this._toggle(this.dataItem(e),!1)},_toggleChildrenfunction(t){var n=e(t.currentTarget),i=this.dataItem(n),r=i.expandedLH;this.trigger(r,{modeli})this._toggle(i),t.preventDefault()},_attachEventsfunction(){var e=M+Z.iconCollapse+, .+Z.iconExpand+, .+Z.refresh,t=M+Z.retry,n=this.dataSource;this.element.on(F+P,e,b(this._toggleChildren,this)).on(z+P,t,b(n.fetch,n)).on(z+P,.k-button[data-command],b(this._commandClick,this))},_commandByNamefunction(t){var n,i,r,o,a=this.columns,s=e.isArray(this.options.toolbar)this.options.toolbar[];if(t=t.toLowerCase(),J[t])return J[t];for(n=0;a.lengthn;n++)if(r=a[n].command)for(i=0;r.lengthi;i++)if(o=r[i].name,o&&o.toLowerCase()==t)return r[i];for(n=0;s.lengthn;n++)if(o=s[n].name,o&&o.toLowerCase()==t)return s[n]},_commandClickfunction(n){var i=e(n.currentTarget),r=i.attr(data-command),o=this._commandByName(r),a=i.parentsUntil(this.wrapper,tr);a=a.lengthat,o&&(o.methodNamethis[o.methodName](a)o.click&&o.click.call(this,n),n.preventDefault())},_ensureExpandableColumnfunction(){var e,t;this._autoExpandable&&delete this._autoExpandable.expandable,e=x(this.columns,i(n(hidden))),t=x(e,n(expandable)),this.columns.length&&!t.length&&(this._autoExpandable=e[0],e[0].expandable=!0)},_columnsfunction(){var e,t=this.options.columns[];this.columns=k(t,function(e){return e=string==typeof e{fielde}e,d({encoded!0},e)}),e=this._lockedColumns(),e.length0&&(this._hasLockedColumns=!0,this.columns=e.concat(this._nonLockedColumns())),this._ensureExpandableColumn(),this._columnTemplates(),this._columnAttributes()},_columnTemplatesfunction(){var e,t,n,i=this.columns;for(e=0,t=i.length;te;e++)n=i[e],n.template&&(n.template=kendo.template(n.template)),n.headerTemplate&&(n.headerTemplate=kendo.template(n.headerTemplate)),n.footerTemplate&&(n.footerTemplate=kendo.template(n.footerTemplate))},_columnAttributesfunction(){function t(t){var n,i,r,o;if(t&&t.style)for(n=t.style.split(;),t.style={},i=0;n.lengthi;i++)r=n[i].split(),o=e.trim(r[0]),o&&(t.style[e.camelCase(o)]=e.trim(r[1]))}var n,i,r=this.columns;for(n=0,i=r.length;in;n++)t(r[n].attributes),t(r[n].headerAttributes)},_layoutfunction(){var e,t,n=this.columns,i=this.element,r=;this.wrapper=i.addClass(Z.wrapper),r=div class='#= gridHeader #' style=padding-right +kendo.support.scrollbar()+'px;',this._hasLockedColumns&&(r+=div class='k-grid-header-locked'table role='grid'colgroupcolgroupthead role='rowgroup' tablediv),r+=div class='#= gridHeaderWrap #'table role='grid'colgroupcolgroupthead role='rowgroup' tabledivdiv,this._hasLockedColumns&&(r+=div class='k-grid-content-locked'table role='treegrid' tabindex='0'colgroupcolgrouptbody tablediv),r+=div class='#= gridContentWrap #'table role='treegrid' tabindex='0'colgroupcolgrouptbody tablediv,this.options.scrollable(r=table role='treegrid' tabindex='0'colgroupcolgroupthead class='#= gridHeader #' role='rowgroup' tbody table),this.options.toolbar&&(r=div class='#= header # #= gridToolbar #' +r),i.append(kendo.template(r)(Z)+div class='k-status' ),this.toolbar=i.find(M+Z.gridToolbar),e=i.find(M+Z.gridHeader).find(thead).addBack().filter(thead),this.thead=e.last(),t=i.find(M+Z.gridContentWrap),t.lengththis.content=tt=i,this.table=t.find(table),this.tbody=this.table.find(tbody),this._hasLockedColumns&&(this.lockedHeader=e.first().closest(.k-grid-header-locked),this.lockedContent=i.find(.k-grid-content-locked),this.lockedTable=this.lockedContent.children()),this._initVirtualTrees(),this._renderCols(),this._renderHeader(),this.angular(compile,function(){return{elementse.find(th.k-header).get(),datak(n,function(e){return{columne}})}})},_initVirtualTreesfunction(){this._headerColsTree=new u.Tree(this.thead.prev()[0]),this._contentColsTree=new u.Tree(this.tbody.prev()[0]),this._headerTree=new u.Tree(this.thead[0]),this._contentTree=new u.Tree(this.tbody[0]),this._statusTree=new u.Tree(this.element.children(.k-status)[0]),this.lockedHeader&&(this._lockedHeaderColsTree=new u.Tree(this.lockedHeader.find(colgroup)[0]),this._lockedContentColsTree=new u.Tree(this.lockedTable.find(colgroup)[0]),this._lockedHeaderTree=new u.Tree(this.lockedHeader.find(thead)[0]),this._lockedContentTree=new u.Tree(this.lockedTable.find(tbody)[0]))},_toolbarfunction(){var t,n=this.options.toolbar,i=this.toolbar;n&&(e.isArray(n)(t=this._buildCommands(n),new u.Tree(i[0]).render(t))i.append(kendo.template(n)({})),this.angular(compile,function(){return{elementsi.get()}}))},_lockedColumnsfunction(){return x(this.columns,n(locked))},_nonLockedColumnsfunction(){return x(this.columns,i(n(locked)))},_renderfunction(t){var n,i,r,o;t=t{},n=this.options.messages,i=this.dataSource.rootNodes(),r=this.dataSource.aggregates(),o=this.select().map(function(t,n){return e(n).attr(data-uid)}),this._absoluteIndex=0,this._angularItems(cleanup),this._angularFooters(cleanup),t.errorthis._showStatus(kendo.template(# messages.requestFailed # button class='#= buttonClass #'# messages.retry #button)({buttonClass[Z.button,Z.retry].join( ),messagesn}))i.length(this._hideStatus(),this._contentTree.render(this._trs({columnsthis._nonLockedColumns(),aggregatest.aggregates,selectedo,datai,visible!0,level0})),this._hasLockedColumns&&(this._absoluteIndex=0,this._lockedContentTree.render(this._trs({columnsthis._lockedColumns(),aggregatest.aggregates,selectedo,datai,visible!0,level0}))))this._showStatus(kendo.htmlEncode(n.noRows)),this._touchScroller&&this._touchScroller.contentResized(),this._angularItems(compile),this._angularFooters(compile),this._adjustRowsHeight()},_adjustRowsHeightfunction(){var e,t,n,i,r,o,a,s,l,c,d,u,h,p;if(this._hasLockedColumns){for(e=this.table,t=this.lockedTable,n=e[0].rows,i=n.length,o=t[0].rows,a=e.add(t),s=a.length,l=[],c=this.lockedHeader.find(tr),d=this.thead.find(tr),c.add(d).height(auto).height(Math.max(c.height(),d.height())),r=0;ir&&o[r];r++)n[r].style.height&&(n[r].style.height=o[r].style.height=),u=n[r].offsetHeight,h=o[r].offsetHeight,p=0,uhp=uhu&&(p=h),l.push(p);for(r=0;sr;r++)a[r].style.display=none;for(r=0;ir;r++)l[r]&&(n[r].style.height=o[r].style.height=l[r]+1+px);for(r=0;sr;r++)a[r].style.display=}},_thsfunction(e){var t,n,i,r,o,a,s,l,c=[];for(s=0,l=e.length;ls;s++)t=e[s],i=[],r=[Z.header],n=t.headerTemplatet.headerTemplate({})t.titlet.field,a=t.headerTemplatef(n)p(n),i.push(t.sortableh(a,{href#,classNameZ.link},[a])a),o={data-fieldt.field,data-titlet.title,stylet.hidden===!0{displaynone}{},classNamer.join( ),rolecolumnheader},o=d(!0,{},o,t.headerAttributes),c.push(h(th,o,i));return c},_colsfunction(e){var t,n,i,r=[];for(i=0;e.lengthi;i++)e[i].hidden!==!0&&(t=e[i].width,n={},t&&0!==parseInt(t,10)&&(n.style={widthstring==typeof ttt+px}),r.push(h(col,n)));return r},_renderColsfunction(){var e=this._nonLockedColumns();this._headerColsTree.render(this._cols(e)),this.options.scrollable&&this._contentColsTree.render(this._cols(e)),this._hasLockedColumns&&(e=this._lockedColumns(),this._lockedHeaderColsTree.render(this._cols(e)),this._lockedContentColsTree.render(this._cols(e)))},_renderHeaderfunction(){var e=this._nonLockedColumns();this._headerTree.render([h(tr,{rolerow},this._ths(e))]),this._hasLockedColumns&&(e=this._lockedColumns(),this._lockedHeaderTree.render([h(tr,{rolerow},this._ths(e))]),this._applyLockedContainersWidth())},_applyLockedContainersWidthfunction(){var e,t,n,i,r,a;this._hasLockedColumns&&(e=o(this.lockedHeader.find(tablecolgroupcol)),t=this.thead.parent(),n=o(t.find(colgroupcol)),i=this.wrapper[0].clientWidth,r=kendo.support.scrollbar(),e=i&&(e=i-3r),this.lockedHeader.add(this.lockedContent).width(e),t.add(this.table).width(n),a=i-e-2,this.content.width(a),t.parent().width(a-r))},_trsfunction(t){var n,i,r,o,a,s,l,c,d=[],u=t.level,h=t.data,p=this.dataSource,f=p.aggregates(){},g=t.columns;for(s=0,l=h.length;ls;s++)r=[],n=h[s],a=n.loaded()&&p.childNodes(n),o=a&&a.length,i={data-uidn.uid,rolerow},o&&(i[aria-expanded]=!!n.expanded),t.visible(this._absoluteIndex%2!==0&&r.push(Z.alt),this._absoluteIndex++)i.style={displaynone},e.inArray(n.uid,t.selected)=0&&r.push(Z.selected),o&&r.push(Z.group),n._edit&&r.push(k-grid-edit-row),i.className=r.join( ),d.push(this._tds({modeln,attri,levelu},g,b(this._td,this))),o&&(d=d.concat(this._trs({columnsg,parentIdn.id,aggregatesf,selectedt.selected,visiblet.visible&&!!n.expanded,dataa,levelu+1})));return this._hasFooterTemplate()&&(c=t.parentIdnull,i={classNameZ.footerTemplate,data-parentIdc},t.visible(i.style={displaynone}),d.push(this._tds({modelf[c],attri,levelu},g,this._footerTd))),d},_footerTdfunction(t){var n=[],i=t.column,o=t.column.footerTemplatee.noop,a=t.model[i.field]{},s={rolegridcell,stylei.hidden===!0{displaynone}{}};return i.expandable&&(n=n.concat(r({levelt.level+1,classNameZ.iconPlaceHolder}))),i.attributes&&d(s,i.attributes),n.push(f(o(a))),h(td,s,n)},_hasFooterTemplatefunction(){return!!x(this.columns,function(e){return e.footerTemplate}).length},_tdsfunction(e,t,n){var i,r,o,a=[];for(r=0,o=t.length;or;r++)i=t[r],a.push(n({modele.model,columni,levele.level}));return h(tr,e.attr,a)},_tdfunction(e){var t,n=[],i=e.model,o=e.column,a={rolegridcell,styleo.hidden===!0{displaynone}{}};return i._edit&&o.field&&i.editable(o.field)a[kendo.attr(container-for)]=o.field(o.expandable&&(n=r({levele.level,classNameZ.iconPlaceHolder}),t=[Z.icon],t.push(i.hasChildreni.expandedZ.iconCollapseZ.iconExpandZ.iconHidden),i._errort.push(Z.refresh)!i.loaded()&&i.expanded&&t.push(Z.loading),n.push(h(span,{classNamet.join( )})),a.style[white-space]=nowrap),o.attributes&&d(!0,a,o.attributes),o.commandn=this._buildCommands(i._edit[update,canceledit]o.command)n.push(this._cellContent(o,i))),h(td,a,n)},_cellContentfunction(e,n){var i;return e.templatei=e.template(n)e.field&&(i=n.get(e.field),e.format&&(i=kendo.format(e.format,i))),(null===it===i)&&(i=),e.template!e.encodedf(i)p(i)},_buildCommandsfunction(e){var t,n=[];for(t=0;e.lengtht;t++)n.push(this._button(e[t]));return n},_buttonfunction(e){var t=(e.namee).toLowerCase(),n=this.options.messages.commands[t],i=[];return e=d({},J[t],{textn},e),e.imageClass&&i.push(h(span,{className[k-icon,e.imageClass].join( )})),h(button,{data-commandt,className[k-button k-button-icontext,e.className].join( )},i.concat([p(e.texte.name)]))},_positionResizeHandlefunction(t){var n,i=e(t.currentTarget),r=3,o=this.resizeHandle,a=i.position(),s=a.left,l=i.outerWidth(),c=i.closest(.k-grid-header-wrap,.k-grid-header-locked,.k-treelist);s+=c.scrollLeft(),o(o=this.resizeHandle=e('div class=k-resize-handlediv class=k-resize-handle-inner div')),c.append(o),t.clientXs+l2s+=li=i.prev(),n=!!i.length&&sr,o.toggle(n).css({topa.top,lefts-r-1,heighti.outerHeight(),width3r}).data(th,i)},_resizablefunction(){if(this.options.resizable){this.resizable&&this.resizable.destroy();var t=this;e(this.lockedHeader).find(thead).add(this.thead).on(mousemove+P,th,e.proxy(this._positionResizeHandle,this)),this.resizable=new kendo.ui.Resizable(this.wrapper,{handle.k-resize-handle,startfunction(n){var i,r,o=e(n.currentTarget).data(th),a=coleq(+o.index()+);t.wrapper.addClass(k-grid-column-resizing),t.lockedHeader&&e.contains(t.lockedHeader[0],o[0])(i=t.lockedHeader,r=t.lockedTable)(i=t.thead.parent(),r=t.table),this.col=r.children(colgroup).find(a).add(i.find(a)),this.th=o,this.startLocation=n.x.location,this.columnWidth=o.outerWidth(),this.table=this.col.closest(table),this.totalWidth=this.table.width()},resizefunction(e){var t=11,n=e.x.location-this.startLocation;tthis.columnWidth+n&&(n=t-this.columnWidth),this.table.width(this.totalWidth+n),this.col.width(this.columnWidth+n)},resizeendfunction(){var e,n,i;t.wrapper.removeClass(k-grid-column-resizing),e=this.th.attr(data-field),n=x(t.columns,function(t){return t.field==e}),i=Math.floor(this.th.outerWidth()),n[0].width=i,t._resize(),t._adjustRowsHeight(),t.trigger(Y,{columnn,oldWidththis.columnWidth,newWidthi}),this.table=this.col=this.th=null}})}},_sortablefunction(){var t,n,i,r,o,a=this.columns,s=e(this.lockedHeader).add(this.thead).find(th),l=kendo.attr(field),c=this.options.sortable;if(c)for(r=0,o=s.length;or;r++)t=a[r],t.sortable!==!1&&!t.command&&t.field&&(i=s.eq(r),n=i.data(kendoColumnSorter),n&&n.destroy(),i.attr(l,t.field).kendoColumnSorter(d({},c,t.sortable,{dataSourcethis.dataSource})))},_filterablefunction(){var t,n,i,r,o,a,s=e(this.lockedHeader).add(this.thead).find(th),l=this.options.filterable;if(l&&!this.options.columnMenu)for(a=b(function(e){this.trigger(W,{fielde.field,containere.container})},this),t=0,n=s.length;nt;t++)i=this.columns[t],r=s.eq(t),o=r.data(kendoFilterMenu),o&&o.destroy(),i.commandi.filterable===!1r.kendoFilterMenu(d(!0,{},l,i.filterable,{dataSourcethis.dataSource,inita}))},_changefunction(){this.trigger(A)},_selectablefunction(){var e,n,i=this.options.selectable,r=this.table;i&&(i=kendo.ui.Selectable.parseOptions(i),this._hasLockedColumns&&(r=r.add(this.lockedTable),n=i.multiple&&i.cell),e=tbodytrnot(.k-footer-template),i.cell&&(e+=td),this.selectable=new kendo.ui.Selectable(r,{filtere,aria!0,multiplei.multiple,changeb(this._change,this),useAllItemsn,continuousItemsb(this._continuousItems,this,e,i.cell),relatedTarget!i.cell&&this._hasLockedColumnsb(this._selectableTarget,this)t}))},_continuousItemsfunction(t,n){var i,r,o,a,s,l;if(this.lockedContent){for(i=e(t,this.lockedTable),r=e(t,this.table),o=nthis._lockedColumns().length1,a=nthis.columns.length-o1,s=[],l=0;i.lengthl;l+=o)T.apply(s,i.slice(l,l+o)),T.apply(s,r.splice(0,a));return s}},_selectableTargetfunction(t){var n,i,r,o=e();for(i=0,r=t.length;ri;i++)n=this._relatedRow(t[i]),C(n[0],t)0&&(o=o.add(n));return o},_relatedRowfunction(t){var n,i,r=this.lockedTable;return t=e(t),r(n=t.closest(this.table.add(this.lockedTable)),i=n.find(tbodytr).index(t),n=n[0]===this.table[0]rthis.table,n.find(tbodytr).eq(i))t},selectfunction(n){var i=this.selectable;return i(t!==n&&(i.options.multiple(i.clear(),n=n.first()),this._hasLockedColumns&&(n=n.add(e.map(n,b(this._relatedRow,this))))),i.value(n))e()},clearSelectionfunction(){var e=this.select();e.length&&(this.selectable.clear(),this.trigger(A))},_dataSourcefunction(e){var t=this.dataSource;t&&(t.unbind(A,this._refreshHandler),t.unbind(E,this._errorHandler),t.unbind(I,this._progressHandler)),this._refreshHandler=b(this.refresh,this),this._errorHandler=b(this._error,this),this._progressHandler=b(this._progress,this),t=this.dataSource=tt.create(e),t.bind(A,this._refreshHandler),t.bind(E,this._errorHandler),t.bind(I,this._progressHandler)},setDataSourcefunction(e){this._dataSource(e),this._sortable(),this._filterable(),this._contentTree.render([]),this.options.autoBind&&this.dataSource.fetch()},dataItemfunction(t){var n=e(t).closest(tr),i=this.dataSource.getByUid(n.attr(kendo.attr(uid)));return i},editRowfunction(e){var t;typeof e===D&&(e=this.tbody.find(e)),t=this.dataItem(e),t&&(popup!=this._editMode()&&(t._edit=!0),this._cancelEditor(),this._render(),this._createEditor(t),this.trigger(R,{containerthis.editor.wrapper,modelt}))},_cancelEditfunction(e){e=d(e,{containerthis.editor.wrapper,modelthis.editor.model}),this.trigger(U,e)this.cancelRow()},cancelRowfunction(){this._cancelEditor(),this._render()},saveRowfunction(){var e,t=this.editor;t&&(e={modelt.model,containert.wrapper},t.end()&&!this.trigger(B,e)&&this.dataSource.sync())},addRowfunction(e){var n=this.editor,i=0,r={};if(!nn.end())return e(e instanceof et(e=this.dataItem(e)),r.parentId=e.id,i=this.dataSource.indexOf(e)+1,e.set(expanded,!0),this.dataSource.load(e).then(b(this._insertAt,this,r,i)),t)(this._insertAt(r,i),t)},_insertAtfunction(e,t){e=this.dataSource.insert(t,e);var n=this.tbody.find([+kendo.attr(uid)+=+e.uid+]);this.editRow(n)},removeRowfunction(e){var t=this.dataItem(e),n={modelt,rowe};t&&!this.trigger(N,n)&&(this.dataSource.remove(t),this.dataSource.sync())},_cancelEditorfunction(){var e,t=this.editor;t&&(e=t.model,this._destroyEditor(),this.dataSource.cancelChanges(e),e._edit=!1)},_destroyEditorfunction(){this.editor&&(this.editor.close(),this.editor=null)},_createEditorfunction(e){var t,n,i=this.tbody.find([+kendo.attr(uid)+=+e.uid+]);i=i.add(this._relatedRow(i)),t=this._editMode(),n={columnsthis.columns,modele,targetthis,clearContainer!1,templatethis.options.editable.template},inline==tthis.editor=new a(i,n)(d(n,{windowthis.options.editable.window,commandRendererb(function(){return this._buildCommands([update,canceledit])},this),fieldRendererthis._cellContent,saveb(this.saveRow,this),cancelb(this._cancelEdit,this),appendTothis.wrapper}),this.editor=new s(i,n))},_editModefunction(){var e=inline,t=this.options.editable;return t!==!0&&(e=string==typeof ttt.modee),e.toLowerCase()},hideColumnfunction(e){this._toggleColumnVisibility(e,!0)},showColumnfunction(e){this._toggleColumnVisibility(e,!1)},_toggleColumnVisibilityfunction(e,t){e=this._findColumn(e),e&&e.hidden!==t&&(e.hidden=t,this._ensureExpandableColumn(),this._renderCols(),this._renderHeader(),this._render(),this._adjustTablesWidth(),this.trigger(tjG,{columne}),te.widththis.table.add(this.thead.closest(table)).width())},_findColumnfunction(e){return e=number==typeof ethis.columns[e]S(e)x(this.columns,function(t){return t===e})[0]x(this.columns,function(t){return t.field===e})[0]},_adjustTablesWidthfunction(){var e,t,n,i=this.thead.prev().children(),r=0;for(e=0,t=i.length;te;e++){if(n=i[e].style.width,!n-1!=n.indexOf(%)){r=0;break}r+=parseInt(n,10)}r&&this.table.add(this.thead.closest(table)).width(r)},_reorderablefunction(){var t,n,i;this.options.reorderable&&(t=this.options.scrollable===!0,n=(t.k-grid-headerfirst tablefirst.k-grid-header )+q,i=this,this._draggableInstance=new g.Draggable(this.wrapper,{groupkendo.guid(),filtern,hintfunction(t){return e('div class=k-header k-drag-clue ').css({widtht.width(),paddingLeftt.css(paddingLeft),paddingRightt.css(paddingRight),lineHeightt.height()+px,paddingTopt.css(paddingTop),paddingBottomt.css(paddingBottom)}).html(t.attr(kendo.attr(title))t.attr(kendo.attr(field))t.text()).prepend('span class=k-icon k-drag-status k-denied ')}}),this.reorderable=new g.Reorderable(this.wrapper,{draggablethis._draggableInstance,dragOverContainersb(this._allowDragOverContainers,this),inSameContainerfunction(t){return e(t.source).parent()[0]===e(t.target).parent()[0]},changefunction(e){var t=e.newIndex,n=e.oldIndex,r=before===e.position,o=i.columns[n];i.trigger($,{newIndext,oldIndexn,columno}),i.reorderColumn(t,o,r)}}))},_allowDragOverContainersfunction(e){return this.columns[e].lockable!==!1},reorderColumnfunction(n,i,r){var o,a,s,l=this.columns,c=C(i,l),d=l[n],u=!!d.locked,h=this._nonLockedColumns().length;c!==n&&(!ui.locked1!=h)&&(u!i.lockedl.length-h!=1)&&(r===t&&(r=cn),o=!!i.locked,o=o!=u,i.locked=u,l.splice(rnn+1,0,i),l.splice(nccc+1,1),this._renderCols(),a=e(this.lockedHeader).add(this.thead).find(th),a.eq(c)[rinsertBeforeinsertAfter](a.eq(n)),s=this._headerTree.children[0].children,this._hasLockedColumns&&(s=this._lockedHeaderTree.children[0].children.concat(s)),s.splice(rnn+1,0,s[c]),s.splice(nccc+1,1),this._hasLockedColumns&&(this._lockedHeaderTree.children[0].children=s.splice(0,this._lockedColumns().length),this._headerTree.children[0].children=s),this._applyLockedContainersWidth(),this.refresh(),o&&(uthis.trigger(K,{columni})this.trigger(X,{columni})))},lockColumnfunction(e){var t,n=this.columns;e=number==typeof en[e]x(n,function(t){return t.field===e})[0],e&&!e.hidden&&(t=this._lockedColumns().length-1,this.reorderColumn(t,e,!1))},unlockColumnfunction(e){var t,n=this.columns;e=number==typeof en[e]x(n,function(t){return t.field===e})[0],e&&!e.hidden&&(t=this._lockedColumns().length,this.reorderColumn(t,e,!0))},_columnMenufunction(){var t,n,i,r,o,a,s=e(this.lockedHeader).add(this.thead).find(th),l=this.columns,c=this.options,u=c.columnMenu,h=b(this._columnMenuInit,this),p=this._lockedColumns().length;if(u)for(boolean==typeof u&&(u={}),a=0;s.lengtha;a++)t=l[a],t.field&&(n=s.eq(a).data(kendoColumnMenu),n&&n.destroy(),r=!1,t.sortable!==!1&&u.sortable!==!1&&c.sortable!==!1&&(r=d({},c.sortable,{compare(t.sortable{}).compare})),o=!1,c.filterable&&t.filterable!==!1&&u.filterable!==!1&&(o=d({panethis.pane},t.filterable,c.filterable)),i={dataSourcethis.dataSource,valuest.values,columnsu.columns,sortabler,filterableo,messagesu.messages,ownerthis,closeCallbacke.noop,inith,panethis.pane,lockedColumnst.lockable!==!1&&p0},c.$angular&&(i.$angular=c.$angular),s.eq(a).kendoColumnMenu(i))
},_columnMenuInitfunction(e){this.trigger(Q,{fielde.field,containere.container})}}),kendo.ExcelMixin&&kendo.ExcelMixin.extend(l.prototype),kendo.PDFMixin&&kendo.PDFMixin.extend(l.prototype),d(!0,kendo.data,{TreeListDataSourcett,TreeListModelet}),d(!0,kendo.ui,{TreeListl}),g.plugin(l)}(window.kendo.jQuery),function(e){function t(e){for(var t,n=0,i=e.length;in;n++)if(2==e[n].type){t=!0;break}t&&e.splice(n+1,0,{captionKPIs,defaultHierarchy[KPIs],nameKPIs,uniqueName[KPIs]})}function n(e){return{namee.uniqueName,typee.type}}function i(e){for(var t=0,n=e.length;nt;t++)e[t].uniqueName=e[t].name,e[t].type=kpi;return e}function r(t){var n=e(t).closest(.k-pivot-setting);return n.lengthn.data(kendoPivotSettingTarget)null}function o(e,t,n){return{hierarchyUniqueNamee,uniqueNamet,captiont,measuret,namet,typen,kpi!0}}function a(e){var t=e.name;return[o(t,e.value,value),o(t,e.goal,goal),o(t,e.status,status),o(t,e.trend,trend)]}var s=window.kendo,l=s.ui,c=l.Widget,d=.kendoPivotConfigurator,u=mouseenter+d+ mouseleave+d,h=s.template('p class=k-resetspan class=k-icon #=icon#span${name}pdiv class=k-list-container k-reset'),p=c.extend({initfunction(e,t){c.fn.init.call(this,e,t),this.element.addClass(k-widget k-fieldselector k-alt k-edit-form-container),this._dataSource(),this._layout(),this.refresh(),s.notify(this)},events[],options{namePivotConfigurator,filterable!1,sortable!1,messages{measuresDrop Data Fields Here,columnsDrop Column Fields Here,rowsDrop Rows Fields Here,measuresLabelMeasures,columnsLabelColumns,rowsLabelRows,fieldsLabelFields}},_dataSourcefunction(){this.dataSource&&this._refreshHandlerthis.dataSource.unbind(change,this._refreshHandler)this._refreshHandler=e.proxy(this.refresh,this),this.dataSource=s.data.PivotDataSource.create(this.options.dataSource),this.dataSource.bind(change,this._refreshHandler)},setDataSourcefunction(e){this.options.dataSource=e,this._dataSource(),this.measures&&this.measures.setDataSource(e),this.rows&&this.rows.setDataSource(e),this.columns&&this.columns.setDataSource(e),this.refresh()},_treeViewDataSourcefunction(){var n=this;return s.data.HierarchicalDataSource.create({schema{model{iduniqueName,hasChildrenfunction(e){return!(hierarchyUniqueNamein eaggregatorin e)}}},transport{readfunction(r){var o,s,l;e.isEmptyObject(r.data)(o=n.dataSource.schemaDimensions(),o.done(function(e){n.dataSource.cubeBuildert(e),r.success(e)}).fail(r.error))(s=n.treeView.dataSource.get(r.data.uniqueName),[KPIs]===s.uniqueName(l=!0,o=n.dataSource.schemaKPIs(),o.done(function(e){r.success(i(e))}).fail(r.error))kpi==s.type&&(l=!0,r.success(a(s))),l(o=2==s.typen.dataSource.schemaMeasures()s.dimensionUniqueNamen.dataSource.schemaLevels(r.data.uniqueName)n.dataSource.schemaHierarchies(r.data.uniqueName),o.done(r.success).fail(r.error)))}}})},_layoutfunction(){this.form=e('div class=k-columns k-state-default k-floatwrap').appendTo(this.element),this._fields(),this._targets()},_fieldsfunction(){var t=e('div class=k-state-defaultp class=k-resetspan class=k-icon k-i-groupspan'+this.options.messages.fieldsLabel+pdiv).appendTo(this.form),i='# if (item.type == 2  item.uniqueName == [KPIs]) { #span class=k-icon k-i-#= (item.type == 2  sum  kpi) #span# } else if (item.type && item.type !== kpi) { #span class=k-icon k-i-dimensionspan# } ## item.caption  item.name #';this.treeView=e(div).appendTo(t).kendoTreeView({templatei,dataTextFieldcaption,dragAndDrop!0,autoBind!1,dataSourcethis._treeViewDataSource(),dragstartfunction(e){var t=this.dataItem(e.sourceNode);(t.hasChildrent.aggregatort.measure)&&2!=t.type&&[KPIs]!==t.uniqueNamee.preventDefault()},dragfunction(e){var t=k-denied,n=r(e.dropTarget);n&&n.validate(this.dataItem(e.sourceNode))&&(t=k-add),e.setStatusClass(t)},dropfunction(e){var t,i,o,s,l,c;if(e.preventDefault(),t=r(e.dropTarget),i=this.dataItem(e.sourceNode),t&&t.validate(i)){if(c=i.defaultHierarchyi.uniqueName,kpi===i.type)for(l=a(i),s=l.length,c=[],o=0;so;o++)c.push(n(l[o]));else i.kpi&&(c=[n(i)]);t.add(c)}}}).data(kendoTreeView)},_createTargetfunction(t,n){var i='li class=k-item k-header data-'+s.ns+'name=${data.name}${data.name}',r=n.sortable,o=;return r&&(o+=#if (data.sortIcon) {#,o+='span class=k-icon ${data.sortIcon} k-setting-sortspan',o+=#}#),(n.filterabler)&&(o+='span class=k-icon k-i-arrowhead-s k-setting-fieldmenuspan'),o+='span class=k-icon k-si-close k-setting-deletespan',i+='span class=k-field-actions'+o+spanli,new s.ui.PivotSettingTarget(t,e.extend({dataSourcethis.dataSource,hintfunction(t){var n=e('div class=k-fieldselectorul class=k-list k-resetuldiv');return n.find(.k-list).append(t.clone()),n},templatei,emptyTemplate'li class=k-item k-empty${data}li'},n))},_targetsfunction(){var t=e('div class=k-state-default').appendTo(this.form),n=e(h({namethis.options.messages.columnsLabel,iconk-i-vbars})).appendTo(t),i=e('ul class=k-pivot-configurator-settings k-list k-reset ').appendTo(n.last()),r=e(h({namethis.options.messages.rowsLabel,iconk-i-hbars})).appendTo(t),o=e('ul class=k-pivot-configurator-settings k-list k-reset ').appendTo(r.last()),a=e(h({namethis.options.messages.measuresLabel,iconk-i-sum})).appendTo(t),s=e('ul class=k-pivot-configurator-settings k-list k-reset ').appendTo(a.last()),l=this.options;this.columns=this._createTarget(i,{filterablel.filterable,sortablel.sortable,connectWitho,messages{emptyl.messages.columns,fieldMenul.messages.fieldMenu}}),this.rows=this._createTarget(o,{filterablel.filterable,settingrows,connectWithi,messages{emptythis.options.messages.rows,fieldMenuthis.options.messages.fieldMenu}}),this.measures=this._createTarget(s,{settingmeasures,messages{emptyl.messages.measures}}),i.add(o).add(s).on(u,.k-itemnot(.k-empty),this._toggleHover)},_toggleHoverfunction(t){e(t.currentTarget).toggleClass(k-state-hover,mouseenter===t.type)},_resizefunction(){var e,t,n=this.element,i=this.options.height;i&&n.is(visible)&&(n.height(i),t=n.children(.k-columns).children(div.k-state-default),e=(n.outerHeight()-n.innerHeight())2,i=i-(t.outerHeight(!0)-t.height())-e,t.height(i))},refreshfunction(){var e=this.dataSource;(e.cubeBuilderthis._cube!==e.cube()this._catalog!==e.catalog())&&this.treeView.dataSource.fetch(),this._catalog=this.dataSource.catalog(),this._cube=this.dataSource.cube(),this._resize()},destroyfunction(){c.fn.destroy.call(this),this.dataSource.unbind(change,this._refreshHandler),this.form.find(.k-list).off(d),this.rows.destroy(),this.columns.destroy(),this.measures.destroy(),this.treeView.destroy(),this.element=null,this._refreshHandler=null}});l.plugin(p)}(window.kendo.jQuery),function(e,t,n){use strict;function i(e){var t=C;try{return C=function(e){return e()},e()}finally{C=t}}function r(e,i,r,o){i[r]=t.copy(e.$eval(o)),i[r]===n&&o.match(^w$)&&T.warn(r+ attribute resolved to undefined. Maybe you meant to use a string literal like '+o+')}function o(i,o,c,d,m,v){function _(){var n,v,_,w,y,x,C,S,T,M,P,z,F;return c.kRebind&&(n=e(e(o)[0].cloneNode(!0))),v=d.replace(^kendo,),_=t.extend({},c.defaultOptions,i.$eval(c.kOptionsc.options)),(w=e(o)[d])(y=w.widget.prototype.options,x=w.widget.prototype.events,e.each(c,function(e,t){var n,o,a,s;source!==e&&kDataSource!==e&&kScopeField!==e&&(n=data+e.charAt(0).toUpperCase()+e.slice(1),0===e.indexOf(on)&&(o=e.replace(^on.,function(e){return e.charAt(2).toLowerCase()}),x.indexOf(o)-1&&(_[o]=t)),y.hasOwnProperty(n)r(i,_,n,t)y.hasOwnProperty(e)&&!I[e]r(i,_,e,t)E[e](a=e.match(^k(On)([A-Z].)),a&&(s=a[2].charAt(0).toLowerCase()+a[2].slice(1),a[1]&&kOnLabel!=e_[s]=t(kOnLabel==e&&(s=onLabel),r(i,_,s,t)))))}),C=c.kDataSourcec.source,C&&(_.dataSource=A(i,o,v,C)),_.$angular=[i],o.is(select)&&!function(t){if(t.length0){var n=e(t[0]);!S.test(n.text())&&^.test(n.val())&&n.remove()}}(o[0].options),S=w.call(o,D=_).data(d),l(S,i,c,d,m),i.$emit(kendoWidgetCreated,S),T=p(i,S),c.kRebind&&g(S,i,o,n,c.kRebind,T,c),c.kNgDisabled&&(M=c.kNgDisabled,P=i.$eval(M),P&&S.enable(!P),a(S,i,o,M)),c.kNgReadonly&&(z=c.kNgReadonly,F=i.$eval(z),F&&S.readonly(F),s(S,i,o,z)),c.kNgModel&&h(S,i,c.kNgModel),b&&u(S,i,o,b,k),S&&f(S,o),S)(window.console.error(Could not find +d),null)}var w,y,b,k,x,S;if(!(o instanceof jQuery))throw Error(The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.);return w=c.kNgDelay,y=i.$eval(w),v=v[],b=v[0],k=v[1],w&&!y(x=i.$rooti,S=function(){var e=i.$watch(w,function(t,n){t!==n&&(e(),o.removeAttr(c.$attr.kNgDelay),w=null,C(_))})},^$(digestapply)$.test(x.$$phase)S()i.$apply(S),n)_()}function a(e,t,i,r){return kendo.ui.PanelBar&&e instanceof kendo.ui.PanelBarkendo.ui.Menu&&e instanceof kendo.ui.Menu(T.warn(k-ng-disabled specified on a widget that does not have the enable() method +e.options.name),n)(t.$apply(function(){t.$watch(r,function(t,n){t!=n&&e.enable(!t)})}),n)}function s(e,t,i,r){returnfunction!=typeof e.readonly(T.warn(k-ng-readonly specified on a widget that does not have the readonly() method +e.options.name),n)(t.$apply(function(){t.$watch(r,function(t,n){t!=n&&e.readonly(t)})}),n)}function l(e,t,n,i,r){if(n[r]){var o=x(n[r]).assign;if(!o)throw Error(r+ attribute used but expression in it is not assignable +n[i]);o(t,e)}}function c(e){returncheckboxradioi.test(e.attr(type))e.prop(checked)e.val()}function d(e){return M.test(e[0].tagName)}function u(e,t,i,r,o){var a,s,l,u;e.value&&(a=d(i)function(){return c(i)}function(){return e.value()},r.$render=function(){var t=r.$viewValue;t===n&&(t=r.$modelValue),setTimeout(function(){e&&e.value(t)},0)},s=!1,d(i)&&i.on(change,function(){s=!0}),l=function(e){return function(){var n;s(s=!1,e&&o&&(n=o.$pristine),r.$setViewValue(a()),e&&(r.$setPristine(),n&&o.$setPristine()),_(t))}},e.first(change,l(!1)),e.first(dataBound,l(!0)),u=a(),u!=r.$viewValue&&(r.$isEmpty(r.$viewValue)null!=u&&!==u&&u!=r.$viewValue&&r.$setViewValue(u)e.value(r.$viewValue)),r.$setPristine())}function h(t,i,r){var o,a,s,l,c;returnfunction!=typeof t.value(T.warn(k-ng-model specified on a widget that does not have the value() method +t.options.name),n)(o=e(t.element).parents(form),a=i[o.attr(name)],s=x(r),l=s.assign,c=!1,t.$angular_setLogicValue(s(i)),i.$apply(function(){var e=function(e,i){e===n&&(e=null),ce!==i&&t.$angular_setLogicValue(e)};kendo.ui.MultiSelect&&t instanceof kendo.ui.MultiSelecti.$watchCollection(r,e)i.$watch(r,e)}),t.first(change,function(){c=!0,a&&a.$pristine&&a.$setDirty(),i.$apply(function(){l(i,t.$angular_getLogicValue())}),c=!1}),n)}function p(e,t){var n=e.$on($destroy,function(){n(),t&&(t.element&&(t=v(t.element),t&&t.destroy()),t=null)});return n}function f(t,n){function i(){a.disconnect()}function r(){a.observe(e(n)[0],{attributes!0})}var o,a;window.MutationObserver&&t.wrapper&&(o=[].slice.call(e(n)[0].classList),a=new MutationObserver(function(n){i(),t&&(n.forEach(function(n){var i,r=e(t.wrapper)[0];switch(n.attributeName){caseclassi=[].slice.call(n.target.classList),i.forEach(function(e){o.indexOf(e)0&&(r.classList.add(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.add(e))}),o.forEach(function(e){i.indexOf(e)0&&(r.classList.remove(e),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.remove(e))}),o=i;break;casedisabledfunction==typeof t.enable&&t.enable(!e(n.target).attr(disabled));break;casereadonlyfunction==typeof t.readonly&&t.readonly(!!e(n.target).attr(readonly))}}),r())}),r(),t.first(destroy,i))}function g(t,n,i,r,o,a,s){var l=n.$watch(o,function(o,c){var d,u,h,p;o!==c&&(l(),d=B[t.options.name],d&&d.forEach(function(t){var i=n.$eval(s[k+t]);i&&r.append(e(i).attr(kendo.toHyphens(k+t),))}),u=e(t.wrapper)[0],h=e(t.element)[0],p=i.injector().get($compile),t.destroy(),a&&a(),t=null,u&&h&&(u.parentNode.replaceChild(h,u),e(i).replaceWith(r)),p(r)(n))},!0);_(n)}function m(e,n){function i(e,t){b.directive(e,[directiveFactory,function(n){return n.create(t,e)}])}var r,o,a,s,l=nMobile;l+=e.fn.options.name,r=l,o=kendo+l.charAt(0)+l.substr(1).toLowerCase(),l=kendo+l,a=l.replace(([A-Z])g,-$1),-1==z.indexOf(l.replace(kendo,))&&(s=l===o[l][l,o],t.forEach(s,function(e){b.directive(e,function(){return{restrictE,replace!0,templatefunction(e,t){var n=P[r]div,i=t.kScopeField;return+n+ +a+(i'='+i+'')++e.html()++n+}}})})),F.indexOf(l.replace(kendo,))-1(i(l,l),o!=l&&i(o,l))}function v(t){return t=e(t),kendo.widgetInstance(t,kendo.ui)kendo.widgetInstance(t,kendo.mobile.ui)kendo.widgetInstance(t,kendo.dataviz.ui)}function _(e,t){var n=e.$roote,i=^$(digestapply)$.test(n.$$phase);tit()n.$apply(t)in.$digest()}function w(t,n){t.$destroy(),n&&e(n).removeData($scope).removeData($$kendoScope).removeData($isolateScope).removeData($isolateScopeNoTemplate).removeClass(ng-scope)}function y(n,i,r){var o,a,s;if(e.isArray(n))return t.forEach(n,function(e){y(e,i,r)});if(string==typeof n){for(o=n.split(.),a=kendo;a&&o.length0;)a=a[o.shift()];if(!a)return R.push([n,i,r]),!1;n=a.prototype}return s=n[i],n[i]=function(){var e=this,t=arguments;return r.apply({selfe,nextfunction(){return s.apply(e,arguments.length0argumentst)}},t)},!0}var b,k,x,C,S,T,D,A,E,I,M,P,z,F,R,B;t&&(b=t.module(kendo.directives,[]),k=t.injector([ng]),x=k.get($parse),C=k.get($timeout),T=k.get($log),A=function(){var e={TreeListTreeListDataSource,TreeViewHierarchicalDataSource,SchedulerSchedulerDataSource,PanelBar$PLAIN,Menu$PLAIN,ContextMenu$PLAIN},t=function(e,t){return$PLAIN==tekendo.data[t].create(e)};return function(n,i,r,o){var a=e[r]DataSource,s=t(n.$eval(o),a);return n.$watch(o,function(e,n){var r,o;e!==n&&(r=t(e,a),o=v(i),o&&function==typeof o.setDataSource&&o.setDataSource(r))}),s}}(),E={kDataSource!0,kOptions!0,kRebind!0,kNgModel!0,kNgDelay!0},I={name!0,title!0,style!0},M=^(inputselecttextarea)$i,b.factory(directiveFactory,[$compile,function(t){var n,i=0,r=!1;return S=t,n=function(t,n){return{restrictAC,require[ngModel,^form],scope!1,controller[$scope,$attrs,$element,function(e,t){this.template=function(e,n){t[e]=kendo.stringify(n)}}],linkfunction(a,s,l,c){var d=e(s),u=t.replace(([A-Z])g,-$1),h=hidden!==d.css(visibility);d.attr(u,d.attr(data-+u)),d[0].removeAttribute(data-+u),h&&d.css(visibility,hidden),++i,C(function(){h&&d.css(visibility,);var u=o(a,s,l,t,n,c);u&&(--i,0===i&&(a.$emit(kendoRendered),r(r=!0,e(form).each(function(){var t=e(this).controller(form);t&&t.$setPristine()}))))})}}},{createn}}]),P={Editortextarea,NumericTextBoxinput,DatePickerinput,DateTimePickerinput,TimePickerinput,AutoCompleteinput,ColorPickerinput,MaskedTextBoxinput,MultiSelectinput,Uploadinput,Validatorform,Buttonbutton,MobileButtona,MobileBackButtona,MobileDetailButtona,ListViewul,MobileListViewul,TreeViewul,Menuul,ContextMenuul,ActionSheetul},z=[MobileView,MobileLayout,MobileSplitView,MobilePane,MobileModalView],F=[MobileApplication,MobileView,MobileModalView,MobileLayout,MobileActionSheet,MobileDrawer,MobileSplitView,MobilePane,MobileScrollView,MobilePopOver],t.forEach([MobileNavBar,MobileButton,MobileBackButton,MobileDetailButton,MobileTabStrip,MobileScrollView,MobileScroller],function(e){F.push(e),e=kendo+e,b.directive(e,function(){return{restrictA,linkfunction(t,n,i){o(t,n,i,e,e)}}})}),function(){function e(e){return function(n){t.forEach(n,function(t){t.fn&&t.fn.options&&t.fn.options.name&&^[A-Z].test(t.fn.options.name)&&m(t,e)})}}t.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],e(!1)),t.forEach([kendo.mobile&&kendo.mobile.ui],e(!0))}(),R=[],y(kendo.ui,plugin,function(t,n,i){this.next(),R=e.grep(R,function(e){return!y.apply(null,e)}),m(t,Mobile==i)}),y([ui.Widget,mobile.ui.Widget],angular,function(r,o){var a,s=this.self;returninit==r(!o&&D&&(o=D),D=null,o&&o.$angular&&(s.$angular_scope=o.$angular[0],s.$angular_init(s.element,o)),n)(a=s.$angular_scope,a&&i(function(){var i,l,c=o(),d=c.elements,u=c.data;if(d.length0)switch(r){casecleanupt.forEach(d,function(t){var n=e(t).data($$kendoScope);n&&n!==a&&n.$$kendoScope&&w(n,t)});break;casecompilei=s.element.injector(),l=ii.get($compile)S,t.forEach(d,function(t,i){var r,o;c.scopeFromr=c.scopeFrom(o=u&&u[i],o!==n(r=e.extend(a.$new(),o),r.$$kendoScope=!0)r=a),e(t).data($$kendoScope,r),l(t)(r)}),_(a)}}),n)}),y(ui.Widget,$angular_getLogicValue,function(){return this.self.value()}),y(ui.Widget,$angular_setLogicValue,function(e){this.self.value(e)}),y(ui.Select,$angular_getLogicValue,function(){var e=this.self.dataItem();return ethis.self.options.valuePrimitivee[this.self.options.dataValueField]e.toJSON()null}),y(ui.Select,$angular_setLogicValue,function(e){var t=this.self,n=t.options,i=n.dataValueField,r=n.text;e=e,i&&!n.valuePrimitive&&e&&(r=e[n.dataTextField],e=e[in.dataTextField]),t.options.autoBind!==!1t.listView.isBound()t.value(e)t._preselect(e,r)}),y(ui.MultiSelect,$angular_getLogicValue,function(){var t=this.self.dataItems().slice(0),n=this.self.options.dataValueField;return n&&this.self.options.valuePrimitive&&(t=e.map(t,function(e){return e[n]})),t}),y(ui.MultiSelect,$angular_setLogicValue,function(t){var n,i,r,o;null==t&&(t=[]),n=this.self,i=n.options,r=i.dataValueField,o=t,r&&!i.valuePrimitive&&(t=e.map(t,function(e){return e[r]})),i.autoBind!==!1i.valuePrimitiven.listView.isBound()n.value(t)n._preselect(o,t)}),y(ui.AutoComplete,$angular_getLogicValue,function(){var e,t,n,i,r,o=this.self.options,a=this.self.value().split(o.separator),s=o.valuePrimitive,l=this.self.dataSource.data(),c=[];for(e=0,t=l.length;te;e++)for(n=l[e],i=o.dataTextFieldn[o.dataTextField]n,r=0;a.lengthr;r++)if(i===a[r]){c.push(sin.toJSON());break}return c}),y(ui.AutoComplete,$angular_setLogicValue,function(t){null==t&&(t=[]);var n=this.self,i=n.options.dataTextField;i&&!n.options.valuePrimitive&&(t=e.map(t,function(e){return e[i]})),n.value(t)}),y(ui.Widget,$angular_init,function(t,n){var i,r,o,a,s=this.self;if(n&&!e.isArray(n))for(i=s.$angular_scope,r=s.events.length;--r=0;)o=s.events[r],a=n[o],a&&string==typeof a&&(n[o]=s.$angular_makeEventHandler(o,i,a))}),y(ui.Widget,$angular_makeEventHandler,function(e,t,n){return n=x(n),function(e){_(t,function(){n(t,{kendoEvente})})}}),y([ui.Grid,ui.ListView,ui.TreeView],$angular_makeEventHandler,function(e,n,i){returnchange!=ethis.next()(i=x(i),function(e){var r,o,a,s,l,c,d,u,h,p=e.sender,f=p.options,g={kendoEvente};for(t.isString(f.selectable)&&(r=-1!==f.selectable.indexOf(cell),o=-1!==f.selectable.indexOf(multiple)),a=g.selected=this.select(),s=g.data=[],l=g.columns=[],d=0;a.lengthd;d++)u=ra[d].parentNodea[d],h=p.dataItem(u),r(t.element.inArray(h,s)0&&s.push(h),c=t.element(a[d]).index(),t.element.inArray(c,l)0&&l.push(c))s.push(h);o(g.dataItem=g.data=s[0],g.selected=a[0]),_(n,function(){i(n,g)})})}),y(ui.Grid,$angular_init,function(i,r){if(this.next(),r.columns){var o=e.extend({},kendo.Template,r.templateSettings);t.forEach(r.columns,function(e){!e.fielde.templatee.formate.valuese.encoded!==n&&!e.encoded(e.template=span ng-bind='+kendo.expr(e.field,dataItem)+'# +kendo.expr(e.field,o.paramName)+#span)})}}),y(mobile.ui.ButtonGroup,value,function(e){var t=this.self;return null!=e&&(t.select(t.element.children(li.km-button).eq(e)),t.trigger(change),t.trigger(select,{indext.selectedIndex})),t.selectedIndex}),y(mobile.ui.ButtonGroup,_select,function(){this.next(),this.self.trigger(change)}),b.directive(kendoMobileApplication,function(){return{terminal!0,linkfunction(e,t,n){o(e,t,n,kendoMobileApplication,kendoMobileApplication)}}}).directive(kendoMobileView,function(){return{scope!0,link{prefunction(e,t,n){n.defaultOptions=e.viewOptions,n._instance=o(e,t,n,kendoMobileView,kendoMobileView)},postfunction(e,t,n){n._instance._layout(),n._instance._scroller()}}}}).directive(kendoMobileDrawer,function(){return{scope!0,link{prefunction(e,t,n){n.defaultOptions=e.viewOptions,n._instance=o(e,t,n,kendoMobileDrawer,kendoMobileDrawer)},postfunction(e,t,n){n._instance._layout(),n._instance._scroller()}}}}).directive(kendoMobileModalView,function(){return{scope!0,link{prefunction(e,t,n){n.defaultOptions=e.viewOptions,n._instance=o(e,t,n,kendoMobileModalView,kendoMobileModalView)},postfunction(e,t,n){n._instance._layout(),n._instance._scroller()}}}}).directive(kendoMobileSplitView,function(){return{terminal!0,link{prefunction(e,t,n){n.defaultOptions=e.viewOptions,n._instance=o(e,t,n,kendoMobileSplitView,kendoMobileSplitView)},postfunction(e,t,n){n._instance._layout()}}}}).directive(kendoMobilePane,function(){return{terminal!0,link{prefunction(e,t,n){n.defaultOptions=e.viewOptions,o(e,t,n,kendoMobilePane,kendoMobilePane)}}}}).directive(kendoMobileLayout,function(){return{link{prefunction(e,t,n){o(e,t,n,kendoMobileLayout,kendoMobileLayout)}}}}).directive(kendoMobileActionSheet,function(){return{restrictA,linkfunction(t,n,i){n.find(a[k-action]).each(function(){e(this).attr(data-+kendo.ns+action,e(this).attr(k-action))}),o(t,n,i,kendoMobileActionSheet,kendoMobileActionSheet)}}}).directive(kendoMobilePopOver,function(){return{terminal!0,link{prefunction(e,t,n){n.defaultOptions=e.viewOptions,o(e,t,n,kendoMobilePopOver,kendoMobilePopOver)}}}}).directive(kendoViewTitle,function(){return{restrictE,replace!0,templatefunction(e){returnspan data-+kendo.ns+role='view-title'+e.html()+span}}}).directive(kendoMobileHeader,function(){return{restrictE,linkfunction(e,t){t.addClass(km-header).attr(data-role,header)}}}).directive(kendoMobileFooter,function(){return{restrictE,linkfunction(e,t){t.addClass(km-footer).attr(data-role,footer)}}}).directive(kendoMobileScrollViewPage,function(){return{restrictE,replace!0,templatefunction(e){returndiv data-+kendo.ns+role='page'+e.html()+div}}}),t.forEach([align,icon,rel,transition,actionsheetContext],function(e){var t=k+e.slice(0,1).toUpperCase()+e.slice(1);b.directive(t,function(){return{restrictA,priority2,linkfunction(n,i,r){i.attr(kendo.attr(kendo.toHyphens(e)),n.$eval(r[t]))}}})}),B={TreeMap[Template],MobileListView[HeaderTemplate,Template],MobileScrollView[EmptyTemplate,Template],Grid[AltRowTemplate,DetailTemplate,RowTemplate],ListView[EditTemplate,Template,AltTemplate],Pager[SelectTemplate,LinkTemplate],PivotGrid[ColumnHeaderTemplate,DataCellTemplate,RowHeaderTemplate],Scheduler[AllDayEventTemplate,DateHeaderTemplate,EventTemplate,MajorTimeHeaderTemplate,MinorTimeHeaderTemplate],TreeView[Template],Validator[ErrorTemplate]},function(){var e={};t.forEach(B,function(n,i){t.forEach(n,function(t){e[t](e[t]=[]),e[t].push(^^kendo+i)})}),t.forEach(e,function(e,t){var n=k+t,i=kendo.toHyphens(n);b.directive(n,function(){return{restrictA,requiree,terminal!0,compilefunction(t,r){if(===r[n]){t.removeAttr(i);var o=t[0].outerHTML;return function(r,a,s,l){for(var c;!c&&l.length;)c=l.shift();c(c.template(n,o),t.remove())T.warn(i+ without a matching parent widget found. It can be one of the following +e.join(, ))}}}}})})}())}(window.kendo.jQuery,window.angular),function(e,t){function n(e,t){var n={top0,right0,bottom0,left0};return t=t0,number==typeof en[Rt]=n[Ft]=n[lt]=n[St]=e(n[Rt]=e[Rt]t,n[Ft]=e[Ft]t,n[lt]=e[lt]t,n[St]=e[St]t),n}function i(e,t){var n=e.tickX,i=e.tickY,r=e.position,o=new X.Path({stroke{widtht.width,colort.color}});return e.verticalo.moveTo(n,r).lineTo(n+t.size,r)o.moveTo(r,i).lineTo(r,i+t.size),b(o),o}function r(e,t){var n=e.lineStart,i=e.lineEnd,r=e.position,o=new X.Path({stroke{widtht.width,colort.color,dashTypet.dashType}});return e.verticalo.moveTo(n,r).lineTo(i,r)o.moveTo(r,n).lineTo(r,i),b(o),o}function o(e,t){var n,i,r,o=u(t-e,vt-1);if(0===o){if(0===t)return.1;o=rt.abs(t)}return n=rt.pow(10,rt.floor(rt.log(o)rt.log(10))),i=u(on,vt),r=1,r=1.904762i.24.761904i.59.523809i12,u(nr,vt)}function a(e,t,n,i,r){var o=rwt;return new Ut(n+(e-n)rt.cos(o)+(t-i)rt.sin(o),i-(e-n)rt.sin(o)+(t-i)rt.cos(o))}function s(t,n){if(t.x1==n.x1&&t.y1==n.y1&&t.x2==n.x2&&t.y2==n.y2)return n;var i=rt.min(t.x1,n.x1),r=rt.max(t.x1,n.x1),o=rt.min(t.x2,n.x2),a=rt.max(t.x2,n.x2),s=rt.min(t.y1,n.y1),l=rt.max(t.y1,n.y1),c=rt.min(t.y2,n.y2),d=rt.max(t.y2,n.y2),u=[];return u[0]=C(r,s,o,l),u[1]=C(i,l,r,c),u[2]=C(o,l,a,c),u[3]=C(r,c,o,d),t.x1==i&&t.y1==sn.x1==i&&n.y1==s(u[4]=C(i,s,r,l),u[5]=C(o,c,a,d))(u[4]=C(o,s,a,l),u[5]=C(i,c,r,d)),e.grep(u,function(e){return e.height()0&&e.width()0})[0]}function l(e,t){return-1!=nt(e,t)}function c(e,t){return u(rt.ceil(et)t,vt)}function d(e,t){return u(rt.floor(et)t,vt)}function u(e,t){var n=rt.pow(10,t0);return rt.round(en)n}function h(e,t){return rt.log(e)rt.log(t)}function p(e,t,n){var i=u(rt.abs(e%t),vt),r=t(1-n);return 0===iir}function f(e,t,n){return u(e+(t-e)n,dt)}function g(e,t){return e-t}function m(e,t){return e.match(yt)W.format.apply(this,arguments)W.toString(t,e)}function v(e,t){return 0-e.xt.y+e.yt.x}function _(e,t){return e&&te.getTime()-t.getTime()-1}function w(e){var t=e.originalEvent,n=0;return t.wheelDelta&&(n=-t.wheelDelta120,n=n0rt.ceil(n)rt.floor(n)),t.detail&&(n=u(t.detail3)),n}function y(e){if(!e!e.indexOfe.indexOf(&)0)return e;var t=y._element;return t.innerHTML=e,t.textContentt.innerText}function b(e){if(!W.support.vml)for(var t=0;e.segments.lengtht;t++)e.segments[t].anchor().round(0).translate(.5,.5);return e}function k(e){var t,n,i=e.stops,r=e.innerRadiuse.radius100,o=i.length,a=[];for(t=0;ot;t++)n=ot({},i[t]),n.offset=(n.offset(100-r)+r)100,a.push(n);return a}function x(e){var t=e.origin,n=e.bottomRight();return new C(t.x,t.y,n.x,n.y)}var C,S,T,D,A,E,I,M,P,z,F,R,B,H,L,N,O,V,U,W=window.kendo,j=W.util,G=j.append,q=j.defined,$=j.last,Y=j.valueOrDefault,Q=W.dataviz,K=Q.geometry,X=Q.drawing,Z=X.util.measureText,J=W.Class,et=W.template,tt=e.noop,nt=e.inArray,it=e.trim,rt=Math,ot=W.deepExtend,at=axisLabelClick,st=#000,lt=bottom,ct=center,dt=3,ut=clip,ht=circle,pt=cross,ft=12px sans-serif,gt=400,mt=7,vt=6,_t=600,wt=rt.PI180,yt={d+,bt=height,kt=1e5,xt=600,Ct=inside,St=left,Tt=linear,Dt=Number.MAX_VALUE,At=-Number.MAX_VALUE,Et=none,It=noteClick,Mt=noteHover,Pt=outside,zt=radial,Ft=right,Rt=top,Bt=triangle,Ht=width,Lt=#fff,Nt=x,Ot=y,Vt=.2,Ut=function(e,n){var i=this;return i instanceof Ut(i.x=e0,i.y=n0,t)new Ut(e,n)};Ut.fn=Ut.prototype={clonefunction(){var e=this;return new Ut(e.x,e.y)},equalsfunction(e){return e&&e.x===this.x&&e.y===this.y},rotatefunction(e,t){var n=this,i=twt,r=rt.cos(i),o=rt.sin(i),a=e.x,s=e.y,l=n.x,c=n.y;return n.x=u(a+(l-a)r+(c-s)o,dt),n.y=u(s+(c-s)r-(l-a)o,dt),n},multiplyfunction(e){var t=this;return t.x=e,t.y=e,t},distanceTofunction(e){var t=this.x-e.x,n=this.y-e.y;return rt.sqrt(tt+nn)}},Ut.onCircle=function(e,t,n){return t=wt,new Ut(e.x-nrt.cos(t),e.y-nrt.sin(t))},C=function(e,n,i,r){var o=this;return o instanceof C(o.x1=e0,o.x2=i0,o.y1=n0,o.y2=r0,t)new C(e,n,i,r)},C.fn=C.prototype={widthfunction(){return this.x2-this.x1},heightfunction(){return this.y2-this.y1},translatefunction(e,t){var n=this;return n.x1+=e,n.x2+=e,n.y1+=t,n.y2+=t,n},movefunction(e,t){var n=this,i=n.height(),r=n.width();return q(e)&&(n.x1=e,n.x2=n.x1+r),q(t)&&(n.y1=t,n.y2=n.y1+i),n},wrapfunction(e){var t=this;return t.x1=rt.min(t.x1,e.x1),t.y1=rt.min(t.y1,e.y1),t.x2=rt.max(t.x2,e.x2),t.y2=rt.max(t.y2,e.y2),t},wrapPointfunction(e){return this.wrap(new C(e.x,e.y,e.x,e.y)),this},snapTofunction(e,t){var n=this;return t!=Nt&&t(n.x1=e.x1,n.x2=e.x2),t!=Ot&&t(n.y1=e.y1,n.y2=e.y2),n},alignTofunction(e,t){var n,i,r=this,o=r.height(),a=r.width(),s=t==Rtt==ltOtNt,l=s==Otoa;return t===ct(n=e.center(),i=r.center(),r.x1+=n.x-i.x,r.y1+=n.y-i.y)r[s+1]=t===Rtt===Ste[s+1]-le[s+2],r.x2=r.x1+a,r.y2=r.y1+o,r},shrinkfunction(e,t){var n=this;return n.x2-=e,n.y2-=t,n},expandfunction(e,t){return this.shrink(-e,-t),this},padfunction(e){var t=this,i=n(e);return t.x1-=i.left,t.x2+=i.right,t.y1-=i.top,t.y2+=i.bottom,t},unpadfunction(e){var t=this,i=n(e);return i.left=-i.left,i.top=-i.top,i.right=-i.right,i.bottom=-i.bottom,t.pad(i)},clonefunction(){var e=this;return new C(e.x1,e.y1,e.x2,e.y2)},centerfunction(){var e=this;return new Ut(e.x1+e.width()2,e.y1+e.height()2)},containsPointfunction(e){var t=this;return e.x=t.x1&&t.x2=e.x&&e.y=t.y1&&t.y2=e.y},pointsfunction(){var e=this;return[new Ut(e.x1,e.y1),new Ut(e.x2,e.y1),new Ut(e.x2,e.y2),new Ut(e.x1,e.y2)]},getHashfunction(){var e=this;return[e.x1,e.y1,e.x2,e.y2].join(,)},overlapsfunction(e){return!(this.y1e.y2e.y1this.y2this.x1e.x2e.x1this.x2)},rotatefunction(e){var t=this,n=t.width(),i=t.height(),r=t.center(),o=r.x,s=r.y,l=a(0,0,o,s,e),c=a(n,0,o,s,e),d=a(n,i,o,s,e),u=a(0,i,o,s,e);return n=rt.max(l.x,c.x,d.x,u.x)-rt.min(l.x,c.x,d.x,u.x),i=rt.max(l.y,c.y,d.y,u.y)-rt.min(l.y,c.y,d.y,u.y),t.x2=t.x1+n,t.y2=t.y1+i,t},toRectfunction(){return new K.Rect([this.x1,this.y1],[this.width(),this.height()])},hasSizefunction(){return 0!==this.width()&&0!==this.height()},alignfunction(e,t,n){var i=this,r=t+1,o=t+2,a=t===NtHtbt,s=i[a]();l(n,[St,Rt])(i[r]=e[r],i[o]=i[r]+s)l(n,[Ft,lt])(i[o]=e[o],i[r]=i[o]-s)n==ct&&(i[r]=e[r]+(e[a]()-s)2,i[o]=i[r]+s)}},S=J.extend({initfunction(e,t,n,i,r){var o=this;o.c=e,o.ir=t,o.r=n,o.startAngle=i,o.angle=r},clonefunction(){var e=this;return new S(e.c,e.ir,e.r,e.startAngle,e.angle)},middlefunction(){return this.startAngle+this.angle2},radiusfunction(e,t){var n=this;return tn.ir=en.r=e,n},pointfunction(e,t){var n=this,i=ewt,r=rt.cos(i),o=rt.sin(i),a=tn.irn.r,s=u(n.c.x-ra,dt),l=u(n.c.y-oa,dt);return new Ut(s,l)},adjacentBoxfunction(e,t,n){var i=this.clone().expand(e),r=i.middle(),o=i.point(r),a=t2,s=n2,l=o.x-a,c=o.y-s,d=rt.sin(rwt),u=rt.cos(rwt);return rt.abs(d).9&&(l+=a-urt.abs(u)),rt.abs(u).9&&(c+=s-drt.abs(d)),new C(l,c,l+t,c+n)},containsPointfunction(e){var t=this,n=t.c,i=t.ir,r=t.r,o=t.startAngle,a=t.startAngle+t.angle,s=e.x-n.x,l=e.y-n.y,c=new Ut(s,l),d=t.point(o),h=new Ut(d.x-n.x,d.y-n.y),p=t.point(a),f=new Ut(p.x-n.x,p.y-n.y),g=u(ss+ll,dt);return(h.equals(c)v(h,c))&&!v(f,c)&&g=ii&&rr=g},getBBoxfunction(){var e,t,n,i=this,r=new C(Dt,Dt,At,At),o=u(i.startAngle%360),a=u((o+i.angle)%360),s=i.ir,l=[0,90,180,270,o,a].sort(g),c=nt(o,l),d=nt(a,l);for(e=o==aldcl.slice(c,d+1)[].concat(l.slice(0,d+1),l.slice(c,l.length)),t=0;e.lengtht;t++)n=i.point(e[t]),r.wrapPoint(n),r.wrapPoint(n,s);return sr.wrapPoint(i.c),r},expandfunction(e){return this.r+=e,this}}),T=S.extend({initfunction(e,t,n,i){S.fn.init.call(this,e,0,t,n,i)},expandfunction(e){return S.fn.expand.call(this,e)},clonefunction(){var e=this;return new T(e.c,e.r,e.startAngle,e.angle)},radiusfunction(e){return S.fn.radius.call(this,e)},pointfunction(e){return S.fn.point.call(this,e)}}),D=function(){},D.fn=D.prototype={createRingfunction(e,t){var n,i=e.startAngle+180,r=e.angle+i,o=new K.Point(e.c.x,e.c.y),a=rt.max(e.r,0),s=rt.max(e.ir,0),l=new K.Arc(o,{startAnglei,endAngler,radiusXa,radiusYa}),c=X.Path.fromArc(l,t).close();return s(l.radiusX=l.radiusY=s,n=l.pointAt(r),c.lineTo(n.x,n.y),c.arc(r,i,s,s,!0))c.lineTo(o.x,o.y),c
}},D.current=new D,A=J.extend({initfunction(e){var t=this;t.children=[],t.options=ot({},t.options,e)},reflowfunction(e){var t,n,i,r=this,o=r.children;for(n=0;o.lengthn;n++)i=o[n],i.reflow(e),t=tt.wrap(i.box)i.box.clone();r.box=te},destroyfunction(){{var e,t=this,n=t.children;t.getRoot()}for(this.animation&&this.animation.destroy(),e=0;n.lengthe;e++)n[e].destroy()},getRootfunction(){var e=this.parent;return ee.getRoot()null},translateChildrenfunction(e,t){var n,i=this,r=i.children,o=r.length;for(n=0;on;n++)r[n].box.translate(e,t)},appendfunction(){G(this.children,arguments);for(var e=0;arguments.lengthe;e++)arguments[e].parent=this},renderVisualfunction(){this.options.visible!==!1&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},addVisualfunction(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},renderChildrenfunction(){var e,t=this.children;for(e=0;t.lengthe;e++)t[e].renderVisual()},createVisualfunction(){this.visual=new Q.drawing.Group({zIndexthis.options.zIndex,visibleY(this.options.visible,!0)})},createAnimationfunction(){this.visual&&(this.animation=X.Animation.create(this.visual,this.options.animation))},appendVisualfunction(e){e.chartElement(e.chartElement=this),e.options.noclipthis.clipRoot().visual.append(e)q(e.options.zIndex)this.stackRoot().stackVisual(e)this.visualthis.visual.append(e)this.parent.appendVisual(e)},clipRootfunction(){return this.parentthis.parent.clipRoot()this},stackRootfunction(){return this.parentthis.parent.stackRoot()this},stackVisualfunction(e){var t,n,i,r=e.options.zIndex0,o=this.visual.children;for(t=0;o.lengtht&&(n=o[t],i=Y(n.options.zIndex,0),!(ir));t++);this.visual.insertAt(e,t)},traversefunction(e){var t,n,i=this.children;for(t=0;i.lengtht;t++)n=i[t],e(n),n.traverse&&n.traverse(e)},closestfunction(e){for(var n=this,i=!1;n&&!i;)i=e(n),i(n=n.parent);return int},renderCompletee.noop,hasHighlightfunction(){var e=(this.options{}).highlight;return!(!this.createHighlighte&&e.visible===!1)},toggleHighlightfunction(e){var t,n=this,i=n._highlight,r=(n.options{}).highlight,o=(r{}).visual;if(!i){if(t={fill{colorLt,opacity.2},stroke{colorLt,width1,opacity.2}},o){if(i=n._highlight=o(ot(n.highlightVisualArgs(),{createVisualfunction(){return n.createHighlight(t)},seriesn.series,dataItemn.dataItem,categoryn.category,valuen.value,percentagen.percentage,runningTotaln.runningTotal,totaln.total})),!i)return}else i=n._highlight=n.createHighlight(t);i.options.zIndex=n.options.zIndex,n.appendVisual(i)}i.visible(e)},createGradientOverlayfunction(e,t,n){var i=new X.Path(ot({stroke{colorEt},fillthis.createGradient(n),closede.options.closed},t));return i.segments.elements(e.segments.elements()),i},createGradientfunction(e){return this.parentthis.parent.createGradient(e)t}}),E=A.extend({initfunction(e){var t=this;t.gradients={},A.fn.init.call(t,e)},options{width_t,heightgt,backgroundLt,border{colorst,width0},marginn(5),zIndex-2},reflowfunction(){var e,t=this,n=t.options,i=t.children,r=new C(0,0,n.width,n.height);for(t.box=r.unpad(n.margin),e=0;i.lengthe;e++)i[e].reflow(r),r=s(r,i[e].box)C()},createVisualfunction(){this.visual=new X.Group,this.createBackground()},createBackgroundfunction(){var e=this.options,t=e.border{},n=this.box.clone().pad(e.margin).unpad(t.width),i=X.Path.fromRect(n.toRect(),{stroke{colort.widtht.color,widtht.width,dashTypet.dashType},fill{colore.background,opacitye.opacity},zIndex-10});this.visual.append(i)},getRootfunction(){return this},createGradientfunction(e){var t,n,i=this.gradients,r=j.objectKey(e),o=Q.Gradients[e.gradient];return i[r]t=i[r](n=ot({},o,e),linear==o.typet=new X.LinearGradient(n)(e.innerRadius&&(n.stops=k(n)),t=new X.RadialGradient(n),t.supportVML=o.supportVML!==!1),i[r]=t),t}}),I=A.extend({options{alignSt,vAlignRt,margin{},padding{},border{colorst,width0},background,shrinkToFit!1,width0,height0,visible!0},reflowfunction(e){function t(){s.align(e,Nt,l.align),s.align(e,Ot,l.vAlign),s.paddingBox=i.clone().unpad(p).unpad(g)}var i,r,o,a,s=this,l=s.options,c=l.width,d=l.height,u=c&&d,h=l.shrinkToFit,p=n(l.margin),f=n(l.padding),g=l.border.width,m=s.children;for(r=e.clone(),u&&(r.x2=r.x1+c,r.y2=r.y1+d),h&&r.unpad(p).unpad(g).unpad(f),A.fn.reflow.call(s,r),i=us.box=C(0,0,c,d)s.box,h&&u(t(),r=s.contentBox=s.paddingBox.clone().unpad(f))(r=s.contentBox=i.clone(),i.pad(f).pad(g).pad(p),t()),s.translateChildren(i.x1-r.x1+p.left+g+f.left,i.y1-r.y1+p.top+g+f.top),o=0;m.lengtho;o++)a=m[o],a.reflow(a.box)},alignfunction(e,t,n){this.box.align(e,t,n)},hasBoxfunction(){var e=this.options;return e.border.widthe.background},createVisualfunction(){A.fn.createVisual.call(this);var e=this.options;e.visible&&this.hasBox()&&this.visual.append(X.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))},visualStylefunction(){var e=this,t=e.options,n=t.border{};return{stroke{widthn.width,colorn.color,opacityY(n.opacity,t.opacity),dashTypen.dashType},fill{colort.background,opacityt.opacity},cursort.cursor}}}),M=A.extend({initfunction(e,t){var n=this;A.fn.init.call(n,t),n.content=e,n.reflow(C())},options{fontft,colorst,alignSt,vAlign},reflowfunction(e){var t,n=this,i=n.options;t=i.size=Z(n.content,{fonti.font}),n.baseline=t.baseline,n.box=C(e.x1,e.y1,e.x1+t.width,e.y1+t.height)},createVisualfunction(){var e=this.options;this.visual=new X.Text(this.content,this.box.toRect().topLeft(),{fonte.font,fill{colore.color,opacitye.opacity},cursore.cursor})}}),P=A.extend({initfunction(e){A.fn.init.call(this,e),this._initDirection()},_initDirectionfunction(){var e=this.options;e.vertical(this.groupAxis=Nt,this.elementAxis=Ot,this.groupSizeField=Ht,this.elementSizeField=bt,this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing)(this.groupAxis=Ot,this.elementAxis=Nt,this.groupSizeField=bt,this.elementSizeField=Ht,this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)},options{vertical!0,wrap!0,vSpacing0,spacing0},reflowfunction(e){this.box=e.clone(),this.reflowChildren()},reflowChildrenfunction(){var e,t,n,i,r,o,a,s,l,c,d=this,u=d.box,h=d.elementAxis,p=d.groupAxis,f=d.elementSizeField,g=d.groupSizeField,m=d.groupOptions(),v=m.groups,_=v.length,w=u[p+1]+d.alignStart(m.groupsSize,u[g]()),y=w;if(_){for(a=0;_a;a++){for(n=v[a],i=n.groupElements,r=i.length,e=u[h+1],o=0;ro;o++)s=i[o],c=d.elementSize(s),t=y+d.alignStart(c[g],n.groupSize),l=C(),l[p+1]=t,l[p+2]=t+c[g],l[h+1]=e,l[h+2]=e+c[f],s.reflow(l),e+=c[f]+d.elementSpacing;y+=n.groupSize+d.groupSpacing}u[p+1]=w,u[p+2]=w+m.groupsSize,u[h+2]=u[h+1]+m.maxGroupElementsSize}},alignStartfunction(e,t){var n=0,i=this.options.align;return i==Fti==ltn=t-ei==ct&&(n=(t-e)2),n},groupOptionsfunction(){var e,t,n=this,i=n.box,r=n.children,o=r.length,a=this.elementSizeField,s=this.groupSizeField,l=this.elementSpacing,c=this.groupSpacing,d=u(i[a]()),h=0,p=0,f=0,g=0,m=[],v=[],_=0;for(h=0;oh;h++)t=r[h],t.boxt.reflow(i),e=this.elementSize(t),n.options.wrap&&u(f+l+e[a])d&&(m.push({groupElementsv,groupSizep,groupElementsSizef}),_=rt.max(_,f),g+=c+p,p=0,f=0,v=[]),p=rt.max(p,e[s]),f0&&(f+=l),f+=e[a],v.push(t);return m.push({groupElementsv,groupSizep,groupElementsSizef}),_=rt.max(_,f),g+=p,{groupsm,groupsSizeg,maxGroupElementsSize_}},elementSizefunction(e){return{widthe.box.width(),heighte.box.height()}},createVisualtt}),z=I.extend({ROWS_SPLIT_REGEXnnm,initfunction(e,t){var n=this;n.content=e,I.fn.init.call(n,t),n._initContainer(),n.reflow(C())},_initContainerfunction(){{var e,t,n=this,i=n.options,r=(n.content+).split(n.ROWS_SPLIT_REGEX),o=new P({vertical!0,aligni.align,wrap!1}),a=ot({},i,{opacity1,animationnull});n.hasBox()}for(n.container=o,n.append(o),t=0;r.lengtht;t++)e=new M(it(r[t]),a),o.append(e)},reflowfunction(e){var t,i,r,o=this.options,a=o.visual,s=o.align,l=o.rotation;this.container.options.align=s,a&&!this._boxReflow(this.visual=a(this.visualContext(e)),t=e,this.visual&&(t=x(this.visual.clippedBBox()new K.Rect)),this.box=this.contentBox=this.paddingBox=t)(I.fn.reflow.call(this,e),l&&(i=n(o.margin),r=this.box.unpad(i),this.normalBox=r.clone(),r.rotate(l),this.align(e,Nt,s),this.align(e,Ot,o.vAlign),r.translate(i.left-i.right,i.top-i.bottom),this.rotatedBox=r.clone(),r.pad(i)))},createVisualfunction(){var e,t=this.options;t.visible&&(this.visual=new Q.drawing.Group({transformthis.rotationTransform(),zIndext.zIndex,noclipt.noclip}),this.hasBox()&&(e=X.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()),this.visual.append(e)))},renderVisualfunction(){this.options.visualthis.addVisual()I.fn.renderVisual.call(this)},visualOptionsfunction(){var e=this.options;return{backgrounde.background,bordere.border,colore.color,fonte.font,margine.margin,paddinge.padding,visiblee.visible}},visualContextfunction(e){var t=this;return{textt.content,recte.toRect(),optionst.visualOptions(),createVisualfunction(){return t._boxReflow=!0,t.reflow(e),t._boxReflow=!1,t.getDefaultVisual()}}},getDefaultVisualfunction(){this.createVisual(),this.renderChildren();var e=this.visual;return delete this.visual,e},rotationTransformfunction(){var e,t,n,i,r=this.options.rotation;return r(e=this.normalBox.center(),t=e.x,n=e.y,i=this.rotatedBox.center(),K.transform().translate(i.x-t,i.y-n).rotate(r,[t,n]))null}}),F=A.extend({initfunction(e){var t=this;A.fn.init.call(t,e),e=t.options,t.append(new z(e.text,ot({},e,{vAligne.position})))},options{colorst,positionRt,alignct,marginn(5),paddingn(5)},reflowfunction(e){var t=this;A.fn.reflow.call(t,e),t.box.snapTo(e,Nt)}}),F.buildTitle=function(e,t,n){var i;returnstring==typeof e&&(e={texte}),e=ot({visible!0},n,e),e&&e.visible&&e.text&&(i=new F(e),t.append(i)),i},R=z.extend({initfunction(e,t,n,i,r){var o=this;o.text=t,o.value=e,o.index=n,o.dataItem=i,z.fn.init.call(o,t,r)},visualContextfunction(e){var t=z.fn.visualContext.call(this,e);return t.value=this.value,t.dataItem=this.dataItem,t.format=this.options.format,t.culture=this.options.culture,t},clickfunction(t,n){var i=this;t.trigger(at,{elemente(n.target),valuei.value,texti.text,indexi.index,dataItemi.dataItem,axisi.parent.options})}}),B=A.extend({initfunction(e){var t=this;A.fn.init.call(t,e),t.options.visible(t.options=ot({},t.options,{labels{visible!1},line{visible!1},margin0,majorTickSize0,minorTickSize0})),t.options.minorTicks=ot({},{colort.options.line.color,widtht.options.line.width,visiblet.options.minorTickType!=Et},t.options.minorTicks,{sizet.options.minorTickSize,alignt.options.minorTickType}),t.options.majorTicks=ot({},{colort.options.line.color,widtht.options.line.width,visiblet.options.majorTickType!=Et},t.options.majorTicks,{sizet.options.majorTickSize,alignt.options.majorTickType}),this.options._deferLablest.createLabels(),t.createTitle(),t.createNotes()},options{labels{visible!0,rotation0,mirror!1,step1,skip0},line{width1,colorst,visible!0},title{visible!0,positionct},majorTicks{alignPt,size4,skip0,step1},minorTicks{alignPt,size3,skip0,step1},axisCrossingValue0,majorTickTypePt,minorTickTypeEt,majorGridLines{skip0,step1},minorGridLines{visible!1,width1,colorst,skip0,step1},margin5,visible!0,reverse!1,justified!0,notes{label{text}},_alignLines!0,_deferLabels!1},createLabelsfunction(){var t,n,i,r=this,o=r.options,a=o.verticalFtct,s=ot({},o.labels,{aligna,zIndexo.zIndex}),l=rt.max(1,s.step);if(r.children=e.grep(r.children,function(e){return!(e instanceof R)}),r.labels=[],s.visible)for(t=r.labelsCount(),i=s.skip;ti;i+=l)n=r.createAxisLabel(i,s),n&&(r.append(n),r.labels.push(n))},lineBoxfunction(){var e=this,t=e.options,n=e.box,i=t.vertical,r=e.labels,o=ibtHt,a=t.justified,s=t.labels.mirror,l=sn.x1n.x2,c=sn.y2n.y1,d=0,u=t.line.width;return a&&r.length1&&(d=r[0].box[o]()2,u=$(r).box[o]()2),iC(l,n.y1+d,l,n.y2-u)C(n.x1+d,c,n.x2-u,c)},createTitlefunction(){var e,t=this,n=t.options,i=ot({rotationn.vertical-900,text,zIndex1,visualSize!0},n.title);i.visible&&i.text&&(e=new z(i.text,i),t.append(e),t.title=e)},createNotesfunction(){var e,t,n,i=this,r=i.options,o=r.notes,a=o.data[];for(i.notes=[],e=0;a.lengthe;e++)t=ot({},o,a[e]),t.value=i.parseNoteValue(t.value),n=new H(t.value,t.label.text,null,null,null,t),n.options.visible&&(q(n.options.position)r.vertical&&!l(n.options.position,[St,Ft])n.options.position=r.reverseStFtr.verticall(n.options.position,[Rt,lt])(n.options.position=r.reverseltRt)n.options.position=r.verticalr.reverseStFtr.reverseltRt,i.append(n),i.notes.push(n))},parseNoteValuefunction(e){return e},renderVisualfunction(){A.fn.renderVisual.call(this),this.createPlotBands()},createVisualfunction(){A.fn.createVisual.call(this),this.createBackground(),this.createLine()},gridLinesVisualfunction(){var e=this._gridLines;return e(e=this._gridLines=new X.Group({zIndex-2}),this.appendVisual(this._gridLines)),e},createTicksfunction(e){function t(t,n,r){var s,c=t.length;if(n.visible)for(s=n.skip;cs;s+=n.step)q(r)&&s%r===0(l.tickX=ao.x2o.x2-n.size,l.tickY=ao.y1-n.sizeo.y1,l.position=t[s],e.append(i(l,n)))}var n=this,r=n.options,o=n.lineBox(),a=r.labels.mirror,s=r.majorTicks.visibler.majorUnit0,l={verticalr.vertical};t(n.getMajorTickPositions(),r.majorTicks),t(n.getMinorTickPositions(),r.minorTicks,sr.minorUnit)},createLinefunction(){var e,t,n=this,i=n.options,r=i.line,o=n.lineBox();r.width0&&r.visible&&(e=new X.Path({stroke{widthr.width,colorr.color,dashTyper.dashType}}),e.moveTo(o.x1,o.y1).lineTo(o.x2,o.y2),i._alignLines&&b(e),t=this._lineGroup=new X.Group,t.append(e),this.visual.append(t),this.createTicks(t))},getActualTickSizefunction(){var e=this,t=e.options,n=0;return t.majorTicks.visible&&t.minorTicks.visiblen=rt.max(t.majorTicks.size,t.minorTicks.size)t.majorTicks.visiblen=t.majorTicks.sizet.minorTicks.visible&&(n=t.minorTicks.size),n},createBackgroundfunction(){var e=this,t=e.options,n=t.background,i=e.box;n&&(e._backgroundPath=X.Path.fromRect(i.toRect(),{fill{colorn},strokenull}),this.visual.append(e._backgroundPath))},createPlotBandsfunction(){var t,n,i,r,o,a,s,l=this,c=l.options,d=c.plotBands[],u=c.vertical,h=l.plotArea;0!==d.length&&(o=this._plotbandGroup=new X.Group({zIndex-1}),a=e.grep(l.pane.axes,function(e){return e.options.vertical!==l.options.vertical})[0],s=this.range(),e.each(d,function(e,s){var c,d,p;i=Y(s.from,At),r=Y(s.to,Dt),c=[],u(t=(ah.axisX).lineBox(),n=l.getSlot(s.from,s.to,!0))(t=l.getSlot(s.from,s.to,!0),n=(ah.axisY).lineBox()),0!==t.width()&&0!==n.height()&&(d=new K.Rect([t.x1,n.y1],[t.width(),n.height()]),p=X.Path.fromRect(d,{fill{colors.color,opacitys.opacity},strokenull}),o.append(p))}),l.appendVisual(o))},createGridLinesfunction(e){function t(e,t,i){var o,s=e.length;if(t.visible)for(o=t.skip;so;o+=t.step)n=u(e[o]),l(n,g)o%i===0a&&p===n(f.position=n,m.append(r(f,t)),g.push(n))}var n,i=this,o=i.options,a=e.options.line.visible,s=o.majorGridLines,c=s.visibleo.majorUnit0,d=o.vertical,h=e.lineBox(),p=h[dy1x1],f={lineStarth[dx1y1],lineEndh[dx2y2],verticald},g=[],m=this.gridLinesVisual();return t(i.getMajorTickPositions(),o.majorGridLines),t(i.getMinorTickPositions(),o.minorGridLines,co.minorUnit),m.children},reflowfunction(e){var t,n,i=this,r=i.options,o=r.vertical,a=i.labels,s=a.length,l=i.title,c=oHtbt,d=ll.box[c]()0,u=i.getActualTickSize()+r.margin+d,h=0,p=(this.getRoot(){}).boxe,f=p[c]();for(n=0;sn;n++)t=a[n].box[c](),f=t+u&&(h=rt.max(h,t));i.box=oC(e.x1,e.y1,e.x1+h+u,e.y2)C(e.x1,e.y1,e.x2,e.y1+h+u),i.arrangeTitle(),i.arrangeLabels(),i.arrangeNotes()},arrangeLabelsfunction(){var e,t,n,i,r,o,a,s,l,c,d,u=this,h=u.options,p=u.labels,f=!h.justified,g=h.vertical,m=u.lineBox(),v=h.labels.mirror,_=u.getMajorTickPositions(),w=u.getActualTickSize()+h.margin;for(n=0;p.lengthn;n++)i=p[n],r=i.index,o=gi.box.height()i.box.width(),a=_[r]-o2,g(f&&(s=_[r],l=_[r+1],c=s+(l-s)2,a=c-o2),d=m.x2,vd+=wd-=w+i.box.width(),e=i.box.move(d,a))(f(s=_[r],l=_[r+1])(s=a,l=a+o),t=m.y1,vt-=w+i.box.height()t+=w,e=C(s,t,l,t+i.box.height())),i.reflow(e)},arrangeTitlefunction(){var e=this,t=e.options,n=t.labels.mirror,i=t.vertical,r=e.title;r&&(i(r.options.align=nFtSt,r.options.vAlign=r.options.position)(r.options.align=r.options.position,r.options.vAlign=nRtlt),r.reflow(e.box))},arrangeNotesfunction(){var e,t,n,i,r=this;for(e=0;r.notes.lengthe;e++)t=r.notes[e],i=t.options.value,q(i)(r.shouldRenderNote(i)t.show()t.hide(),n=r.getSlot(i))t.hide(),t.reflow(nr.lineBox())},alignTofunction(e){var t=this,n=e.lineBox(),i=t.options.vertical,r=iOtNt;t.box.snapTo(n,r),it.box.shrink(0,t.lineBox().height()-n.height())t.box.shrink(t.lineBox().width()-n.width(),0),t.box[r+1]-=t.lineBox()[r+1]-n[r+1],t.box[r+2]-=t.lineBox()[r+2]-n[r+2]},axisLabelTextfunction(e,t,n){var i,r=e;return n.template(i=et(n.template),r=i({valuee,dataItemt,formatn.format,culturen.culture}))n.format&&(r=n.format.match(yt)W.format(n.format,e)W.toString(e,n.format,n.culture)),r},slotfunction(e,n){var i=this.getSlot(e,n);return ii.toRect()t}}),H=I.extend({initfunction(e,t,n,i,r,o){var a=this;I.fn.init.call(a,o),a.value=e,a.text=t,a.dataItem=n,a.category=i,a.series=r,a.render()},options{icon{visible!0,typeht},label{positionCt,visible!0,alignct,vAlignct},line{visible!0},visible!0,positionRt,zIndex2},hidefunction(){this.options.visible=!1},showfunction(){this.options.visible=!0},renderfunction(){var e,t,n,i,r=this,o=r.options,a=o.label,s=r.text,l=o.icon,c=l.size,d=C();o.visible&&(q(a)&&a.visible&&(a.template(i=et(a.template),s=i({dataItemr.dataItem,categoryr.category,valuer.value,texts,seriesr.series}))a.format&&(s=m(a.format,s)),r.label=new z(s,ot({},a)),a.position!==Ctq(c)(l.type===htc=rt.max(r.label.box.width(),r.label.box.height())(t=r.label.box.width(),n=r.label.box.height()),d.wrap(r.label.box))),l.width=tcmt,l.height=ncmt,e=new L(ot({},l)),r.marker=e,r.append(e),r.label&&r.append(r.label),e.reflow(C()),r.wrapperBox=d.wrap(e.box))},reflowfunction(e){var t,n,i,r=this,o=r.options,a=e.center(),s=r.wrapperBox,c=o.line.length,d=o.position,u=r.label,h=r.marker;o.visible&&(l(d,[St,Ft])d===St(i=s.alignTo(e,d).translate(-c,e.center().y-s.center().y),o.line.visible&&(t=[rt.floor(e.x1),a.y],r.linePoints=[t,[rt.floor(i.x2),a.y]],n=i.clone().wrapPoint(t)))(i=s.alignTo(e,d).translate(c,e.center().y-s.center().y),o.line.visible&&(t=[rt.floor(e.x2),a.y],r.linePoints=[t,[rt.floor(i.x1),a.y]],n=i.clone().wrapPoint(t)))d===lt(i=s.alignTo(e,d).translate(e.center().x-s.center().x,c),o.line.visible&&(t=[rt.floor(a.x),rt.floor(e.y2)],r.linePoints=[t,[rt.floor(a.x),rt.floor(i.y1)]],n=i.clone().wrapPoint(t)))(i=s.alignTo(e,d).translate(e.center().x-s.center().x,-c),o.line.visible&&(t=[rt.floor(a.x),rt.floor(e.y1)],r.linePoints=[t,[rt.floor(a.x),rt.floor(i.y2)]],n=i.clone().wrapPoint(t))),h&&h.reflow(i),u&&(u.reflow(i),h&&(o.label.position===Pt&&u.box.alignTo(h.box,d),u.reflow(u.box))),r.contentBox=i,r.targetBox=e,r.box=ni)},createVisualfunction(){I.fn.createVisual.call(this),this.options.visible&&this.createLine()},renderVisualfunction(){var e,t=this,n=t.options,i=n.visual;n.visible&&i(e=t.targetPoint,t.visual=i({dataItemt.dataItem,categoryt.category,valuet.value,textt.text,seriest.series,rectt.targetBox.toRect(),options{backgroundn.background,bordern.background,iconn.icon,labeln.label,linen.line,positionn.position,visiblen.visible},createVisualfunction(){t.createVisual(),t.renderChildren();var e=t.visual;return delete t.visual,e}}),t.addVisual())I.fn.renderVisual.call(t)},createLinefunction(){var e,t=this.options.line;this.linePoints&&(e=X.Path.fromPoints(this.linePoints,{stroke{colort.color,widtht.width,dashTypet.dashType}}),b(e),this.visual.append(e))},clickfunction(e,t){var n=this.eventArgs(t);e.trigger(It,n)t.preventDefault()},hoverfunction(e,t){var n=this.eventArgs(t);e.trigger(Mt,n)t.preventDefault()},leavefunction(e){e._unsetActivePoint()},eventArgsfunction(t){var n=this,i=n.options;return{elemente(t.target),textq(i.label)i.label.text,dataItemn.dataItem,seriesn.series,valuen.value,categoryn.category}}}),L=I.extend({initfunction(e,t){this.pointData=t,I.fn.init.call(this,e)},options{typeht,alignct,vAlignct},getElementfunction(){var e,t,n=this,i=n.options,r=i.type,o=i.rotation,a=n.paddingBox,s=a.center(),l=a.width()2;if(i.visible&&n.hasBox())return t=n.visualStyle(),r===hte=new X.Circle(new K.Circle([u(a.x1+l,dt),u(a.y1+a.height()2,dt)],l),t)r===Bte=X.Path.fromPoints([[a.x1+l,a.y1],[a.x1,a.y2],[a.x2,a.y2]],t).close()r===pt(e=new X.MultiPath(t),e.moveTo(a.x1,a.y1).lineTo(a.x2,a.y2),e.moveTo(a.x1,a.y2).lineTo(a.x2,a.y1))e=X.Path.fromRect(a.toRect(),t),o&&e.transform(K.transform().rotate(-o,[s.x,s.y])),e.options.zIndex=this.options.zIndex,e},createElementfunction(){var e,t=this,n=t.options.visual,i=t.pointData{};return e=nn({valuei.value,dataItemi.dataItem,seriesi.series,categoryi.category,rectt.paddingBox.toRect(),optionst.visualOptions(),createVisualfunction(){return t.getElement()}})t.getElement()},visualOptionsfunction(){var e=this.options;return{backgrounde.background,bordere.border,margine.margin,paddinge.padding,typee.type,sizee.width,visiblee.visible}},createVisualfunction(){this.visual=this.createElement()}}),N=B.extend({initfunction(e,t,n){var i=this,r=i.initDefaults(e,t,n);B.fn.init.call(i,r)},startValuefunction(){return 0},options{typenumeric,min0,max1,vertical!0,majorGridLines{visible!0,width1,colorst},zIndex1},initDefaultsfunction(e,t,n){var i,r=this,a=n.narrowRange,s=r.autoAxisMin(e,t,a),l=r.autoAxisMax(e,t,a),u=o(s,l),h={majorUnitu};return n.roundToMajorUnit!==!1&&(0s&&p(s,u,13)&&(s-=u),l0&&p(l,u,13)&&(l+=u)),h.min=d(s,u),h.max=c(l,u),n&&(i=q(n.min)q(n.max),i&&n.min===n.max&&(n.min0n.min=0n.max=1),n.majorUnit(h.min=d(h.min,n.majorUnit),h.max=c(h.max,n.majorUnit))i&&(n=ot(h,n),h.majorUnit=o(n.min,n.max))),h.minorUnit=(n.majorUnith.majorUnit)5,ot(h,n)},rangefunction(){var e=this.options;return{mine.min,maxe.max}},autoAxisMaxfunction(e,t,n){var i,r;if(!e&&!t)return 1;if(0=e&&0=t){if(t=e==t0t,r=rt.abs((t-e)t),n===!1!n&&rVt)return 0;i=rt.min(0,t-(e-t)2)}else e=e==t0e,i=t;return i},autoAxisMinfunction(e,t,n){var i,r;if(!e&&!t)return 0;if(e=0&&t=0){if(e=e==t0e,r=(t-e)t,n===!1!n&&rVt)return 0;i=rt.max(0,e-(t-e)2)}else t=e==t0t,i=e;return i},getDivisionsfunction(e){if(0===e)return 1;var t=this.options,n=t.max-t.min;return rt.floor(u(ne,dt))+1},getTickPositionsfunction(e,t){var n,i=this,r=i.options,o=r.vertical,a=r.reverse,s=i.lineBox(),l=os.height()s.width(),c=r.max-r.min,d=lc,h=ed,p=0,f=i.getDivisions(e),g=(o-11)(a-11),m=1===g12,v=s[(oOtNt)+m],_=[];for(t&&(p=te),n=0;fn;n++)n%p!==0&&_.push(u(v,dt)),v+=hg;return _},getMajorTickPositionsfunction(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositionsfunction(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlotfunction(e,t,n){var i,r,o=this,a=o.options,s=a.reverse,l=a.vertical,c=lOtNt,d=o.lineBox(),u=d[c+(s21)],h=ld.height()d.width(),p=s-11,f=p(h(a.max-a.min)),g=new C(d.x1,d.y1,d.x1,d.y1);return q(e)(e=t0),q(t)(t=e0),n&&(e=rt.max(rt.min(e,a.max),a.min),t=rt.max(rt.min(t,a.max),a.min)),l(i=a.max-rt.max(e,t),r=a.max-rt.min(e,t))(i=rt.min(e,t)-a.min,r=rt.max(e,t)-a.min),g[c+1]=rt.max(rt.min(u+f(sri),kt),-kt),g[c+2]=rt.max(rt.min(u+f(sir),kt),-kt),g},getValuefunction(e){var t,n=this,i=n.options,r=i.reverse,o=i.vertical,a=1i.max,s=1i.min,l=oOtNt,c=n.lineBox(),d=c[l+(r21)],h=oc.height()c.width(),p=r-11,f=p(e[l]-d),g=(a-s)h,m=fg;return 0ffhnull(t=oa-ms+m,u(t,vt))},translateRangefunction(e){var t=this,n=t.options,i=t.lineBox(),r=n.vertical,o=n.reverse,a=ri.height()i.width(),s=n.max-n.min,l=as,c=u(el,vt);return!r&&!or&&o(c=-c),{minn.min+c,maxn.max+c}},scaleRangefunction(e){var t=this,n=t.options,i=-en.majorUnit;return{minn.min-i,maxn.max+i}},labelsCountfunction(){return this.getDivisions(this.options.majorUnit)},createAxisLabelfunction(e,t){var n=this,i=n.options,r=u(i.min+ei.majorUnit,vt),o=n.axisLabelText(r,null,t);return new R(r,o,e,null,t)},shouldRenderNotefunction(e){var t=this.range();return e=t.min&&t.max=e}}),O=B.extend({initfunction(e,t,n){this.options=this._initOptions(e,t,n),B.fn.init.call(this,n)},startValuefunction(){return this.options.min},options{typelog,majorUnit10,minorUnit1,axisCrossingValue1,vertical!0,majorGridLines{visible!0,width1,colorst},zIndex1},getSlotfunction(e,n,i){var r,o,a=this,s=a.options,l=s.reverse,c=s.vertical,d=cOtNt,u=a.lineBox(),p=u[d+(l21)],f=cu.height()u.width(),g=l-11,m=s.majorUnit,v=a.logMin,_=a.logMax,w=g(f(_-v)),y=new C(u.x1,u.y1,u.x1,u.y1);return q(e)(e=n1),q(n)(n=e1),0=e0=nt(i&&(e=rt.max(rt.min(e,s.max),s.min),n=rt.max(rt.min(n,s.max),s.min)),e=h(e,m),n=h(n,m),c(r=_-rt.max(e,n),o=_-rt.min(e,n))(r=rt.min(e,n)-v,o=rt.max(e,n)-v),y[d+1]=p+w(lor),y[d+2]=p+w(lro),y)},getValuefunction(e){var t,n=this,i=n.options,r=i.reverse,o=i.vertical,a=n.lineBox(),s=i.majorUnit,l=n.logMin,c=n.logMax,d=o===r1-1,h=1===d12,p=oa.height()a.width(),f=(c-l)p,g=oOtNt,m=a[g+h],v=d(e[g]-m),_=vf;return 0vvpnull(t=l+_,u(rt.pow(s,t),vt))},rangefunction(){var e=this.options;return{mine.min,maxe.max}},scaleRangefunction(e){var t=this,n=t.options,i=n.majorUnit,r=-e;return{minrt.pow(i,t.logMin-r),maxrt.pow(i,t.logMax+r)}},translateRangefunction(e){var t=this,n=t.options,i=n.majorUnit,r=t.lineBox(),o=n.vertical,a=n.reverse,s=or.height()r.width(),l=s(t.logMax-t.logMin),c=u(el,vt);return!o&&!ao&&a(c=-c),{minrt.pow(i,t.logMin+c),maxrt.pow(i,t.logMax+c)}},labelsCountfunction(){var e=this,t=rt.floor(e.logMax),n=rt.floor(t-e.logMin)+1;return n},getMajorTickPositionsfunction(){var e=this,t=[];return e.traverseMajorTicksPositions(function(e){t.push(e)},{step1,skip0}),t},createTicksfunction(e){function t(t,n){d.tickX=sa.x2a.x2-n.size,d.tickY=sa.y1-n.sizea.y1,d.position=t,e.append(i(d,n))}var n=this,r=[],o=n.options,a=n.lineBox(),s=o.labels.mirror,l=o.majorTicks,c=o.minorTicks,d={verticalo.vertical};return l.visible&&n.traverseMajorTicksPositions(t,l),c.visible&&n.traverseMinorTicksPositions(t,c),r},createGridLinesfunction(e){function t(e,t){l(e,u)(d.position=e,h.append(r(d,t)),u.push(e))}var n=this,i=n.options,o=i.majorGridLines,a=i.minorGridLines,s=i.vertical,c=e.lineBox(),d={lineStartc[sx1y1],lineEndc[sx2y2],verticals},u=[],h=this.gridLinesVisual();return o.visible&&n.traverseMajorTicksPositions(t,o),a.visible&&n.traverseMinorTicksPositions(t,a),h.children},traverseMajorTicksPositionsfunction(e,t){var n,i,r=this,o=r._lineOptions(),a=o.lineStart,s=o.step,l=r.logMin,c=r.logMax;for(n=rt.ceil(l)+t.skip;c=n;n+=t.step)i=u(a+s(n-l),vt),e(i,t)},traverseMinorTicksPositionsfunction(e,t){var n,i,r,o,a,s=this,l=s.options,c=s._lineOptions(),d=c.lineStart,p=c.step,f=l.majorUnit,g=s.logMin,m=s.logMax,v=rt.floor(g),_=l.max,w=l.min,y=l.minorUnit;for(n=v;mn;n++)for(o=s._minorIntervalOptions(n),a=t.skip;ya&&(i=o.value+ao.minorStep,!(i_));a+=t.step)i=w&&(r=u(d+p(h(i,f)-g),vt),e(r,t))},createAxisLabelfunction(e,t){var n=this,i=n.options,r=rt.ceil(n.logMin+e),o=Math.pow(i.majorUnit,r),a=n.axisLabelText(o,null,t);return new R(o,a,e,null,t)},shouldRenderNotefunction(e){var t=this.range();return e=t.min&&t.max=e},_throwNegativeValuesErrorfunction(){throw Error(Non positive values cannot be used for a logarithmic axis)},_initOptionsfunction(e,t,n){var i,r=this,o=ot({},r.options,{mine,maxt},n),a=o.min,s=o.max,l=o.majorUnit;return 0=o.axisCrossingValue&&r._throwNegativeValuesError(),q(n.max)0=n.max&&r._throwNegativeValuesError()(i=u(h(s,l),vt)%1,s=0=sl0!==i&&(.3ii.9)rt.pow(l,h(s,l)+.2)rt.pow(l,rt.ceil(h(s,l)))),q(n.min)0=n.min&&r._throwNegativeValuesError()0=aa=1=srt.pow(l,-2)1n.narrowRange(a=rt.pow(l,rt.floor(h(a,l)))),r.logMin=u(h(a,l),vt),r.logMax=u(h(s,l),vt),o.max=s,o.min=a,o.minorUnit=n.minorUnitu(l-1,vt),o},_minorIntervalOptionsfunction(e){var t=this.options.majorUnit,n=rt.pow(t,e),i=rt.pow(t,e+1),r=i-n,o=rthis.options.minorUnit;return{valuen,minorStepo}},_lineOptionsfunction(){var e=this,t=e.options,n=t.reverse,i=t.vertical,r=iOtNt,o=e.lineBox(),a=i===n1-1,s=1===a12,l=io.height()o.width(),c=a(l(e.logMax-e.logMin)),d=o[r+s];return{stepc,lineStartd,lineBoxo}}}),Q.Gradients={glass{typeTt,rotation0,stops[{offset0,colorLt,opacity0},{offset.25,colorLt,opacity.3},{offset1,colorLt,opacity0}]},sharpBevel{typezt,stops[{offset0,colorLt,opacity.55},{offset.65,colorLt,opacity0},{offset.95,colorLt,opacity.25}]},roundedBevel{typezt,stops[{offset.33,colorLt,opacity.06},{offset.83,colorLt,opacity.2},{offset.95,colorLt,opacity0}]},roundedGlass{typezt,supportVML!1,stops[{offset0,colorLt,opacity0},{offset.5,colorLt,opacity.3},{offset.99,colorLt,opacity0}]},sharpGlass{typezt,supportVML!1,stops[{offset0,colorLt,opacity.2},{offset.15,colorLt,opacity.15},{offset.17,colorLt,opacity.35},{offset.85,colorLt,opacity.05},{offset.87,colorLt,opacity.15},{offset.99,colorLt,opacity0}]}},V={extendfunction(e,t){if(!e.exportVisual)throw Error(Mixin target has no exportVisual method defined.);e.exportSVG=this.exportSVG,e.exportImage=this.exportImage,e.exportPDF=this.exportPDF,t(e.svg=this.svg,e.imageDataURL=this.imageDataURL)},exportSVGfunction(e){return X.exportSVG(this.exportVisual(),e)},exportImagefunction(e){return X.exportImage(this.exportVisual(),e)},exportPDFfunction(e){return X.exportPDF(this.exportVisual(),e)},svgfunction(){if(X.svg.Surface)return X.svg._exportGroup(this.exportVisual());throw Error(SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface)},imageDataURLfunction(){var t,n,i;if(!W.support.canvas)return null;if(X.canvas.Surface)return t=e(div ).css({displaynone,widththis.element.width(),heightthis.element.height()}).appendTo(document.body),n=new X.canvas.Surface(t),n.draw(this.exportVisual()),i=n._rootElement.toDataURL(),n.destroy(),t.remove(),i;throw Error(Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface)}},U=function(e){this.closed=e},U.prototype=U.fn={WEIGHT.333,EXTREMUM_ALLOWED_DEVIATION.01,processfunction(e){var t,n,i,r,o,a,s,l,c,d,u=this,h=u.closed,p=e.slice(0),f=p.length,g=[];if(f2&&(u.removeDuplicates(0,p),f=p.length),2f2==f&&p[0].equals(p[1]))return g;for(t=p[0],n=p[1],i=p[2],g.push(new X.Segment(t));t.equals(p[f-1]);)h=!0,p.pop(),f--;if(2==f)return s=u.tangent(t,n,Nt,Ot),$(g).controlOut(u.firstControlPoint(s,t,n,Nt,Ot)),g.push(new X.Segment(n,u.secondControlPoint(s,t,n,Nt,Ot))),g;for(h(t=p[f-1],n=p[0],i=p[1],r=u.controlPoints(t,n,i),o=r[1],a=r[0])(s=u.tangent(t,n,Nt,Ot),o=u.firstControlPoint(s,t,n,Nt,Ot)),l=o,c=0;f-3=c;c++)u.removeDuplicates(c,p),f=p.length,f=c+3&&(t=p[c],n=p[c+1],i=p[c+2],r=u.controlPoints(t,n,i),$(g).controlOut(l),l=r[1],d=r[0],g.push(new X.Segment(n,d)));return h(t=p[f-2],n=p[f-1],i=p[0],r=u.controlPoints(t,n,i),$(g).controlOut(l),g.push(new X.Segment(n,r[0])),$(g).controlOut(r[1]),g.push(new X.Segment(i,a)))(s=u.tangent(n,i,Nt,Ot),$(g).controlOut(l),g.push(new X.Segment(i,u.secondControlPoint(s,n,i,Nt,Ot)))),g},removeDuplicatesfunction(e,t){for(;t[e].equals(t[e+1])t[e+1].equals(t[e+2]);)t.splice(e+1,1)},invertAxisfunction(e,t,n){var i,r,o=this,a=!1;return e.x===t.xa=!0t.x===n.x(n.yt.y&&t.y=e.yt.yn.y&&e.y=t.y)&&(a=!0)(i=o.lineFunction(e,t),r=o.calculateFunction(i,n.x),t.y=e.y&&r=n.ye.y=t.y&&n.y=r(a=!0)),a},isLinefunction(e,t,n){var i=this,r=i.lineFunction(e,t),o=i.calculateFunction(r,n.x);return e.x==t.x&&t.x==n.xu(o,1)===u(n.y,1)
},lineFunctionfunction(e,t){var n=(t.y-e.y)(t.x-e.x),i=e.y-ne.x;return[i,n]},controlPointsfunction(e,t,n){var i,r,o,a,s,l,c=this,d=Nt,u=Ot,h=!1,p=!1,f=c.EXTREMUM_ALLOWED_DEVIATION;return c.isLine(e,t,n)i=c.tangent(e,t,Nt,Ot)(r={xc.isMonotonicByField(e,t,n,Nt),yc.isMonotonicByField(e,t,n,Ot)},r.x&&r.y(i=c.tangent(e,n,Nt,Ot),h=!0)(c.invertAxis(e,t,n)&&(d=Ot,u=Nt),r[d]i=0(s=e[u]n[u]&&t[u]=e[u]n[u]e[u]&&e[u]=t[u]c.sign((n[u]-e[u])(t[d]-e[d]))-c.sign((n[d]-e[d])(t[u]-e[u])),i=fs,p=!0))),a=c.secondControlPoint(i,e,t,d,u),p&&(l=d,d=u,u=l),o=c.firstControlPoint(i,t,n,d,u),h&&(c.restrictControlPoint(e,t,a,i),c.restrictControlPoint(t,n,o,i)),[a,o]},signfunction(e){return 0=e-11},restrictControlPointfunction(e,t,n,i){t.ye.yn.yt.y(n.x=e.x+(t.y-e.y)i,n.y=t.y)e.yn.y&&(n.x=t.x-(t.y-e.y)i,n.y=e.y)t.yn.y(n.x=e.x-(e.y-t.y)i,n.y=t.y)n.ye.y&&(n.x=t.x+(e.y-t.y)i,n.y=e.y)},tangentfunction(e,t,n,i){var r,o=t[n]-e[n],a=t[i]-e[i];return r=0===o0ao},isMonotonicByFieldfunction(e,t,n,i){return n[i]t[i]&&t[i]e[i]t[i]n[i]&&e[i]t[i]},firstControlPointfunction(e,t,n,i,r){var o=this,a=t[i],s=n[i],l=(s-a)o.WEIGHT;return o.point(a+l,t[r]+le,i,r)},secondControlPointfunction(e,t,n,i,r){var o=this,a=t[i],s=n[i],l=(s-a)o.WEIGHT;return o.point(s-l,n[r]-le,i,r)},pointfunction(e,t,n,i){var r=new K.Point;return r[n]=e,r[i]=t,r},calculateFunctionfunction(e,t){var n,i=0,r=e.length;for(n=0;rn;n++)i+=Math.pow(t,n)e[n];return i}},y._element=document.createElement(span),ot(W.dataviz,{AXIS_LABEL_CLICKat,COORD_PRECISIONdt,DEFAULT_PRECISIONvt,DEFAULT_WIDTH_t,DEFAULT_HEIGHTgt,DEFAULT_FONTft,INITIAL_ANIMATION_DURATIONxt,NOTE_CLICKIt,NOTE_HOVERMt,CLIPut,AxisB,AxisLabelR,Box2DC,BoxElementI,ChartElementA,CurveProcessorU,ExportMixinV,FloatElementP,LogarithmicAxisO,NoteH,NumericAxisN,Point2DUt,RingS,RootElementE,SectorT,ShapeBuilderD,ShapeElementL,TextM,TextBoxz,TitleF,alignPathToPixelb,autoFormatm,autoMajorUnito,boxDiffs,dateComparer_,decodeEntitiesy,getSpacingn,inArrayl,interpolateValuef,mwDeltaw,rectToBoxx,rotatePointa,roundu,ceilc,floord})}(window.kendo.jQuery),function(e){function t(t,n){return e.map(t,function(e,t){return[[e,n[t]]]})}var n=window.kendo,i=n.dataviz.ui,r=n.deepExtend,o=1.5,a=.4,s=#000,l=Arial,Helvetica,sans-serif,c=11px +l,d=12px +l,u=16px +l,h=#fff,p={title{fontu},legend{labels{fontd}},seriesDefaults{visible!0,labels{fontc},donut{margin1},line{width2},vericalLine{width2},scatterLine{width1},area{opacity.4,markers{visible!1,size6},highlight{markers{border{color#fff,opacity1,width1}}},line{opacity1,width0}},verticalArea{opacity.4,markers{visible!1,size6},line{opacity1,width0}},radarLine{width2,markers{visible!1}},radarArea{opacity.5,markers{visible!1,size6},line{opacity1,width0}},candlestick{line{width1,colors},border{width1,_brightness.8},gap1,spacing.3,downColorh,highlight{line{width2},border{width2,opacity1}}},ohlc{line{width1},gap1,spacing.3,highlight{line{width3,opacity1}}},bubble{opacity.6,border{width0},labels{backgroundtransparent}},bar{gapo,spacinga},column{gapo,spacinga},rangeColumn{gapo,spacinga},rangeBar{gapo,spacinga},waterfall{gap.5,spacinga,line{width1,colors}},horizontalWaterfall{gap.5,spacinga,line{width1,colors}},bullet{gapo,spacinga,target{color#ff0000}},verticalBullet{gapo,spacinga,target{color#ff0000}},boxPlot{outliersField,meanField,whiskers{width1,colors},mean{width1,colors},median{width1,colors},border{width1,_brightness.8},gap1,spacing.3,downColorh,highlight{whiskers{width2},border{width2,opacity1}}},funnel{labels{color,background}},notes{icon{border{width1}},label{padding3,fontd},line{length10,width1},visible!0}},categoryAxis{majorGridLines{visible!0}},axisDefaults{labels{fontd},title{fontu,margin5},crosshair{tooltip{fontd}},notes{icon{size7,border{width1}},label{padding3,fontd},line{length10,width1},visible!0}},tooltip{fontd},navigator{pane{height90,margin{top10}}}},f={scale{labels{fontd}}},g={shapeDefaults{hover{opacity.2},stroke{width0}},editable{resize{handles{width7,height7}}},selectable{stroke{width1,dashTypedot}},connectionDefaults{stroke{width2},selection{handles{width8,height8}},editable{tools[edit,delete]}}},m=i.themes,v=i.registerTheme=function(e,t){var n,i={};i.chart=r({},p,t.chart),i.gauge=r({},f,t.gauge),i.diagram=r({},g,t.diagram),i.treeMap=r({},t.treeMap),n=i.chart.seriesDefaults,n.verticalLine=r({},n.line),n.verticalArea=r({},n.area),n.polarArea=r({},n.radarArea),n.polarLine=r({},n.radarLine),m[e]=i};v(black,{chart{title{colorh},legend{labels{colorh},inactiveItems{labels{color#919191},markers{color#919191}}},seriesDefaults{labels{colorh},errorBars{colorh},notes{icon{background#3b3b3b,border{color#8e8e8e}},label{colorh},line{color#8e8e8e}},pie{overlay{gradientsharpBevel}},donut{overlay{gradientsharpGlass}},line{markers{background#3d3d3d}},scatter{markers{background#3d3d3d}},scatterLine{markers{background#3d3d3d}},waterfall{line{color#8e8e8e}},horizontalWaterfall{line{color#8e8e8e}},candlestick{downColor#555,line{colorh},border{_brightness1.5,opacity1},highlight{border{colorh,opacity.2}}},ohlc{line{colorh}}},chartArea{background#3d3d3d},seriesColors[#0081da,#3aafff,#99c900,#ffeb3d,#b20753,#ff4195],axisDefaults{line{color#8e8e8e},labels{colorh},majorGridLines{color#545454},minorGridLines{color#454545},title{colorh},crosshair{color#8e8e8e},notes{icon{background#3b3b3b,border{color#8e8e8e}},label{colorh},line{color#8e8e8e}}}},gauge{pointer{color#0070e4},scale{rangePlaceholderColor#1d1d1d,labels{colorh},minorTicks{colorh},majorTicks{colorh},line{colorh}}},diagram{shapeDefaults{fill{color#0066cc},connectorDefaults{fill{colorh},stroke{color#384049},hover{fill{color#3d3d3d},stroke{color#efefef}}},content{colorh}},editable{resize{handles{fill{color#3d3d3d},stroke{colorh},hover{fill{colorh},stroke{colorh}}}},rotate{thumb{stroke{colorh},fill{colorh}}}},selectable{stroke{colorh}},connectionDefaults{stroke{colorh},content{colorh},selection{handles{fill{color#3d3d3d},stroke{color#efefef}}}}},treeMap{colors[[#0081da,#314b5c],[#3aafff,#3c5464],[#99c900,#4f5931],[#ffeb3d,#64603d],[#b20753,#543241],[#ff4195,#643e4f]]}}),v(blueopal,{chart{title{color#293135},legend{labels{color#293135},inactiveItems{labels{color#27A5BA},markers{color#27A5BA}}},seriesDefaults{labels{colors,backgroundh,opacity.5},errorBars{color#293135},candlestick{downColor#c4d0d5,line{color#9aabb2}},waterfall{line{color#9aabb2}},horizontalWaterfall{line{color#9aabb2}},notes{icon{backgroundtransparent,border{color#9aabb2}},label{color#293135},line{color#9aabb2}}},seriesColors[#0069a5,#0098ee,#7bd2f6,#ffb800,#ff8517,#e34a00],axisDefaults{line{color#9aabb2},labels{color#293135},majorGridLines{color#c4d0d5},minorGridLines{color#edf1f2},title{color#293135},crosshair{color#9aabb2},notes{icon{backgroundtransparent,border{color#9aabb2}},label{color#293135},line{color#9aabb2}}}},gauge{pointer{color#005c83},scale{rangePlaceholderColor#daecf4,labels{color#293135},minorTicks{color#293135},majorTicks{color#293135},line{color#293135}}},diagram{shapeDefaults{fill{color#7ec6e3},connectorDefaults{fill{color#003f59},stroke{colorh},hover{fill{colorh},stroke{color#003f59}}},content{color#293135}},editable{resize{handles{fill{colorh},stroke{color#003f59},hover{fill{color#003f59},stroke{color#003f59}}}},rotate{thumb{stroke{color#003f59},fill{color#003f59}}}},selectable{stroke{color#003f59}},connectionDefaults{stroke{color#003f59},content{color#293135},selection{handles{fill{color#3d3d3d},stroke{color#efefef}}}}},treeMap{colors[[#0069a5,#bad7e7],[#0098ee,#b9e0f5],[#7bd2f6,#ceeaf6],[#ffb800,#e6e3c4],[#ff8517,#e4d8c8],[#e34a00,#ddccc2]]}}),v(highcontrast,{chart{title{color#ffffff},legend{labels{color#ffffff},inactiveItems{labels{color#66465B},markers{color#66465B}}},seriesDefaults{labels{color#ffffff},errorBars{color#ffffff},notes{icon{backgroundtransparent,border{color#ffffff}},label{color#ffffff},line{color#ffffff}},pie{overlay{gradientsharpGlass}},donut{overlay{gradientsharpGlass}},line{markers{background#2c232b}},scatter{markers{background#2c232b}},scatterLine{markers{background#2c232b}},area{opacity.5},waterfall{line{color#ffffff}},horizontalWaterfall{line{color#ffffff}},candlestick{downColor#664e62,line{color#ffffff},border{_brightness1.5,opacity1},highlight{border{color#ffffff,opacity1}}},ohlc{line{color#ffffff}}},chartArea{background#2c232b},seriesColors[#a7008f,#ffb800,#3aafff,#99c900,#b20753,#ff4195],axisDefaults{line{color#ffffff},labels{color#ffffff},majorGridLines{color#664e62},minorGridLines{color#4f394b},title{color#ffffff},crosshair{color#ffffff},notes{icon{backgroundtransparent,border{color#ffffff}},label{color#ffffff},line{color#ffffff}}}},gauge{pointer{color#a7008f},scale{rangePlaceholderColor#2c232b,labels{color#ffffff},minorTicks{color#2c232b},majorTicks{color#664e62},line{color#ffffff}}},diagram{shapeDefaults{fill{color#a7018f},connectorDefaults{fill{colorh},stroke{color#2c232b},hover{fill{color#2c232b},stroke{colorh}}},content{colorh}},editable{resize{handles{fill{color#2c232b},stroke{colorh},hover{fill{colorh},stroke{colorh}}}},rotate{thumb{stroke{colorh},fill{colorh}}}},selectable{stroke{colorh}},connectionDefaults{stroke{colorh},content{colorh},selection{handles{fill{color#2c232b},stroke{colorh}}}}},treeMap{colors[[#a7008f,#451c3f],[#ffb800,#564122],[#3aafff,#2f3f55],[#99c900,#424422],[#b20753,#471d33],[#ff4195,#562940]]}}),v(default,{chart{title{color#8e8e8e},legend{labels{color#232323},inactiveItems{labels{color#919191},markers{color#919191}}},seriesDefaults{labels{colors,backgroundh,opacity.5},errorBars{color#232323},candlestick{downColor#dedede,line{color#8d8d8d}},waterfall{line{color#8e8e8e}},horizontalWaterfall{line{color#8e8e8e}},notes{icon{backgroundtransparent,border{color#8e8e8e}},label{color#232323},line{color#8e8e8e}}},seriesColors[#ff6800,#a0a700,#ff8d00,#678900,#ffb53c,#396000],axisDefaults{line{color#8e8e8e},labels{color#232323},minorGridLines{color#f0f0f0},majorGridLines{color#dfdfdf},title{color#232323},crosshair{color#8e8e8e},notes{icon{backgroundtransparent,border{color#8e8e8e}},label{color#232323},line{color#8e8e8e}}}},gauge{pointer{color#ea7001},scale{rangePlaceholderColor#dedede,labels{color#2e2e2e},minorTicks{color#2e2e2e},majorTicks{color#2e2e2e},line{color#2e2e2e}}},diagram{shapeDefaults{fill{color#e15613},connectorDefaults{fill{color#282828},stroke{colorh},hover{fill{colorh},stroke{color#282828}}},content{color#2e2e2e}},editable{resize{handles{fill{colorh},stroke{color#282828},hover{fill{color#282828},stroke{color#282828}}}},rotate{thumb{stroke{color#282828},fill{color#282828}}}},selectable{stroke{color#a7018f}},connectionDefaults{stroke{color#282828},content{color#2e2e2e},selection{handles{fill{colorh},stroke{color#282828}}}}},treeMap{colors[[#ff6800,#edcfba],[#a0a700,#dadcba],[#ff8d00,#edd7ba],[#678900,#cfd6ba],[#ffb53c,#eddfc6],[#396000,#c6ceba]]}}),v(silver,{chart{title{color#4e5968},legend{labels{color#4e5968},inactiveItems{labels{color#B1BCC8},markers{color#B1BCC8}}},seriesDefaults{labels{color#293135,background#eaeaec,opacity.5},errorBars{color#4e5968},notes{icon{backgroundtransparent,border{color#4e5968}},label{color#4e5968},line{color#4e5968}},line{markers{background#eaeaec}},scatter{markers{background#eaeaec}},scatterLine{markers{background#eaeaec}},pie{connectors{color#A6B1C0}},donut{connectors{color#A6B1C0}},waterfall{line{color#a6b1c0}},horizontalWaterfall{line{color#a6b1c0}},candlestick{downColor#a6afbe}},chartArea{background#eaeaec},seriesColors[#007bc3,#76b800,#ffae00,#ef4c00,#a419b7,#430B62],axisDefaults{line{color#a6b1c0},labels{color#4e5968},majorGridLines{color#dcdcdf},minorGridLines{color#eeeeef},title{color#4e5968},crosshair{color#a6b1c0},notes{icon{backgroundtransparent,border{color#4e5968}},label{color#4e5968},line{color#4e5968}}}},gauge{pointer{color#0879c0},scale{rangePlaceholderColor#f3f3f4,labels{color#515967},minorTicks{color#515967},majorTicks{color#515967},line{color#515967}}},diagram{shapeDefaults{fill{color#1c82c2},connectorDefaults{fill{color#515967},stroke{colorh},hover{fill{colorh},stroke{color#282828}}},content{color#515967}},editable{resize{handles{fill{colorh},stroke{color#515967},hover{fill{color#515967},stroke{color#515967}}}},rotate{thumb{stroke{color#515967},fill{color#515967}}}},selectable{stroke{color#515967}},connectionDefaults{stroke{color#515967},content{color#515967},selection{handles{fill{colorh},stroke{color#515967}}}}},treeMap{colors[[#007bc3,#c2dbea],[#76b800,#dae7c3],[#ffae00,#f5e5c3],[#ef4c00,#f2d2c3],[#a419b7,#e3c7e8],[#430b62,#d0c5d7]]}}),v(metro,{chart{title{color#777777},legend{labels{color#777777},inactiveItems{labels{color#CBCBCB},markers{color#CBCBCB}}},seriesDefaults{labels{colors},errorBars{color#777777},notes{icon{backgroundtransparent,border{color#777777}},label{color#777777},line{color#777777}},candlestick{downColor#c7c7c7,line{color#787878}},waterfall{line{color#c7c7c7}},horizontalWaterfall{line{color#c7c7c7}},overlay{gradientnone},border{_brightness1}},seriesColors[#8ebc00,#309b46,#25a0da,#ff6900,#e61e26,#d8e404,#16aba9,#7e51a1,#313131,#ed1691],axisDefaults{line{color#c7c7c7},labels{color#777777},minorGridLines{color#c7c7c7},majorGridLines{color#c7c7c7},title{color#777777},crosshair{color#c7c7c7},notes{icon{backgroundtransparent,border{color#777777}},label{color#777777},line{color#777777}}}},gauge{pointer{color#8ebc00},scale{rangePlaceholderColor#e6e6e6,labels{color#777},minorTicks{color#777},majorTicks{color#777},line{color#777}}},diagram{shapeDefaults{fill{color#8ebc00},connectorDefaults{fill{colors},stroke{colorh},hover{fill{colorh},stroke{colors}}},content{color#777}},editable{resize{handles{fill{colorh},stroke{color#787878},hover{fill{color#787878},stroke{color#787878}}}},rotate{thumb{stroke{color#787878},fill{color#787878}}}},selectable{stroke{color#515967}},connectionDefaults{stroke{color#787878},content{color#777},selection{handles{fill{colorh},stroke{color#787878}}}}},treeMap{colors[[#8ebc00,#e8f2cc],[#309b46,#d6ebda],[#25a0da,#d3ecf8],[#ff6900,#ffe1cc],[#e61e26,#fad2d4],[#d8e404,#f7facd],[#16aba9,#d0eeee],[#7e51a1,#e5dcec],[#313131,#d6d6d6],[#ed1691,#fbd0e9]]}}),v(metroblack,{chart{title{color#ffffff},legend{labels{color#ffffff},inactiveItems{labels{color#797979},markers{color#797979}}},seriesDefaults{border{_brightness1},labels{color#ffffff},errorBars{color#ffffff},notes{icon{backgroundtransparent,border{color#cecece}},label{color#ffffff},line{color#cecece}},line{markers{background#0e0e0e}},bubble{opacity.6},scatter{markers{background#0e0e0e}},scatterLine{markers{background#0e0e0e}},candlestick{downColor#828282,line{color#ffffff}},waterfall{line{color#cecece}},horizontalWaterfall{line{color#cecece}},overlay{gradientnone}},chartArea{background#0e0e0e},seriesColors[#00aba9,#309b46,#8ebc00,#ff6900,#e61e26,#d8e404,#25a0da,#7e51a1,#313131,#ed1691],axisDefaults{line{color#cecece},labels{color#ffffff},minorGridLines{color#2d2d2d},majorGridLines{color#333333},title{color#ffffff},crosshair{color#cecece},notes{icon{backgroundtransparent,border{color#cecece}},label{color#ffffff},line{color#cecece}}}},gauge{pointer{color#00aba9},scale{rangePlaceholderColor#2d2d2d,labels{color#ffffff},minorTicks{color#333333},majorTicks{color#cecece},line{color#cecece}}},diagram{shapeDefaults{fill{color#00aba9},connectorDefaults{fill{colorh},stroke{color#0e0e0e},hover{fill{color#0e0e0e},stroke{colorh}}},content{colorh}},editable{resize{handles{fill{color#0e0e0e},stroke{color#787878},hover{fill{color#787878},stroke{color#787878}}}},rotate{thumb{stroke{colorh},fill{colorh}}}},selectable{stroke{color#787878}},connectionDefaults{stroke{colorh},content{colorh},selection{handles{fill{color#0e0e0e},stroke{colorh}}}}},treeMap{colors[[#00aba9,#0b2d2d],[#309b46,#152a19],[#8ebc00,#28310b],[#ff6900,#3e200b],[#e61e26,#391113],[#d8e404,#36390c],[#25a0da,#132b37],[#7e51a1,#241b2b],[#313131,#151515],[#ed1691,#3b1028]]}}),v(moonlight,{chart{title{color#ffffff},legend{labels{color#ffffff},inactiveItems{labels{color#A1A7AB},markers{color#A1A7AB}}},seriesDefaults{labels{color#ffffff},errorBars{color#ffffff},notes{icon{backgroundtransparent,border{color#8c909e}},label{color#ffffff},line{color#8c909e}},pie{overlay{gradientsharpBevel}},donut{overlay{gradientsharpGlass}},line{markers{background#212a33}},bubble{opacity.6},scatter{markers{background#212a33}},scatterLine{markers{background#212a33}},area{opacity.3},candlestick{downColor#757d87,line{color#ea9d06},border{_brightness1.5,opacity1},highlight{border{colorh,opacity.2}}},waterfall{line{color#8c909e}},horizontalWaterfall{line{color#8c909e}},ohlc{line{color#ea9d06}}},chartArea{background#212a33},seriesColors[#ffca08,#ff710f,#ed2e24,#ff9f03,#e13c02,#a00201],axisDefaults{line{color#8c909e},minorTicks{color#8c909e},majorTicks{color#8c909e},labels{color#ffffff},majorGridLines{color#3e424d},minorGridLines{color#2f3640},title{color#ffffff},crosshair{color#8c909e},notes{icon{backgroundtransparent,border{color#8c909e}},label{color#ffffff},line{color#8c909e}}}},gauge{pointer{color#f4af03},scale{rangePlaceholderColor#2f3640,labels{colorh},minorTicks{color#8c909e},majorTicks{color#8c909e},line{color#8c909e}}},diagram{shapeDefaults{fill{color#f3ae03},connectorDefaults{fill{colorh},stroke{color#414550},hover{fill{color#414550},stroke{colorh}}},content{colorh}},editable{resize{handles{fill{color#414550},stroke{colorh},hover{fill{colorh},stroke{colorh}}}},rotate{thumb{stroke{colorh},fill{colorh}}}},selectable{stroke{colorh}},connectionDefaults{stroke{colorh},content{colorh},selection{handles{fill{color#414550},stroke{colorh}}}}},treeMap{colors[[#ffca08,#4e4b2b],[#ff710f,#4e392d],[#ed2e24,#4b2c31],[#ff9f03,#4e422a],[#e13c02,#482e2a],[#a00201,#3b232a]]}}),v(uniform,{chart{title{color#686868},legend{labels{color#686868},inactiveItems{labels{color#B6B6B6},markers{color#B6B6B6}}},seriesDefaults{labels{color#686868},errorBars{color#686868},notes{icon{backgroundtransparent,border{color#9e9e9e}},label{color#686868},line{color#9e9e9e}},pie{overlay{gradientsharpBevel}},donut{overlay{gradientsharpGlass}},line{markers{background#ffffff}},bubble{opacity.6},scatter{markers{background#ffffff}},scatterLine{markers{background#ffffff}},area{opacity.3},candlestick{downColor#cccccc,line{color#cccccc},border{_brightness1.5,opacity1},highlight{border{color#cccccc,opacity.2}}},waterfall{line{color#9e9e9e}},horizontalWaterfall{line{color#9e9e9e}},ohlc{line{color#cccccc}}},chartArea{background#ffffff},seriesColors[#527aa3,#6f91b3,#8ca7c2,#a8bdd1,#c5d3e0,#e2e9f0],axisDefaults{line{color#9e9e9e},minorTicks{color#aaaaaa},majorTicks{color#888888},labels{color#686868},majorGridLines{color#dadada},minorGridLines{color#e7e7e7},title{color#686868},crosshair{color#9e9e9e},notes{icon{backgroundtransparent,border{color#9e9e9e}},label{color#686868},line{color#9e9e9e}}}},gauge{pointer{color#527aa3},scale{rangePlaceholderColor#e7e7e7,labels{color#686868},minorTicks{color#aaaaaa},majorTicks{color#888888},line{color#9e9e9e}}},diagram{shapeDefaults{fill{color#d1d1d1},connectorDefaults{fill{color#686868},stroke{colorh},hover{fill{colorh},stroke{color#686868}}},content{color#686868}},editable{resize{handles{fill{colorh},stroke{color#686868},hover{fill{color#686868},stroke{color#686868}}}},rotate{thumb{stroke{color#686868},fill{color#686868}}}},selectable{stroke{color#686868}},connectionDefaults{stroke{color#686868},content{color#686868},selection{handles{fill{colorh},stroke{color#686868}}}}},treeMap{colors[[#527aa3,#d0d8e1],[#6f91b3,#d6dde4],[#8ca7c2,#dce1e7],[#a8bdd1,#e2e6ea],[#c5d3e0,#e7eaed],[#e2e9f0,#edeff0]]}}),v(bootstrap,{chart{title{color#333333},legend{labels{color#333333},inactiveItems{labels{color#999999},markers{color#9A9A9A}}},seriesDefaults{labels{color#333333},overlay{gradientnone},errorBars{color#343434},notes{icon{background#000000,border{color#000000}},label{color#333333},line{color#000000}},pie{overlay{gradientnone}},donut{overlay{gradientnone}},line{markers{background#ffffff}},bubble{opacity.6},scatter{markers{background#ffffff}},scatterLine{markers{background#ffffff}},area{opacity.8},candlestick{downColor#d0d0d0,line{color#333333},border{_brightness1.5,opacity1},highlight{border{color#b8b8b8,opacity.2}}},waterfall{line{color#cccccc}},horizontalWaterfall{line{color#cccccc}},ohlc{line{color#333333}}},chartArea{background#ffffff},seriesColors[#428bca,#5bc0de,#5cb85c,#f2b661,#e67d4a,#da3b36],axisDefaults{line{color#cccccc},minorTicks{color#ebebeb},majorTicks{color#cccccc},labels{color#333333},majorGridLines{color#cccccc},minorGridLines{color#ebebeb},title{color#333333},crosshair{color#000000},notes{icon{background#000000,border{color#000000}},label{color#ffffff},line{color#000000}}}},gauge{pointer{color#428bca},scale{rangePlaceholderColor#cccccc,labels{color#333333},minorTicks{color#ebebeb},majorTicks{color#cccccc},line{color#cccccc}}},diagram{shapeDefaults{fill{color#428bca},connectorDefaults{fill{color#333333},stroke{colorh},hover{fill{colorh},stroke{color#333333}}},content{color#333333}},editable{resize{handles{fill{colorh},stroke{color#333333},hover{fill{color#333333},stroke{color#333333}}}},rotate{thumb{stroke{color#333333},fill{color#333333}}}},selectable{stroke{color#333333}},connectionDefaults{stroke{color#c4c4c4},content{color#333333},selection{handles{fill{colorh},stroke{color#333333}},stroke{color#333333}}}},treeMap{colors[[#428bca,#d1e0ec],[#5bc0de,#d6eaf0],[#5cb85c,#d6e9d6],[#5cb85c,#f4e8d7],[#e67d4a,#f2ddd3],[#da3b36,#f0d0cf]]}}),v(flat,{chart{title{color#4c5356},legend{labels{color#4c5356},inactiveItems{labels{color#CBCBCB},markers{color#CBCBCB}}},seriesDefaults{labels{color#4c5356},errorBars{color#4c5356},notes{icon{backgroundtransparent,border{color#cdcdcd}},label{color#4c5356},line{color#cdcdcd}},candlestick{downColor#c7c7c7,line{color#787878}},area{opacity.9},waterfall{line{color#cdcdcd}},horizontalWaterfall{line{color#cdcdcd}},overlay{gradientnone},border{_brightness1}},seriesColors[#10c4b2,#ff7663,#ffb74f,#a2df53,#1c9ec4,#ff63a5,#1cc47b],axisDefaults{line{color#cdcdcd},labels{color#4c5356},minorGridLines{color#cdcdcd},majorGridLines{color#cdcdcd},title{color#4c5356},crosshair{color#cdcdcd},notes{icon{backgroundtransparent,border{color#cdcdcd}},label{color#4c5356},line{color#cdcdcd}}}},gauge{pointer{color#10c4b2},scale{rangePlaceholderColor#cdcdcd,labels{color#4c5356},minorTicks{color#4c5356},majorTicks{color#4c5356},line{color#4c5356}}},diagram{shapeDefaults{fill{color#10c4b2},connectorDefaults{fill{color#363940},stroke{colorh},hover{fill{colorh},stroke{color#363940}}},content{color#4c5356}},editable{resize{handles{fill{colorh},stroke{color#363940},hover{fill{color#363940},stroke{color#363940}}}},rotate{thumb{stroke{color#363940},fill{color#363940}}}},selectable{stroke{color#363940}},connectionDefaults{stroke{color#cdcdcd},content{color#4c5356},selection{handles{fill{colorh},stroke{color#363940}},stroke{color#363940}}}},treeMap{colors[[#10c4b2,#cff3f0],[#ff7663,#ffe4e0],[#ffb74f,#fff1dc],[#a2df53,#ecf9dd],[#1c9ec4,#d2ecf3],[#ff63a5,#ffe0ed],[#1cc47b,#d2f3e5]]}}),v(material,{chart{title{color#444444},legend{labels{color#444444},inactiveItems{labels{color#CBCBCB},markers{color#CBCBCB}}},seriesDefaults{labels{color#444444},errorBars{color#444444},notes{icon{backgroundtransparent,border{color#e5e5e5}},label{color#444444},line{color#e5e5e5}},candlestick{downColor#c7c7c7,line{color#787878}},area{opacity.9},waterfall{line{color#e5e5e5}},horizontalWaterfall{line{color#e5e5e5}},overlay{gradientnone},border{_brightness1}},seriesColors[#3f51b5,#03a9f4,#4caf50,#f9ce1d,#ff9800,#ff5722],axisDefaults{line{color#e5e5e5},labels{color#444444},minorGridLines{color#e5e5e5},majorGridLines{color#e5e5e5},title{color#444444},crosshair{color#7f7f7f},notes{icon{backgroundtransparent,border{color#e5e5e5}},label{color#444444},line{color#e5e5e5}}}},gauge{pointer{color#3f51b5},scale{rangePlaceholderColor#e5e5e5,labels{color#444444},minorTicks{color#444444},majorTicks{color#444444},line{color#444444}}},diagram{shapeDefaults{fill{color#3f51b5},connectorDefaults{fill{color#7f7f7f},stroke{colorh},hover{fill{colorh},stroke{color#7f7f7f}}},content{color#444444}},editable{resize{handles{fill{colorh},stroke{color#444444},hover{fill{color#444444},stroke{color#444444}}}},rotate{thumb{stroke{color#444444},fill{color#444444}}}},selectable{stroke{color#444444}},connectionDefaults{stroke{color#7f7f7f},content{color#444444},selection{handles{fill{colorh},stroke{color#444444}},stroke{color#444444}}}},treeMap{colors[[#3f51b5,#cff3f0],[#03a9f4,#e5f6fe],[#4caf50,#edf7ed],[#f9ce1d,#fefae8],[#ff9800,#fff4e5],[#ff5722,#ffeee8]]}}),v(materialblack,{chart{title{color#fff},legend{labels{color#fff},inactiveItems{labels{color#CBCBCB},markers{color#CBCBCB}}},seriesDefaults{labels{color#fff},errorBars{color#fff},notes{icon{backgroundtransparent,border{color#e5e5e5}},label{color#fff},line{color#e5e5e5}},candlestick{downColor#c7c7c7,line{color#787878}},area{opacity.9},waterfall{line{color#4d4d4d}},horizontalWaterfall{line{color#4d4d4d}},overlay{gradientnone},border{_brightness1}},chartArea{background#1c1c1c},seriesColors[#3f51b5,#03a9f4,#4caf50,#f9ce1d,#ff9800,#ff5722],axisDefaults{line{color#4d4d4d},labels{color#fff},minorGridLines{color#4d4d4d},majorGridLines{color#4d4d4d},title{color#fff},crosshair{color#7f7f7f},notes{icon{backgroundtransparent,border{color#4d4d4d}},label{color#fff},line{color#4d4d4d}}}},gauge{pointer{color#3f51b5},scale{rangePlaceholderColor#4d4d4d,labels{color#fff},minorTicks{color#fff},majorTicks{color#fff},line{color#fff}}},diagram{shapeDefaults{fill{color#3f51b5},connectorDefaults{fill{color#7f7f7f},stroke{colorh},hover{fill{colorh},stroke{color#7f7f7f}}},content{color#fff}},editable{resize{handles{fill{colorh},stroke{color#fff},hover{fill{color#fff},stroke{color#fff}}}},rotate{thumb{stroke{color#fff},fill{color#fff}}}},selectable{stroke{color#fff}},connectionDefaults{stroke{color#7f7f7f},content{color#fff},selection{handles{fill{colorh},stroke{color#fff}},stroke{color#fff}}}},treeMap{colors[[#3f51b5,#cff3f0],[#03a9f4,#e5f6fe],[#4caf50,#edf7ed],[#f9ce1d,#fefae8],[#ff9800,#fff4e5],[#ff5722,#ffeee8]]}}),function(){function e(){return{icon{background#007cc0,border{color#007cc0}},label{color#ffffff},line{coloro}}}var n=#333333,i=#7f7f7f,r=#bdbdbd,o=#c8c8c8,a=#dddddd,s=[#008fd3,#99d101,#f39b02,#f05662,#c03c53,#acacac],l=[#cbe8f5,#eaf5cb,#fceacc,#fbdcdf,#f2d7dc,#eeeeee],c=s[0],d=h;v(fiori,{chart{title{colorn},legend{labels{colorn},inactiveItems{labels{colori},markers{colori}}},seriesDefaults{labels{colorn},errorBars{colorn},notese(),candlestick{downColoro,line{colorr}},area{opacity.8},waterfall{line{coloro}},horizontalWaterfall{line{coloro}},overlay{gradientnone},border{_brightness1}},seriesColorss,axisDefaults{line{coloro},labels{colorn},minorGridLines{colora},majorGridLines{coloro},title{colorn},crosshair{colori},notese()}},gauge{pointer{colorc},scale{rangePlaceholderColoro,labels{colorn},minorTicks{colorn},majorTicks{colorn},line{colorn}}},diagram{shapeDefaults{fill{colorc},connectorDefaults{fill{colorn},stroke{colord},hover{fill{colord},stroke{colorn}}},content{colorn}},editable{resize{handles{fill{colord},stroke{colorr},hover{fill{colorr},stroke{colorr}}}},rotate{thumb{stroke{colorr},fill{colorr}}}},selectable{stroke{colorr}},connectionDefaults{stroke{colorr},content{colorr},selection{handles{fill{colord},stroke{colorr}},stroke{colorr}}}},treeMap{colorst(s,l)}})}(),function(){function e(){return{icon{background#00b0ff,border{color#00b0ff}},label{color#ffffff},line{coloro}}}var n=#4e4e4e,i=#7f7f7f,r=#bdbdbd,o=#c8c8c8,a=#e5e5e5,s=[#0072c6,#5db2ff,#008a17,#82ba00,#ff8f32,#ac193d],l=[#cbe2f3,#deeffe,#cbe7d0,#e5f0cb,#fee8d5,#eed0d7],c=s[0],d=h;v(office365,{chart{title{colorn},legend{labels{colorn},inactiveItems{labels{colori},markers{colori}}},seriesDefaults{labels{colorn},errorBars{colorn},notese(),candlestick{downColoro,line{colorr}},area{opacity.8},waterfall{line{coloro}},horizontalWaterfall{line{coloro}},overlay{gradientnone},border{_brightness1}},seriesColorss,axisDefaults{line{coloro},labels{colorn},minorGridLines{colora},majorGridLines{coloro},title{colorn},crosshair{colori},notese()}},gauge{pointer{colorc},scale{rangePlaceholderColoro,labels{colorn},minorTicks{colorn},majorTicks{colorn},line{colorn}}},diagram{shapeDefaults{fill{colorc},connectorDefaults{fill{colorn},stroke{colord},hover{fill{colord},stroke{colorn}}},content{colorn}},editable{resize{handles{fill{colord},stroke{colorr},hover{fill{colorr},stroke{colorr}}}},rotate{thumb{stroke{colorr},fill{colorr}}}},selectable{stroke{colorr}},connectionDefaults{stroke{colorr},content{colorr},selection{handles{fill{colord},stroke{colorr}},stroke{colorr}}}},treeMap{colorst(s,l)}})
}()}(window.kendo.jQuery),function(e,t){function n(){this._defaults={}}function i(e,t,n,i){var r,o,a=(i.x-n.x)(e.y-n.y)-(i.y-n.y)(e.x-n.x),s=(i.y-n.y)(t.x-e.x)-(i.x-n.x)(t.y-e.y);return 0!==s&&(o=as,r=new $n(e.x+o(t.x-e.x),e.y+o(t.y-e.y))),r}function r(e,t){var n,i,r,a=e.series,s=a.length,l=e.seriesDefaults,c=Mn({},e.seriesDefaults),d=tMn({},t.seriesDefaults){},u=Mn({},d);for(o(c),o(u),n=0;sn;n++)i=a[n].typee.seriesDefaults.type,r=Mn({data[]},u,d[i],{tooltipe.tooltip},c,l[i]),a[n]._defaults=r,a[n]=Mn({},r,a[n])}function o(e){delete e.bar,delete e.column,delete e.rangeColumn,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.boxPlot,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine,delete e.waterfall}function a(e){var t,n,i,r,o=e.series,a=e.seriesColors[];for(t=0;o.lengtht;t++)n=o[t],i=a[t%a.length],n.color=n.colori,r=n._defaults,r&&(r.color=r.colori)}function s(e){var t;_n([Hi,Uo,Qo,Ko],function(){t=this+Axes,e[t]&&(e[this+Axis]=e[t],delete e[t])})}function l(t,n){var i=(n{}).axisDefaults{};_n([Hi,Uo,Qo,Ko],function(){var n=this+Axis,r=[].concat(t[n]),o=t.axisDefaults{};r=e.map(r,function(e){var t=(e{}).color,r=Mn({},i,i[n],o,o[n],{line{colort},labels{colort},title{colort}},e);return delete r[n],r}),t[n]=r.length1rr[0]})}function c(e){var t,n=e.length,i=0;for(t=0;nt;t++)i=kn.max(i,e[t].data.length);return i}function d(e){return ee}function u(e,t){if(null===t)return t;var n=Pn(e,!0);return n(t)}function h(e,t){if(null===t)return t;var n=_date_+e,i=t[n];return i(i=p(Pn(e,!0)(t)),t[n]=i),i}function p(e){var t,n;if(e instanceof Date)t=e;else if(typeof e===So)t=Tn.parseDate(e)new Date(e);else if(e)if(wn(e))for(t=[],n=0;e.lengthn;n++)t.push(p(e[n]));else t=new Date(e);return t}function f(e){return wn(e)bn(e,f)ep(e).getTime()t}function g(e,t,n,i){var r,o=e;return e&&(e=p(e),r=e.getHours(),n===Xo(o=new Date(e.getFullYear()+t,0,1),Tn.date.adjustDST(o,0))n===Or(o=new Date(e.getFullYear(),e.getMonth()+t,1),Tn.date.adjustDST(o,r))n===$o(o=g(m(e,i),7t,Xi),Tn.date.adjustDST(o,r))n===Xi(o=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t),Tn.date.adjustDST(o,r))n===br(o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t),t0&&S(e,o)&&(o=g(e,t+1,n,i)))n===Nr(o=new Date(e.getTime()+tAo),o.getSeconds()0&&o.setSeconds(0))n===fo&&(o=new Date(e.getTime()+tDo)),o.getMilliseconds()0&&o.setMilliseconds(0)),o}function m(e,t){var n=e.getDay(),i=0;if(!isNaN(n))for(t=t0;n!==t;)0===nn=6n--,i++;return y(e,-iIo)}function v(e,t,n){return e=p(e),g(e,0,t,n)}function _(e,t,n){return e=p(e),e&&v(e,t,n).getTime()===e.getTime()eg(e,1,t,n)}function w(e,t){var n=e.getTime()-t,i=e.getTimezoneOffset()-t.getTimezoneOffset();return n-iAo}function y(e,t){var n=e.getTimezoneOffset(),i=new Date(e.getTime()+t),r=i.getTimezoneOffset()-n;return new Date(i.getTime()+rAo)}function b(e,t,n){var i;return i=n===Xot.getFullYear()-e.getFullYear()n===Or12b(e,t,Xo)+t.getMonth()-e.getMonth()kn.floor(n===Xiw(t,e)Io(t-e)Fo[n])}function k(e){return 1===e.lengthe[0]e}function x(e){var t,n,i,r=e.length;if(r0)for(n=0;rn;n++)i=e[n].box,tt.wrap(i)t=i.clone();return tLn()}function C(e,t){return e&&te.toLowerCase()===t.toLowerCase()e===t}function S(e,t){return e&&tf(e)===f(t)e===t}function T(e,t){null!==t&&e.push(t)}function D(e,t){for(var n,i,r=0,o=t.length-1;o=r;)if(n=kn.floor((r+o)2),i=t[n],ei)r=n+1;else{if(!(ie)){for(;S(t[n-1],e);)n--;return n}o=n-1}return e=t[n]nn-1}function A(e){returnnumber==typeof e&&!isNaN(e)}function E(e){var t,n,i=e.length,r=0;for(t=0;it;t++)n=e[t],A(n)&&r++;return r}function I(e){return E(e)===e.length}function M(e){var t,n,i,r={};for(t=0;e.lengtht;t++)n=e[t],i=n.options.name,i&&(r[i]=n.range());return r}function P(e,t,n,i){var r,o,a,s,l,c=!1;if(n=n{},a=n.excluded=n.excluded[],s=n.defaults=n.defaults{},l=n.depth=n.depth0,!(lRr)){for(r in e)!ri(r,n.excluded)&&e.hasOwnProperty(r)&&(o=e[r],zn(o)(c=!0,i(e[r]=vi(o(t),s[r])))typeof o===Zr&&(n.defaults=s[r],n.depth++,c=P(o,t,n,i)c,n.depth--));return c}}function z(e,n){var i,r,o,a=[],s=e.groupNameTemplate,l=n.length;if(0===l)return o=Mn({},e),o.visibleInLegend=!1,[o];for(di(s)(Tn.logToConsole('groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'),s&&(i=Fn(s)))(i=Fn(e.name),0===i._slotCount&&(i=Fn(di(e.name)#= group.value # #= series.name ##= group.value #))),r=0;lr;r++)o=Mn({},e),zn(o.color)(o.color=t),o._groupIx=r,a.push(o),i&&(o.name=i({serieso,groupn[r]}));return a}function F(e,t){var n,i,r=[];for(t=[].concat(t),n=0;e.lengthn;n++)i=e[n],ri(i.type,t)&&r.push(i);return r}function R(t,n){if(t instanceof Date){for(var i=0,r=n.length;ri;i++)if(S(n[i],t))return i;return-1}return e.inArray(t,n)}function B(e,t){t=tni;for(var n=1,i=e.length;in;n++)if(t(e[n],e[n-1])0){e.sort(t);break}return e}function H(e,t){var n,i=B(e,t),r=i.length,o=r0[i[0]][];for(t=tni,n=1;rn;n++)0!==t(i[n],ui(o))&&o.push(i[n]);return o}function L(e,t){var n=e.type,i=t instanceof Date;return!n&&iC(n,Ki)}function N(e){var t,n,i,r,o=[],a=e.length;for(t=0;at;t++)for(n=e[t],r=n.length,i=0;ri;i++)o[i]=o[i][],o[i].push(n[i]);return o}function O(e,t){if(e.indexOf(.)-1)for(var n,i=e.split(.),r=;i.length1;)r+=i.shift(),n=Tn.getter(r)(t){},Tn.setter(r)(t,n),r+=.}function V(e){var t,n,i,r=e.data,o=0;for(t=0;r.lengtht;t++)n=Q.current.bindPoint(e,t),i=n.valueFields.value,typeof i===So&&(i=parseFloat(i)),A(i)&&n.fields.visible!==!1&&(o+=kn.abs(i));return o}function U(e){var t=e.overlay;return t&&t.gradient&&none!=t.gradient}function W(){return this}function j(e){for(var t=0;e.lengtht;t++)if(di(e[t].zIndex))return!0}function G(){this._defaultPrevented=!0}function q(e,t){if(e)for(var n=0;e.lengthn;n++)if(e[n].category===t)return[e[n]]}function $(e){return di(e)&&null!==e}var Y,Q,K,X,Z,J,et,tt,nt,it,rt,ot,at,st,lt,ct,dt,ut,ht,pt,ft,gt,mt,vt,_t,wt,yt,bt,kt,xt,Ct,St,Tt,Dt,At,Et,It,Mt,Pt,zt,Ft,Rt,Bt,Ht,Lt,Nt,Ot,Vt,Ut,Wt,jt,Gt,qt,$t,Yt,Qt,Kt,Xt,Zt,Jt,en,tn,nn,rn,on,an,sn,ln,cn,dn,un,hn,pn,fn,gn,mn,vn,_n=e.each,wn=e.isArray,yn=e.isPlainObject,bn=e.map,kn=Math,xn=e.noop,Cn=e.extend,Sn=e.proxy,Tn=window.kendo,Dn=Tn.Class,An=Tn.Observable,En=Tn.data.DataSource,In=Tn.ui.Widget,Mn=Tn.deepExtend,Pn=Tn.getter,zn=Tn.isFunction,Fn=Tn.template,Rn=Tn.dataviz,Bn=Rn.Axis,Hn=Rn.AxisLabel,Ln=Rn.Box2D,Nn=Rn.BoxElement,On=Rn.ChartElement,Vn=Tn.drawing.Color,Un=Rn.CurveProcessor,Wn=Rn.FloatElement,jn=Rn.Note,Gn=Rn.LogarithmicAxis,qn=Rn.NumericAxis,$n=Rn.Point2D,Yn=Rn.RootElement,Qn=Rn.Ring,Kn=Rn.ShapeElement,Xn=Rn.ShapeBuilder,Zn=Rn.TextBox,Jn=Rn.Title,ei=Rn.alignPathToPixel,ti=Rn.autoFormat,ni=Rn.dateComparer,ii=Rn.getSpacing,ri=Rn.inArray,oi=Rn.interpolateValue,ai=Rn.mwDelta,si=Rn.round,li=Tn.util,ci=li.append,di=li.defined,ui=li.last,hi=li.limitValue,pi=li.sparseArrayLimits,fi=li.sparseArrayMin,gi=li.sparseArrayMax,mi=li.renderTemplate,vi=li.valueOrDefault,_i=Rn.geometry,wi=Rn.drawing,yi=.kendoChart,bi=above,ki=area,xi=auto,Ci=fit,Si=Rn.AXIS_LABEL_CLICK,Ti=bar,Di=6,Ai=.8,Ei=below,Ii=#000,Mi=both,Pi=bottom,zi=boxPlot,Fi=bubble,Ri=bullet,Bi=candlestick,Hi=category,Li=center,Ni=change,Oi=circle,Vi=contextmenu+yi,Ui=Rn.CLIP,Wi=color,ji=column,Gi=Rn.COORD_PRECISION,qi=cross,$i=k-,Yi=custom,Qi=dataBound,Ki=date,Xi=days,Zi=Rn.DEFAULT_FONT,Ji=Rn.DEFAULT_HEIGHT,er=Rn.DEFAULT_PRECISION,tr=Rn.DEFAULT_WIDTH,nr=4,ir=donut,rr=50,or=drag,ar=dragEnd,sr=dragStart,lr=errorLow,cr=errorHigh,dr=xErrorLow,ur=xErrorHigh,hr=yErrorLow,pr=yErrorHigh,fr=fadeIn,gr=first,mr=from,vr=funnel,_r=glass,wr=horizontal,yr=horizontalWaterfall,br=hours,kr=Rn.INITIAL_ANIMATION_DURATION,xr=insideBase,Cr=insideEnd,Sr=interpolate,Tr=leave,Dr=left,Ar=legendItemClick,Er=legendItemHover,Ir=line,Mr=8,Pr=linear,zr=log,Fr=max,Rr=5,Br=Number.MAX_VALUE,Hr=min,Lr=-Number.MAX_VALUE,Nr=minutes,Or=months,Vr=mouseleave+yi,Ur=mousemove.tracking,Wr=mouseover+yi,jr=mouseout+yi,Gr=mousemove+yi,qr=20,$r=150,Yr=DOMMouseScroll+yi+ mousewheel+yi,Qr=Rn.NOTE_CLICK,Kr=Rn.NOTE_HOVER,Xr=noteText,Zr=object,Jr=ohlc,eo=outsideEnd,to=pie,no=70,io=plotAreaClick,ro=pointer,oo=rangeBar,ao=rangeColumn,so=render,lo=right,co=roundedBevel,uo=roundedGlass,ho=scatter,po=scatterLine,fo=seconds,go=selectStart,mo=select,vo=selectEnd,_o=seriesClick,wo=seriesHover,yo=.001,bo=step,ko=smooth,xo=stderr,Co=stddev,So=string,To=summary,Do=1e3,Ao=60Do,Eo=60Ao,Io=24Eo,Mo=7Io,Po=31Io,zo=365Io,Fo={yearszo,monthsPo,weeksMo,daysIo,hoursEo,minutesAo,secondsDo},Ro=to,Bo=top,Ho=150,Lo=5,No=100,Oo=100,Vo=chart-tooltip-inverse,Uo=value,Wo=verticalArea,jo=verticalBullet,Go=verticalLine,qo=waterfall,$o=weeks,Yo=#fff,Qo=x,Ko=y,Xo=years,Zo=zero,Jo=3,ea=zoomStart,ta=zoom,na=zoomEnd,ia=[fo,Nr,br,Xi,$o,Or,Xo],ra=[Ti,ji,Jr,Bi,zi,Ri,ao,oo,qo,yr],oa={secondsHHmmss,minutesHHmm,hoursHHmm,daysMd,weeksMd,monthsMMM 'yy,yearsyyyy},aa=In.extend({initfunction(e,n){var i,r,o=this;Tn.destroy(e),In.fn.init.call(o,e),o.element.addClass($i+this.options.name.toLowerCase()).css(position,relative),n&&(r=n.dataSource,n.dataSource=t),i=Mn({},o.options,n),o._originalOptions=Mn({},i),o._initTheme(i),o._initSurface(),o.bind(o.events,o.options),o.wrapper=o.element,n&&(n.dataSource=r),o._initDataSource(n),Tn.notify(o,Rn.ui)},_initThemefunction(n){var i,r=this,o=Rn.ui.themes{},l=n.theme,c=o[l]o[l.toLowerCase()],d=l&&cc.chart{},u=[],h=n.series[];for(i=0;h.lengthi;i++)u.push(e.extend({},h[i]));n.series=u,s(n),r._applyDefaults(n,d),null===n.seriesColors&&(n.seriesColors=t),r.options=Mn({},d,n),a(r.options)},_initDataSourcefunction(e){var t=this,n=(e{}).dataSource;t._dataChangeHandler=Sn(t._onDataChanged,t),t.dataSource=En.create(n).bind(Ni,t._dataChangeHandler),t._bindCategories(),n&&(t._hasDataSource=!0),t._redraw(),t._attachEvents(),n&&t.options.autoBind&&t.dataSource.fetch()},setDataSourcefunction(e){var t=this;t.dataSource.unbind(Ni,t._dataChangeHandler),t.dataSource=e=En.create(e),t._hasDataSource=!0,t._hasData=!1,e.bind(Ni,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events[Qi,_o,wo,Si,Ar,Er,io,sr,or,ar,ea,ta,na,go,mo,vo,Qr,Kr,so],itemsfunction(){return e()},options{nameChart,renderAs,themedefault,chartArea{},legend{visible!0,labels{}},categoryAxis{},autoBind!0,seriesDefaults{typeji,data[],highlight{visible!0},labels{},negativeValues{visible!1}},series[],seriesColorsnull,tooltip{visible!1},transitions!0,valueAxis{},plotArea{},title{},xAxis{},yAxis{},panes[{}]},refreshfunction(){var e=this;e._applyDefaults(e.options),a(e.options),e._bindSeries(),e._bindCategories(),e.trigger(Qi),e._redraw()},getSizefunction(){return Tn.dimensions(this.element)},_resizefunction(){var e=this.options.transitions;this.options.transitions=!1,this._redraw(),this.options.transitions=e},redrawfunction(e){var t,n,i=this;i._applyDefaults(i.options),a(i.options),e(n=i._model._plotArea,t=n.findPane(e),n.redraw(t))i._redraw()},getAxisfunction(e){var t,n=this._plotArea.axes;for(t=0;n.lengtht;t++)if(n[t].options.name===e)return new vn(n[t])},toggleHighlightfunction(e,t){var n,i,r,o,a=this._plotArea,s=this._highlight,l=(a.srcSeriesa.series[])[0];if(yn(t)(n=t.series,i=t.category)n=i=t,r=l.type===irq(a.pointsBySeriesName(n),i)l.type===tol.type===vrq((a.charts[0]{}).points,i)a.pointsBySeriesName(n))for(o=0;r.lengtho;o++)s.togglePointHighlight(r[o],e)},_initSurfacefunction(){var e=this.surface,t=this._surfaceWrap(),n=this.options.chartArea;n.width&&t.css(width,n.width),n.height&&t.css(height,n.height),e&&e.options.type===this.options.renderAs(this.surface.clear(),this.surface.resize())(e&&e.destroy(),this.surface=wi.Surface.create(t,{typethis.options.renderAs}))},_surfaceWrapfunction(){return this.element},_redrawfunction(){var e,t=this,n=t._getModel();t._destroyView(),t._model=n,t._plotArea=n._plotArea,n.renderVisual(),this.options.transitions!==!1&&n.traverse(function(e){e.animation&&e.animation.setup()}),t._initSurface(),t.surface.draw(n.visual),this.options.transitions!==!1&&n.traverse(function(e){e.animation&&e.animation.play()}),t._tooltip=t._createTooltip(),t._highlight=new ln(e),t._setupSelection(),t._hasDataSource&&!t._hasData&&t.options.autoBindt.trigger(so)},exportVisualfunction(){return this.surface.exportVisual()},_sharedTooltipfunction(){var e=this,t=e.options;return e._plotArea instanceof en&&t.tooltip.shared},_createTooltipfunction(){var e,t=this,n=t.options,i=t.element;return e=t._sharedTooltip()new un(i,t._plotArea,n.tooltip)new dn(i,n.tooltip),e.bind(Tr,Sn(t._tooltipleave,t)),e},_tooltipleavefunction(){var e=this,t=e._plotArea,n=e._highlight;t.hideCrosshairs(),n.hide()},_applyDefaultsfunction(e,t){l(e,t),r(e,t)},_getModelfunction(){var e,t=this,n=t.options,i=new Yn(t._modelOptions());return i.chart=t,Jn.buildTitle(n.title,i),e=i._plotArea=t._createPlotArea(),n.legend.visible&&i.append(new J(e.options.legend)),i.append(e),i.reflow(),i},_modelOptionsfunction(){var e=this,t=e.options,n=e.element,i=kn.floor(n.height()),r=kn.floor(n.width());return e._size=null,Mn({widthrtr,heightiJi,transitionst.transitions},t.chartArea)},_createPlotAreafunction(e){var t=this,n=t.options;return Y.current.create(e[]n.series,n)},_setupSelectionfunction(){var e,t,n,i,r,o,a=this,s=a._plotArea,l=s.axes,c=a._selections=[];for(a._selectStartHandler(a._selectStartHandler=Sn(a._selectStart,a),a._selectHandler=Sn(a._select,a),a._selectEndHandler=Sn(a._selectEnd,a)),t=0;l.lengtht;t++)n=l[t],o=n.options,n instanceof et&&o.select&&!o.vertical&&(i=0,r=o.categories.length-1,n instanceof tt&&(i=o.categories[i],r=o.categories[r]),o.justified(n instanceof ttr=g(r,1,o.baseUnit,o.weekStartDay)r++),e=new gn(a,n,Mn({mini,maxr},o.select)),e.bind(go,a._selectStartHandler),e.bind(mo,a._selectHandler),e.bind(vo,a._selectEndHandler),c.push(e))},_selectStartfunction(e){return this.trigger(go,e)},_selectfunction(e){return this.trigger(mo,e)},_selectEndfunction(e){return this.trigger(vo,e)},_attachEventsfunction(){var e=this,t=e.element;t.on(Vi,Sn(e._click,e)),t.on(Wr,Sn(e._mouseover,e)),t.on(jr,Sn(e._mouseout,e)),t.on(Yr,Sn(e._mousewheel,e)),t.on(Vr,Sn(e._mouseleave,e)),e._mousemove=Tn.throttle(Sn(e._mousemove,e),qr),e._shouldAttachMouseMove()&&t.on(Gr,e._mousemove),Tn.UserEvents&&(e._userEvents=new Tn.UserEvents(t,{global!0,filternot(.k-selector),multiTouch!1,tapSn(e._tap,e),startSn(e._start,e),moveSn(e._move,e),endSn(e._end,e)}))},_mouseoutfunction(e){var t=this,n=t._getChartElement(e);n&&n.leave&&n.leave(t,e)},_startfunction(e){var t=this,n=t._events;di(n[sr]n[or]n[ar])&&t._startNavigation(e,sr)},_movefunction(e){var t,n,i,r,o,a,s=this,l=s._navState,c={};if(l){for(e.preventDefault(),t=l.axes,n=0;t.lengthn;n++)i=t[n],r=i.options.name,r&&(o=i.options.verticale.ye.x,a=o.startLocation-o.location,0!==a&&(c[i.options.name]=i.translateRange(a)));l.axisRanges=c,s.trigger(or,{axisRangesc,originalEvente})}},_endfunction(e){this._endNavigation(e,ar)},_mousewheelfunction(e){var t,n,i,r,o,a,s=this,l=e.originalEvent,c=ai(e),d=s._navState,u={};if(d(t=s._startNavigation(l,ea),t(d=s._navState)),d){for(n=d.totalDeltac,d.totalDelta=n+c,i=s._navState.axes,r=0;i.lengthr;r++)o=i[r],a=o.options.name,a&&(u[a]=o.scaleRange(-n));s.trigger(ta,{deltac,axisRangesu,originalEvente}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(e,na)},$r)}},_startNavigationfunction(e,t){var n,i,r,o=this,a=o._eventCoordinates(e),s=o._model._plotArea,l=s.findPointPane(a),c=s.axes.slice(0),d=!1;if(l){for(n=0;c.lengthn;n++)if(i=c[n],i.box.containsPoint(a)){d=!0;break}!d&&s.backgroundBox().containsPoint(a)&&(r=o.trigger(t,{axisRangesM(c),originalEvente}),ro._userEvents.cancel()(o._suppressHover=!0,o._unsetActivePoint(),o._navState={panel,axesc}))}},_endNavigationfunction(e,t){var n=this;n._navState&&(n.trigger(t,{axisRangesn._navState.axisRanges,originalEvente}),n._suppressHover=!1,n._navState=null)},_getChartElementfunction(e,n){var i,r=this.surface.eventTarget(e);if(r){for(;r&&!i;)i=r.chartElement,r=r.parent;return i(i.aliasFor&&(i=i.aliasFor(e,this._eventCoordinates(e))),n&&(i=i.closest(n)),i)t}},_eventCoordinatesfunction(e){var t=this,n=di((e.x{}).client),i=ne.x.cliente.clientX,r=ne.y.cliente.clientY;return t._toModelCoordinates(i,r)},_toModelCoordinatesfunction(t,n){var i=this.element,r=i.offset(),o=parseInt(i.css(paddingLeft),10),a=parseInt(i.css(paddingTop),10),s=e(window);return new $n(t-r.left-o+s.scrollLeft(),n-r.top-a+s.scrollTop())},_tapfunction(e){var t=this,n=t._getChartElement(e);t._activePoint===nt._click(e)(t._startHover(e)t._unsetActivePoint(),t._click(e))},_clickfunction(e){for(var t=this,n=t._getChartElement(e);n;)n.click&&n.click(t,e),n=n.parent},_startHoverfunction(e){var n,i=this,r=i._getChartElement(e),o=i._tooltip,a=i._highlight,s=i.options.tooltip;if(!i._suppressHover&&a&&!a.isHighlighted(r)&&!i._sharedTooltip())return n=i._getChartElement(e,function(e){return e.hover}),n&&!n.hover(i,e)(i._activePoint=n,s=Mn({},s,n.options.tooltip),s.visible&&o.show(n),a.show(n),n.tooltipTracking)t},_mouseoverfunction(t){var n=this;n._startHover(t)&&e(document).on(Ur,Sn(n._mouseMoveTracking,n))},_mouseMoveTrackingfunction(t){var n,i,r=this,o=r.options,a=r._tooltip,s=r._highlight,l=r._eventCoordinates(t),c=r._activePoint;r._plotArea.box.containsPoint(l)c&&c.tooltipTracking&&c.series&&c.parent.getNearestPoint&&(i=c.parent.getNearestPoint(l.x,l.y,c.seriesIx),i&&i!=c&&(i.hover(r,t),r._activePoint=i,n=Mn({},o.tooltip,c.options.tooltip),n.visible&&a.show(i),s.show(i)))(e(document).off(Ur),r._unsetActivePoint())},_mousemovefunction(e){var t=this._eventCoordinates(e);this._trackCrosshairs(t),this._sharedTooltip()&&this._trackSharedTooltip(t,e)},_trackCrosshairsfunction(e){var t,n,i=this._plotArea.crosshairs;for(t=0;i.lengtht;t++)n=i[t],n.box.containsPoint(e)n.showAt(e)n.hide()},_trackSharedTooltipfunction(t,n){var i,r,o,a,s=this,l=s.options,c=s._plotArea,d=c.categoryAxis,u=s._tooltip,h=l.tooltip,p=s._highlight;c.box.containsPoint(t)&&(i=d.pointCategoryIndex(t),i!==s._tooltipCategoryIx&&(r=c.pointsByCategoryIndex(i),o=e.map(r,function(e){return e.eventArgs(n)}),a=o[0]{},a.categoryPoints=o,r.length0&&!this.trigger(wo,a)(h.visible&&u.showAt(r,t),p.show(r))u.hide(),s._tooltipCategoryIx=i))},_mouseleavefunction(t){var n=this,i=n._plotArea,r=n._tooltip,o=n._highlight,a=t.relatedTarget;a&&e(a).closest(r.element).length(n._mousemove.cancel(),i.hideCrosshairs(),o.hide(),setTimeout(Sn(r.hide,r),Oo),n._tooltipCategoryIx=null)},_unsetActivePointfunction(){var e=this,t=e._tooltip,n=e._highlight;e._activePoint=null,t&&t.hide(),n&&n.hide()},_onDataChangedfunction(){var e,t,n=this,i=n.options,r=n._sourceSeriesi.series,o=r.length,s=n.dataSource.view(),l=(n.dataSource.group()[]).length0,c=[];for(e=0;oe;e++)t=r[e],n._isBindable(t)&&lci(c,z(t,s))c.push(t[]);n._sourceSeries=r,i.series=c,a(n.options),n._bindSeries(),n._bindCategories(),n._hasData=!0,n._deferRedraw()},_deferRedrawfunction(){var e=this;Tn.support.vml(e._clearRedrawTimeout(),e._redrawTimeout=setTimeout(function(){e.surface&&(e.trigger(Qi),e._redraw())},0))(e.trigger(Qi),e._redraw())},_clearRedrawTimeoutfunction(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},_bindSeriesfunction(){var e,t,n,i,r=this,o=r.dataSource.view(),a=r.options.series,s=a.length;for(e=0;se;e++)t=a[e],r._isBindable(t)&&(n=t._groupIx,i=di(n)(o[n]{}).itemso,t.autoBind!==!1&&(t.data=i))},_bindCategoriesfunction(){var e,t,n=this,i=n.dataSource.view()[],r=(n.dataSource.group()[]).length0,o=i,a=n.options,s=[].concat(a.categoryAxis);for(r&&i.length&&(o=i[0].items),e=0;s.lengthe;e++)t=s[e],t.autoBind!==!1&&n._bindCategoryAxis(t,o,e)},_bindCategoryAxisfunction(e,t,n){var i,r,o,a=(t[]).length;if(e.field)for(e.categories=[],i=0;ai;i++)o=t[i],r=u(e.field,o),0===i(e.categories=[r],e.dataItems=[o])(e.categories.push(r),e.dataItems.push(o));else this._bindCategoryAxisFromSeries(e,n)},_bindCategoryAxisFromSeriesfunction(e,t){var n,i,r,o,a,s,l,c,d,p,f,g=this,m=[],v=g.options.series,_=v.length,w={};for(i=0;_i;i++)if(r=v[i],o=r.categoryAxis===e.name!r.categoryAxis&&0===t,a=r.data,l=a.length,r.categoryField&&o&&l0)for(f=L(e,u(r.categoryField,a[0])),p=fhu,s=0;ls;s++)c=a[s],d=p(r.categoryField,c),(f!w[d])&&(m.push([d,c]),f(w[d]=!0));m.length0&&(f&&(m=H(m,function(e,t){return ni(e[0],t[0])})),n=N(m),e.categories=n[0],e.dataItems=n[1])},_isBindablefunction(e){var t,n,i=Q.current.valueFields(e),r=!0;for(n=0;i.lengthn;n++)if(t=i[n],t===Uot=fieldt+=Field,!di(e[t])){r=!1;break}return r},_legendItemClickfunction(e,t){var n,i,r,o=this,a=o._plotArea,s=(a.srcSeriesa.series)[e],l=(o._sourceSeries[])[e]s;ri(s.type,[to,ir,vr])(r=l.data[t],i=di(r.visible)!r.visible!1,r.visible=i)(i=!l.visible,l.visible=i,s.visible=i),o.options.transitions&&(o.options.transitions=!1,n=!0),o.redraw(),n&&(o.options.transitions=!0)},_legendItemHoverfunction(e,t){var n,i,r=this,o=r._plotArea,a=r._highlight,s=(o.srcSerieso.series)[e];n=ri(s.type,[to,ir,vr])te,i=o.pointsBySeriesIndex(n),a.show(i)},_shouldAttachMouseMovefunction(){var e=this;return e._plotArea.crosshairs.lengthe._tooltip&&e._sharedTooltip()},setOptionsfunction(n){var i=this,r=n.dataSource;n.dataSource=t,i._originalOptions=Mn(i._originalOptions,n),i.options=Mn({},i._originalOptions),i._sourceSeries=null,e(document).off(Gr),In.fn._setEvents.call(i,n),i._initTheme(i.options),r&&i.setDataSource(r),i._hasDataSourcei.refresh()(i._bindCategories(),i.redraw()),i._shouldAttachMouseMove()&&i.element.on(Gr,i._mousemove)},destroyfunction(){var t=this,n=t.dataSource;t.element.off(yi),n.unbind(Ni,t._dataChangeHandler),e(document).off(Ur),t._userEvents&&t._userEvents.destroy(),t._destroyView(),t.surface.destroy(),t.surface=null,t._clearRedrawTimeout(),In.fn.destroy.call(t)},_destroyViewfunction(){var e=this,t=e._model,n=e._selections;if(t&&(t.destroy(),e._model=null),n)for(;n.length0;)n.shift().destroy();e._unsetActivePoint(),e._tooltip&&e._tooltip.destroy(),e._highlight&&e._highlight.destroy()}});Rn.ExportMixin.extend(aa.fn),Tn.PDFMixin&&Tn.PDFMixin.extend(aa.fn),Y=Dn.extend({initfunction(){this._registry=[]},registerfunction(e,t){this._registry.push({typee,seriesTypest})},createfunction(e,t){var n,i,r,o=this._registry,a=o[0];for(n=0;o.lengthn;n++)if(i=o[n],r=F(e,i.seriesTypes),r.length0){a=i;break}return new a.type(r,t)}}),Y.current=new Y,Q=Dn.extend({initfunction(){this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}},registerfunction(e,n,i){var r,o,a=this;for(n=n[Uo],r=0;e.lengthr;r++)o=e[r],a._valueFields[o]=n,a._otherFields[o]=i,a._nullValue[o]=a._makeValue(n,null),a._undefinedValue[o]=a._makeValue(n,t)},canonicalFieldsfunction(e){return this.valueFields(e).concat(this.otherFields(e))},valueFieldsfunction(e){return this._valueFields[e.type][Uo]},otherFieldsfunction(e){return this._otherFields[e.type][Uo]},bindPointfunction(e,t){var n,i,r,o,a,s=this,l=e.data,c=l[t],d={valueFields{valuec}},u=s.valueFields(e),h=s._otherFields[e.type];return null===ca=s._nullValue[e.type]di(c)wn(c)(i=c.slice(u.length),a=s._bindFromArray(c,u),n=s._bindFromArray(i,h))typeof c===Zr&&(r=s.sourceFields(e,u),o=s.sourceFields(e,h),a=s._bindFromObject(c,u,r),n=s._bindFromObject(c,h,o))a=s._undefinedValue[e.type],di(a)&&(1===u.lengthd.valueFields.value=a[u[0]]d.valueFields=a),d.fields=n{},d},_makeValuefunction(e,t){var n,i,r={},o=e.length;for(n=0;on;n++)i=e[n],r[i]=t;return r},_bindFromArrayfunction(e,t){var n,i,r={};if(t)for(i=kn.min(t.length,e.length),n=0;in;n++)r[t[n]]=e[n];return r},_bindFromObjectfunction(e,t,n){var i,r,o,a,s={};if(t)for(r=t.length,n=nt,i=0;ri;i++)o=t[i],a=n[i],s[o]=u(a,e);return s},sourceFieldsfunction(e,t){var n,i,r,o,a;if(t)for(i=t.length,o=[],n=0;in;n++)r=t[n],a=r===Uofieldr+Field,o.push(e[a]r);return o}}),Q.current=new Q,K=On.extend({initfunction(e,t){var n=this;On.fn.init.call(n,t),this.textBox=new Zn(e,n.options),n.append(this.textBox)},options{positioneo,marginii(3),paddingii(4),colorIi,background,border{width1,color},aboveAxis!0,vertical!1,animation{typefr,delaykr},zIndex2},createVisualfunction(){this.textBox.options.noclip=this.options.noclip},reflowfunction(e){var t=this,n=t.options,i=n.vertical,r=n.aboveAxis,o=t.children[0],a=o.box,s=o.options.padding;o.options.align=iLiDr,o.options.vAlign=iBoLi,n.position==Cri(o.options.vAlign=Bo,!r&&a.height()e.height()&&(o.options.vAlign=Pi))o.options.align=rloDrn.position==Li(o.options.vAlign=Li,o.options.align=Li)n.position==xrio.options.vAlign=rPiBoo.options.align=rDrlon.position==eo&&(ie=rnew Ln(e.x1,e.y1-a.height(),e.x2,e.y1)new Ln(e.x1,e.y2,e.x2,e.y2+a.height())(o.options.align=Li,e=rnew Ln(e.x2+a.width(),e.y1,e.x2,e.y2)new Ln(e.x1-a.width(),e.y1,e.x1,e.y2))),n.rotation(is.left=s.right=(e.width()-o.contentBox.width())2s.top=s.bottom=(e.height()-o.contentBox.height())2),o.reflow(e)},alignToClipBoxfunction(e){var t,n=this,i=n.options.vertical,r=iKoQo,o=r+1,a=r+2,s=n.children[0],l=n.parent.box;(e[o]l[o]l[a]e[a])&&(t=s.paddingBox.clone(),t[o]=kn.max(l[o],e[o]),t[a]=kn.min(l[a],e[a]),this.reflow(t))}}),X=Nn.extend({initfunction(e){var t=this;Nn.fn.init.call(t,e),t.createContainer(),t.createMarker(),t.createLabel()},createContainerfunction(){var e=this;e.container=new Wn({vertical!1,wrap!1,alignLi}),e.append(e.container)},createMarkerfunction(){this.container.append(new Kn(this.markerOptions()))},markerOptionsfunction(){var e=this.options,t=e.markerColor;return Mn({},e.markers,{backgroundt,border{colort}})},createLabelfunction(){var e=this,t=e.options,n=Mn({},t.labels);e.container.append(new Zn(t.text,n))},renderCompletefunction(){var e,t;On.fn.renderComplete.call(this),e=this.options.cursor{},t=this._itemOverlay=wi.Path.fromRect(this.container.box.toRect(),{fill{colorYo,opacity0},strokenull,cursore.stylee}),this.appendVisual(t)},clickfunction(e,t){var n=this.eventArgs(t);e.trigger(Ar,n)(t.preventDefault(),e._legendItemClick(n.seriesIndex,n.pointIndex))},hoverfunction(e,t){var n=this.eventArgs(t);return e.trigger(Er,n)(t.preventDefault(),e._legendItemHover(n.seriesIndex,n.pointIndex)),!0},leavefunction(e){e._unsetActivePoint()},eventArgsfunction(t){var n=this.options;return{elemente(t.target),textn.text,seriesn.series,seriesIndexn.series.index,pointIndexn.pointIndex}},renderVisualfunction(){var e=this,t=e.options,n=t.visual;n(e.visual=n({activet.active,seriest.series,options{markerse.markerOptions(),labelst.labels},createVisualfunction(){On.fn.renderVisual.call(e);var t=e.visual;return delete e.visual,t}}),this.addVisual())On.fn.renderVisual.call(e)}}),Z=On.extend({renderfunction(){{var e,t,n=this.children,i=this.options,r=i.vertical;this.visual=new wi.Layout(null,{spacingr0i.spacing,lineSpacingri.spacing0,orientationrverticalhorizontal})}for(t=0;n.lengtht;t++)e=n[t],e.reflow(new Ln),e.renderVisual()},reflowfunction(e){this.visual.rect(e.toRect()),this.visual.reflow();var t=this.visual.clippedBBox();this.box=tRn.rectToBox(t)new Ln},renderVisualfunction(){this.addVisual()},createVisualxn}),J=On.extend({initfunction(e){var t=this;On.fn.init.call(t,e),ri(t.options.position,[Bo,lo,Pi,Dr,Yi])(t.options.position=lo),t.createContainer(),t.createItems()},options{positionlo,items[],labels{margin{left6}},offsetX0,offsetY0,marginii(5),paddingii(5),border{colorIi,width0},item{cursorro},spacing6,background,zIndex1,markers{border{width1},width7,height7,typerect,alignDr,vAlignLi}},createContainerfunction(){var e=this,t=e.options,n=t.align,i=t.position,r=i,o=Li;i==Yir=Drri(i,[Bo,Pi])(r=start==nDrend==nloLi,o=i)n&&(start==no=Boend==n&&(o=Pi)),e.container=new Nn({margint.margin,paddingt.padding,backgroundt.background,bordert.border,vAligno,alignr,zIndext.zIndex,shrinkToFit!0}),e.append(e.container)},createItemsfunction(){var e,t,n,i=this,r=i.options,o=r.items,a=o.length,s=i.isVertical();for(e=new Z({verticals,spacingr.spacing}),r.reverse&&(o=o.slice(0).reverse()),t=0;at;t++)n=o[t],e.append(new X(Mn({},{markersr.markers,labelsr.labels},r.item,n)));e.render(),i.container.append(e)},isVerticalfunction(){var e=this,t=e.options,n=t.orientation,i=t.position,r=i==Yi&&n!=wr(di(n)n!=wrri(i,[Dr,lo]));return r},hasItemsfunction(){return this.container.children[0].children.length0},reflowfunction(e){var n=this,i=n.options;return e=e.clone(),n.hasItems()(i.position===Yi(n.containerCustomReflow(e),n.box=e)n.containerReflow(e),t)(n.box=e,t)},containerReflowfunction(e){var t,n=this,i=n.options,r=i.position,o=r==Bor==PiQoKo,a=e.clone(),s=n.container,l=i.width,c=i.height,d=n.isVertical(),u=e.clone();(r==Drr==lo)&&(a.y1=u.y1=0),d&&c(a.y2=a.y1+c,a.align(u,Ko,s.options.vAlign))!d&&l&&(a.x2=a.x1+l,a.align(u,Qo,s.options.align)),s.reflow(a),a=s.box,t=a.clone(),(i.offsetXi.offsetY)&&(a.translate(i.offsetX,i.offsetY),n.container.reflow(a)),t[o+1]=e[o+1],t[o+2]=e[o+2],n.box=t},containerCustomReflowfunction(e){var t=this,n=t.options,i=n.offsetX,r=n.offsetY,o=t.container,a=n.width,s=n.height,l=t.isVertical(),c=e.clone();l&&sc.y2=c.y1+s!l&&a&&(c.x2=c.x1+a),o.reflow(c),c=o.box,o.reflow(Ln(i,r,i+c.width(),r+c.height()))},renderVisualfunction(){this.hasItems()&&On.fn.renderVisual.call(this)}}),et=Bn.extend({initfunction(e){var t=this;Bn.fn.init.call(t,e),e=t.options,e.categories=e.categories.slice(0),t._ticks={}},options{typeHi,categories[],vertical!1,majorGridLines{visible!1,width1,colorIi},labels{zIndex1},justified!1},rangefunction(){return{min0,maxthis.options.categories.length}},getTickPositionsfunction(e){var t,n=this,i=n.options,r=i.vertical,o=i.justified,a=n.lineBox(),s=ra.height()a.width(),l=e-(o10),c=sl,d=rKoQo,u=a[d+1],h=[];for(t=0;et;t++)h.push(si(u,Gi)),u+=c;return oh.push(a[d+2]),i.reverseh.reverse()h},getMajorTickPositionsfunction(){return this.getTicks().majorTicks},getMinorTickPositionsfunction(){return this.getTicks().minorTicks},getTicksfunction(){var e,t=this,n=t._ticks,i=t.options,r=i.categories.length,o=i.reverse,a=i.justified,s=t.lineBox();return e=s.getHash()+r+o+a,n._hash!==e&&(n._hash=e,n.majorTicks=t.getTickPositions(r),n.minorTicks=t.getTickPositions(2r)),n},getSlotfunction(e,t){var n,i,r,o=this,a=o.options,s=o.getTicks().majorTicks,l=a.reverse,c=a.justified,d=a.verticalKoQo,u=o.lineBox(),h=u[d+(l21)],p=u[d+(l12)],f=u.clone(),g=kn.max(1,s.length-(c01)),m=!di(t);return e=vi(e,0),t=vi(t,e),e=hi(e,0,g),t=hi(t-1,e,g),t=kn.max(e,t),n=0===ehs[e]p,i=cns[t],r=t-e,(r0e===t)&&(i=s[t+1]p),m&&c&&(e===gn=ii=n),f[d+1]=lin,f[d+2]=lni,f},pointCategoryIndexfunction(e){var t,n,i,r,o=this,a=o.options,s=a.reverse,l=a.vertical,c=lKoQo,d=o.lineBox(),u=d[c+1],h=d[c+2],p=e[c],f=o.getMajorTickPositions(),g=Br;if(upph)return null;for(i=0;f.lengthi;i++)if(t=f[i],n=f[i+1],di(n)(n=suh),s&&(t=n,n=f[i]),a.justified){if(p===n){r=kn.max(0,lf.length-i-1i+1);break}kn.abs(p-t)g&&(g=p-t,r=i)}else if(p=t&&n=p){r=i;break}return r},getCategoryfunction(e){var t=this.pointCategoryIndex(e);return null===tnullthis.options.categories[t]},categoryIndexfunction(e){return R(e,this.options.categories)},translateRangefunction(e){var t=this,n=t.options,i=t.lineBox(),r=n.verticali.height()i.width(),o=n.categories.length,a=ro,s=si(ea,er);
return{mins,maxo+s}},scaleRangefunction(e){var t=this,n=t.options,i=n.categories.length,r=ei;return{min-r,maxi+r}},labelsCountfunction(){return this.options.categories.length},createAxisLabelfunction(e,t){var n=this,i=n.options,r=i.dataItemsi.dataItems[e]null,o=vi(i.categories[e],),a=n.axisLabelText(o,r,t);return new Hn(o,a,e,r,t)},shouldRenderNotefunction(e){var t=this.options.categories;return t.length&&t.lengthe&&e=0}}),tt=et.extend({initfunction(e){var t,n,i=this;e=e{},e=Mn({roundToBaseUnit!0},e,{categoriesp(e.categories),minp(e.min),maxp(e.max)}),e.categories&&e.categories.length0(t=(e.baseUnit).toLowerCase(),n=t!==Ci&&!ri(t,ia),n&&(e.baseUnit=i.defaultBaseUnit(e)),(t===Cie.baseUnitStep===xi)&&i.autoBaseUnit(e),i.groupCategories(e))e.baseUnit=e.baseUnitXi,et.fn.init.call(i,e)},options{typeKi,labels{dateFormatsoa},autoBaseUnitSteps{seconds[1,2,5,15,30],minutes[1,2,5,15,30],hours[1,2,3],days[1,2,3],weeks[1,2],months[1,2,3,6],years[1,2,3,5,10,25,50]},maxDateGroups10},shouldRenderNotefunction(e){var t=this,n=t.range(),i=t.options.categories[];return ni(e,n.min)=0&&ni(e,n.max)=0&&i.length},parseNoteValuefunction(e){return p(e)},translateRangefunction(e){var t,n,i=this,r=i.options,o=r.baseUnit,a=r.weekStartDay,s=i.lineBox(),l=r.verticals.height()s.width(),c=i.range(),d=l(c.max-c.min),u=si(ed,er);return c.min&&c.max&&(t=y(r.minc.min,u),n=y(r.maxc.max,u),c={ming(t,0,o,a),maxg(n,0,o,a)}),c},scaleRangefunction(e){var t,n=this,i=kn.abs(e),r=n.range(),o=r.min,a=r.max;if(r.min&&r.max){for(;i--;)r=w(o,a),t=kn.round(.1r),0e(o=y(o,t),a=y(a,-t))(o=y(o,-t),a=y(a,t));r={mino,maxa}}return r},defaultBaseUnitfunction(e){var t,n,i,r,o,a=e.categories,s=di(a)a.length0,l=Br;for(t=0;st;t++)n=a[t],n&&r&&(i=w(n,r),i0&&(l=kn.min(l,i),o=l=zoXol=Po-3IoOrl=Mo$ol=IoXil=Eobrl=AoNrfo)),r=n;return oXi},_categoryRangefunction(e){var t=e._range;return t(t=e._range=pi(e)),t},rangefunction(e){var t,n,i,r,o,a,s,l,c;return e=ethis.options,t=e.categories,n=e.baseUnit===Ci,i=nia[0]e.baseUnit,r=e.baseUnitStep1,o=f(e.min),a=f(e.max),s=this._categoryRange(t),l=f(s.min),c=f(s.max),e.roundToBaseUnit{ming(ol,0,i,e.weekStartDay),maxg(ac,r,i,e.weekStartDay)}{minp(ol),maxp(athis._srcMaxDatec)}},autoBaseUnitfunction(e){for(var t,n,i,r=this,o=r.range(Mn({},e,{baseUnitStep1})),a=e.baseUnit===Ci,s=0,l=aia[s++]e.baseUnit,c=o.max-o.min,d=cFo[l],u=d,h=e.maxDateGroupsr.options.maxDateGroups,p=Mn({},r.options.autoBaseUnitSteps,e.autoBaseUnitSteps);!ndh;)if(t=tp[l].slice(0),i=t.shift())n=i,d=un;else{if(l===ui(ia)){n=kn.ceil(uh);break}if(!a){dh&&(n=kn.ceil(uh));break}l=ia[s++]ui(ia),u=cFo[l],t=null}e.baseUnitStep=n,e.baseUnit=l},_timeScalefunction(){var e,t,n,i=this,r=i.range(),o=i.options,a=i.lineBox(),s=o.vertical,l=sa.height()a.width();return o.justified&&o._collapse!==!1(t=this._categoryRange(o.categories),n=f(t.max),e=p(n)-r.min)e=r.max-r.min,le},getTickPositionsfunction(e){var t,n,i,r,o,a,s,l,c,d,u,h,p,f,g,m=this,v=m.options,_=v.categories,w=[];if(v.roundToBaseUnit0===_.length)w=et.fn.getTickPositions.call(m,e);else{for(t=v.vertical,n=v.reverse,i=m.lineBox(),r=_[0].getTime(),o=vi(v._collapse,v.justified),a=_.length-(o10),s=m._timeScale(),l=(t-11)(n-11),c=1===l12,d=1===l21,u=i[(tKoQo)+c],h=i[(tKoQo)+d],p=u,f=0;af;f++)g=_[f]-r,p=u+gsl,w.push(si(p,Gi));ui(w)!==h&&w.push(h)}return w},groupCategoriesfunction(e){var t,n,i=this,r=e.categories,o=p(gi(r)),a=e.baseUnit,s=e.baseUnitStep1,l=i.range(e),c=l.max,d=[];for(t=l.min;ct&&(d.push(t),n=g(t,s,a,e.weekStartDay),!(no)e.max);t=n);e.roundToBaseUnitS(ui(d),c)(nc&&e._collapse!==!1this._srcMaxDate=cd.push(c)),e.srcCategories=r,e.categories=d},createAxisLabelfunction(e,n){var i,r,o=this.options,a=o.dataItemso.dataItems[e]null,s=o.categories[e],l=o.baseUnit,c=!0,d=n.dateFormats[l];return o.justified(i=v(s,l,o.weekStartDay),c=S(i,s))o.roundToBaseUnit(c=!S(this.range().max,s)),c&&(n.format=n.formatd,r=this.axisLabelText(s,a,n))new Hn(s,r,e,a,n)t},categoryIndexfunction(e,t){var n,i,r=this,o=r.options,a=o.categories;return e=p(e),t=tr.range(),n=o.roundToBaseUnit&&S(t.max,e),e&&(et.maxn)a.length!et.mine-1i=D(e,a)},getSlotfunction(e,t){var n=this;return typeof e===Zr&&(e=n.categoryIndex(e)),typeof t===Zr&&(t=n.categoryIndex(t)),et.fn.getSlot.call(n,e,t)}}),nt=Bn.extend({initfunction(e,t,n){var i=this;n=n{},Mn(n,{minp(n.min),maxp(n.max),axisCrossingValuep(n.axisCrossingValuesn.axisCrossingValue)}),n=i.applyDefaults(p(e),p(t),n),Bn.fn.init.call(i,n)},options{typeKi,majorGridLines{visible!0,width1,colorIi},labels{dateFormatsoa}},applyDefaultsfunction(e,n,i){var r=this,o=i.mine,a=i.maxn,s=i.baseUnitr.timeUnits(a-o),l=Fo[s],c=v(f(o)-1,s)p(a),d=_(f(a)+1,s),u=i.majorUniti.majorUnitt,h=uRn.ceil(Rn.autoMajorUnit(c.getTime(),d.getTime()),l)l,m=b(c,d,s),w=Rn.ceil(m,h),y=w-m,k=kn.floor(y2),x=y-k;return i.baseUnitdelete i.baseUnit,i.baseUnit=i.baseUnits,i.min=i.ming(c,-k,s),i.max=i.maxg(d,x,s),i.minorUnit=i.minorUnith5,i.majorUnit=h,i},rangefunction(){var e=this.options;return{mine.min,maxe.max}},getDivisionsfunction(e){var t=this.options;return kn.floor(b(t.min,t.max,t.baseUnit)e+1)},getTickPositionsfunction(e){var t,n,i,r=this.options,o=r.vertical,a=r.reverse,s=this.lineBox(),l=(o-11)(a-11),c=1===l12,d=s[(oKoQo)+c],u=this.getDivisions(e),h=r.max-r.min,p=os.height()s.width(),f=ph,m=[d];for(t=1;ut;t++)n=g(r.min,tr.majorUnit,r.baseUnit),i=d+(n-r.min)fl,m.push(si(i,Gi));return m},getMajorTickPositionsfunction(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositionsfunction(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlotfunction(e,t,n){return qn.fn.getSlot.call(this,p(e),p(t),n)},getValuefunction(e){var t=qn.fn.getValue.call(this,e);return null!==tp(t)null},labelsCountfunction(){return this.getDivisions(this.options.majorUnit)},createAxisLabelfunction(e,t){var n,i,r=this.options,o=er.majorUnit,a=r.min;return o0&&(a=g(a,o,r.baseUnit)),n=t.dateFormats[r.baseUnit],t.format=t.formatn,i=this.axisLabelText(a,null,t),new Hn(a,i,e,null,t)},timeUnitsfunction(e){var t=br;return e=zot=Xoe=Pot=Ore=Mot=$oe=Io&&(t=Xi),t},translateRangefunction(e){var t=this,n=t.options,i=n.baseUnit,r=n.weekStartDay,o=t.lineBox(),a=n.verticalo.height()o.width(),s=t.range(),l=a(s.max-s.min),c=si(el,er),d=y(n.min,c),u=y(n.max,c);return{ming(d,0,i,r),maxg(u,0,i,r)}},scaleRangefunction(e){for(var t,n,i=this,r=i.options,o=kn.abs(e),a=r.min,s=r.max;o--;)t=w(a,s),n=kn.round(.1t),0e(a=y(a,n),s=y(s,-n))(a=y(a,-n),s=y(s,n));return{mina,maxs}},shouldRenderNotefunction(e){var t=this.range();return ni(e,t.min)=0&&ni(e,t.max)=0}}),it=On.extend({options{vertical!1,gap0,spacing0},reflowfunction(e){var t,n,i=this,r=i.options,o=r.vertical,a=oKoQo,s=i.children,l=r.gap,c=r.spacing,d=s.length,u=d+l+c(d-1),h=(oe.height()e.width())u,p=e[a+1]+h(l2);for(n=0;dn;n++)t=(s[n].boxe).clone(),t[a+1]=p,t[a+2]=p+h,s[n].reflow(t),d-1n&&(p+=hc),p+=h}}),rt=On.extend({options{vertical!0},reflowfunction(e){var t,n,i,r=this.options,o=r.vertical,a=oQoKo,s=this.children,l=this.box=new Ln,c=s.length;for(t=0;ct;t++)n=s[t],n.visible!==!1&&(i=n.box.clone(),i.snapTo(e,a),0===t&&(l=this.box=i.clone()),n.reflow(i),l.wrap(i))}}),ot={clickfunction(e,t){return e.trigger(_o,this.eventArgs(t))},hoverfunction(e,t){return e.trigger(wo,this.eventArgs(t))},eventArgsfunction(t){return{valuethis.value,percentagethis.percentage,categorythis.category,seriesthis.series,dataItemthis.dataItem,runningTotalthis.runningTotal,totalthis.total,elemente((t{}).target),originalEventt,pointthis}}},at={createNotefunction(){var e=this,t=e.options.notes,n=e.noteTextt.label.text;t.visible!==!1&&di(n)&&null!==n&&(e.note=new jn(e.value,n,e.dataItem,e.category,e.series,e.options.notes),e.append(e.note))}},st=On.extend({initfunction(e,t){var n=this;On.fn.init.call(n),n.options=t,n.color=t.colorYo,n.aboveAxis=vi(n.options.aboveAxis,!0),n.value=e},defaults{border{width1},vertical!0,overlay{gradient_r},labels{visible!1,format{0}},opacity1,notes{label{}}},renderfunction(){this._rendered(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},createLabelfunction(){var e,t,n=this.options,i=n.labels;i.visible&&(i.template(t=Fn(i.template),e=t({dataItemthis.dataItem,categorythis.category,valuethis.value,percentagethis.percentage,runningTotalthis.runningTotal,totalthis.total,seriesthis.series}))e=this.formatValue(i.format),this.label=new K(e,Mn({verticaln.vertical},n.labels)),this.append(this.label))},formatValuefunction(e){return this.owner.formatPointValue(this,e)},reflowfunction(e){var t,n,i,r;if(this.render(),t=this,n=t.options,i=t.label,t.box=e,i&&(i.options.aboveAxis=t.aboveAxis,i.reflow(e)),t.note&&t.note.reflow(e),t.errorBars)for(r=0;t.errorBars.lengthr;r++)t.errorBars[r].reflow(e)},createVisualfunction(){var e,t=this,n=t.box,i=t.options,r=i.visual;t.visible!==!1&&(On.fn.createVisual.call(t),r(e=this.rectVisual=r({categoryt.category,dataItemt.dataItem,valuet.value,seriest.series,percentaget.percentage,runningTotalt.runningTotal,totalt.total,rectn.toRect(),createVisualfunction(){var e=new wi.Group;return t.createRect(e),e},optionsi}),e&&t.visual.append(e))n.width()0&&n.height()0&&t.createRect(t.visual))},createRectfunction(e){var n=this.options,i=n.border,r=di(i.opacity)i.opacityn.opacity,o=this.rectVisual=wi.Path.fromRect(this.box.toRect(),{fill{colorthis.color,opacityn.opacity},stroke{colorthis.getBorderColor(),widthi.width,opacityr,dashTypei.dashType}}),a=this.box.width(),s=this.box.height(),l=n.verticalas;lDi&&(ei(o),(1a1s)&&(o.options.stroke.lineJoin=round)),e.append(o),U(n)&&e.append(this.createGradientOverlay(o,{baseColorthis.color},Mn({endn.verticalt[0,1]},n.overlay)))},createHighlightfunction(e){var t=wi.Path.fromRect(this.box.toRect(),e);return ei(t)},highlightVisualfunction(){return this.rectVisual},highlightVisualArgsfunction(){return{optionsthis.options,rectthis.box.toRect(),visualthis.rectVisual}},getBorderColorfunction(){var e=this,t=e.options,n=e.color,i=t.border,r=i.color,o=i._brightnessAi;return di(r)(r=new Vn(n).brightness(o).toHex()),r},tooltipAnchorfunction(e,t){var n,i,r,o,a=this,s=a.options,l=a.box,c=s.vertical,d=a.aboveAxis,u=a.owner.pane.clipBox()l;return c(n=l.x2+Lo,i=dkn.max(l.y1,u.y1)kn.min(l.y2,u.y2)-t)(r=kn.max(l.x1,u.x1),o=kn.min(l.x2,u.x2),s.isStacked(n=do-er,i=l.y1-t-Lo)(n=do+Lor-e-Lo,i=l.y1)),new $n(n,i)}}),Mn(st.fn,ot),Mn(st.fn,at),lt=wi.Animation.extend({options{durationkr},setupfunction(){var e,t,n,i=this.element,r=this.options,o=i.bbox();o(e=this.origin=r.origin,t=r.verticalKoQo,n=this.fromScale=new _i.Point(1,1),n[t]=yo,i.transform(_i.transform().scale(n.x,n.y)))this.abort()},stepfunction(e){var t=oi(this.fromScale.x,1,e),n=oi(this.fromScale.y,1,e);this.element.transform(_i.transform().scale(t,n,this.origin))},abortfunction(){wi.Animation.fn.abort.call(this),this.element.transform(null)}}),wi.AnimationFactory.current.register(Ti,lt),ct=wi.Animation.extend({options{duration200,easingPr},setupfunction(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},stepfunction(e){this.element.opacity(ethis.fadeTo)}}),wi.AnimationFactory.current.register(fr,ct),dt=function(e,t,n){var i=this;i.initGlobalRanges(e,t,n)},dt.prototype=dt.fn={percentRegexpercent(w)((d+)),standardDeviationRegexRegExp(^+Co+(((d+(.d+))))$),initGlobalRangesfunction(e,t,n){var i,r,o,a,s,l=this,c=t.data,d=l.standardDeviationRegex.exec(e);d(l.valueGetter=l.createValueGetter(t,n),i=l.getAverage(c),r=l.getStandardDeviation(c,i,!1),o=d[1]parseFloat(d[1])1,a={lowi.value-ro,highi.value+ro},l.globalRange=function(){return a})e.indexOf&&e.indexOf(xo)=0&&(l.valueGetter=l.createValueGetter(t,n),s=l.getStandardError(c,l.getAverage(c)),l.globalRange=function(e){return{lowe-s,highe+s}})},createValueGetterfunction(e,t){var n,i,r,o=e.data,a=Q.current,s=a.valueFields(e),l=di(o[0])o[0]{};return wn(l)(n=tR(t,s)0,r=Pn([+n+]))A(l)r=Pn()typeof l===Zr&&(i=a.sourceFields(e,s),r=Pn(i[R(t,s)])),r},getErrorRangefunction(e,t){var n,i,r,o,a=this;if(di(t)){if(a.globalRange)return a.globalRange(e);if(wn(t))n=e-t[0],i=e+t[1];else if(A(r=parseFloat(t)))n=e-r,i=e+r;else{if(!(r=a.percentRegex.exec(t)))throw Error(Invalid ErrorBar value +t);o=e(parseFloat(r[1])100),n=e-kn.abs(o),i=e+kn.abs(o)}return{lown,highi}}},getStandardErrorfunction(e,t){return this.getStandardDeviation(e,t,!0)kn.sqrt(t.count)},getStandardDeviationfunction(e,t,n){var i,r,o=0,a=e.length,s=nt.count-1t.count;for(r=0;ar;r++)i=this.valueGetter(e[r]),A(i)&&(o+=kn.pow(i-t.value,2));return kn.sqrt(os)},getAveragefunction(e){var t,n,i=0,r=0,o=e.length;for(n=0;on;n++)t=this.valueGetter(e[n]),A(t)&&(i+=t,r++);return{valueir,countr}}},ut=On.extend({initfunction(e,t){var n=this;On.fn.init.call(n,t),n.plotArea=e,n.categoryAxis=e.seriesCategoryAxis(t.series[0]),n.valueAxisRanges={},n.points=[],n.categoryPoints=[],n.seriesPoints=[],n.seriesOptions=[],n._evalSeries=[],n.render()},options{series[],invertAxes!1,isStacked!1,clip!0},renderfunction(){var e=this;e.traverseDataPoints(Sn(e.addValue,e))},pointOptionsfunction(e,t){var n,i=this.seriesOptions[t];return i(n=this.pointType().fn.defaults,this.seriesOptions[t]=i=Mn({},n,{vertical!this.options.invertAxes},e)),i},plotValuefunction(e){var t,n,i,r,o,a,s,l;if(!e)return 0;if(this.options.isStacked100&&A(e.value)){for(t=e.categoryIx,n=this.categoryPoints[t],i=0,r=[],o=0;n.lengtho;o++)if(a=n[o]){if(s=e.series.stack,l=a.series.stack,s&&l&&s.group!==l.group)continue;A(a.value)&&(i+=kn.abs(a.value),r.push(kn.abs(a.value)))}if(i0)return e.valuei}return e.value},plotRangefunction(e,t){var n,i,r,o,a,s,l,c,d,u,h,p,f=e.categoryIx,g=this.categoryPoints[f];if(this.options.isStacked){for(t=t0,n=this.plotValue(e),i=n=0,r=t,o=!1,a=0;g.lengtha&&(s=g[a],e!==s);a++){if(l=e.series.stack,c=s.series.stack,l&&c){if(typeof l===So&&l!==c)continue;if(l.group&&l.group!==c.group)continue}d=this.plotValue(s),(d=0&&i0d&&!i)&&(r+=d,n+=d,o=!0,this.options.isStacked100&&(n=kn.min(n,1)))}return o&&(r-=t),[r,n]}return u=e.series,h=this.seriesValueAxis(u),p=this.categoryAxisCrossingValue(h),[p,e.valuep]},stackLimitsfunction(e,t){var n,i,r,o,a,s=Br,l=Lr;for(n=0;this.categoryPoints.lengthn;n++)for(i=this.categoryPoints[n],r=0;i.lengthr;r++)o=i[r],o&&(o.series.stack===to.series.axis===e)&&(a=this.plotRange(o,0)[1],di(a)&&isFinite(a)&&(l=kn.max(l,a),s=kn.min(s,a)));return{mins,maxl}},updateStackRangefunction(){var e,t,n,i,r,o,a=this,s=a.options.series,l=a.options.isStacked,c={};if(l)for(t=0;s.lengtht;t++)n=s[t],i=n.axis,r=i+n.stack,e=c[r],e(e=a.stackLimits(i,n.stack),o=a.errorTotals,o&&(o.negative.length&&(e.min=kn.min(e.min,fi(o.negative))),o.positive.length&&(e.max=kn.max(e.max,gi(o.positive)))),e.min!==Bre.max!==Lrc[r]=ee=null),e&&(a.valueAxisRanges[i]=e)},addErrorBarfunction(e,t,n){var i,r=this,o=e.value,a=e.series,s=e.seriesIx,l=e.options.errorBars,c=t.fields[lr],d=t.fields[cr];A(c)&&A(d)i={lowc,highd}l&&di(l.value)&&(r.seriesErrorRanges=r.seriesErrorRanges[],r.seriesErrorRanges[s]=r.seriesErrorRanges[s]new dt(l.value,a,Uo),i=r.seriesErrorRanges[s].getErrorRange(o,l.value)),i&&(e.low=i.low,e.high=i.high,r.addPointErrorBar(e,n))},addPointErrorBarfunction(e,t){var n,i,r,o=this,a=e.series,s=e.low,l=e.high,c=!o.options.invertAxes,d=e.options.errorBars;o.options.isStacked(i=o.stackedErrorRange(e,t),s=i.low,l=i.high)(r={categoryIxt,seriesa},o.updateRange({values},r),o.updateRange({valuel},r)),n=new wt(s,l,c,o,a,d),e.errorBars=[n],e.append(n)},stackedErrorRangefunction(e,t){var n=this,i=n.plotRange(e,0)[1]-e.value,r=e.low+i,o=e.high+i;return n.errorTotals=n.errorTotals{positive[],negative[]},0r&&(n.errorTotals.negative[t]=kn.min(n.errorTotals.negative[t]0,r)),o0&&(n.errorTotals.positive[t]=kn.max(n.errorTotals.positive[t]0,o)),{lowr,higho}},addValuefunction(t,n){var i,r,o=this,a=n.categoryIx,s=n.series,l=n.seriesIx,c=o.categoryPoints[a];c(o.categoryPoints[a]=c=[]),i=o.seriesPoints[l],i(o.seriesPoints[l]=i=[]),r=o.createPoint(t,n),r&&(e.extend(r,n),r.owner=o,r.dataItem=s.data[a],r.noteText=t.fields.noteText,o.addErrorBar(r,t,a)),o.points.push(r),i.push(r),c.push(r),o.updateRange(t.valueFields,n)},evalPointOptionsfunction(e,t,n,i,r,o){var a={defaultsr._defaults,excluded[data,aggregate,_events,tooltip,template,visual,toggle]},s=this._evalSeries[o];return di(s)(this._evalSeries[o]=s=P(e,{},a,!0)),s&&(e=Mn({},e),P(e,{valuet,categoryn,indexi,seriesr,dataItemr.data[i]},a)),e},updateRangefunction(e,t){var n=this,i=t.series.axis,r=e.value,o=n.valueAxisRanges[i];isFinite(r)&&null!==r&&(o=n.valueAxisRanges[i]=o{minBr,maxLr},o.min=kn.min(o.min,r),o.max=kn.max(o.max,r))},seriesValueAxisfunction(e){var t=this.plotArea,n=e.axis,i=nt.namedValueAxes[n]t.valueAxis;if(!i)throw Error(Unable to locate value axis with name +n);return i},reflowfunction(e){var t,n,i,r=this,o=0,a=r.categorySlots=[],s=r.points,l=r.categoryAxis;r.traverseDataPoints(function(e,c){var d,u,h,p,f=c.categoryIx,g=c.series;t=r.pointValue(e),n=r.seriesValueAxis(g),i=s[o++],d=a[f],d(a[f]=d=r.categorySlot(l,f,n)),i&&(u=r.plotRange(i,n.startValue()),h=n.getSlot(u[0],u[1],!r.options.clip),h(p=r.pointSlot(d,h),i.aboveAxis=r.aboveAxis(i,n),r.options.isStacked100&&(i.percentage=r.plotValue(i)),r.reflowPoint(i,p))i.visible=!1)}),r.reflowCategories(a),r.box=e},aboveAxisfunction(e,t){var n=this.categoryAxisCrossingValue(t),i=e.value;return t.options.reversenii=n},categoryAxisCrossingValuefunction(e){var t=this.categoryAxis,n=e.options,i=[].concat(n.axisCrossingValuesn.axisCrossingValue);return i[t.axisIndex0]0},reflowPointfunction(e,t){e.reflow(t)},reflowCategoriesfunction(){},pointSlotfunction(e,t){var n=this,i=n.options,r=i.invertAxes,o=rte,a=ret;return new Ln(o.x1,a.y1,o.x2,a.y2)},categorySlotfunction(e,t){return e.getSlot(t)},traverseDataPointsfunction(e){var t,n,i,r,o,a=this,s=a.options,l=s.series,d=a.categoryAxis.options.categories[],u=c(l),h=l.length;for(t=0;ut;t++)for(n=0;hn;n++)o=l[n],r=d[t],i=this._bindPoint(o,n,t),e(i,{categoryr,categoryIxt,serieso,seriesIxn})},_bindPointfunction(e,t,n){var i,r;return this._bindCache(this._bindCache=[]),i=this._bindCache[t],i(i=this._bindCache[t]=[]),r=i[n],r(r=i[n]=Q.current.bindPoint(e,n)),r},formatPointValuefunction(e,t){return null===e.valueti(t,e.value)},pointValuefunction(e){return e.valueFields.value}}),ht=ut.extend({options{animation{typeTi}},renderfunction(){var e=this;ut.fn.render.apply(e),e.updateStackRange()},pointTypefunction(){return st},clusterTypefunction(){return it},stackTypefunction(){return rt},stackLimitsfunction(e,t){var n=ut.fn.stackLimits.call(this,e,t);return n},createPointfunction(e,t){var n,i,r,o,a=this,s=t.categoryIx,l=t.category,c=t.series,d=t.seriesIx,u=a.pointValue(e),h=a.options,p=a.children,f=a.options.isStacked,g=a.pointType(),m=a.clusterType(),v=this.pointOptions(c,d),_=v.labels;return f&&_.position==eo&&(_.position=Cr),v.isStacked=f,r=e.fields.colorc.color,0u&&v.negativeColor&&(r=v.negativeColor),v=a.evalPointOptions(v,u,l,s,c,d),Tn.isFunction(c.color)&&(r=v.color),n=new g(u,v),n.color=r,i=p[s],i(i=new m({verticalh.invertAxes,gaph.gap,spacingh.spacing}),a.append(i)),f(o=a.getStackWrap(c,i),o.append(n))i.append(n),n},getStackWrapfunction(e,t){var n,i,r,o=e.stack,a=oo.groupoo,s=t.children;if(typeof a===So){for(i=0;s.lengthi;i++)if(s[i]._stackGroup===a){n=s[i];break}}else n=s[0];return n(r=this.stackType(),n=new r({vertical!this.options.invertAxes}),n._stackGroup=a,t.append(n)),n},categorySlotfunction(e,t,n){var i,r,o=this,a=o.options,s=e.getSlot(t),l=n.startValue();return a.isStacked&&(r=n.getSlot(l,l,!0),i=a.invertAxesQoKo,s[i+1]=s[i+2]=r[i+1]),s},reflowCategoriesfunction(e){var t,n=this,i=n.children,r=i.length;for(t=0;rt;t++)i[t].reflow(e[t])},createAnimationfunction(){this._setAnimationOptions(),On.fn.createAnimation.call(this),j(this.options.series)&&this._setChildrenAnimation()},_setChildrenAnimationfunction(){var e,t,n,i=this.points;for(n=0;i.lengthn;n++)e=i[n],t=e.visual,t&&di(t.options.zIndex)&&(e.options.animation=this.options.animation,e.createAnimation())},_setAnimationOptionsfunction(){var e,t,n=this.options,i=n.animation{};this.options.isStacked(t=this.seriesValueAxis(n.series[0]),e=t.getSlot(t.startValue()))e=this.categoryAxis.getSlot(0),i.origin=new _i.Point(e.x1,e.y1),i.vertical=!n.invertAxes}}),pt=st.extend({defaults{labels{format{0} - {1}},tooltip{format{1}}},createLabelfunction(){var e=this.options.labels,t=Mn({},e,e.from),n=Mn({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))},_createLabelfunction(e){var t,n;return e.template(n=Fn(e.template),t=n({dataItemthis.dataItem,categorythis.category,valuethis.value,percentagethis.percentage,runningTotalthis.runningTotal,totalthis.total,seriesthis.series}))t=this.formatValue(e.format),new K(t,Mn({verticalthis.options.vertical},e))},reflowfunction(e){this.render();var t=this,n=t.labelFrom,i=t.labelTo;t.box=e,n&&(n.options.aboveAxis=t.value.fromt.value.to,n.reflow(e)),i&&(i.options.aboveAxis=t.value.tot.value.from,i.reflow(e)),t.note&&t.note.reflow(e)}}),ft=ht.extend({pointTypefunction(){return pt},pointValuefunction(e){return e.valueFields},formatPointValuefunction(e,t){return null===e.value.from&&null===e.value.toti(t,e.value.from,e.value.to)},plotLimitsut.fn.plotLimits,plotRangefunction(e){return e[e.value.from,e.value.to]0},updateRangefunction(e,t){var n=this,i=t.series.axis,r=e.from,o=e.to,a=n.valueAxisRanges[i];null!==e&&A(r)&&A(o)&&(a=n.valueAxisRanges[i]=a{minBr,maxLr},a.min=kn.min(a.min,r),a.max=kn.max(a.max,r),a.min=kn.min(a.min,o),a.max=kn.max(a.max,o))},aboveAxisfunction(e){var t=e.value;return t.tot.from}}),gt=ut.extend({initfunction(e,t){var n=this;n.wrapData(t),ut.fn.init.call(n,e,t)},options{animation{typeTi}},wrapDatafunction(e){var t,n,i,r=e.series;for(t=0;r.lengtht;t++)i=r[t],n=i.data,n&&!wn(n[0])&&typeof n[0]!=Zr&&(i.data=[n])},reflowCategoriesfunction(e){var t,n=this,i=n.children,r=i.length;for(t=0;rt;t++)i[t].reflow(e[t])},plotRangefunction(e){var t=e.series,n=this.seriesValueAxis(t),i=this.categoryAxisCrossingValue(n);return[i,e.value.currenti]},createPointfunction(e,t){var n,i,r=this,o=t.categoryIx,a=t.category,s=t.series,l=t.seriesIx,c=e.valueFields,d=r.options,u=r.children,h=Mn({vertical!d.invertAxes,overlays.overlay,categoryIxo,invertAxesd.invertAxes},s),p=e.fields.colors.color;return h=r.evalPointOptions(h,c,a,o,s,l),Tn.isFunction(s.color)&&(p=h.color),n=new mt(c,h),n.color=p,i=u[o],i(i=new it({verticald.invertAxes,gapd.gap,spacingd.spacing}),r.append(i)),i.append(n),n},updateRangefunction(e,t){var n=this,i=t.series.axis,r=e.current,o=e.target,a=n.valueAxisRanges[i];di(r)&&!isNaN(r)&&di(o&&!isNaN(o))&&(a=n.valueAxisRanges[i]=a{minBr,maxLr},a.min=kn.min.apply(kn,[a.min,r,o]),a.max=kn.max.apply(kn,[a.max,r,o]))},formatPointValuefunction(e,t){return ti(t,e.value.current,e.value.target)},pointValuefunction(e){return e.valueFields.current},aboveAxisfunction(e){var t=e.value.current;return t0},createAnimationfunction(){var e,t,n=this.points;for(this._setAnimationOptions(),t=0;n.lengtht;t++)e=n[t],e.options.animation=this.options.animation,e.createAnimation()},_setAnimationOptionsht.fn._setAnimationOptions}),mt=On.extend({initfunction(e,t){var n=this;On.fn.init.call(n,t),n.aboveAxis=n.options.aboveAxis,n.color=t.colorYo,n.value=e},options{border{width1},vertical!1,opacity1,target{shape,border{width0,colorgreen},line{width2}},tooltip{formatCurrent {0}brTarget {1}}},renderfunction(){var e=this,t=e.options;e._rendered(e._rendered=!0,di(e.value.target)&&(e.target=new vt({typet.target.shape,backgroundt.target.colore.color,opacityt.opacity,zIndext.zIndex,bordert.target.border,vAlignBo,alignlo}),e.append(e.target)),e.createNote())},reflowfunction(e){this.render();var t,n=this,i=n.options,r=n.owner,o=n.target,a=i.invertAxes,s=r.seriesValueAxis(n.options),l=r.categorySlot(r.categoryAxis,i.categoryIx,s),c=s.getSlot(n.value.target),d=acl,u=alc;o&&(t=new Ln(d.x1,u.y1,d.x2,u.y2),o.options.height=at.height()i.target.line.width,o.options.width=ai.target.line.widtht.width(),o.reflow(t)),n.note&&n.note.reflow(e),n.box=e},createVisualfunction(){var e,t;On.fn.createVisual.call(this),e=this.options,t=wi.Path.fromRect(this.box.toRect(),{fill{colorthis.color,opacitye.opacity},strokenull}),e.border.width0&&t.options.set(stroke,{colore.border.colorthis.color,widthe.border.width,dashTypee.border.dashType,opacityvi(e.border.opacity,e.opacity)}),this.bodyVisual=t,ei(t),this.visual.append(t)},createAnimationfunction(){this.bodyVisual&&(this.animation=wi.Animation.create(this.bodyVisual,this.options.animation))},tooltipAnchorfunction(e,t){var n,i,r,o,a=this,s=a.options,l=a.box,c=s.vertical,d=a.aboveAxis,u=a.owner.pane.clipBox()l;return c(n=l.x2+Lo,i=dkn.max(l.y1,u.y1)kn.min(l.y2,u.y2)-t)(r=kn.max(l.x1,u.x1),o=kn.min(l.x2,u.x2),s.isStacked(n=do-er,i=l.y1-t-Lo)(n=do+Lor-e-Lo,i=l.y1)),new $n(n,i)},createHighlightfunction(e){return wi.Path.fromRect(this.box.toRect(),e)},highlightVisualfunction(){return this.bodyVisual},highlightVisualArgsfunction(){return{rectthis.box.toRect(),visualthis.bodyVisual,optionsthis.options}},formatValuefunction(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mn(mt.fn,ot),Mn(mt.fn,at),vt=Kn.extend(),Mn(vt.fn,ot),_t=On.extend({initfunction(e,t,n,i,r,o){var a=this;a.low=e,a.high=t,a.isVertical=n,a.chart=i,a.series=r,On.fn.init.call(a,o)},options{animation{typefr,delaykr},endCaps!0,line{width1},zIndex1},getAxisfunction(){},reflowfunction(e){var t,n=this,i=n.options.endCaps,r=n.isVertical,o=n.getAxis(),a=o.getSlot(n.low,n.high),s=e.center(),l=n.getCapsWidth(e,r),c=rs.xs.y,d=c-l,u=c+l;r(t=[$n(s.x,a.y1),$n(s.x,a.y2)],i&&t.push($n(d,a.y1),$n(u,a.y1),$n(d,a.y2),$n(u,a.y2)),n.box=Ln(d,a.y1,u,a.y2))(t=[$n(a.x1,s.y),$n(a.x2,s.y)],i&&t.push($n(a.x1,d),$n(a.x1,u),$n(a.x2,d),$n(a.x2,u)),n.box=Ln(a.x1,d,a.x2,u)),n.linePoints=t},getCapsWidthfunction(e,t){var n=te.width()e.height(),i=kn.min(kn.floor(n2),nr)nr;return i},createVisualfunction(){var e=this,t=e.options,n=t.visual;ne.visual=n({lowe.low,highe.high,recte.box.toRect(),options{endCapst.endCaps,colort.color,linet.line},createVisualfunction(){e.createDefaultVisual();var t=e.visual;return delete e.visual,t}})e.createDefaultVisual()},createDefaultVisualfunction(){var e,t,n=this,i=n.options,r={stroke{colori.color,widthi.line.width,dashTypei.line.dashType}},o=n.linePoints;for(On.fn.createVisual.call(this),e=0;o.lengthe;e+=2)t=new wi.Path(r).moveTo(o[e].x,o[e].y).lineTo(o[e+1].x,o[e+1].y),this.visual.append(t)}}),wt=_t.extend({getAxisfunction(){var e=this,t=e.chart,n=e.series,i=t.seriesValueAxis(n);return i}}),yt=_t.extend({getAxisfunction(){var e=this,t=e.chart,n=e.series,i=t.seriesAxes(n),r=e.isVerticali.yi.x;return r}}),bt=On.extend({initfunction(e,t){var n=this;On.fn.init.call(n),n.value=e,n.options=t,n.aboveAxis=vi(n.options.aboveAxis,!0),n.tooltipTracking=!0},defaults{vertical!0,markers{visible!0,backgroundYo,sizeMr,typeOi,border{width2},opacity1},labels{visible!1,positionbi,marginii(3),paddingii(4),animation{typefr,delaykr}},notes{label{}},highlight{markers{border{}}}},renderfunction(){var e,t=this,n=t.options,i=n.markers,r=n.labels,o=t.value;t._rendered(t._rendered=!0,i.visible&&i.size&&(t.marker=t.createMarker(),t.append(t.marker)),r.visible&&(r.template(e=Fn(r.template),o=e({dataItemt.dataItem,categoryt.category,valuet.value,percentaget.percentage,seriest.series}))r.format&&(o=t.formatValue(r.format)),t.label=new Zn(o,Mn({alignLi,vAlignLi,margin{left5,right5},zIndexvi(r.zIndex,this.series.zIndex)},r)),t.append(t.label)),t.createNote(),t.errorBar&&t.append(t.errorBar))},markerBorderfunction(){var e=this.options.markers,t=e.background,n=Mn({colorthis.color},e.border);return di(n.color)(n.color=new Vn(t).brightness(Ai).toHex()),n},createVisualxn,createMarkerfunction(){var e=this.options.markers,t=new Kn({typee.type,widthe.size,heighte.size,rotatione.rotation,backgrounde.background,borderthis.markerBorder(),opacitye.opacity,zIndexvi(e.zIndex,this.series.zIndex),animatione.animation,visuale.visual},{dataItemthis.dataItem,valuethis.value,seriesthis.series,categorythis.category});return t},markerBoxfunction(){return this.marker(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},reflowfunction(e){var t,n,i,r,o=this,a=o.options,s=a.vertical,l=o.aboveAxis;if(o.render(),o.box=e,t=e.clone(),slt.y1-=t.height()t.y2+=t.height()lt.x1+=t.width()t.x2-=t.width(),o._childBox=t,o.marker&&o.marker.reflow(t),o.reflowLabel(t),o.errorBars)for(i=0;o.errorBars.lengthi;i++)o.errorBars[i].reflow(t);o.note&&(r=o.markerBox(),o.marker(n=r.center(),r=Ln(n.x,n.y,n.x,n.y)),o.note.reflow(r))},reflowLabelfunction(e){var t=this,n=t.options,i=t.label,r=n.labels.position;i&&(r=r===biBor,r=r===EiPir,i.reflow(e),i.box.alignTo(t.markerBox(),r),i.reflow(i.box))},createHighlightfunction(){var e=this.options.highlight,t=e.markers,n=this.markerBorder().color,i=this.options.markers,r=new Kn({typei.type,widthi.size,heighti.size,rotationi.rotation,backgroundt.colorn,border{colort.border.color,widtht.border.width,opacityvi(t.border.opacity,1)},opacityvi(t.opacity,1)});return r.reflow(this._childBox),r.getElement()},highlightVisualfunction(){return(this.marker{}).visual},highlightVisualArgsfunction(){var e,t,n,i,r,o=this.marker;return o(t=o.paddingBox.toRect(),e=o.visual)(n=this.options.markers.size,i=n2,r=this.box.center(),t=new _i.Rect([r.x-i,r.y-i],[n,n])),{optionsthis.options,rectt,visuale}},tooltipAnchorfunction(e,n){var i=this,r=i.markerBox(),o=i.aboveAxis,a=r.x2+Lo,s=or.y1-nr.y2,l=i.owner.pane.clipBox(),c=!ll.overlaps(r);return c$n(a,s)t},formatValuefunction(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mn(bt.fn,ot),Mn(bt.fn,at),kt=bt.extend({initfunction(e,t){var n=this;bt.fn.init.call(n,e,t),n.category=e.category},defaults{labels{positionLi},highlight{opacity1,border{width1,opacity1}}},createHighlightfunction(){var e=this.options.highlight,t=e.border,n=this.options.markers,i=this.box.center(),r=n.size2-t.width2,o=new wi.Circle(new _i.Circle([i.x,i.y],r),{stroke{colort.colornew Vn(n.background).brightness(Ai).toHex(),widtht.width,opacityt.opacity},fill{colorn.background,opacitye.opacity}});return o}}),xt=On.extend({initfunction(e,t,n){var i=this;On.fn.init.call(i),i.linePoints=e,i.series=t,i.seriesIx=n},options{closed!1},pointsfunction(e){var t,n,i=this,r=i.linePoints.concat(e[]),o=[];for(t=0,n=r.length;nt;t++)r[t].visible!==!1&&o.push(r[t]._childBox.toRect().center());return o},createVisualfunction(){var e,t=this.options,n=this.series,i=n._defaults,r=n.color;zn(r)&&i&&(r=i.color),e=wi.Path.fromPoints(this.points(),{stroke{colorr,widthn.width,opacityn.opacity,dashTypen.dashType},zIndexn.zIndex}),t.closed&&e.close(),this.visual=e},aliasForfunction(e,t){var n=this,i=n.seriesIx;return n.parent.getNearestPoint(t.x,t.y,i)}}),Ct={renderSegmentsfunction(){var e,t,n,i,r,o,a,s,l=this,c=l.options,d=c.series,u=l.seriesPoints,h=u.length;for(this._segments=[],t=0;ht;t++){for(e=d[t],n=l.sortPoints(u[t]),a=n.length,i=[],o=0;ao;o++)r=n[o],ri.push(r)l.seriesMissingValues(e)!==Sr&&(i.length1&&(s=l.createSegment(i,e,t,s),this._addSegment(s)),i=[]);
i.length1&&(s=l.createSegment(i,e,t,s),this._addSegment(s))}this.children.unshift.apply(this.children,this._segments)},_addSegmentfunction(e){this._segments.push(e),e.parent=this},sortPointsfunction(e){return e},seriesMissingValuesfunction(e){var t=e.missingValues,n=!t&&this.options.isStacked;return nZotSr},getNearestPointfunction(e,t,n){var i,r,o,a,s,l=new $n(e,t),c=this.seriesPoints[n],d=Br;for(r=0;c.lengthr;r++)o=c[r],o&&di(o.value)&&null!==o.value&&o.visible!==!1&&(a=o.box,s=a.center().distanceTo(l),ds&&(i=o,d=s));return i}},St={createAnimationfunction(){var e,t,n=this.getRoot();n&&(n.options{}).transitions!==!1&&(e=n.box,t=wi.Path.fromRect(e.toRect()),this.visual.clip(t),this.animation=new Dt(t,{boxe}),j(this.options.series)&&this._setChildrenAnimation(t))},_setChildrenAnimationfunction(e){var t,n,i,r=this.animationPoints();for(i=0;r.lengthi;i++)t=r[i],n=t.visual,n&&di(n.options.zIndex)&&n.clip(e)}},Tt=ut.extend({renderfunction(){var e=this;ut.fn.render.apply(e),e.updateStackRange(),e.renderSegments()},pointTypefunction(){return bt},createPointfunction(e,t){var n,i,r,o=this,a=t.categoryIx,s=t.category,l=t.series,c=t.seriesIx,d=e.valueFields.value,u=o.seriesMissingValues(l);if(!di(d)null===d){if(u!==Zo)return null;d=0}return i=this.pointOptions(l,c),i=o.evalPointOptions(i,d,s,a,l,c),r=e.fields.colorl.color,Tn.isFunction(l.color)&&(r=i.color),n=new bt(d,i),n.color=r,o.append(n),n},plotRangefunction(e){var t,n,i,r,o=this.plotValue(e);if(this.options.isStacked)for(t=e.categoryIx,n=this.categoryPoints[t],i=0;n.lengthi&&(r=n[i],e!==r);i++)o+=this.plotValue(r);return[o,o]},createSegmentfunction(e,t,n){var i,r=t.style;return new(i=r===boAtr===koEtxt)(e,t,n)},animationPointsfunction(){var e,t,n,i=this.seriesOptions,r=[];for(n=0;i.lengthn;n++)if(i[n].markers.visible)for(e=this.seriesPoints[n],t=0;e.lengtht;t++)r.push(e[t].marker);return r.concat(this._segments)}}),Mn(Tt.fn,Ct,St),Dt=wi.Animation.extend({options{durationkr},setupfunction(){this._setEnd(this.options.box.x1)},stepfunction(e){var t=this.options.box;this._setEnd(oi(t.x1,t.x2,e))},_setEndfunction(e){var t=this.element,n=t.segments,i=n[1].anchor(),r=n[2].anchor();t.suspend(),i.setX(e),t.resume(),r.setX(e)}}),wi.AnimationFactory.current.register(Ui,Dt),At=xt.extend({pointsfunction(e){var t,n=this;return t=n.calculateStepPoints(n.linePoints),e&&e.length&&(t=t.concat(n.calculateStepPoints(e).reverse())),t},calculateStepPointsfunction(e){var t,n,i,r,o,a=this,s=a.parent,l=s.plotArea,c=l.seriesCategoryAxis(a.series),d=s.seriesMissingValues(a.series)===Sr,u=e.length,h=c.options.reverse,p=c.options.vertical,f=h21,g=h12,m=[];for(i=1;ui;i++)t=e[i-1],n=e[i],r=t.markerBox().center(),o=n.markerBox().center(),c.options.justified(m.push(new _i.Point(r.x,r.y)),m.push(pnew _i.Point(r.x,o.y)new _i.Point(o.x,r.y)),m.push(new _i.Point(o.x,o.y)))p(m.push(new _i.Point(r.x,t.box[Ko+f])),m.push(new _i.Point(r.x,t.box[Ko+g])),d&&m.push(new _i.Point(r.x,n.box[Ko+f])),m.push(new _i.Point(o.x,n.box[Ko+f])),m.push(new _i.Point(o.x,n.box[Ko+g])))(m.push(new _i.Point(t.box[Qo+f],r.y)),m.push(new _i.Point(t.box[Qo+g],r.y)),d&&m.push(new _i.Point(n.box[Qo+f],r.y)),m.push(new _i.Point(n.box[Qo+f],o.y)),m.push(new _i.Point(n.box[Qo+g],o.y)));return m[]}}),Et=xt.extend({createVisualfunction(){var e,t,n,i=this.series,r=i._defaults,o=i.color;zn(o)&&r&&(o=r.color),e=new Un(this.options.closed),t=e.process(this.points()),n=new wi.Path({stroke{coloro,widthi.width,opacityi.opacity,dashTypei.dashType},zIndexi.zIndex}),n.segments.push.apply(n.segments,t),this.visual=n}}),It={pointsfunction(){var e,t,n=this,i=n.parent,r=i.plotArea,o=i.options.invertAxes,a=i.seriesValueAxis(n.series),s=a.lineBox(),l=r.seriesCategoryAxis(n.series),c=l.lineBox(),d=oc.x1c.y1,u=n.stackPoints,h=n._linePoints(u),p=oQoKo;return d=hi(d,s[p+1],s[p+2]),!n.stackPoints&&h.length1&&(e=h[0],t=ui(h),o(h.unshift(new _i.Point(d,e.y)),h.push(new _i.Point(d,t.y)))(h.unshift(new _i.Point(e.x,d)),h.push(new _i.Point(t.x,d)))),h},createVisualfunction(){var e=this.series,t=e._defaults,n=e.color;zn(n)&&t&&(n=t.color),this.visual=new wi.Group({zIndexe.zIndex}),this.createArea(n),this.createLine(n)},createLinefunction(e){var t,n=this.series,i=Mn({colore,opacityn.opacity},n.line);i.visible!==!1&&i.width0&&(t=wi.Path.fromPoints(this._linePoints(),{stroke{colori.color,widthi.width,opacityi.opacity,dashTypei.dashType,lineCapbutt}}),this.visual.append(t))},createAreafunction(e){var t=this.series,n=wi.Path.fromPoints(this.points(),{fill{colore,opacityt.opacity},strokenull});this.visual.append(n)}},Mt=xt.extend({initfunction(e,t,n,i){var r=this;r.stackPoints=t,xt.fn.init.call(r,e,n,i)},_linePointsxt.fn.points}),Mn(Mt.fn,It),Pt=Tt.extend({createSegmentfunction(e,t,n,i){var r,o,a=this,s=a.options,l=s.isStacked,c=(t.line{}).style;return l&&n0&&i&&(r=i.linePoints,c!==bo&&(r=r.slice(0).reverse())),c===konew zt(e,i,l,t,n)new(o=c===boFtMt)(e,r,t,n)},seriesMissingValuesfunction(e){return e.missingValuesZo}}),zt=Mt.extend({initfunction(e,t,n,i,r){var o=this;o.prevSegment=t,o.isStacked=n,xt.fn.init.call(o,e,i,r)},strokeSegmentsfunction(){var e,t,n=this._strokeSegments;return n(e=new Un(this.options.closed),t=xt.fn.points.call(this),n=this._strokeSegments=e.process(t)),n},createVisualfunction(){var e=this.series,t=e._defaults,n=e.color;zn(n)&&t&&(n=t.color),this.visual=new wi.Group({zIndexe.zIndex}),this.createFill({fill{colorn,opacitye.opacity},strokenull}),this.createStroke({strokeMn({colorn,opacitye.opacity,lineCapbutt},e.line)})},createFillfunction(t){var n,i,r,o,a,s=this.strokeSegments(),l=s.slice(0),c=this.prevSegment;this.isStacked&&c&&(n=c.strokeSegments(),i=ui(n).anchor(),l.push(new wi.Segment(i,i,ui(s).anchor())),r=e.map(n,function(e){return new wi.Segment(e.anchor(),e.controlOut(),e.controlIn())}).reverse(),ci(l,r),o=l[0].anchor(),l.push(new wi.Segment(o,o,ui(r).anchor()))),a=new wi.Path(t),a.segments.push.apply(a.segments,l),this.closeFill(a),this.visual.append(a)},closeFillfunction(e){var t=this,n=t.parent,i=t.prevSegment,r=n.plotArea,o=n.options.invertAxes,a=n.seriesValueAxis(t.series),s=a.lineBox(),l=r.seriesCategoryAxis(t.series),c=l.lineBox(),d=oc.x1c.y1,u=oQoKo,h=t.strokeSegments(),p=h[0].anchor(),f=ui(h).anchor();d=hi(d,s[u+1],s[u+2]),n.options.isStacked&&i!(h.length1)(oe.lineTo(d,f.y).lineTo(d,p.y)e.lineTo(f.x,d).lineTo(p.x,d))},createStrokefunction(e){if(e.stroke.width0){var t=new wi.Path(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t)}}}),Ft=At.extend({initfunction(e,t,n,i){var r=this;r.stackPoints=t,At.fn.init.call(r,e,n,i)},_linePointsAt.fn.points}),Mn(Ft.fn,It),Rt=On.extend({initfunction(e,t){var n=this;On.fn.init.call(n,t),n.plotArea=e,n.xAxisRanges={},n.yAxisRanges={},n.points=[],n.seriesPoints=[],n.seriesOptions=[],n._evalSeries=[],n.render()},options{series[],tooltip{format{0}, {1}},labels{format{0}, {1}},clip!0},renderfunction(){var e=this;e.traverseDataPoints(Sn(e.addValue,e))},addErrorBarfunction(e,t,n){var i,r=this,o=e.value[t],a=t+Value,s=t+ErrorLow,l=t+ErrorHigh,c=n.seriesIx,d=n.series,u=e.options.errorBars,h=n[s],p=n[l];A(o)&&(A(h)&&A(p)&&(i={lowh,highp}),u&&di(u[a])&&(r.seriesErrorRanges=r.seriesErrorRanges{x[],y[]},r.seriesErrorRanges[t][c]=r.seriesErrorRanges[t][c]new dt(u[a],d,t),i=r.seriesErrorRanges[t][c].getErrorRange(o,u[a])),i&&r.addPointErrorBar(i,e,t))},addPointErrorBarfunction(e,t,n){var i,r=this,o=e.low,a=e.high,s=t.series,l=n===Ko,c=t.options.errorBars,d={};t[n+Low]=o,t[n+High]=a,t.errorBars=t.errorBars[],i=new yt(o,a,l,r,s,c),t.errorBars.push(i),t.append(i),d[n]=o,r.updateRange(d,s),d[n]=a,r.updateRange(d,s)},addValuefunction(e,t){var n,i=this,r=e.x,o=e.y,a=t.seriesIx,s=this.options.series[a],l=this.seriesMissingValues(s),c=i.seriesPoints[a];$(r)&&$(o)(e=this.createMissingValue(e,l)),e&&(n=i.createPoint(e,t),n&&(Cn(n,t),i.addErrorBar(n,Qo,t),i.addErrorBar(n,Ko,t)),i.updateRange(e,t.series)),i.points.push(n),c.push(n)},seriesMissingValuesfunction(e){return e.missingValues},createMissingValuexn,updateRangefunction(e,t){var n=this,i=e.x,r=e.y,o=t.xAxis,a=t.yAxis,s=n.xAxisRanges[o],l=n.yAxisRanges[a];$(i)&&(s=n.xAxisRanges[o]=s{minBr,maxLr},typeof i===So&&(i=p(i)),s.min=kn.min(s.min,i),s.max=kn.max(s.max,i)),$(r)&&(l=n.yAxisRanges[a]=l{minBr,maxLr},typeof r===So&&(r=p(r)),l.min=kn.min(l.min,r),l.max=kn.max(l.max,r))},evalPointOptionsfunction(e,t,n){var i=n.series,r=n.seriesIx,o={defaultsi._defaults,excluded[data,tooltip,tempate,visual,toggle]},a=this._evalSeries[r];return di(a)(this._evalSeries[r]=a=P(e,{},o,!0)),a&&(e=Mn({},e),P(e,{valuet,seriesi,dataItemn.dataItem},o)),e},pointTypefunction(){return bt},pointOptionsfunction(e,t){var n,i=this.seriesOptions[t];return i(n=this.pointType().fn.defaults,this.seriesOptions[t]=i=Mn({},n,{markers{opacitye.opacity},tooltip{formatthis.options.tooltip.format},labels{formatthis.options.labels.format}},e)),i},createPointfunction(e,t){var n,i=this,r=t.series,o=this.pointOptions(r,t.seriesIx),a=t.colorr.color;return o=i.evalPointOptions(o,e,t),Tn.isFunction(r.color)&&(a=o.color),n=new bt(e,o),n.color=a,i.append(n),n},seriesAxesfunction(e){var t=this.plotArea,n=e.xAxis,i=nt.namedXAxes[n]t.axisX,r=e.yAxis,o=rt.namedYAxes[r]t.axisY;if(!i)throw Error(Unable to locate X axis with name +n);if(!o)throw Error(Unable to locate Y axis with name +r);return{xi,yo}},reflowfunction(e){var t,n,i=this,r=i.points,o=0,a=!i.options.clip;i.traverseDataPoints(function(e,s){t=r[o++],n=i.seriesAxes(s.series);var l,c=n.x.getSlot(e.x,e.x,a),d=n.y.getSlot(e.y,e.y,a);t&&(c&&d(l=i.pointSlot(c,d),t.reflow(l))t.visible=!1)}),i.box=e},pointSlotfunction(e,t){return new Ln(e.x1,t.y1,e.x2,t.y2)},traverseDataPointsfunction(e){var t,n,i,r,o,a,s,l=this,c=l.options,d=c.series,u=l.seriesPoints;for(n=0;d.lengthn;n++)for(i=d[n],r=u[n],r(u[n]=[]),t=0;i.data.lengtht;t++)o=this._bindPoint(i,n,t),a=o.valueFields,s=o.fields,e(a,Mn({pointIxt,seriesi,seriesIxn,dataItemi.data[t],ownerl},s))},_bindPointut.fn._bindPoint,formatPointValuefunction(e,t){var n=e.value;return ti(t,n.x,n.y)},animationPointsfunction(){var e,t=this.points,n=[];for(e=0;t.lengthe;e++)t[e].marker&&n.push(t[e].marker);return n}}),Mn(Rt.fn,St),Bt=Rt.extend({renderfunction(){var e=this;Rt.fn.render.call(e),e.renderSegments()},createSegmentfunction(e,t,n){var i,r=t.style;return new(i=r===koEtxt)(e,t,n)},animationPointsfunction(){var e=Rt.fn.animationPoints.call(this);return e.concat(this._segments)},createMissingValuefunction(e,t){if(t===Zo){var n={xe.x,ye.y};return $(n.x)(n.x=0),$(n.y)(n.y=0),n}}}),Mn(Bt.fn,Ct),Ht=Rt.extend({initfunction(e,t){this._maxSize=Lr,Rt.fn.init.call(this,e,t)},options{tooltip{format{3}},labels{format{3}}},addValuefunction(e,t){(null!==e.size&&e.size=0t.series.negativeValues.visible)&&(this._maxSize=kn.max(this._maxSize,kn.abs(e.size)),Rt.fn.addValue.call(this,e,t))},reflowfunction(e){var t=this;t.updateBubblesSize(e),Rt.fn.reflow.call(t,e)},pointTypefunction(){return kt},createPointfunction(e,t){var n,i,r=this,o=t.series,a=o.data.length,s=t.pointIx(kra),l={delays,durationkr-s,typeFi},c=t.coloro.color;return 0e.size&&o.negativeValues.visible&&(c=vi(o.negativeValues.color,c)),i=Mn({labels{animation{delays,durationkr-s}}},this.pointOptions(o,t.seriesIx),{markers{typeOi,bordero.border,opacityo.opacity,animationl}}),i=r.evalPointOptions(i,e,t),Tn.isFunction(o.color)&&(c=i.color),i.markers.background=c,n=new kt(e,i),n.color=c,r.append(n),n},updateBubblesSizefunction(e){var t,n,i,r,o,a,s,l,c,d,u,h,p,f,g,m,v,_=this,w=_.options,y=w.series,b=kn.min(e.width(),e.height());for(t=0;y.lengtht;t++)for(i=y[t],r=_.seriesPoints[t],o=i.minSizekn.max(.02b,10),a=i.maxSize.2b,s=o2,l=a2,c=kn.PIss,d=kn.PIll,u=d-c,h=u_._maxSize,n=0;r.lengthn;n++)p=r[n],f=kn.abs(p.value.size)h,g=kn.sqrt((c+f)kn.PI),m=vi(p.options.zIndex,0),v=m+(1-gl),Mn(p.options,{zIndexv,markers{size2g,zIndexv},labels{zIndexv+1}})},formatPointValuefunction(e,t){var n=e.value;return ti(t,n.x,n.y,n.size,e.category)},createAnimationxn,createVisualxn}),Lt=On.extend({initfunction(e,t){On.fn.init.call(this,t),this.value=e},options{border{_brightness.8},line{width2},overlay{gradient_r},tooltip{formattable style='text-align left;'th colspan='2'{4d}thtrtdOpentdtd{0C}tdtrtrtdHightdtd{1C}tdtrtrtdLowtdtd{2C}tdtrtrtdClosetdtd{3C}tdtrtable},highlight{opacity1,border{width1,opacity1},line{width1,opacity1}},notes{visible!0,label{}}},reflowfunction(e){var t,n,i,r=this,o=r.options,a=r.owner,s=r.value,l=a.seriesValueAxis(o),c=[];n=l.getSlot(s.open,s.close),i=l.getSlot(s.low,s.high),n.x1=i.x1=e.x1,n.x2=i.x2=e.x2,r.realBody=n,t=i.center().x,c.push([[t,i.y1],[t,n.y1]]),c.push([[t,n.y2],[t,i.y2]]),r.lines=c,r.box=i.clone().wrap(n),r._rendered(r._rendered=!0,r.createNote()),r.reflowNote()},reflowNotefunction(){var e=this;e.note&&e.note.reflow(e.box)},createVisualfunction(){On.fn.createVisual.call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},mainVisualfunction(e){var t=new wi.Group;return this.createBody(t,e),this.createLines(t,e),t},createBodyfunction(e,t){var n=wi.Path.fromRect(this.realBody.toRect(),{fill{colorthis.color,opacityt.opacity},strokenull});t.border.width0&&n.options.set(stroke,{colorthis.getBorderColor(),widtht.border.width,dashTypet.border.dashType,opacityvi(t.border.opacity,t.opacity)}),ei(n),e.append(n),U(t)&&e.append(this.createGradientOverlay(n,{baseColorthis.color},Mn({},t.overlay)))},createLinesfunction(e,t){this.drawLines(e,t,this.lines,t.line)},drawLinesfunction(e,t,n,i){var r,o,a;if(n)for(r={stroke{colori.colorthis.color,opacityvi(i.opacity,t.opacity),widthi.width,dashTypei.dashType,lineCapbutt}},o=0;n.lengtho;o++)a=wi.Path.fromPoints(n[o],r),ei(a),e.append(a)},getBorderColorfunction(){var e=this,t=e.options,n=t.border,i=n.color;return di(i)(i=new Vn(e.color).brightness(n._brightness).toHex()),i},createOverlayfunction(){var e=wi.Path.fromRect(this.box.toRect(),{fill{colorYo,opacity0},strokenull});this.visual.append(e)},createHighlightfunction(){var e,t=this.options.highlight,n=this.color;return this.color=t.colorthis.color,e=this.mainVisual(Mn({},this.options,{line{colorthis.getBorderColor()}},t)),this.color=n,e},highlightVisualfunction(){return this._mainVisual},highlightVisualArgsfunction(){return{optionsthis.options,rectthis.box.toRect(),visualthis._mainVisual}},tooltipAnchorfunction(){var e=this,t=e.box,n=e.owner.pane.clipBox()t;return new $n(t.x2+Lo,kn.max(t.y1,n.y1)+Lo)},formatValuefunction(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mn(Lt.fn,ot),Mn(Lt.fn,at),Nt=ut.extend({options{},reflowCategoriesfunction(e){var t,n=this,i=n.children,r=i.length;for(t=0;rt;t++)i[t].reflow(e[t])},addValuefunction(e,t){var n,i,r=this,o=t.categoryIx,a=t.category,s=t.series,l=t.seriesIx,c=r.options,d=e.valueFields,u=r.children,h=r.splitValue(d),p=I(h),f=r.categoryPoints[o],g=s.data[o];f(r.categoryPoints[o]=f=[]),p&&(n=r.createPoint(e,t)),i=u[o],i(i=new it({verticalc.invertAxes,gapc.gap,spacingc.spacing}),r.append(i)),n&&(r.updateRange(d,t),i.append(n),n.categoryIx=o,n.category=a,n.series=s,n.seriesIx=l,n.owner=r,n.dataItem=g,n.noteText=e.fields.noteText),r.points.push(n),f.push(n)},pointTypefunction(){return Lt},createPointfunction(e,t){var n,i=this,r=t.categoryIx,o=t.category,a=t.series,s=t.seriesIx,l=e.valueFields,c=Mn({},a),d=i.pointType(),u=e.fields.colora.color;return c=i.evalPointOptions(c,l,o,r,a,s),a.type==Bi&&l.openl.close&&(u=e.fields.downColora.downColora.color),Tn.isFunction(a.color)&&(u=c.color),n=new d(l,c),n.color=u,n},splitValuefunction(e){return[e.low,e.open,e.close,e.high]},updateRangefunction(e,t){var n=this,i=t.series.axis,r=n.valueAxisRanges[i],o=n.splitValue(e);r=n.valueAxisRanges[i]=r{minBr,maxLr},r=n.valueAxisRanges[i]={minkn.min.apply(kn,o.concat([r.min])),maxkn.max.apply(kn,o.concat([r.max]))}},formatPointValuefunction(e,t){var n=e.value;return ti(t,n.open,n.high,n.low,n.close,e.category)},animationPointsfunction(){return this.points}}),Mn(Nt.fn,St),Ot=Lt.extend({reflowfunction(e){var t,n,i,r,o=this,a=o.options,s=o.owner,l=o.value,c=s.seriesValueAxis(a),d=[],u=[],h=[];r=c.getSlot(l.low,l.high),n=c.getSlot(l.open,l.open),i=c.getSlot(l.close,l.close),n.x1=i.x1=r.x1=e.x1,n.x2=i.x2=r.x2=e.x2,t=r.center().x,d.push([n.x1,n.y1]),d.push([t,n.y1]),u.push([t,i.y1]),u.push([i.x2,i.y1]),h.push([t,r.y1]),h.push([t,r.y2]),o.lines=[d,u,h],o.box=r.clone().wrap(n.clone().wrap(i)),o.reflowNote()},createBodye.noop}),Vt=Nt.extend({pointTypefunction(){return Ot}}),Ut=Nt.extend({addValuefunction(e,t){var n,i,r=this,o=t.categoryIx,a=t.category,s=t.series,l=t.seriesIx,c=r.options,d=r.children,u=e.valueFields,h=r.splitValue(u),p=I(h),f=r.categoryPoints[o],g=s.data[o];f(r.categoryPoints[o]=f=[]),p&&(n=r.createPoint(e,t)),i=d[o],i(i=new it({verticalc.invertAxes,gapc.gap,spacingc.spacing}),r.append(i)),n&&(r.updateRange(u,t),i.append(n),n.categoryIx=o,n.category=a,n.series=s,n.seriesIx=l,n.owner=r,n.dataItem=g),r.points.push(n),f.push(n)},pointTypefunction(){return Wt},splitValuefunction(e){return[e.lower,e.q1,e.median,e.q3,e.upper]},updateRangefunction(e,t){var n=this,i=t.series.axis,r=n.valueAxisRanges[i],o=n.splitValue(e).concat(n.filterOutliers(e.outliers));di(e.mean)&&(o=o.concat(e.mean)),r=n.valueAxisRanges[i]=r{minBr,maxLr},r=n.valueAxisRanges[i]={minkn.min.apply(kn,o.concat([r.min])),maxkn.max.apply(kn,o.concat([r.max]))}},formatPointValuefunction(e,t){var n=e.value;return ti(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category)},filterOutliersfunction(e){var t,n,i=(e[]).length,r=[];for(t=0;it;t++)n=e[t],di(n)&&T(r,n);return r}}),Wt=Lt.extend({initfunction(e,t){var n=this;On.fn.init.call(n,t),n.value=e,n.createNote()},options{border{_brightness.8},line{width2},mean{width2,dashTypedash},overlay{gradient_r},tooltip{formattable style='text-align left;'th colspan='2'{6d}thtrtdLowertdtd{0C}tdtrtrtdQ1tdtd{1C}tdtrtrtdMediantdtd{2C}tdtrtrtdMeantdtd{5C}tdtrtrtdQ3tdtd{3C}tdtrtrtdUppertdtd{4C}tdtrtable},highlight{opacity1,border{width1,opacity1},line{width1,opacity1}},notes{visible!0,label{}},outliers{visible!0,sizeMr,typeqi,backgroundYo,border{width2,opacity1},opacity0},extremes{visible!0,sizeMr,typeOi,backgroundYo,border{width2,opacity1},opacity0}},reflowfunction(e){var t,n,i,r,o,a=this,s=a.options,l=a.owner,c=a.value,d=l.seriesValueAxis(s);i=d.getSlot(c.q1,c.q3),a.boxSlot=i,n=d.getSlot(c.lower,c.upper),r=d.getSlot(c.median),i.x1=n.x1=e.x1,i.x2=n.x2=e.x2,a.realBody=i,c.mean&&(o=d.getSlot(c.mean),a.meanPoints=[[[e.x1,o.y1],[e.x2,o.y1]]]),t=n.center().x,a.whiskerPoints=[[[t-5,n.y1],[t+5,n.y1],[t,n.y1],[t,i.y1]],[[t-5,n.y2],[t+5,n.y2],[t,n.y2],[t,i.y2]]],a.medianPoints=[[[e.x1,r.y1],[e.x2,r.y1]]],a.box=n.clone().wrap(i),a.reflowNote()},renderOutliersfunction(e){var t,n,i,r,o=this,a=e.markers{},s=o.value,l=s.outliers[],c=(o.owner.seriesValueAxis(e),3kn.abs(s.q3-s.q1)),d=[];for(r=0;l.lengthr;r++)i=l[r],a=s.q3+ci&&is.q1-ce.outlierse.extremes,t=Mn({},a.border),di(t.color)(t.color=di(o.color)o.colornew Vn(a.background).brightness(Ai).toHex()),n=new Kn({typea.type,widtha.size,heighta.size,rotationa.rotation,backgrounda.background,bordert,opacitya.opacity}),n.value=i,d.push(n);return this.reflowOutliers(d),d},reflowOutliersfunction(e){var t,n,i,r=this.owner.seriesValueAxis(this.options),o=this.box.center().x;for(t=0;e.lengtht;t++)n=e[t].value,i=r.getSlot(n).move(o),this.box=this.box.wrap(i),e[t].reflow(i)},mainVisualfunction(e){var t,n,i=Lt.fn.mainVisual.call(this,e),r=this.renderOutliers(e);for(t=0;r.lengtht;t++)n=r[t].getElement(),n&&i.append(n);return i},createLinesfunction(e,t){this.drawLines(e,t,this.whiskerPoints,t.line),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)},getBorderColorfunction(){return this.colorthis.colorLt.getBorderColor.call(this)}}),Mn(Wt.fn,ot),jt=On.extend({initfunction(e,t,n){var i=this;i.value=e,i.sector=t,On.fn.init.call(i,n)},options{colorYo,overlay{gradientco},border{width.5},labels{visible!1,distance35,fontZi,marginii(.5),alignOi,zIndex1,positioneo},animation{typeto},highlight{visible!0,border{width1}},visible!0},renderfunction(){var e,t=this,n=t.options,i=n.labels,r=t.value;t._renderedt.visible===!1(t._rendered=!0,i.template(e=Fn(i.template),r=e({dataItemt.dataItem,categoryt.category,valuet.value,seriest.series,percentaget.percentage}))i.format&&(r=ti(i.format,r)),i.visible&&r&&(t.label=new Zn(r,Mn({},i,{alignLi,vAlign,animation{typefr,delayt.animationDelay}})),t.append(t.label)))},reflowfunction(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabelfunction(){var e,t,n,i,r=this,o=r.sector.clone(),a=r.options,s=r.label,l=a.labels,c=l.distance,d=o.middle();s&&(i=s.box.height(),n=s.box.width(),l.position==Li(o.r=kn.abs((o.r-i)2)+i,e=o.point(d),s.reflow(Ln(e.x,e.y-i2,e.x,e.y)))l.position==Cr(o.r=o.r-i2,e=o.point(d),s.reflow(Ln(e.x,e.y-i2,e.x,e.y)))(e=o.clone().expand(c).point(d),e.x=o.c.x(t=e.x+n,s.orientation=lo)(t=e.x-n,s.orientation=Dr),s.reflow(Ln(t,e.y-i,e.x,e.y))))},createVisualfunction(){var e,t=this,n=t.sector,i=t.options,r=i.border{},o=r.width0{stroke{colorr.color,widthr.width,opacityr.opacity,dashTyper.dashType}}{},a=i.color,s={colora,opacityi.opacity};On.fn.createVisual.call(this),t.value&&(e=t.createSegment(n,Mn({fills,stroke{opacityi.opacity},zIndexi.zIndex},o)),this.visual.append(e),U(i)&&this.visual.append(this.createGradientOverlay(e,{baseColora,fallbackFills},Mn({center[n.c.x,n.c.y],innerRadiusn.ir,radiusn.r,userSpace!0},i.overlay))))},createSegmentfunction(e,t){return t.singleSegmentnew wi.Circle(new _i.Circle(new _i.Point(e.c.x,e.c.y),e.r),t)Xn.current.createRing(e,t)},createAnimationfunction(){var e=this.options,t=this.sector.c;Mn(e,{animation{center[t.x,t.y],delaythis.animationDelay}}),On.fn.createAnimation.call(this)},createHighlightfunction(e){var t=this,n=t.options.highlight{},i=n.border{};return t.createSegment(t.sector,Mn({},e,{fill{colorn.color,opacityn.opacity},stroke{opacityi.opacity,widthi.width,colori.color}}))},highlightVisualfunction(){return this.visual},highlightVisualArgsfunction(){var e=this.sector;return{optionsthis.options,radiuse.r,innerRadiuse.ir,centernew _i.Point(e.c.x,e.c.y),startAnglee.startAngle,endAnglee.angle+e.startAngle,visualthis.visual}},tooltipAnchorfunction(e,t){var n=this,i=n.sector.adjacentBox(Lo,e,t);return new $n(i.x1,i.y1)},formatValuefunction(e){var t=this;return t.owner.formatPointValue(t,e)}}),Mn(jt.fn,ot),Gt={createLegendItemfunction(e,t,n){var i,r,o,a,s,l=this,c=l.options.legend{},d=c.labels{},u=c.inactiveItems{},h=u.labels{};n&&n.visibleInLegend!==!1&&(s=n.visible!==!1,i=n.category,r=sd.templateh.templated.template,r&&(i=Fn(r)({texti,seriesn.series,dataItemn.dataItem,percentagen.percentage,valuee})),s(a={},o=t.color)(a={colorh.color,fonth.font},o=(u.markers{}).color),i&&l.legendItems.push({pointIndexn.index,texti,seriesn.series,markerColoro,labelsa}))}},qt=On.extend({initfunction(e,t){var n=this;On.fn.init.call(n,t),n.plotArea=e,n.points=[],n.legendItems=[],n.render()},options{startAngle90,connectors{width1,color#939393,padding4},inactiveItems{markers{},labels{}}},renderfunction(){var e=this;e.traverseDataPoints(Sn(e.addValue,e))},traverseDataPointsfunction(e){var t,n,i,r,o,a,s,l,c,d,u,h,p,f=this,g=f.options,m=f.plotArea.options.seriesColors[],v=m.length,_=g.series,w=_.length,y=0;for(r=0;wr;r++){for(t=_[r],a=t.data,u=V(t),s=360u,h=di(t.startAngle)t.startAngleg.startAngle,r!=w-1&&t.labels.position==eo&&(t.labels.position=Li),p=0;a.lengthp;p++)n=Q.current.bindPoint(t,p),l=n.valueFields.value,c=kn.abs(l),i=n.fields,o=cs,d=1!=a.length&&!!i.explode,zn(t.color)(t.color=i.colorm[p%v]),e(l,new Qn(null,0,0,h,o),{ownerf,categoryi.category,indexy,seriest,seriesIxr,dataItema[p],percentage0!==ucu0,exploded,visibleInLegendi.visibleInLegend,visiblei.visible,zIndexw-r,animationDelayf.animationDelay(p,r,w)}),n.fields.visible!==!1&&(h+=o),y++;y=0}},evalSegmentOptionsfunction(e,t,n){var i=n.series;P(e,{valuet,seriesi,dataItemn.dataItem,categoryn.category,percentagen.percentage},{defaultsi._defaults,excluded[data,template,visual,toggle]})},addValuefunction(e,t,n){var i,r=this,o=Mn({},n.series,{indexn.index});r.evalSegmentOptions(o,e,n),r.createLegendItem(e,o,n),n.visible!==!1&&(i=new jt(e,t,o),Cn(i,n),r.append(i),r.points.push(i))},reflowfunction(e){var t,n,i,r,o,a,s,l,c=this,d=c.options,u=e.clone(),h=5,p=kn.min(u.width(),u.height()),f=p2,g=p-.85p,m=vi(d.padding,g),v=Ln(u.x1,u.y1,u.x1+p,u.y1+p),_=v.center(),w=c.seriesConfigs[],y=u.center(),b=c.points,k=b.length,x=d.series.length,C=[],S=[];for(m=mf-hf-hm,v.translate(y.x-_.x,y.y-_.y),a=f-m,l=$n(a+v.x1+m,a+v.y1+m),s=0;ks;s++)r=b[s],o=r.sector,o.r=a,o.c=l,n=r.seriesIx,w.length&&(t=w[n],o.ir=t.ir,o.r=t.r),n==x-1&&r.explode&&(o.c=o.clone().radius(.15o.r).point(o.middle())),r.reflow(v),i=r.label,i&&i.options.position===eo&&n==x-1&&(i.orientation===loS.push(i)C.push(i));C.length0&&(C.sort(c.labelComparator(!0)),c.leftLabelsReflow(C)),S.length0&&(S.sort(c.labelComparator(!1)),c.rightLabelsReflow(S)),c.box=v},leftLabelsReflowfunction(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},rightLabelsReflowfunction(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},distanceBetweenLabelsfunction(e){var t,n,i,r=this,o=r.points,a=o[o.length-1],s=a.sector,l=e[0].box,c=e.length-1,d=s.r+a.options.labels.distance,u=[];for(n=si(l.y1-(s.c.y-d-l.height()-l.height()2)),u.push(n),i=0;ci;i++)l=e[i].box,t=e[i+1].box,n=si(t.y1-l.y2),u.push(n);return n=si(s.c.y+d-e[c].box.y2-e[c].box.height()2),u.push(n),u},distributeLabelsfunction(e,t){var n,i,r,o,a=this,s=e.length;for(o=0;so;o++)for(i=r=o,n=-e[o];n0&&(i=0sr);)n=a._takeDistance(e,o,--i,n),n=a._takeDistance(e,o,++r,n);a.reflowLabels(e,t)},_takeDistancefunction(e,t,n,i){if(e[n]0){var r=kn.min(e[n],i);i-=r,e[n]-=r,e[t]+=r}return i},reflowLabelsfunction(e,t){var n,i,r,o,a=this,s=a.points,l=s[s.length-1],c=l.sector,d=t.length,u=l.options.labels,h=u.distance,p=c.c.y-(c.r+h)-t[0].box.height();for(e[0]+=2,o=0;do;o++)n=t[o],p+=e[o],r=n.box,i=a.hAlignLabel(r.x2,c.clone().expand(h),p,p+r.height(),n.orientation==lo),n.orientation==lo(u.align!==Oi&&(i=c.r+c.c.x+h),n.reflow(Ln(i+r.width(),p,i,p)))(u.align!==Oi&&(i=c.c.x-c.r-h),n.reflow(Ln(i-r.width(),p,i,p))),p+=r.height()},createVisualfunction(){var e,t,n,r,o,a,s,l,c,d,u,h,p,f,g=this,m=g.options,v=m.connectors,_=g.points,w=_.length,y=4;for(On.fn.createVisual.call(this),this._connectorLines=[],s=0;ws;s++)r=_[s],t=r.sector,n=t.middle(),a=r.label,o={seriesIdr.seriesIx},a&&(e=new wi.Path({stroke{colorv.color,widthv.width},animation{typefr,delayr.animationDelay}}),a.options.position===eo&&0!==r.value&&(l=a.box,c=t.c,d=t.point(n),u=$n(l.x1,l.center().y),d=t.clone().expand(v.padding).point(n),e.moveTo(d.x,d.y),a.orientation==lo(p=$n(l.x1-v.padding,l.center().y),f=i(c,d,u,p),u=$n(p.x-y,p.y),f=fu,f.x=kn.min(f.x,u.x),g.pointInCircle(f,t.c,t.r+y)t.c.xf.x(h=t.c.x+t.r+y,r.options.labels.align!==jiu.xhe.lineTo(h,d.y)e.lineTo(d.x+2y,d.y)e.lineTo(h,d.y),e.lineTo(u.x,p.y))(f.y=p.y,e.lineTo(f.x,f.y)))(p=$n(l.x2+v.padding,l.center().y),f=i(c,d,u,p),u=$n(p.x+y,p.y),f=fu,f.x=kn.max(f.x,u.x),g.pointInCircle(f,t.c,t.r+y)f.xt.c.x(h=t.c.x-t.r-y,r.options.labels.align!==jihu.xe.lineTo(h,d.y)e.lineTo(d.x-2y,d.y)e.lineTo(h,d.y),e.lineTo(u.x,p.y))(f.y=p.y,e.lineTo(f.x,f.y))),e.lineTo(p.x,p.y),this._connectorLines.push(e),this.visual.append(e)))},labelComparatorfunction(e){return e=e-11,function(t,n){return t=(t.parent.sector.middle()+270)%360,n=(n.parent.sector.middle()+270)%360,(t-n)e}},hAlignLabelfunction(e,t,n,i,r){var o=t.c.x,a=t.c.y,s=t.r,l=kn.min(kn.abs(a-n),kn.abs(a-i));return lseo+kn.sqrt(ss-ll)(r1-1)},pointInCirclefunction(e,t,n){return d(t.x-e.x)+d(t.y-e.y)d(n)},formatPointValuefunction(e,t){return ti(t,e.value)},animationDelayfunction(e){return eno}}),Mn(qt.fn,Gt),$t=jt.extend({options{overlay{gradientuo},labels{positionLi},animation{typeto}},reflowLabelfunction(){var e,t,n=this,i=n.sector.clone(),r=n.options,o=n.label,a=r.labels,s=i.middle();o&&(t=o.box.height(),a.position==Li(i.r-=(i.r-i.ir)2,e=i.point(s),o.reflow(new Ln(e.x,e.y-t2,e.x,e.y)))jt.fn.reflowLabel.call(n))},createSegmentfunction(e,t){return Xn.current.createRing(e,t)}}),Mn($t.fn,ot),Yt=qt.extend({options{startAngle90,connectors{width1,color#939393,padding4}},addValuefunction(e,t,n){var i,r=this,o=Mn({},n.series,{indexn.index});r.evalSegmentOptions(o,e,n),r.createLegendItem(e,o,n),e&&n.visible!==!1&&(i=new $t(e,t,o),Cn(i,n),r.append(i),r.points.push(i))},reflowfunction(e){var t,n,i,r,o,a,s=this,l=s.options,c=e.clone(),d=5,u=kn.min(c.width(),c.height()),h=u2,p=u-.85u,f=vi(l.padding,p),g=l.series,m=g.length,v=0,_=0,w=0,y=0;for(s.seriesConfigs=[],f=fh-dh-df,i=h-f,o=0;mo;o++)t=g[o],0===o&&di(t.holeSize)&&(n=t.holeSize,i-=t.holeSize),di(t.size)i-=t.sizev++,di(t.margin)&&o!=m-1&&(i-=t.margin);for(di(n)(y=(h-f)(m+.75),n=.75y,i-=n),w=n,o=0;mo;o++)t=g[o],r=vi(t.size,iv),w+=_,a=w+r,s.seriesConfigs.push({irw,ra}),_=t.margin0,w=a;qt.fn.reflow.call(s,e)},animationDelayfunction(e,t,n){return err+kr(t+1)(n+1)}}),Qt=ht.extend({renderfunction(){ht.fn.render.call(this),this.createSegments()},traverseDataPointsfunction(e){var t,n,i,r,o,a,s,l,d,u,h=this.options.series,p=this.categoryAxis.options.categories[],f=c(h),g=!this.options.invertAxes;for(t=0;h.lengtht;t++)for(n=h[t],i=0,r=0,o=0;fo;o++)a=Q.current.bindPoint(n,o),s=a.valueFields.value,l=a.fields.summary,d=i,ltotal===l.toLowerCase()(a.valueFields.value=i,d=0,u=i)(a.valueFields.value=r,u=d-r,r=0)A(s)&&(r+=s,i+=s,u=i),e(a,{categoryp[o],categoryIxo,seriesn,seriesIxt,totali,runningTotalr,fromd,tou,isVerticalg})},updateRangefunction(e,t){ht.fn.updateRange.call(this,{valuet.to},t)},aboveAxisfunction(e){return e.value=0},plotRangefunction(e){return[e.from,e.to]},createSegmentsfunction(){var e,t,n,i,r,o,a,s=this.options.series,l=this.seriesPoints,c=this.segments=[];for(e=0;s.lengthe;e++)if(t=s[e],n=l[e])for(r=0;n.lengthr;r++)o=n[r],o&&i&&(a=new Kt(i,o,t),c.push(a),this.append(a)),i=o}}),Kt=On.extend({initfunction(e,t,n){var i=this;On.fn.init.call(i),i.from=e,i.to=t,i.series=n},options{animation{typefr,delaykr}},linePointsfunction(){var e,t,n=[],i=this.from,r=i.box,o=this.to.box;return i.isVertical(e=i.aboveAxisr.y1r.y2,n.push([r.x1,e],[o.x2,e]))(t=i.aboveAxisr.x2r.x1,n.push([t,r.y1],[t,o.y2])),n},createVisualfunction(){var e,t,n;On.fn.createVisual.call(this),e=this.options,t=this.series.line{},n=wi.Path.fromPoints(this.linePoints(),{stroke{colort.color,widtht.width,opacityt.opacity,dashTypet.dashType}}),ei(n),this.visual.append(n)}}),Xt=Nn.extend({initfunction(e){var t=this;Nn.fn.init.call(t,e),e=t.options,t.id=Tn.guid(),t.createTitle(),t.content=new On,t.chartContainer=new Zt({},t),t.append(t.content),t.axes=[],t.charts=[]},options{zIndex-1,shrinkToFit!0,title{alignDr},visible!0},createTitlefunction(){var e=this,t=e.options.title;typeof t===Zr&&(t=Mn({},t,{alignt.position,positionBo})),e.title=Jn.buildTitle(t,e,Xt.fn.options.title)},appendAxisfunction(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChartfunction(e){var t=this;t.chartContainer.parent!==t.content&&t.content.append(t.chartContainer),t.charts.push(e),t.chartContainer.append(e),e.pane=t
},emptyfunction(){var e,t=this,n=t.parent;if(n){for(e=0;t.axes.lengthe;e++)n.removeAxis(t.axes[e]);for(e=0;t.charts.lengthe;e++)n.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.destroy(),t.content.children=[],t.chartContainer.children=[]},reflowfunction(e){var t,n=this;ui(n.children)===n.content&&(t=n.children.pop()),Nn.fn.reflow.call(n,e),t&&n.children.push(t),n.title&&(n.contentBox.y1+=n.title.box.height())},visualStylefunction(){var e=Nn.fn.visualStyle.call(this);return e.zIndex=-10,e},renderCompletefunction(){this.options.visible&&this.createGridLines()},stackRootW,clipRootW,createGridLinesfunction(){var e,t,n,i,r,o,a=this,s=a.axes,l=s.concat(a.parent.axes),c=[],d=[];for(t=0;s.lengtht;t++)for(i=s[t],r=i.options.vertical,e=rcd,n=0;l.lengthn;n++)0===e.length&&(o=l[n],r!==o.options.vertical&&ci(e,i.createGridLines(o)))},refreshfunction(){this.visual.clear(),this.content.parent=null,this.content.createGradient=e.proxy(this.createGradient,this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete()},clipBoxfunction(){return this.chartContainer.clipBox}}),Zt=On.extend({initfunction(e,t){var n=this;On.fn.init.call(n,e),n.pane=t},shouldClipfunction(){var e,t=this,n=t.children,i=n.length;for(e=0;ie;e++)if(n[e].options.clip===!0)return!0;return!1},_clipBoxfunction(){var e,t,n,i,r=this,o=r.pane,a=o.axes,s=a.length,l=o.box.clone();for(t=0;st;t++)i=a[t],e=i.options.verticalKoQo,n=i.lineBox(),l[e+1]=n[e+1],l[e+2]=n[e+2];return l},createVisualfunction(){var e,t,n;this.visual=new wi.Group({zIndex0}),this.shouldClip()&&(e=this.clipBox=this._clipBox(),t=e.toRect(),n=wi.Path.fromRect(t),this.visual.clip(n),this.unclipLabels())},stackRootW,unclipLabelsfunction(){var e,t,n,i,r,o=this,a=o.children,s=o.clipBox;for(n=0;a.lengthn;n++)for(e=a[n].points{},r=e.length,i=0;ri;i++)t=e[i],t&&t.label&&t.label.options.visible&&t.box.overlaps(s)&&(t.label.alignToClipBox&&t.label.alignToClipBox(s),t.label.options.noclip=!0)},destroyfunction(){On.fn.destroy.call(this),delete this.parent}}),Jt=On.extend({initfunction(e,t){var n=this;On.fn.init.call(n,t),n.series=e,n.initSeries(),n.charts=[],n.options.legend.items=[],n.axes=[],n.crosshairs=[],n.createPanes(),n.render(),n.createCrosshairs()},options{series[],plotArea{margin{}},background,border{colorIi,width0},legend{inactiveItems{labels{color#919191},markers{color#919191}}}},initSeriesfunction(){var e,t,n=this.series;for(e=0;n.lengthe;e++)t=n[e],t.index=e},createPanesfunction(){var e,t,n=this,i=[],r=n.options.panes[],o=kn.max(r.length,1);for(e=0;oe;e++)t=new Xt(r[e]),t.paneIndex=e,i.push(t),n.append(t);n.panes=i},createCrosshairsfunction(e){var t,n,i,r,o,a=this;for(e=ea.panes,t=0;e.lengtht;t++)for(i=e[t],n=0;i.axes.lengthn;n++)r=i.axes[n],r.options.crosshair&&r.options.crosshair.visible&&(o=new hn(r,r.options.crosshair),a.crosshairs.push(o),i.content.append(o))},removeCrosshairsfunction(e){var t,n,i=this,r=i.crosshairs,o=e.axes;for(t=r.length-1;t=0;t--)for(n=0;o.lengthn;n++)if(r[t].axis===o[n]){r.splice(t,1);break}},hideCrosshairsfunction(){var e,t=this.crosshairs;for(e=0;t.lengthe;e++)t[e].hide()},findPanefunction(e){var t,n,i=this,r=i.panes;for(t=0;r.lengtht;t++)if(r[t].options.name===e){n=r[t];break}return nr[0]},findPointPanefunction(e){var t,n,i=this,r=i.panes;for(t=0;r.lengtht;t++)if(r[t].box.containsPoint(e)){n=r[t];break}return n},appendAxisfunction(e){var t=this,n=t.findPane(e.options.pane);n.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxisfunction(e){var t,n,i=this,r=[];for(t=0;i.axes.lengtht;t++)n=i.axes[t],e!==nr.push(n)n.destroy();i.axes=r},appendChartfunction(e,t){var n=this;n.charts.push(e),tt.appendChart(e)n.append(e)},removeChartfunction(e){var t,n,i=this,r=[];for(t=0;i.charts.lengtht;t++)n=i.charts[t],n!==er.push(n)n.destroy();i.charts=r},addToLegendfunction(e){var t,n,i,r,o,a,s,l,c,d=e.length,u=[],h=this.options.legend,p=h.labels{},f=h.inactiveItems{},g=f.labels{};for(t=0;dt;t++)n=e[t],l=n.visible!==!1,n.visibleInLegend!==!1&&(i=n.name,c=lp.templateg.templatep.template,c&&(i=Fn(c)({texti,seriesn})),r=n.color,s=n._defaults,zn(r)&&s&&(r=s.color),l(o={},a=r)(o={colorg.color,fontg.font},a=f.markers.color),i&&u.push({texti,labelso,markerColora,seriesn,activel}));ci(h.items,u)},groupAxesfunction(e){var t,n,i,r,o=[],a=[];for(i=0;e.lengthi;i++)for(t=e[i].axes,r=0;t.lengthr;r++)n=t[r],n.options.verticala.push(n)o.push(n);return{xo,ya,anyo.concat(a)}},groupSeriesByPanefunction(){var e,t,n,i=this,r=i.series,o={};for(e=0;r.lengthe;e++)n=r[e],t=i.seriesPaneName(n),o[t]o[t].push(n)o[t]=[n];return o},filterVisibleSeriesfunction(e){var t,n,i=[];for(t=0;e.lengtht;t++)n=e[t],n.visible!==!1&&i.push(n);return i},reflowfunction(e){var t=this,n=t.options.plotArea,i=t.panes,r=ii(n.margin);t.box=e.clone().unpad(r),t.reflowPanes(),t.reflowAxes(i),t.reflowCharts(i)},redrawfunction(e){var t,n=this;for(e=[].concat(e),this.initSeries(),t=0;e.lengtht;t++)n.removeCrosshairs(e[t]),e[t].empty();for(n.render(e),n.reflowAxes(n.panes),n.reflowCharts(e),n.createCrosshairs(e),t=0;e.lengtht;t++)e[t].refresh()},axisCrossingValuesfunction(e,t){var n,i=e.options,r=[].concat(i.axisCrossingValuesi.axisCrossingValue),o=t.length-r.length,a=r[0]0;for(n=0;on;n++)r.push(a);return r},alignAxisTofunction(e,t,n,i){var r=e.getSlot(n,n,!0),o=e.options.reverse21,a=t.getSlot(i,i,!0),s=t.options.reverse21,l=e.box.translate(a[Qo+s]-r[Qo+o],a[Ko+s]-r[Ko+o]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},alignAxesfunction(e,t){var n,i,r,o,a=this,s=e[0],l=t[0],c=a.axisCrossingValues(s,t),d=a.axisCrossingValues(l,e),u={},h={},p={},f={};for(o=0;t.lengtho;o++)r=t[o],n=r.pane,i=n.id,a.alignAxisTo(r,s,d[o],c[o]),r.options._overlap(si(r.lineBox().x1)===si(s.lineBox().x1)&&(u[i]&&r.reflow(r.box.alignTo(u[i].box,Dr).translate(-r.options.margin,0)),u[i]=r),si(r.lineBox().x2)===si(s.lineBox().x2)&&(r._mirrored(r.options.labels.mirror=!r.options.labels.mirror,r._mirrored=!0),a.alignAxisTo(r,s,d[o],c[o]),h[i]&&r.reflow(r.box.alignTo(h[i].box,lo).translate(r.options.margin,0)),h[i]=r),0!==o&&l.pane===r.pane&&r.alignTo(l));for(o=0;e.lengtho;o++)r=e[o],n=r.pane,i=n.id,a.alignAxisTo(r,l,c[o],d[o]),r.options._overlap(si(r.lineBox().y1)===si(l.lineBox().y1)&&(r._mirrored(r.options.labels.mirror=!r.options.labels.mirror,r._mirrored=!0),a.alignAxisTo(r,l,c[o],d[o]),p[i]&&r.reflow(r.box.alignTo(p[i].box,Bo).translate(0,-r.options.margin)),p[i]=r),si(r.lineBox().y2,Gi)===si(l.lineBox().y2,Gi)&&(f[i]&&r.reflow(r.box.alignTo(f[i].box,Pi).translate(0,r.options.margin)),f[i]=r),0!==o&&r.alignTo(s))},shrinkAxisWidthfunction(e){var t,n,i,r=this,o=r.groupAxes(e).any,a=x(o),s=0;for(t=0;e.lengtht;t++)n=e[t],n.axes.length0&&(s=kn.max(s,a.width()-n.contentBox.width()));for(t=0;o.lengtht;t++)i=o[t],i.options.verticali.reflow(i.box.shrink(s,0))},shrinkAxisHeightfunction(e){var t,n,i,r,o,a;for(t=0;e.lengtht;t++)for(n=e[t],i=n.axes,r=kn.max(0,x(i).height()-n.contentBox.height()),o=0;i.lengtho;o++)a=i[o],a.options.vertical&&a.reflow(a.box.shrink(0,r))},fitAxesfunction(e){var t,n,i,r,o,a,s,l,c=this,d=c.groupAxes(e).any,u=0;for(s=0;e.lengths;s++)if(o=e[s],t=o.axes,n=o.contentBox,t.length0)for(i=x(t),u=kn.max(u,n.x1-i.x1),r=kn.max(n.y1-i.y1,n.y2-i.y2),l=0;t.lengthl;l++)a=t[l],a.reflow(a.box.translate(0,r));for(s=0;d.lengths;s++)a=d[s],a.reflow(a.box.translate(u,0))},reflowAxesfunction(e){var t,n=this,i=n.groupAxes(e);for(t=0;e.lengtht;t++)n.reflowPaneAxes(e[t]);i.x.length0&&i.y.length0&&(n.alignAxes(i.x,i.y),n.shrinkAxisWidth(e),n.alignAxes(i.x,i.y),n.shrinkAxisHeight(e),n.alignAxes(i.x,i.y),n.fitAxes(e))},reflowPaneAxesfunction(e){var t,n=e.axes,i=n.length;if(i0)for(t=0;it;t++)n[t].reflow(e.contentBox)},reflowChartsfunction(e){var t,n,i=this,r=i.charts,o=r.length,a=i.box;for(n=0;on;n++)t=r[n].pane,(!tri(t,e))&&r[n].reflow(a)},reflowPanesfunction(){var e,t,n,i,r,o=this,a=o.box,s=o.panes,l=s.length,c=a.height(),d=l,u=0,h=a.y1;for(e=0;le;e++)t=s[e],i=t.options.height,t.options.width=a.width(),t.options.height(i.indexOf&&i.indexOf(%)&&(r=parseInt(i,10)100,t.options.height=ra.height()),t.reflow(a.clone()),c-=t.options.height)u++;for(e=0;le;e++)t=s[e],t.options.height(t.options.height=cu);for(e=0;le;e++)t=s[e],n=a.clone().move(a.x1,h),t.reflow(n),d--,h+=t.options.height},backgroundBoxfunction(){var e,t,n,i,r,o,a=this,s=a.axes,l=s.length;for(n=0;ln;n++)for(r=s[n],i=0;li;i++)o=s[i],r.options.vertical!==o.options.vertical&&(e=r.lineBox().clone().wrap(o.lineBox()),t=tt.wrap(e)e);return ta.box},createVisualfunction(){var e,t,n,i,r,o;On.fn.createVisual.call(this),e=this.backgroundBox(),t=this.options.plotArea,n=t.border{},i=t.background,r=t.opacity,li.isTransparent(i)&&(i=Yo,r=0),o=this._bgVisual=wi.Path.fromRect(e.toRect(),{fill{colori,opacityr},stroke{colorn.widthn.color,widthn.width,dashTypen.dashType},zIndex-1}),this.appendVisual(o)},pointsByCategoryIndexfunction(e){var t,n,i,r,o,a=this.charts,s=[];if(null!==e)for(t=0;a.lengtht;t++)if(o=a[t],_navigator!==o.pane.options.name&&(i=a[t].categoryPoints[e],i&&i.length))for(n=0;i.lengthn;n++)r=i[n],r&&di(r.value)&&null!==r.value&&s.push(r);return s},pointsBySeriesIndexfunction(e){var t,n,i,r,o,a=this.charts,s=[];for(i=0;a.lengthi;i++)for(o=a[i],t=o.points,r=0;t.lengthr;r++)n=t[r],n&&n.options.index===e&&s.push(n);return s},pointsBySeriesNamefunction(e){var t,n,i,r,o,a=this.charts,s=[];for(i=0;a.lengthi;i++)for(o=a[i],t=o.points,r=0;t.lengthr;r++)n=t[r],n&&n.series.name===e&&s.push(n);return s},paneByPointfunction(e){var t,n,i=this,r=i.panes;for(n=0;r.lengthn;n++)if(t=r[n],t.box.containsPoint(e))return t}}),en=Jt.extend({initfunction(e,t){var n,i,r=this;if(r.namedCategoryAxes={},r.namedValueAxes={},r.valueAxisRangeTracker=new tn,e.length0)for(r.invertAxes=ri(e[0].type,[Ti,Ri,Go,Wo,oo,yr]),n=0;e.lengthn;n++)if(i=e[n].stack,i&&100%===i.type){r.stack100=!0;break}Jt.fn.init.call(r,e,t)},options{categoryAxis{categories[]},valueAxis{}},renderfunction(e){var t=this;e=et.panes,t.createCategoryAxes(e),t.aggregateCategories(e),t.createCategoryAxesLabels(e),t.createCharts(e),t.createValueAxes(e)},removeAxisfunction(e){var t=this,n=e.options.name;Jt.fn.removeAxis.call(t,e),e instanceof etdelete t.namedCategoryAxes[n](t.valueAxisRangeTracker.reset(n),delete t.namedValueAxes[n]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createChartsfunction(e){var t,n,i,r,o,a,s=this.groupSeriesByPane();for(t=0;e.lengtht;t++)if(n=e[t],i=s[n.options.namedefault][],this.addToLegend(i),r=this.filterVisibleSeries(i))for(o=this.groupSeriesByCategoryAxis(r),a=0;o.lengtha;a++)this.createChartGroup(o[a],n)},createChartGroupfunction(e,t){this.createAreaChart(F(e,[ki,Wo]),t),this.createBarChart(F(e,[ji,Ti]),t),this.createRangeBarChart(F(e,[ao,oo]),t),this.createBulletChart(F(e,[Ri,jo]),t),this.createCandlestickChart(F(e,Bi),t),this.createBoxPlotChart(F(e,zi),t),this.createOHLCChart(F(e,Jr),t),this.createWaterfallChart(F(e,[qo,yr]),t),this.createLineChart(F(e,[Ir,Go]),t)},aggregateCategoriesfunction(e){var t,n,i,r,o,a=this,s=a.srcSeriesa.series,l=[];for(t=0;s.lengtht;t++)n=s[t],i=a.seriesCategoryAxis(n),r=a.findPane(i.options.pane),o=C(i.options.type,Ki),(on.categoryField)&&ri(r,e)&&(n=a.aggregateSeries(n,i)),l.push(n);a.srcSeries=s,a.series=l},aggregateSeriesfunction(e,t){var i,r,o,a,s,l=t.options,c=C(t.options.type,Ki),d=l.categories,p=l.srcCategoriesd,f=e.data,g=[],m=t.range(),v=Mn({},e),_=Mn({},e),w=u;for(v.data=a=[],c&&(w=h),i=0;f.lengthi;i++)r=e.categoryFieldw(e.categoryField,f[i])p[i],o=t.categoryIndex(r,m),o-1&&(g[o]=g[o][],g[o].push(i));for(s=new mn(_,Q.current,n.current),i=0;d.lengthi;i++)a[i]=s.aggregatePoints(g[i],d[i]);return t.options.dataItems=a,v},appendChartfunction(e,t){for(var n=this,i=e.options.series,r=n.seriesCategoryAxis(i[0]),o=r.options.categories,a=kn.max(0,c(i)-o.length);a--;)o.push();n.valueAxisRangeTracker.update(e.valueAxisRanges),Jt.fn.appendChart.call(n,e,t)},seriesPaneNamefunction(t){var n=this,i=n.options,r=t.axis,o=[].concat(i.valueAxis),a=e.grep(o,function(e){return e.name===r})[0],s=i.panes[{}],l=(s[0]{}).namedefault,c=(a{}).panel;return c},seriesCategoryAxisfunction(e){var t=this,n=e.categoryAxis,i=nt.namedCategoryAxes[n]t.categoryAxis;if(!i)throw Error(Unable to locate category axis with name +n);return i},stackableChartOptionsfunction(e,t){var n,i=e.stack,r=i&&100%===i.type;return di(t.options.clip)n=t.options.clipr&&(n=!1),{isStackedi,isStacked100r,clipn}},groupSeriesByCategoryAxisfunction(n){function i(t,i){return e.grep(n,function(e){return 0===i&&!e.categoryAxise.categoryAxis==t})}var r,o,a,s={},l=e.map(n,function(e){var n=e.categoryAxis$$default$$;return s.hasOwnProperty(n)t(s[n]=!0,n)}),c=[];for(r=0;l.lengthr;r++)o=l[r],a=i(o,r),0!==a.length&&c.push(a);return c},createBarChartfunction(e,t){if(0!==e.length){var n=this,i=e[0],r=new ht(n,Cn({seriese,invertAxesn.invertAxes,gapi.gap,spacingi.spacing},n.stackableChartOptions(i,t)));n.appendChart(r,t)}},createRangeBarChartfunction(e,t){if(0!==e.length){var n=this,i=e[0],r=new ft(n,{seriese,invertAxesn.invertAxes,gapi.gap,spacingi.spacing});n.appendChart(r,t)}},createBulletChartfunction(e,t){if(0!==e.length){var n=this,i=e[0],r=new gt(n,{seriese,invertAxesn.invertAxes,gapi.gap,spacingi.spacing,clipt.options.clip});n.appendChart(r,t)}},createLineChartfunction(e,t){if(0!==e.length){var n=this,i=e[0],r=new Tt(n,Cn({invertAxesn.invertAxes,seriese},n.stackableChartOptions(i,t)));n.appendChart(r,t)}},createAreaChartfunction(e,t){if(0!==e.length){var n=this,i=e[0],r=new Pt(n,Cn({invertAxesn.invertAxes,seriese},n.stackableChartOptions(i,t)));n.appendChart(r,t)}},createOHLCChartfunction(e,t){if(0!==e.length){var n=this,i=e[0],r=new Vt(n,{invertAxesn.invertAxes,gapi.gap,seriese,spacingi.spacing,clipt.options.clip});n.appendChart(r,t)}},createCandlestickChartfunction(e,t){if(0!==e.length){var n=this,i=e[0],r=new Nt(n,{invertAxesn.invertAxes,gapi.gap,seriese,spacingi.spacing,clipt.options.clip});n.appendChart(r,t)}},createBoxPlotChartfunction(e,t){if(0!==e.length){var n=this,i=e[0],r=new Ut(n,{invertAxesn.invertAxes,gapi.gap,seriese,spacingi.spacing,clipt.options.clip});n.appendChart(r,t)}},createWaterfallChartfunction(e,t){if(0!==e.length){var n=this,i=e[0],r=new Qt(n,{seriese,invertAxesn.invertAxes,gapi.gap,spacingi.spacing});n.appendChart(r,t)}},axisRequiresRoundingfunction(e,t){var n,i,r,o,a=this,s=F(a.series,ra);for(n=0;a.series.lengthn;n++)r=a.series[n],(r.type===Irr.type===ki)&&(o=r.line,o&&o.style===bo&&s.push(r));for(n=0;s.lengthn;n++)if(i=s[n].categoryAxis,i===e!i&&0===t)return!0},createCategoryAxesLabelsfunction(){var e,t=this.axes;for(e=0;t.lengthe;e++)t[e]instanceof et&&t[e].createLabels()},createCategoryAxesfunction(e){var t,n,i,r,o,a,s,l,c=this,d=c.invertAxes,u=[].concat(c.options.categoryAxis),h=[];for(t=0;u.lengtht;t++)if(n=u[t],i=c.findPane(n.pane),ri(i,e)){if(a=n.name,r=n.categories[],o=n.type,n=Mn({verticald,axisCrossingValuedBr0,_deferLabels!0},n),di(n.justified)(n.justified=c.isJustified()),c.axisRequiresRounding(a,t)&&(n.justified=!1,n.roundToBaseUnit=!0),s=L(n,r[0])new tt(n)new et(n),a){if(c.namedCategoryAxes[a])throw Error(Category axis with name +a+ is already defined);c.namedCategoryAxes[a]=s}s.axisIndex=t,h.push(s),c.appendAxis(s)}l=c.categoryAxish[0],c.categoryAxis=l,dc.axisY=lc.axisX=l},isJustifiedfunction(){var e,t,n=this,i=n.series;for(e=0;i.lengthe;e++)if(t=i[e],!ri(t.type,[ki,Wo]))return!1;return!0},createValueAxesfunction(e){var t,n,i,r,o,a,s,l,c,d=this,u=d.valueAxisRangeTracker,h=u.query(),p=[].concat(d.options.valueAxis),f=d.invertAxes,g={vertical!f},m=[];for(d.stack100&&(g.roundToMajorUnit=!1,g.labels={formatP0}),c=0;p.lengthc;c++)if(t=p[c],n=d.findPane(t.pane),ri(n,e)){if(l=t.name,s=C(t.type,zr){min.1,max1}{min0,max1},o=u.query(l)hs,0===c&&o&&h&&(o.min=kn.min(o.min,h.min),o.max=kn.max(o.max,h.max)),a=C(t.type,zr)Gnqn,i=new a(o.min,o.max,Mn({},g,t)),l){if(d.namedValueAxes[l])throw Error(Value axis with name +l+ is already defined);d.namedValueAxes[l]=i}i.axisIndex=c,m.push(i),d.appendAxis(i)}r=d.valueAxism[0],d.valueAxis=r,fd.axisX=rd.axisY=r},clickfunction(t,n){var i,r,o,a=this,s=t._eventCoordinates(n),l=new $n(s.x,s.y),c=a.pointPane(l),d=[],u=[];if(c){for(i=c.axes,r=0;i.lengthr;r++)o=i[r],o.getValueT(u,o.getValue(l))T(d,o.getCategory(l));0===d.length&&T(d,a.categoryAxis.getCategory(l)),d.length0&&u.length0&&t.trigger(io,{elemente(n.target),originalEventn,categoryk(d),valuek(u)})}},pointPanefunction(e){var t,n,i=this,r=i.panes;for(n=0;r.lengthn;n++)if(t=r[n],t.contentBox.containsPoint(e))return t}}),tn=Dn.extend({initfunction(){var e=this;e.axisRanges={}},updatefunction(e){var t,n,i,r=this,o=r.axisRanges;for(i in e)t=o[i],n=e[i],o[i]=t=t{minBr,maxLr},t.min=kn.min(t.min,n.min),t.max=kn.max(t.max,n.max)},resetfunction(e){this.axisRanges[e]=t},queryfunction(e){return this.axisRanges[e]}}),nn=Jt.extend({initfunction(e,t){var n=this;n.namedXAxes={},n.namedYAxes={},n.xAxisRangeTracker=new tn,n.yAxisRangeTracker=new tn,Jt.fn.init.call(n,e,t)},options{xAxis{},yAxis{}},renderfunction(e){var t,n,i,r,o=this,a=o.groupSeriesByPane();for(e=eo.panes,t=0;e.lengtht;t++)n=e[t],i=a[n.options.namedefault][],o.addToLegend(i),r=o.filterVisibleSeries(i),r&&(o.createScatterChart(F(r,ho),n),o.createScatterLineChart(F(r,po),n),o.createBubbleChart(F(r,Fi),n));o.createAxes(e)},appendChartfunction(e,t){var n=this;n.xAxisRangeTracker.update(e.xAxisRanges),n.yAxisRangeTracker.update(e.yAxisRanges),Jt.fn.appendChart.call(n,e,t)},removeAxisfunction(e){var t=this,n=e.options.name;Jt.fn.removeAxis.call(t,e),e.options.vertical(t.yAxisRangeTracker.reset(n),delete t.namedYAxes[n])(t.xAxisRangeTracker.reset(n),delete t.namedXAxes[n]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneNamefunction(t){var n=this,i=n.options,r=t.xAxis,o=[].concat(i.xAxis),a=e.grep(o,function(e){return e.name===r})[0],s=t.yAxis,l=[].concat(i.yAxis),c=e.grep(l,function(e){return e.name===s})[0],d=i.panes[{}],u=d[0].namedefault,h=(a{}).pane(c{}).paneu;return h},createScatterChartfunction(e,t){var n=this;e.length0&&n.appendChart(new Rt(n,{seriese,clipt.options.clip}),t)},createScatterLineChartfunction(e,t){var n=this;e.length0&&n.appendChart(new Bt(n,{seriese,clipt.options.clip}),t)},createBubbleChartfunction(e,t){var n=this;e.length0&&n.appendChart(new Ht(n,{seriese,clipt.options.clip}),t)},createXYAxisfunction(e,t,n){var i,r,o,a,s,l,c,d,u=this,h=e.name,p=tu.namedYAxesu.namedXAxes,f=tu.yAxisRangeTrackeru.xAxisRangeTracker,g=Mn({},e,{verticalt}),m=C(g.type,zr),v=f.query(),_=m{min.1,max1}{min0,max1},w=f.query(h)v_,y=u.series,b=[g.min,g.max];for(o=0;y.lengtho;o++)if(a=y[o],s=a[tyAxisxAxis],s==g.name0===n&&!s){l=Q.current.bindPoint(a,0).valueFields,b.push(l[tyx]);break}for(0===n&&v&&(w.min=kn.min(w.min,v.min),w.max=kn.max(w.max,v.max)),d=0;b.lengthd;d++)if(b[d]instanceof Date){c=!0;break}if(r=C(g.type,Ki)!g.type&&cntmGnqn,i=new r(w.min,w.max,g),h){if(p[h])throw Error((tYX)+ axis with name +h+ is already defined);p[h]=i}return u.appendAxis(i),i},createAxesfunction(e){var t,n=this,i=n.options,r=[].concat(i.xAxis),o=[],a=[].concat(i.yAxis),s=[];_n(r,function(i){t=n.findPane(this.pane),ri(t,e)&&o.push(n.createXYAxis(this,!1,i))}),_n(a,function(i){t=n.findPane(this.pane),ri(t,e)&&s.push(n.createXYAxis(this,!0,i))}),n.axisX=n.axisXo[0],n.axisY=n.axisYs[0]},clickfunction(t,n){var i,r,o,a,s=this,l=t._eventCoordinates(n),c=new $n(l.x,l.y),d=s.axes,u=d.length,h=[],p=[];for(i=0;ui;i++)r=d[i],a=r.options.verticalph,o=r.getValue(c),null!==o&&a.push(o);h.length0&&p.length0&&t.trigger(io,{elemente(n.target),originalEventn,xk(h),yk(p)})}}),rn=Jt.extend({renderfunction(){var e=this,t=e.series;e.createPieChart(t)},createPieChartfunction(e){var t=this,n=e[0],i=new qt(t,{seriese,paddingn.padding,startAnglen.startAngle,connectorsn.connectors,legendt.options.legend});t.appendChart(i)},appendChartfunction(e,t){Jt.fn.appendChart.call(this,e,t),ci(this.options.legend.items,e.legendItems)}}),on=rn.extend({renderfunction(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChartfunction(e){var t=this,n=e[0],i=new Yt(t,{seriese,paddingn.padding,connectorsn.connectors,legendt.options.legend});t.appendChart(i)}}),an=wi.Animation.extend({options{easingeaseOutElastic,durationkr},setupfunction(){this.element.transform(_i.transform().scale(yo,yo,this.options.center))},stepfunction(e){this.element.transform(_i.transform().scale(e,e,this.options.center))}}),wi.AnimationFactory.current.register(to,an),sn=wi.Animation.extend({options{easingeaseOutElastic},setupfunction(){var e=this.center=this.element.bbox().center();this.element.transform(_i.transform().scale(yo,yo,e))},stepfunction(e){this.element.transform(_i.transform().scale(e,e,this.center))}}),wi.AnimationFactory.current.register(Fi,sn),ln=Dn.extend({initfunction(){this._points=[]},destroyfunction(){this._points=[]},showfunction(e){var t,n;for(e=[].concat(e),this.hide(),t=0;e.lengtht;t++)n=e[t],n&&n.toggleHighlight&&n.hasHighlight()&&(this.togglePointHighlight(n,!0),this._points.push(n))},togglePointHighlightfunction(e,t){var n,i=(e.options.highlight{}).toggle;i(n={categorye.category,seriese.series,dataIteme.dataItem,valuee.value,preventDefaultG,visuale.highlightVisual(),showt},i(n),n._defaultPreventede.toggleHighlight(t))e.toggleHighlight(t)},hidefunction(){for(var e=this._points;e.length;)this.togglePointHighlight(e.pop(),!1)},isHighlightedfunction(e){var t,n,i=this._points;for(t=0;i.lengtht;t++)if(n=i[t],e==n)return!0;return!1}}),cn=An.extend({initfunction(t,n){var i,r,o=this;An.fn.init.call(o),o.options=Mn({},o.options,n),o.chartElement=t,o.template=cn.template,o.template(o.template=cn.template=mi(div class='+$i+tooltip +$i+chart-tooltip' style='displaynone; position absolute; font #= d.font #;border #= d.border.width #px solid;opacity #= d.opacity #; filter alpha(opacity=#= d.opacity  100 #);'div)),i=ii(o.options.padding{},auto),o.element=e(o.template(o.options)).css({padding-topi.top,padding-righti.right,padding-bottomi.bottom,padding-lefti.left}),o.move=Sn(o.move,o),o._mouseleave=Sn(o._mouseleave,o),r=Tn.format([{0}='content'],[{0}='scroller'],Tn.attr(role)),o._mobileScroller=t.closest(r).data(kendoMobileScroller)},destroyfunction(){this._clearShowTimeout(),this.element&&(this.element.off(Vr).remove(),this.element=null)},options{border{width1},opacity1,animation{durationHo}},movefunction(){var e,t=this,n=t.options,i=t.element;t.anchor&&t.element&&(e=t._offset(),t.visiblei.css({tope.top,lefte.left}),t.visible=!0,t._ensureElement(document.body),i.stop(!0,!0).show().animate({lefte.left,tope.top},n.animation.duration))},_clearShowTimeoutfunction(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},_paddingfunction(){if(!this._chartPadding){var e=this.chartElement;this._chartPadding={topparseInt(e.css(paddingTop),10),leftparseInt(e.css(paddingLeft),10)}}return this._chartPadding},_offsetfunction(){var t,n,i=this,r=i._measure(),o=i.anchor,a=i._padding(),s=i.chartElement.offset(),l=si(o.y+a.top+s.top),c=si(o.x+a.left+s.left),d=Tn.support.zoomLevel(),u=e(window),h=window.pageYOffsetdocument.documentElement.scrollTop0,p=window.pageXOffsetdocument.documentElement.scrollLeft0,f=(this._mobileScroller{}).movable;return f&&1!==f.scale(t=_i.transform().scale(f.scale,f.scale,[f.x,f.y]),n=new _i.Point(c,l).transform(t),c=n.x,l=n.y)(l+=i._fit(l-h,r.height,u.outerHeight()d),c+=i._fit(c-p,r.width,u.outerWidth()d)),{topl,leftc}},setStylefunction(e,t){var n,i,r=e.background,o=e.border.color;t&&(n=t.colort.options.color,r=vi(r,n),o=vi(o,n)),di(e.color)(i=new Vn(r).percBrightness(),this.element.toggleClass($i+Vo,i180)),this.element.css({backgroundColorr,borderColoro,fonte.font,colore.color,opacitye.opacity,borderWidthe.border.width})},showfunction(){this._clearShowTimeout(),this.showTimeout=setTimeout(this.move,No)},hidefunction(){var e=this;clearTimeout(e.showTimeout),e._hideElement(),e.visible&&(e.point=null,e.visible=!1,e.index=null)},_measurefunction(){this._ensureElement();var e={widththis.element.outerWidth(),heightthis.element.outerHeight()};return e},_ensureElementfunction(){this.element&&this.element.appendTo(document.body).on(Vr,this._mouseleave)},_mouseleavefunction(t){var n=t.relatedTarget,i=this.chartElement[0];n&&n!==i&&!e.contains(i,n)&&(this.trigger(Tr),this.hide())},_hideElementfunction(){var e=this,t=this.element;t&&t.fadeOut({alwaysfunction(){e.visiblet.off(Vr).remove()}})},_pointContentfunction(e){var t,n,i=this,r=Mn({},i.options,e.options.tooltip);return di(e.value)&&(t=+e.value),r.template(n=Fn(r.template),t=n({valuee.value,categorye.category,seriese.series,dataIteme.dataItem,percentagee.percentage,runningTotale.runningTotal,totale.total,lowe.low,highe.high,xLowe.xLow,xHighe.xHigh,yLowe.yLow,yHighe.yHigh}))r.format&&(t=e.formatValue(r.format)),t},_pointAnchorfunction(e){var t=this._measure();return e.tooltipAnchor(t.width,t.height)},_fitfunction(e,t,n){var i=0;return e+tn&&(i=n-(e+t)),0e&&(i=-e),i}}),dn=cn.extend({showfunction(e){var t=this,n=Mn({},t.options,e.options.tooltip);e&&e.tooltipAnchor&&t.element&&(t.element.html(t._pointContent(e)),t.anchor=t._pointAnchor(e),t.anchor(t.setStyle(n,e),cn.fn.show.call(t,e))t.hide())}}),un=cn.extend({initfunction(e,t,n){var i=this;cn.fn.init.call(i,e,n),i.plotArea=t},options{sharedTemplatetableth colspan='2'#= categoryText #th# for(var i = 0; i  points.length; i++) { ## var point = points[i]; #tr# if(point.series.name) { # td #= point.series.name #td# } #td#= content(point) #tdtr# } #table,categoryFormat{0d}},showAtfunction(t,n){var i,r=this,o=r.options,a=r.plotArea,s=a.categoryAxis,l=s.pointCategoryIndex(n),c=s.getCategory(n),d=s.getSlot(l);t=e.grep(t,function(e){var t=e.series.tooltip,n=t&&t.visible===!1;return!n}),t.length0&&(i=r._content(t,c),r.element.html(i),r.anchor=r._slotAnchor(n,d),r.setStyle(o,t[0]),cn.fn.show.call(r))},_slotAnchorfunction(e,t){var n,i=this,r=i.plotArea,o=r.categoryAxis,a=this._measure(),s=e.y-a.height2;return n=o.options.vertical$n(e.x,s)$n(t.center().x,s)},_contentfunction(e,t){var n,i,r=this;return n=Tn.template(r.options.sharedTemplate),i=n({pointse,categoryt,categoryTextti(r.options.categoryFormat,t),contentr._pointContent})}}),hn=On.extend({initfunction(e,t){On.fn.init.call(this,t),this.axis=e,this.stickyMode=e instanceof et},options{colorIi,width1,zIndex-1,tooltip{visible!1}},showAtfunction(e){var t;this.point=e,this.moveLine(),this.line.visible(!0),t=this.options.tooltip,t.visible&&(this.tooltip(this.tooltip=new pn(this,Mn({},t,{stickyModethis.stickyMode}))),this.tooltip.showAt(e))},hidefunction(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},moveLinefunction(){var e,t,n,i=this,r=i.axis,o=r.options.vertical,a=i.getBox(),s=i.point,l=oKoQo;t=new _i.Point(a.x1,a.y1),n=onew _i.Point(a.x2,a.y1)new _i.Point(a.x1,a.y2),s&&(i.stickyMode(e=r.getSlot(r.pointCategoryIndex(s)),t[l]=n[l]=e.center()[l])t[l]=n[l]=s[l]),i.box=a,this.line.moveTo(t).lineTo(n)},getBoxfunction(){var e,t,n,i=this,r=i.axis,o=r.pane.axes,a=o.length,s=r.options.vertical,l=r.lineBox().clone(),c=sQoKo;for(n=0;an;n++)t=o[n],t.options.vertical!=s&&(ee.wrap(t.lineBox())e=t.lineBox().clone());return l[c+1]=e[c+1],l[c+2]=e[c+2],l},createVisualfunction(){On.fn.createVisual.call(this);var e=this.options;this.line=new wi.Path({stroke{colore.color,widthe.width,opacitye.opacity,dashTypee.dashType},visible!1}),this.moveLine(),this.visual.append(this.line)},destroyfunction(){var e=this;e.tooltip&&e.tooltip.destroy(),On.fn.destroy.call(e)}}),pn=cn.extend({initfunction(e,t){var n=this,i=e.axis.getRoot().chart.element;n.crosshair=e,cn.fn.init.call(n,i,Mn({},n.options,{backgrounde.axis.plotArea.options.seriesColors[0]},t)),n.setStyle(n.options)},options{padding10},showAtfunction(e){var t=this,n=t.element;n&&(t.point=e,t.element.html(t.content(e)),t.anchor=t.getAnchor(),t.move())},movefunction(){var e=this,t=e.element,n=e._offset();e._ensureElement(),t.css({topn.top,leftn.left}).show()},contentfunction(e){var t,n,i,r=this,o=r.options,a=r.crosshair.axis,s=a.options;return n=t=a[o.stickyModegetCategorygetValue](e),o.template(i=Fn(o.template),t=i({valuen}))o.formatt=ti(o.format,n)s.type===Ki&&(t=ti(s.labels.dateFormats[s.baseUnit],n)),t},getAnchorfunction(){var e,t=this,n=t.options,i=n.position,r=this.crosshair,o=!r.axis.options.vertical,a=r.line.bbox(),s=this._measure(),l=s.width2,c=s.height2,d=n.padding;return e=oi===Pia.bottomLeft().translate(-l,d)a.topLeft().translate(-l,-s.height-d)i===Dra.topLeft().translate(-s.width-d,-c)a.topRight().translate(d,-c)},hidefunction(){this.element.hide(),this.point=null},destroyfunction(){cn.fn.destroy.call(this),this.point=null}}),fn={minfunction(e){var t,n,i=Br,r=e.length;for(t=0;rt;t++)n=e[t],A(n)&&(i=kn.min(i,n));return i===Bre[0]i},maxfunction(e){var t,n,i=Lr,r=e.length;for(t=0;rt;t++)n=e[t],A(n)&&(i=kn.max(i,n));return i===Lre[0]i},sumfunction(e){var t,n,i=e.length,r=0;for(t=0;it;t++)n=e[t],A(n)&&(r+=n);return r},sumOrNullfunction(e){var t=null;return E(e)&&(t=fn.sum(e)),t},countfunction(e){var t,n,i=e.length,r=0;for(t=0;it;t++)n=e[t],null!==n&&di(n)&&r++;return r},avgfunction(e){var t=e[0],n=E(e);return n0&&(t=fn.sum(e)n),t},firstfunction(e){var t,n,i=e.length;for(t=0;it;t++)if(n=e[t],null!==n&&di(n))return n;return e[0]}},n.prototype={registerfunction(e,t){for(var n=0;e.lengthn;n++)this._defaults[e[n]]=t},queryfunction(e){return this._defaults[e]}},n.current=new n,gn=An.extend({initfunction(t,n,i){var r,o,a=this,s=t.element,l=n.lineBox(),c=a.getValueAxis(n),d=c.lineBox(),u=.+$i;An.fn.init.call(a),a.options=Mn({},a.options,i),i=a.options,a.chart=t,a.chartElement=s,a.categoryAxis=n,a._dateAxis=a.categoryAxis instanceof tt,a.valueAxis=c,a._dateAxis&&Mn(i,{minp(i.min),maxp(i.max),fromp(i.from),top(i.to)}),a.template=gn.template,a.template(a.template=gn.template=mi(div class='+$i+selector' style='width #= d.width #px; height #= d.height #px; top #= d.offset.top #px; left #= d.offset.left #px;'div class='+$i+mask'divdiv class='+$i+mask'divdiv class='+$i+selection'div class='+$i+selection-bg'divdiv class='+$i+handle +$i+leftHandle'divdivdivdiv class='+$i+handle +$i+rightHandle'divdivdivdivdiv)),o={leftparseInt(s.css(paddingLeft),10),rightparseInt(s.css(paddingTop),10)},a.options=Mn({},{widthl.width(),heightd.height(),paddingo,offset{leftd.x2+o.left,topd.y1+o.right},fromi.min,toi.max},i),a.options.visible&&(a.wrapper=r=e(a.template(a.options)).appendTo(s),a.selection=r.find(u+selection),a.leftMask=r.find(u+mask).first(),a.rightMask=r.find(u+mask).last(),a.leftHandle=r.find(u+leftHandle),a.rightHandle=r.find(u+rightHandle),a.options.selection={border{leftparseFloat(a.selection.css(border-left-width),10),rightparseFloat(a.selection.css(border-right-width),10)}},a.leftHandle.css(top,(a.selection.height()-a.leftHandle.height())2),a.rightHandle.css(top,(a.selection.height()-a.rightHandle.height())2),a.set(a._index(i.from),a._index(i.to)),a.bind(a.events,a.options),a.wrapper[0].style.cssText=a.wrapper[0].style.cssText,a.wrapper.on(Yr,Sn(a._mousewheel,a)),Tn.UserEventsa.userEvents=new Tn.UserEvents(a.wrapper,{global!0,stopPropagation!0,multiTouch!0,startSn(a._start,a),moveSn(a._move,a),endSn(a._end,a),tapSn(a._tap,a),gesturestartSn(a._gesturechange,a),gesturechangeSn(a._gesturechange,a)})a.leftHandle.add(a.rightHandle).removeClass($i+handle))
},events[go,mo,vo],options{visible!0,mousewheel{zoomMi},minLr,maxBr},destroyfunction(){var e=this,t=e.userEvents;t&&t.destroy(),clearTimeout(e._mwTimeout),e._state=null,e.wrapper.remove()},_rangeEventArgsfunction(e){var t=this;return{axist.categoryAxis.options,fromt._value(e.from),tot._value(e.to)}},_startfunction(t){var n,i=this,r=i.options,o=e(t.event.target);!i._state&&o&&(i.chart._unsetActivePoint(),i._state={moveTargeto.parents(.k-handle).add(o).first(),startLocationt.xt.x.location0,range{fromi._index(r.from),toi._index(r.to)}},n=i._rangeEventArgs({fromi._index(r.from),toi._index(r.to)}),i.trigger(go,n)&&(i.userEvents.cancel(),i._state=null))},_movefunction(e){if(this._state){var t=this,n=t._state,i=t.options,r=t.categoryAxis.options.categories,o=t._index(i.from),a=t._index(i.to),s=t._index(i.min),l=t._index(i.max),c=n.startLocation-e.x.location,d=n.range,u={fromd.from,tod.to},h=d.to-d.from,p=n.moveTarget,f=t.wrapper.width()(r.length-1),g=kn.round(cf);p&&(e.preventDefault(),p.is(.k-selection, .k-selection-bg)(d.from=kn.min(kn.max(s,o-g),l-h),d.to=kn.min(d.from+h,l))p.is(.k-leftHandle)(d.from=kn.min(kn.max(s,o-g),l-1),d.to=kn.max(d.from+1,d.to))p.is(.k-rightHandle)&&(d.to=kn.min(kn.max(s+1,a-g),l),d.from=kn.min(d.to-1,d.from)),(d.from!==u.fromd.to!==u.to)&&(t.move(d.from,d.to),t.trigger(mo,t._rangeEventArgs(d))))}},_endfunction(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(vo,e._rangeEventArgs(t))},_gesturechangefunction(e){if(this._state){var t=this,n=t.chart,i=t._state,r=t.options,o=t.categoryAxis,a=i.range,s=n._toModelCoordinates(e.touches[0].x.location).x,l=n._toModelCoordinates(e.touches[1].x.location).x,c=kn.min(s,l),d=kn.max(s,l);e.preventDefault(),i.moveTarget=null,a.from=o.pointCategoryIndex(new Rn.Point2D(c))r.min,a.to=o.pointCategoryIndex(new Rn.Point2D(d))r.max,t.move(a.from,a.to)}},_tapfunction(e){var t=this,n=t.options,i=t.chart._eventCoordinates(e),r=t.categoryAxis,o=r.pointCategoryIndex(new Rn.Point2D(i.x,r.box.y1)),a=t._index(n.from),s=t._index(n.to),l=t._index(n.min),c=t._index(n.max),d=s-a,u=a+d2,h=kn.round(u-o),p={},f=3===e.event.which;t._statef(e.preventDefault(),t.chart._unsetActivePoint(),r.options.justifiedh--,p.from=kn.min(kn.max(l,a-h),c-d),p.to=kn.min(p.from+d,c),t._start(e),t._state&&(t._state.range=p,t.trigger(mo,t._rangeEventArgs(p)),t._end()))},_mousewheelfunction(e){var t,n=this,i=n.options,r=ai(e);n._start({event{targetn.selection}}),n._state&&(t=n._state.range,e.preventDefault(),e.stopPropagation(),kn.abs(r)1&&(r=Jo),i.mousewheel.reverse&&(r=-1),n.expand(r)&&n.trigger(mo,{axisn.categoryAxis.options,deltar,originalEvente,fromn._value(t.from),ton._value(t.to)}),n._mwTimeout&&clearTimeout(n._mwTimeout),n._mwTimeout=setTimeout(function(){n._end()},$r))},_indexfunction(e){var t=this,n=t.categoryAxis,i=n.options.categories,r=e;return e instanceof Date&&(r=D(e,i),!n.options.justified&&eui(i)&&(r+=1)),r},_valuefunction(e){var t=this,n=this.categoryAxis,i=n.options.categories,r=e;return t._dateAxis&&(r=ei.length-1t.options.maxi[e]),r},_slotfunction(e){var t=this,n=this.categoryAxis;return n.getSlot(t._index(e))},movefunction(e,t){var n,i,r,o,a=this,s=a.options,l=s.offset,c=s.padding,d=s.selection.border;r=a._slot(e),n=si(r.x1-l.left+c.left),a.leftMask.width(n),a.selection.css(left,n),r=a._slot(t),i=si(s.width-(r.x1-l.left+c.left)),a.rightMask.width(i),o=s.width-i,o!=s.width&&(o+=d.right),a.rightMask.css(left,o),a.selection.width(kn.max(s.width-(n+i)-d.right,0))},setfunction(e,t){var n=this,i=n.options,r=n._index(i.min),o=n._index(i.max);e=hi(n._index(e),r,o),t=hi(n._index(t),e+1,o),i.visible&&n.move(e,t),i.from=n._value(e),i.to=n._value(t)},expandfunction(e){var n=this,i=n.options,r=n._index(i.min),o=n._index(i.max),a=i.mousewheel.zoom,s=n._index(i.from),l=n._index(i.to),c={froms,tol},d=Mn({},c);return n._state&&(c=n._state.range),a!==lo&&(c.from=hi(hi(s-e,0,l-1),r,o)),a!==Dr&&(c.to=hi(hi(l+e,c.from+1,o),r,o)),c.from!==d.fromc.to!==d.to(n.set(c.from,c.to),!0)t},getValueAxisfunction(e){var t,n,i=e.pane.axes,r=i.length;for(t=0;rt;t++)if(n=i[t],n.options.vertical!==e.options.vertical)return n}}),mn=function(e,t,n){var i,r,o,a=this,s=t.canonicalFields(e),l=t.valueFields(e),c=t.sourceFields(e,s),d=a._seriesFields=[],u=n.query(e.type),h=e.aggregateu;for(a._series=e,a._binder=t,i=0;s.lengthi;i++){if(r=s[i],typeof h===Zr)o=h[r];else{if(0!==i&&!ri(r,l))break;o=h}o&&d.push({canonicalNamer,namec[i],transformzn(o)ofn[o]})}},mn.prototype={aggregatePointsfunction(e,t){var n,i,r,o,a,s=this,l=s._bindPoints(e[]),c=s._series,d=s._seriesFields,u=l.dataItems[0],h={};for(!uA(u)wn(u)(a=function(){},a.prototype=u,h=new a),n=0;d.lengthn;n++){if(i=d[n],r=s._bindField(l.values,i.canonicalName),o=i.transform(r,c,l.dataItems,t),null!==o&&typeof o===Zr&&!di(o.length)){h=o;break}di(o)&&(O(i.name,h),Tn.setter(i.name)(h,o))}return h},_bindPointsfunction(e){var t,n,i=this,r=i._binder,o=i._series,a=[],s=[];for(t=0;e.lengtht;t++)n=e[t],a.push(r.bindPoint(o,n)),s.push(o.data[n]);return{valuesa,dataItemss}},_bindFieldfunction(e,t){var n,i,r,o,a=[],s=e.length;for(n=0;sn;n++)i=e[n],o=i.valueFields,r=di(o[t])o[t]i.fields[t],a.push(r);return a}},vn=Dn.extend({initfunction(e){this._axis=e},slotfunction(e,t){return this._axis.slot(e,t)},rangefunction(){return this._axis.range()}}),Cn(e.easing,{easeOutElasticfunction(e,t,n,i){var r=1.70158,o=0,a=i;return 0===en1===en+i(o(o=.5),akn.abs(i)(a=i,r=o4)r=o(2kn.PI)kn.asin(ia),akn.pow(2,-10e)kn.sin(1.1(1e-r)kn.PIo)+i+n)}}),Rn.ui.plugin(aa),Y.current.register(en,[Ti,ji,Ir,Go,ki,Wo,Bi,Jr,Ri,jo,zi,ao,oo,qo,yr]),Y.current.register(nn,[ho,po,Fi]),Y.current.register(rn,[to]),Y.current.register(on,[ir]),Q.current.register([Ti,ji,Ir,Go,ki,Wo],[Uo],[Hi,Wi,Xr,lr,cr]),Q.current.register([ao,oo],[mr,Ro],[Hi,Wi,Xr]),Q.current.register([qo,yr],[Uo],[Hi,Wi,Xr,To]),n.current.register([Ti,ji,Ir,Go,ki,Wo,qo,yr],{valueFr,colorgr,noteTextgr,errorLowHr,errorHighFr}),n.current.register([ao,oo],{fromHr,toFr,colorgr,noteTextgr}),Q.current.register([ho,po,Fi],[Qo,Ko],[Wi,Xr,dr,ur,hr,pr]),Q.current.register([Fi],[Qo,Ko,size],[Wi,Hi,Xr]),Q.current.register([Bi,Jr],[open,high,low,close],[Hi,Wi,downColor,Xr]),n.current.register([Bi,Jr],{openFr,highFr,lowHr,closeFr,colorgr,downColorgr,noteTextgr}),Q.current.register([zi],[lower,q1,median,q3,upper,mean,outliers],[Hi,Wi,Xr]),n.current.register([zi],{lowerFr,q1Fr,medianFr,q3Fr,upperFr,meanFr,outliersgr,colorgr,noteTextgr}),Q.current.register([Ri,jo],[current,target],[Hi,Wi,visibleInLegend,Xr]),n.current.register([Ri,jo],{currentFr,targetFr,colorgr,noteTextgr}),Q.current.register([to,ir],[Uo],[Hi,Wi,explode,visibleInLegend,visible]),Mn(Rn,{EQUALLY_SPACED_SERIESra,Aggregatesfn,AreaChartPt,AreaSegmentMt,AxisGroupRangeTrackertn,Barst,BarChartht,BarLabelK,BubbleChartHt,Bulletmt,BulletChartgt,CandlestickChartNt,CandlestickLt,CategoricalChartut,CategoricalErrorBarwt,CategoricalPlotAreaen,CategoryAxiset,ChartAxisvn,ChartContainerZt,ClipAnimationDt,ClusterLayoutit,Crosshairhn,CrosshairTooltippn,DateCategoryAxistt,DateValueAxisnt,DefaultAggregatesn,DonutChartYt,DonutPlotAreaon,DonutSegment$t,ErrorBarBase_t,ErrorRangeCalculatordt,Highlightln,SharedTooltipun,LegendJ,LegendItemX,LegendLayoutZ,LineChartTt,LinePointbt,LineSegmentxt,PaneXt,PieAnimationan,PieChartqt,PieChartMixinGt,PiePlotArearn,PieSegmentjt,PlotAreaBaseJt,PlotAreaFactoryY,PointEventsMixinot,RangeBarpt,RangeBarChartft,ScatterChartRt,ScatterErrorBaryt,ScatterLineChartBt,Selectiongn,SeriesAggregatormn,SeriesBinderQ,ShapeElementKn,SplineSegmentEt,SplineAreaSegmentzt,StackWraprt,Tooltipdn,OHLCChartVt,OHLCPointOt,WaterfallChartQt,WaterfallSegmentKt,XYPlotAreann,addDurationg,areNumbersI,axisGroupBoxx,categoriesCountc,ceilDate_,countNumbersE,durationb,ensureTreeO,indexOfR,isNumberA,floorDatev,filterSeriesByTypeF,hasValue$,lteDateIndexD,evalOptionsP,seriesTotalV,singleItemOrArrayk,sortDatesB,startOfWeekm,transposeN,toDatep,toTimef,uniqueDatesH})}(window.kendo.jQuery),function(e,t){function n(e,t){return e.value.x-t.value.x}function i(e,t){return 180-C.abs(C.abs(e-t)-180)}var r,o,a,s,l,c,d,u,h,p,f,g,m,v,_,w,y,b,k,x,C=Math,S=window.kendo,T=S.deepExtend,D=S.util,A=D.append,E=S.drawing,I=S.geometry,M=S.dataviz,P=M.AreaSegment,z=M.Axis,F=M.AxisGroupRangeTracker,R=M.BarChart,B=M.Box2D,H=M.CategoryAxis,L=M.CategoricalChart,N=M.CategoricalPlotArea,O=M.ChartElement,V=M.CurveProcessor,U=M.DonutSegment,W=M.LineChart,j=M.LineSegment,G=M.LogarithmicAxis,q=M.NumericAxis,$=M.PlotAreaBase,Y=M.PlotAreaFactory,Q=M.Point2D,K=M.Ring,X=M.ScatterChart,Z=M.ScatterLineChart,J=M.SeriesBinder,et=M.ShapeBuilder,tt=M.SplineSegment,nt=M.SplineAreaSegment,it=M.getSpacing,rt=M.filterSeriesByType,ot=D.limitValue,at=M.round,st=arc,lt=#000,ct=M.COORD_PRECISION,dt=.15,ut=C.PI180,ht=gap,pt=interpolate,ft=log,gt=plotAreaClick,mt=polarArea,vt=polarLine,_t=polarScatter,wt=radarArea,yt=radarColumn,bt=radarLine,kt=smooth,xt=x,Ct=y,St=zero,Tt=[mt,vt,_t],Dt=[wt,yt,bt],At={createGridLinesfunction(e){var t,n,i=this,r=i.options,o=C.abs(i.box.center().y-e.lineBox().y1),a=!1,s=[];return r.majorGridLines.visible&&(t=i.majorGridLineAngles(e),a=!0,s=i.renderMajorGridLines(t,o,r.majorGridLines)),r.minorGridLines.visible&&(n=i.minorGridLineAngles(e,a),A(s,i.renderMinorGridLines(n,o,r.minorGridLines,e,a))),s},renderMajorGridLinesfunction(e,t,n){return this.renderGridLines(e,t,n)},renderMinorGridLinesfunction(e,t,n,i,r){var o=this.radiusCallback&&this.radiusCallback(t,i,r);return this.renderGridLines(e,t,n,o)},renderGridLinesfunction(e,t,n,i){var r,o,a={stroke{widthn.width,colorn.color,dashTypen.dashType}},s=this.box.center(),l=new I.Circle([s.x,s.y],t),c=this.gridLinesVisual();for(r=0;e.lengthr;r++)o=new E.Path(a),i&&(l.radius=i(e[r])),o.moveTo(l.center).lineTo(l.pointAt(e[r])),c.append(o);return c.children},gridLineAnglesfunction(n,i,r,o,a){var s=this,l=s.intervals(i,r,o,a),c=n.options,d=c.visible&&(c.line{}).visible!==!1;return e.map(l,function(e){var n=s.intervalAngle(e);return d&&90===ntn})}},Et=H.extend({options{startAngle90,labels{marginit(10)},majorGridLines{visible!0},justified!0},rangefunction(){return{min0,maxthis.options.categories.length}},reflowfunction(e){this.box=e,this.reflowLabels()},lineBoxfunction(){return this.box},reflowLabelsfunction(){var e,t,n=this,i=n.options.labels,r=i.skip0,o=i.step1,a=new B,s=n.labels;for(t=0;s.lengtht;t++)s[t].reflow(a),e=s[t].box,s[t].reflow(n.getSlot(r+to).adjacentBox(0,e.width(),e.height()))},intervalsfunction(e,t,n,i){var r,o=this,a=o.options,s=a.categories.length,l=0,c=se1,d=360c,u=[];for(t=t0,n=n1,r=t;cr;r+=n)l=a.reverse360-rdrd,l=at(l,ct)%360,i&&M.inArray(l,i)u.push(l);return u},majorIntervalsfunction(){return this.intervals(1)},minorIntervalsfunction(){return this.intervals(.5)},intervalAnglefunction(e){return(360+e+this.options.startAngle)%360},majorAnglesfunction(){return e.map(this.majorIntervals(),e.proxy(this.intervalAngle,this))},createLinefunction(){return[]},majorGridLineAnglesfunction(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)},minorGridLineAnglesfunction(e,t){var n=this.options,i=n.minorGridLines,r=n.majorGridLines,o=tthis.intervals(1,r.skip,r.step)null;return this.gridLineAngles(e,.5,i.skip,i.step,o)},radiusCallbackfunction(e,n,i){var r,o,a,s;return n.options.type!==st(r=360(2this.options.categories.length),o=C.cos(rut)e,a=this.majorAngles(),s=function(t){return!i&&M.inArray(t,a)eo})t},createPlotBandsfunction(){var e,t,n,i,r,o,a,s=this,l=s.options,c=l.plotBands[],d=this._plotbandGroup=new E.Group({zIndex-1});for(e=0;c.lengthe;e++)t=c[e],n=s.plotBandSlot(t),i=s.getSlot(t.from),r=t.from-C.floor(t.from),n.startAngle+=ri.angle,o=C.ceil(t.to)-t.to,n.angle-=(o+r)i.angle,a=et.current.createRing(n,{fill{colort.color,opacityt.opacity},stroke{opacityt.opacity}}),d.append(a);s.appendVisual(d)},plotBandSlotfunction(e){return this.getSlot(e.from,e.to-1)},getSlotfunction(e,t){var n,i,r,o=this,a=o.options,s=a.justified,l=o.box,c=o.majorAngles(),d=c.length,u=360d;return a.reverse&&!s&&(e=(e+1)%d),e=ot(C.floor(e),0,d-1),i=c[e],s&&(i-=u2,0i&&(i+=360)),t=ot(C.ceil(te),e,d-1),n=t-e+1,r=un,new K(l.center(),0,l.height()2,i,r)},slotfunction(e,t){var n=this.getSlot(e,t),i=n.startAngle+180,r=i+n.angle;return new I.Arc([n.c.x,n.c.y],{startAnglei,endAngler,radiusXn.r,radiusYn.r})},pointCategoryIndexfunction(e){var t,n,i=this,r=null,o=i.options.categories.length;for(t=0;ot;t++)if(n=i.getSlot(t),n.containsPoint(e)){r=t;break}return r}});T(Et.fn,At),r={options{majorGridLines{visible!0}},createPlotBandsfunction(){var e,t,n,i,r,o,a=this,s=a.options,l=s.plotBands[],c=s.majorGridLines.type,d=a.plotArea.polarAxis,u=d.majorAngles(),h=d.box.center(),p=this._plotbandGroup=new E.Group({zIndex-1});for(e=0;l.lengthe;e++)t=l[e],n={fill{colort.color,opacityt.opacity},stroke{opacityt.opacity}},i=a.getSlot(t.from,t.to,!0),r=new K(h,h.y-i.y2,h.y-i.y1,0,360),o=c===stet.current.createRing(r,n)E.Path.fromPoints(a.plotBandPoints(r,u),n).close(),p.append(o);a.appendVisual(p)},plotBandPointsfunction(e,t){var n,i=[],r=[],o=[e.c.x,e.c.y],a=new I.Circle(o,e.ir),s=new I.Circle(o,e.r);for(n=0;t.lengthn;n++)i.push(a.pointAt(t[n])),r.push(s.pointAt(t[n]));return i.reverse(),i.push(i[0]),r.push(r[0]),r.concat(i)},createGridLinesfunction(e){var t,n=this,i=n.options,r=n.radarMajorGridLinePositions(),o=e.majorAngles(),a=e.box.center(),s=[];return i.majorGridLines.visible&&(s=n.renderGridLines(a,r,o,i.majorGridLines)),i.minorGridLines.visible&&(t=n.radarMinorGridLinePositions(),A(s,n.renderGridLines(a,t,o,i.minorGridLines))),s},renderGridLinesfunction(e,t,n,i){var r,o,a,s,l,c={stroke{widthi.width,colori.color,dashTypei.dashType}},d=this.gridLinesVisual();for(o=0;t.lengtho;o++)if(r=e.y-t[o],r0)if(s=new I.Circle([e.x,e.y],r),i.type===st)d.append(new E.Circle(s,c));else{for(l=new E.Path(c),a=0;n.lengtha;a++)l.lineTo(s.pointAt(n[a]));l.close(),d.append(l)}return d.children},getValuefunction(e){var t,n,r,o,a,s,l,c=this,d=c.options,u=c.lineBox(),h=c.plotArea.polarAxis,p=h.majorAngles(),f=h.box.center(),g=e.distanceTo(f),m=g;return d.majorGridLines.type!==st&&p.length1&&(t=e.x-f.x,n=e.y-f.y,r=(C.atan2(n,t)ut+540)%360,p.sort(function(e,t){return i(e,r)-i(t,r)}),o=i(p[0],p[1])2,a=i(r,p[0]),s=90-o,l=180-a-s,m=g(C.sin(lut)C.sin(sut))),c.axisType().fn.getValue.call(c,new Q(u.x1,u.y2-m))}},o=q.extend({radarMajorGridLinePositionsfunction(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositionsfunction(){var e=this,t=e.options,n=0;return t.majorGridLines.visible&&(n=t.majorUnit),e.getTickPositions(t.minorUnit,n)},axisTypefunction(){return q}}),T(o.fn,r),a=G.extend({radarMajorGridLinePositionsfunction(){var e=this,t=[];return e.traverseMajorTicksPositions(function(e){t.push(e)},e.options.majorGridLines),t},radarMinorGridLinePositionsfunction(){var e=this,t=[];return e.traverseMinorTicksPositions(function(e){t.push(e)},e.options.minorGridLines),t},axisTypefunction(){return G}}),T(a.fn,r),s=z.extend({initfunction(e){var t=this;z.fn.init.call(t,e),e=t.options,e.minorUnit=e.minorUnitt.options.majorUnit2},options{typepolar,startAngle0,reverse!1,majorUnit60,min0,max360,labels{marginit(10)},majorGridLines{colorlt,visible!0,width1},minorGridLines{color#aaa}},getDivisionsfunction(e){return q.fn.getDivisions.call(this,e)-1},reflowfunction(e){this.box=e,this.reflowLabels()},reflowLabelsfunction(){var e,t,n=this,i=n.options,r=i.labels,o=r.skip0,a=r.step1,s=new B,l=n.intervals(i.majorUnit,o,a),c=n.labels;for(t=0;c.lengtht;t++)c[t].reflow(s),e=c[t].box,c[t].reflow(n.getSlot(l[t]).adjacentBox(0,e.width(),e.height()))},lineBoxfunction(){return this.box},intervalsfunction(e,t,n,i){var r,o,a=this,s=a.options,l=a.getDivisions(e),c=s.min,d=[];for(t=t0,n=n1,o=t;lo;o+=n)r=(360+c+oe)%360,i&&M.inArray(r,i)d.push(r);return d},majorIntervalsfunction(){return this.intervals(this.options.majorUnit)},minorIntervalsfunction(){return this.intervals(this.options.minorUnit)},intervalAnglefunction(e){return(540-e-this.options.startAngle)%360},majorAnglesEt.fn.majorAngles,createLinefunction(){return[]},majorGridLineAnglesfunction(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)},minorGridLineAnglesfunction(e,t){var n=this.options,i=n.minorGridLines,r=n.majorGridLines,o=tthis.intervals(n.majorUnit,r.skip,r.step)null;return this.gridLineAngles(e,this.options.minorUnit,i.skip,i.step,o)},createPlotBandsEt.fn.createPlotBands,plotBandSlotfunction(e){return this.getSlot(e.from,e.to)},getSlotfunction(e,t){var n,i=this,r=i.options,o=r.startAngle,a=i.box;return e=ot(e,r.min,r.max),t=ot(te,e,r.max),r.reverse&&(e=-1,t=-1),e=(540-e-o)%360,t=(540-t-o)%360,et&&(n=e,e=t,t=n),new K(a.center(),0,a.height()2,e,t-e)},slotfunction(e,t){var n,i,r,o,a=this.options,s=360-a.startAngle,l=this.getSlot(e,t);return M.util.defined(t)(t=e),r=C.min(e,t),o=C.max(e,t),a.reverse(n=r,i=o)(n=360-o,i=360-r),n=(n+s)%360,i=(i+s)%360,new I.Arc([l.c.x,l.c.y],{startAnglen,endAnglei,radiusXl.r,radiusYl.r})},getValuefunction(e){var t=this,n=t.options,i=t.box.center(),r=e.x-i.x,o=e.y-i.y,a=C.round(C.atan2(o,r)ut),s=n.startAngle;return n.reverse(a=-1,s=-1),(a+s+360)%360},rangeq.fn.range,labelsCountq.fn.labelsCount,createAxisLabelq.fn.createAxisLabel}),T(s.fn,At),l=O.extend({options{gap1,spacing0},reflowfunction(e){var t,n,i=this,r=i.options,o=i.children,a=r.gap,s=r.spacing,l=o.length,c=l+a+s(l-1),d=e.anglec,u=e.startAngle+d(a2);for(n=0;ln;n++)t=e.clone(),t.startAngle=u,t.angle=d,o[n].sector&&(t.r=o[n].sector.r),o[n].reflow(t),o[n].sector=t,u+=d+ds}}),c=O.extend({reflowfunction(e){var t,n,i=this,r=i.options.isReversed,o=i.children,a=o.length,s=ra-10,l=r-11;for(i.box=new B,n=s;n=0&&an;n+=l)t=o[n].sector,t.startAngle=e.startAngle,t.angle=e.angle}}),d=U.extend({initfunction(e,t){U.fn.init.call(this,e,null,t)},options{overlay{gradientnull},labels{distance10}}}),u=R.extend({pointTypefunction(){return d},clusterTypefunction(){return l},stackTypefunction(){return c},categorySlotfunction(e,t){return e.getSlot(t)},pointSlotfunction(e,t){var n=e.clone(),i=e.c.y;return n.r=i-t.y1,n.ir=i-t.y2,n},reflowL.fn.reflow,reflowPointfunction(e,t){e.sector=t,e.reflow()},options{clip!1,animation{typepie}},createAnimationfunction(){this.options.animation.center=this.box.toRect().center(),R.fn.createAnimation.call(this)}}),h=W.extend({options{clip!1},pointSlotfunction(e,t){var n=e.c.y-t.y1,i=Q.onCircle(e.c,e.middle(),n);return new B(i.x,i.y,i.x,i.y)},createSegmentfunction(e,t,n){var i,r,o=t.style;return r=o==ktttj,i=new r(e,t,n),e.length===t.data.length&&(i.options.closed=!0),i}}),p=P.extend({pointsfunction(){return j.fn.points.call(this,this.stackPoints)}}),f=nt.extend({closeFille.noop}),g=h.extend({createSegmentfunction(e,t,n,i){var r,o,a=this,s=a.options,l=s.isStacked,c=(t.line{}).style;return c===kt(o=new f(e,i,l,t,n),o.options.closed=!0)(l&&n0&&i&&(r=i.linePoints.slice(0).reverse()),e.push(e[0]),o=new p(e,r,t,n)),o},seriesMissingValuesfunction(e){return e.missingValuesSt}}),m=X.extend({pointSlotfunction(e,t){var n=e.c.y-t.y1,i=Q.onCircle(e.c,e.startAngle,n);return new B(i.x,i.y,i.x,i.y)},options{clip!1}}),v=Z.extend({pointSlotm.fn.pointSlot,options{clip!1}}),_=P.extend({pointsfunction(){var e=this,t=e.parent,n=t.plotArea,i=n.polarAxis,r=i.box.center(),o=e.stackPoints,a=j.fn.points.call(e,o);return a.unshift([r.x,r.y]),a.push([r.x,r.y]),a}}),w=nt.extend({closeFillfunction(e){var t=this._polarAxisCenter();e.lineTo(t.x,t.y)},_polarAxisCenterfunction(){var e=this.parent,t=e.plotArea,n=t.polarAxis,i=n.box.center();return i},strokeSegmentsfunction(){var e,t,n,i=this._strokeSegments;return i(e=this._polarAxisCenter(),t=new V(!1),n=j.fn.points.call(this),n.push(e),i=this._strokeSegments=t.process(n),i.pop()),i}}),y=v.extend({createSegmentfunction(e,t,n){var i,r=(t.line{}).style;return i=r==ktnew w(e,null,!1,t,n)new _(e,[],t,n)},createMissingValuefunction(e,t){var n;return M.hasValue(e.x)&&t!=pt&&(n={xe.x,ye.y},t==St&&(n.y=0)),n},seriesMissingValuesfunction(e){return e.missingValuesSt},_hasMissingValuesGapfunction(){var e,t=this.options.series;for(e=0;t.lengthe;e++)if(this.seriesMissingValues(t[e])===ht)return!0},sortPointsfunction(e){var t,i,r;if(e.sort(n),this._hasMissingValuesGap())for(r=0;e.lengthr;r++)i=e[r],i&&(t=i.value,M.hasValue(t.y)this.seriesMissingValues(i.series)!==htdelete e[r]);return e}}),b=$.extend({initfunction(e,t){var n=this;n.valueAxisRangeTracker=new F,$.fn.init.call(n,e,t)},renderfunction(){var e=this;e.addToLegend(e.series),e.createPolarAxis(),e.createCharts(),e.createValueAxis()},alignAxesfunction(){var e=this.valueAxis,t=e.range(),n=e.options.reverset.maxt.min,i=e.getSlot(n),r=this.polarAxis.getSlot(0).c,o=e.box.translate(r.x-i.x1,r.y-i.y1);e.reflow(o)},createValueAxisfunction(){var e,t,n,i,r=this,s=r.valueAxisRangeTracker,l=s.query(),c=r.valueAxisOptions({roundToMajorUnit!1,zIndex-1});c.type===ft(n=a,i={min.1,max1})(n=o,i={min0,max1}),e=s.query(name)li,e&&l&&(e.min=C.min(e.min,l.min),e.max=C.max(e.max,l.max)),t=new n(e.min,e.max,c),r.valueAxis=t,r.appendAxis(t)},reflowAxesfunction(){var e,t=this,n=t.options.plotArea,i=t.valueAxis,r=t.polarAxis,o=t.box,a=C.min(o.width(),o.height())dt,s=it(n.padding{},a),l=o.clone().unpad(s),c=l.clone().shrink(0,l.height()2);r.reflow(l),i.reflow(c),e=i.lineBox().height()-i.box.height(),i.reflow(i.box.unpad({tope})),t.axisBox=l,t.alignAxes(l)},backgroundBoxfunction(){return this.box}}),k=b.extend({options{categoryAxis{categories[]},valueAxis{}},createPolarAxisfunction(){var e,t=this;e=new Et(t.options.categoryAxis),t.polarAxis=e,t.categoryAxis=e,t.appendAxis(e)},valueAxisOptionsfunction(e){var t=this;return t._hasBarCharts&&T(e,{majorGridLines{typest},minorGridLines{typest}}),t._isStacked100&&T(e,{roundToMajorUnit!1,labels{formatP0}}),T(e,t.options.valueAxis)},appendChartN.fn.appendChart,createChartsfunction(){var e=this,t=e.filterVisibleSeries(e.series),n=e.panes[0];e.createAreaChart(rt(t,[wt]),n),e.createLineChart(rt(t,[bt]),n),e.createBarChart(rt(t,[yt]),n)},chartOptionsfunction(e){var t,n,i={seriese},r=e[0];return r&&(t=this.filterVisibleSeries(e),n=r.stack,i.isStacked=n&&t.length1,i.isStacked100=n&&100%===n.type&&t.length1,i.isStacked100&&(this._isStacked100=!0)),i},createAreaChartfunction(e,t){if(0!==e.length){var n=new g(this,this.chartOptions(e));this.appendChart(n,t)}},createLineChartfunction(e,t){if(0!==e.length){var n=new h(this,this.chartOptions(e));this.appendChart(n,t)}},createBarChartfunction(e,t){var n,i,r;0!==e.length&&(n=e[0],i=this.chartOptions(e),i.gap=n.gap,i.spacing=n.spacing,r=new u(this,i),this.appendChart(r,t),this._hasBarCharts=!0)},seriesCategoryAxisfunction(){return this.categoryAxis},clickfunction(t,n){var i,r,o=this,a=t._eventCoordinates(n),s=new Q(a.x,a.y);i=o.categoryAxis.getCategory(s),r=o.valueAxis.getValue(s),null!==i&&null!==r&&t.trigger(gt,{elemente(n.target),categoryi,valuer})},createCrosshairse.noop}),x=b.extend({options{xAxis{},yAxis{}},createPolarAxisfunction(){var e,t=this;e=new s(t.options.xAxis),t.polarAxis=e,t.axisX=e,t.appendAxis(e)},valueAxisOptionsfunction(e){var t=this;return T(e,{majorGridLines{typest},minorGridLines{typest}},t.options.yAxis)},createValueAxisfunction(){var e=this;b.fn.createValueAxis.call(e),e.axisY=e.valueAxis},appendChartfunction(e,t){var n=this;n.valueAxisRangeTracker.update(e.yAxisRanges),$.fn.appendChart.call(n,e,t)},createChartsfunction(){var e=this,t=e.filterVisibleSeries(e.series),n=e.panes[0];e.createLineChart(rt(t,[vt]),n),e.createScatterChart(rt(t,[_t]),n),e.createAreaChart(rt(t,[mt]),n)},createLineChartfunction(e,t){if(0!==e.length){var n=this,i=new v(n,{seriese});n.appendChart(i,t)}},createScatterChartfunction(e,t){if(0!==e.length){var n=this,i=new m(n,{seriese});n.appendChart(i,t)}},createAreaChartfunction(e,t){if(0!==e.length){var n=this,i=new y(n,{seriese});n.appendChart(i,t)}},clickfunction(t,n){var i,r,o=this,a=t._eventCoordinates(n),s=new Q(a.x,a.y);i=o.axisX.getValue(s),r=o.axisY.getValue(s),null!==i&&null!==r&&t.trigger(gt,{elemente(n.target),xi,yr})},createCrosshairse.noop}),Y.current.register(x,Tt),Y.current.register(k,Dt),J.current.register(Tt,[xt,Ct],[color]),J.current.register(Dt,[value],[color]),M.DefaultAggregates.current.register(Dt,{valuemax,colorfirst}),T(M,{PolarAreaCharty,PolarAxiss,PolarLineChartv,PolarPlotAreax,RadarAreaChartg,RadarBarChartu,RadarCategoryAxisEt,RadarClusterLayoutl,RadarLineCharth,RadarNumericAxiso,RadarPlotAreak,SplinePolarAreaSegmentw,SplineRadarAreaSegmentf,RadarStackLayoutc})}(window.kendo.jQuery),function(e,t){var n,i=window.kendo,r=i.deepExtend,o=e.extend,a=i.isFunction,s=i.template,l=i.util,c=l.append,d=i.drawing,u=i.geometry,h=i.dataviz,p=i.drawing.Color,f=h.ChartElement,g=h.PieChartMixin,m=h.PlotAreaBase,v=h.PlotAreaFactory,_=h.Point2D,w=h.Box2D,y=h.SeriesBinder,b=h.TextBox,k=h.autoFormat,x=h.evalOptions,C=l.limitValue,S=h.seriesTotal,T=category,D=color,A=funnel,E=value,I=black,M=white,P=m.extend({renderfunction(){var e=this,t=e.series;e.createFunnelChart(t)},createFunnelChartfunction(e){var t=this,n=e[0],i=new z(t,{seriese,legendt.options.legend,neckRation.neckRatio,dynamicHeightn.dynamicHeight,dynamicSlopen.dynamicSlope,segmentSpacingn.segmentSpacing,highlightn.highlight});t.appendChart(i)},appendChartfunction(e,t){m.fn.appendChart.call(this,e,t),c(this.options.legend.items,e.legendItems)}}),z=f.extend({initfunction(e,t){var n=this;f.fn.init.call(n,t),n.plotArea=e,n.points=[],n.labels=[],n.legendItems=[],n.render()},options{neckRatio.3,width300,dynamicSlope!1,dynamicHeight!0,segmentSpacing0,labels{visible!1,aligncenter,positioncenter}},formatPointValuefunction(e,t){return k(t,e.value)},renderfunction(){var e,n,i,o,s,l,c,d=this,u=d.options,h=d.plotArea.options.seriesColors[],p=h.length,f=u.series[0],g=f.data;if(g)for(i=S(f),s=0;g.lengths;s++)e=y.current.bindPoint(f,s),o=e.valueFields.value,null!==o&&o!==t&&(n=e.fields,a(f.color)(f.color=n.colorh[s%p]),n=r({indexs,ownerd,seriesf,categoryn.category,dataItemg[s],percentageMath.abs(o)i,visibleInLegendn.visibleInLegend,visiblen.visible},n),l=d.createSegment(o,n),c=d.createLabel(o,n),l&&c&&l.append(c))},evalSegmentOptionsfunction(e,t,n){var i=n.series;x(e,{valuet,seriesi,dataItemn.dataItem,indexn.index},{defaultsi._defaults,excluded[data]})},createSegmentfunction(e,i){var a,s=this,l=r({},i.series);return s.evalSegmentOptions(l,e,i),s.createLegendItem(e,l,i),i.visible!==!1(a=new n(e,l,i),o(a,i),s.append(a),s.points.push(a),a)t},createLabelfunction(e,n){var i,o,a,l=this,c=n.series,d=n.dataItem,u=r({},l.options.labels,c.labels),h=e;return u.visible(u.template(o=s(u.template),h=o({dataItemd,valuee,percentagen.percentage,categoryn.category,seriesc}))u.format&&(h=k(u.format,h)),u.colorcenter!==u.align(a=new p(c.color).percBrightness(),u.color=a180IM),l.evalSegmentOptions(u,e,n),i=new b(h,r({vAlignu.position},u)),l.labels.push(i),i)t},labelPaddingfunction(){var e,t,n,i,r=this.labels,o={left0,right0};for(i=0;r.lengthi;i++)e=r[i],t=e.options.align,center!==t&&(n=r[i].box.width(),left===to.left=Math.max(o.left,n)o.right=Math.max(o.right,n));return o},reflowfunction(t){var n,i,r,o,a,s,l,c,d,h,p,f,g=this,m=g.options,v=g.points,_=v.length,w=1=m.neckRatio,y=t.clone().unpad(g.labelPadding()),b=y.width(),k=0,x=w0(b-bm.neckRatio)2,S=m.segmentSpacing,T=m.dynamicSlope,D=y.height()-S(_-1),A=wm.neckRatiobb;if(_){if(T)for(l=v[0],c=l,e.each(v,function(e,t){t.percentagec.percentage&&(c=t)}),r=l.percentagec.percentageb,x=(b-r)2,n=0;_n;n++)a=v[n].percentage,d=v[n+1],h=dd.percentagea,o=v[n].points=[],i=m.dynamicHeightDaD_,s=(b-r(ha))2,s=C(s,0,b),o.push(new u.Point(y.x1+x,y.y1+k)),o.push(new u.Point(y.x1+b-x,y.y1+k)),o.push(new u.Point(y.x1+b-s,y.y1+i+k)),o.push(new u.Point(y.x1+s,y.y1+i+k)),x=s,k+=i+S,r=ha,r=C(r,0,b);else for(p=wbb-2x,f=(p-A)2,n=0;_n;n++)o=v[n].points=[],a=v[n].percentage,s=m.dynamicHeightfaf_,i=m.dynamicHeightDaD_,o.push(new u.Point(y.x1+x,y.y1+k)),o.push(new u.Point(y.x1+b-x,y.y1+k)),o.push(new u.Point(y.x1+b-x-s,y.y1+i+k)),o.push(new u.Point(y.x1+x+s,y.y1+i+k)),x+=s,k+=i+S;for(n=0;_n;n++)v[n].reflow(t)}}});r(z.fn,g),n=f.extend({initfunction(e,t,n){var i=this;f.fn.init.call(i,t),i.value=e,i.options.index=n.index},options{colorM,border{width1}},reflowfunction(e){var t=this,n=t.points,i=t.children[0];t.box=new w(n[0].x,n[0].y,n[1].x,n[2].y),i&&i.reflow(new w(e.x1,n[0].y,e.x2,n[2].y))},createVisualfunction(){var e,t,n;f.fn.createVisual.call(this),e=this.options,t=e.border,n=d.Path.fromPoints(this.points,{fill{colore.color,opacitye.opacity},stroke{colort.color,opacityt.opacity,widtht.width}}).close(),this.visual.append(n)},createHighlightfunction(e){return d.Path.fromPoints(this.points,e)},highlightOverlayfunction(e,t){var n,i,r,a=this.options,s=a.highlight{};if(s.visible!==!1)return n=s.border{},i=o({},t,{fills.color,stroken.color,strokeOpacityn.opacity,strokeWidthn.width,fillOpacitys.opacity}),r=e.createPolyline(this.points,!0,i)},tooltipAnchorfunction(e){var t=this.box;return new _(t.center().x-e2,t.y1)},formatValuefunction(e){var t=this;return t.owner.formatPointValue(t,e)}}),r(n.fn,h.PointEventsMixin),v.current.register(P,[A]),y.current.register([A],[E],[T,D,visibleInLegend,visible]),r(h,{FunnelChartz})}(window.kendo.jQuery),function(e,t){function n(e,t){var n=e.box,i=e.children[0].box,o=t.border{},a=t.background,s=new A,l=E.fromRect(new I([n.x1,n.y1],[n.width(),n.height()]),{stroke{}}),c=new M(e.text,new D(i.x1,i.y1),{fontt.font,fill{colort.color}}),d=r(c.bbox().clone(),t.padding),u=E.fromRect(d,{stroke{coloro.widtho.color,widtho.width,dashTypeo.dashType,lineJoinround,lineCapround},fill{colora}});return s.append(l),s.append(u),s.append(c),s}function i(e,t,n){var i=y(e.from)e.fromV,r=y(e.to)e.toO;return e.from=l.max(l.min(r,i),t),e.to=l.min(l.max(r,i),n),e}function r(e,t){var n=e.getOrigin(),i=e.getSize(),r=x(t);return e.setOrigin([n.x-r.left,n.y-r.top]),e.setSize([i.width+(r.left+r.right),i.height+(r.top+r.bottom)]),e}function o(e,t){var n=x(t);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,r(e,n)}var a,s,l=Math,c=window.kendo,d=c.util,u=c.ui.Widget,h=c.deepExtend,p=c.dataviz,f=p.autoMajorUnit,g=p.ChartElement,m=p.NumericAxis,v=p.Axis,_=p.Box2D,w=c.Class,y=d.defined,b=d.isNumber,k=p.interpolateValue,x=p.getSpacing,C=p.round,S=p.geometry,T=p.drawing,D=S.Point,A=T.Group,E=T.Path,I=S.Rect,M=T.Text,P=150,z=250,F=arrow,R=arrowPointer,B=barPointer,H=#000,L=.05,N=p.COORD_PRECISION,O=Number.MAX_VALUE,V=-Number.MAX_VALUE,U=200,W=.5,j=200,G=60,q=60,$=5,Y=l.PI180,Q=180,K=inside,X=linear,Z=needle,J=outside,et=radialPointer,tt=x,nt=y,it=w.extend({initfunction(e,t){var n=this,i=e.options;g.fn.init.call(n,t),t=n.options,t.fill=t.color,n.scale=e,t.value=y(t.value)l.min(l.max(t.value,i.min),i.max)i.min},options{colorH},valuefunction(e){var n=this,i=n.options,r=i.value,o=n.scale.options;return 0===arguments.lengthr(i._oldValue=i._oldValue!==ti.valueo.min,i.value=l.min(l.max(e,o.min),o.max),n.elements&&n.repaint(),t)}}),rt=it.extend({options{shapeZ,cap{sizeL},arrow{width16,height14},animation{typeet,durationP}},setRadiusfunction(e){var t=this;e&&(t.elements.clear(),t.render(t.parent,t.center,e))},setAnglefunction(e){this.elements.transform(S.transform().rotate(e,this.center))
},repaintfunction(){var e=this,t=e.scale,n=e.options,i=t.slotAngle(n._oldValue),r=t.slotAngle(n.value);n.animation.transitions===!1e.setAngle(r)new pt(e.elements,h(n.animation,{oldAnglei,newAngler})).play()},renderfunction(){var e=this,t=e.scale,n=t.arc.center,i=e.options,r=(t.slotAngle(t.options.min),new A);return i.animation!==!1&&h(i.animation,{startAngle0,centern,reverset.options.reverse}),i.shape===Zr.append(e._renderNeedle(),e._renderCap())r.append(e._renderArrow()),e.elements=r,e.setAngle(Y),r},reflowfunction(e){var t=this,n=t.center=e.center,i=t.radius=e.getRadiusX(),r=t.capSize=Math.round(it.options.cap.size);t.bbox=I.fromPoints(new D(n.x-r,n.y-r),new D(n.x+r,n.y+r))},_renderNeedlefunction(){var e=this,t=e.options,n=e.scale.options.minorTicks.size,i=e.center,r=t.color,o=new E({fill{colorr},stroke{colorr,widthW}});return o.moveTo(i.x+e.radius-n,i.y).lineTo(i.x,i.y-e.capSize2).lineTo(i.x,i.y+e.capSize2).close(),o},_renderCapfunction(){var e=this,t=e.options,n=t.cap.colort.color,i=new S.Circle(e.center,e.capSize),r=new T.Circle(i,{fill{colorn},stroke{colorn}});return r}}),ot=m.extend({initfunction(e){var t=this;t.options=h({},t.options,e),t.options.majorUnit=t.options.majorUnitf(t.options.min,t.options.max),t.options.minorUnit=t.options.minorUnitt.options.majorUnit10,v.fn.init.call(t,t.options)},options{min0,max100,majorTicks{size15,alignK,colorH,widthW,visible!0},minorTicks{size10,alignK,colorH,widthW,visible!0},startAngle-30,endAngle210,labels{positionK,padding2}},renderfunction(e,t){var n=this,i=n.renderArc(e,t);n.bbox=i.bbox(),n.labelElements=n.renderLabels(),n.ticks=n.renderTicks(),n.ranges=n.renderRanges()},reflowfunction(e){var n=this,i=e.center(),r=l.min(e.height(),e.width())2;return n.bbox===tn.render(i,r)(n.bbox=n.arc.bbox(),n.radius(n.arc.getRadiusX()),n.repositionRanges(),n.renderLabels(),t)},slotAnglefunction(e){var t,n=this.options,i=n.startAngle,r=n.reverse,o=n.endAngle-i,a=n.min,s=n.max;return t=rn.endAngle-(e-a)(s-a)o(e-a)(s-a)o+i,t+Q},renderLabelsfunction(){var e,i,r,o,a,s,c,d,u,h,f,g,m,v,_=this,w=_.options,y=w.majorTicks.size,b=_.arc.clone(),k=b.getRadiusX(),x=_.tickAngles(b,w.majorUnit),C=_.labels,T=C.length,E=w.labels,M=E.padding,P=.05k,z=w.rangeSize=w.rangeSize.1k,F=w.ranges[],R=new A;for(_.options.rangeDistance!==tP=_.options.rangeDistance_.options.rangeDistance=P,E.position===K&&(k-=y,F.length&&_.labelElements===t&&(k-=z+P),b.setRadiusX(k).setRadiusY(k)),c=0;Tc;c++)a=C[c],e=a.box.width()2,i=a.box.height()2,o=x[c],r=(o-Q)Y,h=E.position===K,s=b.pointAt(o),d=s.x+l.cos(r)(e+M)(h1-1),u=s.y+l.sin(r)(i+M)(h1-1),a.reflow(new p.Box2D(d-e,u-i,d+e,u+i)),g=new D(a.box.x1,a.box.y1),_.labelElements===t(f=n(a,w.labels),R.append(f))(f=_.labelElements.children[c],m=f.bbox().origin,v=f.transform()S.transform(),v.translate(g.x-m.x,g.y-m.y),f.transform(v)),_.bbox=I.union(_.bbox,f.bbox());return R},repositionRangesfunction(){var e,t,n,i=this,r=i.ranges.children,o=i.options.rangeSize,a=i.options.rangeDistance;if(r.length0){for(e=i.getRangeRadius(),i.options.labels.position===K&&(e+=o+a),t=e+o2,n=0;r.lengthn;n++)r[n]._geometry.setRadiusX(t).setRadiusY(t);i.bbox=I.union(i.bbox,i.ranges.bbox())}},renderRangesfunction(){var e,t,n,i,r,o,a=this,s=a.arc,l=new A,c=a.rangeSegments(),d=c.length,u=a.options.reverse,h=(a.radius(),a.options.rangeSize),p=a.options.rangeDistance;if(d)for(i=a.getRangeRadius(),a.radius(a.radius()-h-p),o=0;do;o++)n=c[o],e=a.slotAngle(n[utofrom]),t=a.slotAngle(n[ufromto]),t-e!==0&&(r=new S.Arc(s.center,{radiusXi+h2,radiusYi+h2,startAnglee,endAnglet}),l.append(new T.Arc(r,{stroke{widthh,colorn.color,opacityn.opacity}})));return l},rangeSegmentsfunction(){function e(e,t,n,i){return{frome,tot,colorn,opacityi}}var t,n,r,o,a,s=this,l=s.options,c=l.ranges[],d=c.length,u=l.rangePlaceholderColor,h=[],p=l.min,f=l.max;if(d)for(h.push(e(p,f,u)),o=0;do;o++)for(t=i(c[o],p,f),n=h.length,a=0;na;a++)if(r=h[a],t.from=r.from&&r.to=t.from){h.push(e(t.from,t.to,t.color,t.opacity)),t.to=r.from&&r.to=t.to&&h.push(e(t.to,r.to,u,t.opacity)),r.to=t.from;break}return h},getRangeRadiusfunction(){var e,t=this,n=t.options,i=n.majorTicks.size,r=n.rangeSize,o=n.rangeDistance,a=t.arc;return e=n.labels.position===Ja.getRadiusX()-i-o-ra.getRadiusX()-r},renderArcfunction(e,t){var n=this,i=n.options,r=n.arc=new S.Arc(e,{radiusXt,radiusYt,startAnglei.startAngle+Q,endAnglei.endAngle+Q});return r},renderTicksfunction(){function e(e,t,n,i){var r,o,a,s=new A,l=e.center,c=e.getRadiusX(),d=i.visible;if(d)for(r=0;t.lengthr;r++)o=e.pointAt(t[r]),a=new D(l.x+c-i.size,l.y).rotate(t[r],l),s.append(new E({stroke{colori.color,widthi.width}}).moveTo(o).lineTo(a));return s}var t=this,n=t.arc,i=t.options,r=i.labels.position,o=new A,a=i.majorTicks.size,s=i.minorTicks.size,l=n.clone(),c=l.getRadiusX();return t.majorTickAngles=t.tickAngles(n,i.majorUnit),t.majorTicks=e(l,t.majorTickAngles,i.majorUnit,i.majorTicks),o.append(t.majorTicks),t._tickDifference=a-s,r===J&&l.setRadiusX(c-a+s).setRadiusY(c-a+s),t.minorTickAngles=t.normalizeTickAngles(t.tickAngles(n,i.minorUnit)),t.minorTicks=e(l,t.minorTickAngles,i.minorUnit,i.minorTicks,i.majorUnit),o.append(t.minorTicks),o},normalizeTickAnglesfunction(e){var t,n=this,i=n.options,r=i.majorUniti.minorUnit;for(t=e.length-1;t=0;t--)t%r===0&&e.splice(t,1);return e},tickAnglesfunction(e,t){var n,i=this,r=i.options,o=r.reverse,a=r.max-r.min,s=e.endAngle-e.startAngle,l=e.startAngle,c=at,d=sc,u=[];for(o&&(l+=s,d=-d),n=0;cn;n++)u.push(C(l,N)),l+=d;return C(l)=e.endAngle&&u.push(l),u},radiusfunction(e){var n=this;return e(n.arc.setRadiusX(e).setRadiusY(e),n.repositionTicks(n.majorTicks.children,n.majorTickAngles),n.repositionTicks(n.minorTicks.children,n.minorTickAngles,!0),t)n.arc.getRadiusX()},repositionTicksfunction(e,t,n){var i,r,o,a,s,l=this,c=nl._tickDifference00,d=l.arc,u=d.getRadiusX();for(n&&l.options.labels.position===J&&0!==c&&(d=l.arc.clone(),d.setRadiusX(u-c).setRadiusY(u-c)),i=0;e.lengthi;i++)r=d.pointAt(t[i]),o=e[i].segments,a=r.x-o[0].anchor().x,s=r.y-o[0].anchor().y,e[i].transform((new S.Transformation).translate(a,s))}}),at=u.extend({initfunction(t,n){var i,r,o,a,s,l=this,d=p.ui.themes{};if(c.destroy(t),e(t).empty(),u.fn.init.call(l,t),l.wrapper=l.element,l._originalOptions=h({},n),i=h({},l.options,n),o=i.theme,a=d[o]d[o.toLowerCase()],r=o&&aa.gauge{},l.options=h({},r,i),e.isArray(i.pointer))for(s=0;i.pointer.lengths;s++)l.options.pointer[s]=h({},r.pointer,i.pointer[s]);l.element.addClass(k-gauge),l.surface=l._createSurface(),l.redraw()},options{plotArea{},themedefault,renderAs,pointer{},scale{},gaugeArea{}},destroyfunction(){this.surface.destroy(),u.fn.destroy.call(this)},valuefunction(e){var n=this,i=n.pointers[0];return 0===arguments.lengthi.value()(i.value(e),n._setValueOptions(e),t)},_drawfunction(){var e=this.surface;e.clear(),e.draw(this._visuals)},exportVisualfunction(){return this._visuals},allValuesfunction(t){var n,i=this,r=i.pointers,o=[];if(0===arguments.length){for(n=0;r.lengthn;n++)o.push(r[n].value());return o}if(e.isArray(t))for(n=0;t.lengthn;n++)b(t[n])&&r[n].value(t[n]);i._setValueOptions(t)},_setValueOptionsfunction(e){var t,n=[].concat(this.options.pointer);for(e=[].concat(e),t=0;e.lengtht;t++)n[t].value=e[t]},_resizefunction(){var e,t=this,n=t.options.transitions;for(t.options.transitions=!1,e=0;t.pointers.lengthe;e++)t.pointers[e].options.animation.transitions=!1;for(t.redraw(),t.options.transitions=n,e=0;t.pointers.lengthe;e++)t.pointers[e].options.animation.transitions=n},redrawfunction(){var e,t=this,n=h(t._getSize(),t.options.gaugeArea),i=new I([0,0],[n.width,n.height]);t.surface.clear(),t.gaugeArea=t._createGaugeArea(),t.surface.element.css({widthn.width,heightn.height}),t._createModel(),e=o(i.bbox(),t._gaugeAreaMargin),t.reflow(e)},_createGaugeAreafunction(){var e,t=this,n=t.options.gaugeArea,i=t.surface.size(),r=(t._gaugeAreaMargin=n.margin$,n.border{}),a=new I([0,0],[i.width,i.height]);return r.width0&&(a=o(a,r.width)),e=E.fromRect(a,{stroke{colorr.widthr.color,widthr.width,dashTyper.dashType,lineJoinround,lineCapround},fill{colorn.background}})},_createSurfacefunction(){var t,n=this,i=n.options,r=n._getSize();return r=i.gaugeAreah(r,i.gaugeArea)r,t=e(divdiv).appendTo(n.element).css({widthr.width,heightr.height}),new T.Surface.create(t,{typei.renderAs})},getSizefunction(){return this._getSize()},_getSizefunction(){var e=this,t=e.element,n=t.width(),i=t.height();return n(n=j),i(i=U),{widthn,heighti}}}),st=at.extend({initfunction(e,t){var n=this;at.fn.init.call(n,e,t),c.notify(n,p.ui)},options{nameRadialGauge,transitions!0,gaugeArea{background}},reflowfunction(e){{var t,n,i=this,r=i.pointers;i.scale.reflow(e)}for(i._initialPlotArea=i.scale.bbox,t=0;r.lengtht;t++)n=r[t].reflow(i.scale.arc),i._initialPlotArea=I.union(i._initialPlotArea,r[t].bbox);i.fitScale(e),i.alignScale(e),i._buildVisual(i.gaugeArea,r,i.scale),i._draw()},_buildVisualfunction(e,t,n){var i,r,o=new A;for(o.append(e),o.append(n.ticks),o.append(n.ranges),r=0;t.lengthr;r++)i=t[r],i.render(),o.append(i.elements),i.value(i.options.value);o.append(n.labelElements),this._visuals=o},fitScalefunction(e){for(var t,n,i,r,o=this,a=o.scale,s=a.arc,c=o._initialPlotArea,d=l.abs(o.getDiff(c,e)),u=C(d,N),h=C(-d,N),p=0;!(!(100p)(p++,u!=r&&(t=o.getPlotBox(u,e,s),t=0&&2=t))h!=r&&(i=o.getPlotBox(h,e,s),i=0&&2=i)(r=t0&&i02u0t&&0i2hC((u+h)21,N),n=o.getPlotBox(r,e,s),n=0&&2=n));)n0(h=r,i=n)(u=r,t=n)},getPlotBoxfunction(e,t,n){var i,r=this,o=r.scale,a=r.pointers,s=n.getRadiusX();for(n=n.clone(),n.setRadiusX(s+e).setRadiusY(s+e),o.arc=n,o.reflow(t),r.plotBbox=o.bbox,i=0;a.lengthi;i++)a[i].reflow(n),r.plotBbox=I.union(r.plotBbox,a[i].bbox);return r.getDiff(r.plotBbox,t)},getDifffunction(e,t){return l.min(t.width()-e.width(),t.height()-e.height())},alignScalefunction(e){var t,n=this,i=n.plotBbox.center(),r=e.center(),o=i.x-r.x,a=i.y-r.y,s=n.scale,l=n.pointers;for(s.arc.center.x-=o,s.arc.center.y-=a,s.reflow(e),t=0;l.lengtht;t++)l[t].reflow(s.arc),n.plotBbox=I.union(s.bbox,l[t].bbox)},_createModelfunction(){var t,n,i=this,r=i.options,o=r.pointer,a=i.scale=new ot(r.scale);for(i.pointers=[],o=e.isArray(o)o[o],n=0;o.lengthn;n++)t=new rt(a,h({},o[n],{animation{transitionsr.transitions}})),i.pointers.push(t)}}),lt=at.extend({initfunction(e,t){var n=this;at.fn.init.call(n,e,t),c.notify(n,p.ui)},options{nameLinearGauge,transitions!0,gaugeArea{background},scale{vertical!0}},reflowfunction(e){var t,n=this,i=n.pointers,r=e.origin.x,o=e.origin.y,a=new p.Box2D(r,r,r+e.width(),o+e.height());for(n.scale.reflow(a),t=0;i.lengtht;t++)i[t].reflow();n.bbox=n._getBox(a),n._alignElements(),n._shrinkElements(),n._buildVisual(),n._draw()},_buildVisualfunction(){var e,t,n=this,i=new A,r=n.scale.render(),o=n.pointers;for(i.append(n.gaugeArea),i.append(r),t=0;o.lengtht;t++)e=o[t],i.append(e.render()),e.value(e.options.value);n._visuals=i},_createModelfunction(){var t,n,i,r=this,o=r.options,a=o.pointer,s=r.scale=new ct(o.scale);for(r.pointers=[],a=e.isArray(a)a[a],i=0;a.lengthi;i++)n=h({},a[i],{animation{transitionso.transitions}}),t=n.shape===Fnew ut(s,n)new ht(s,n),r.pointers.push(t)},_getSizefunction(){var e=this,t=e.element,n=t.width(),i=t.height(),r=e.options.scale.vertical;return n(n=rGj),i(i=rUq),{widthn,heighti}},_getBoxfunction(e){var t,n,i=this,r=i.scale,o=i.pointers,a=e.center(),s=o[0].box.clone().wrap(r.box);for(n=0;o.lengthn;n++)s.wrap(o[n].box.clone());return r.options.vertical(t=s.width()2,s=new _(a.x-t,e.y1,a.x+t,e.y2))(t=s.height()2,s=new _(e.x1,a.y-t,e.x2,a.y+t)),s},_alignElementsfunction(){var e,t,n=this,i=n.scale,r=n.pointers,o=i.box,a=r[0].box.clone().wrap(i.box),s=n.bbox;for(t=0;r.lengtht;t++)a.wrap(r[t].box.clone());for(i.options.vertical(e=s.center().x-a.center().x,i.reflow(new _(o.x1+e,s.y1,o.x2+e,s.y2)))(e=s.center().y-a.center().y,i.reflow(new _(s.x1,o.y1+e,s.x2,o.y2+e))),t=0;r.lengtht;t++)r[t].reflow(n.bbox)},_shrinkElementsfunction(){var e,t=this,n=t.scale,i=t.pointers,r=n.box.clone(),o=n.options.verticalyx,a=i[0].box;for(e=0;i.lengthe;e++)a.wrap(i[e].box.clone());for(r[o+1]+=l.max(r[o+1]-a[o+1],0),r[o+2]-=l.max(a[o+2]-r[o+2],0),n.reflow(r),e=0;i.lengthe;e++)i[e].reflow(t.bbox)}}),ct=m.extend({initfunction(e){var t=this;t.options=h({},t.options,e),t.options=h({},t.options,{labels{mirrort.options.mirror}}),t.options.majorUnit=t.options.majorUnitf(t.options.min,t.options.max),v.fn.init.call(t,t.options),t.options.minorUnit=t.options.minorUnitt.options.majorUnit10},options{min0,max50,majorTicks{size15,alignK,colorH,widthW,visible!0},minorTicks{size10,alignK,colorH,widthW,visible!0},line{widthW},labels{positionK,padding2},mirror!1,_alignLines!1},renderfunction(){var e=this,t=e.elements=new A,n=e.renderLabels(),i=e.renderLine(),r=e.renderTicks(),o=e.renderRanges();return t.append(i,n,r,o),t},renderRangesfunction(){var e,t,n,r,o,a=this,s=a.options,l=s.min,c=s.max,d=s.ranges[],u=s.vertical,h=s.labels.mirror,p=new A,f=d.length,g=s.rangeSizes.minorTicks.size2;if(f)for(o=0;fo;o++)e=i(d[o],l,c),t=a.getSlot(e.from,e.to),n=ua.lineBox()t,r=uta.lineBox(),un.x1-=g(h-11)r.y2+=g(h-11),p.append(E.fromRect(new I([n.x1,r.y1],[n.x2-n.x1,r.y2-r.y1]),{fill{colore.color,opacitye.opacity},stroke{}}));return p},renderLabelsfunction(){var e,t=this,i=t.options,r=t.labels,o=new A;for(e=0;r.lengthe;e++)o.append(n(r[e],i.labels));return o},renderLinefunction(){var e,t=this,n=t.options,i=n.line,r=t.lineBox(),o=new A;return i.width0&&i.visible&&(e=new E({stroke{colori.color,dashTypei.dashType,widthi.width}}),e.moveTo(r.x1,r.y1).lineTo(r.x2,r.y2),o.append(e)),o},renderTicksfunction(){function e(e,i){var a,l=e.length;if(i.visible)for(a=i.skip;la;a+=i.step)a%i.skipUnit!==0&&(s.tickX=or.x2r.x2-i.size,s.tickY=or.y1-i.sizer.y1,s.position=e[a],n.append(t.renderAxisTick(s,i)))}var t=this,n=new A,i=t.options,r=t.lineBox(),o=i.labels.mirror,a=i.majorTicks.visiblei.majorUnit0,s={_alignLinesi._alignLines,verticali.vertical};return e(t.getMajorTickPositions(),i.majorTicks),e(t.getMinorTickPositions(),h({},{skipUnitai.minorUnit},i.minorTicks)),n},renderAxisTickfunction(e,t){var n,i,r,o=e.tickX,a=e.tickY,s=e.position;return e.vertical(n=new D(o,s),i=new D(o+t.size,s))(n=new D(s,a),i=new D(s,a+t.size)),r=new E({stroke{colort.color,widtht.width}}).moveTo(n).lineTo(i)}}),dt=it.extend({initfunction(e,t){var n=this;it.fn.init.call(n,e,t),n.options=h({track{visibley(t.track)}},n.options)},options{shapeB,track{border{width1}},colorH,border{width1},opacity1,marginx(3),animation{typeB},visible!0},reflowfunction(){var e,t,n,i=this,r=i.options,o=i.scale,a=o.lineBox(),s=r.track.sizer.size,l=r.size2,c=o.options.mirror,d=x(r.margin),u=o.options.vertical,h=ud[cleftright]d[cbottomtop];h=c-hh,u(n=new _(a.x1+h,a.y1,a.x1+h,a.y2),cn.x1-=sn.x2+=s,r.shape!==B&&(t=new _(a.x2+h,a.y1-l,a.x2+h,a.y2+l),e=t))(n=new _(a.x1,a.y1-h,a.x2,a.y1-h),cn.y2+=sn.y1-=s,r.shape!==B&&(t=new _(a.x1-l,a.y1-h,a.x2+l,a.y1-h),e=t)),i.trackBox=n,i.pointerRangeBox=t,i.box=en.clone().pad(r.border.width)},getElementOptionsfunction(){{var e=this.options;new A}return{fill{colore.color,opacitye.opacity},strokey(e.border){colore.border.widthe.border.colore.color,widthe.border.width,dashTypee.border.dashType,opacitye.opacity}null}},_marginfunction(){var e=this,t=e.options,n=e.scale,i=n.options.mirror,r=x(t.margin),o=n.options.vertical,a=or[ileftright]r[ibottomtop];return a}}),ut=dt.extend({initfunction(e,n){dt.fn.init.call(this,e,n),this.options.size===t&&(this.options.size=.6this.scale.options.majorTicks.size)},pointerShapefunction(){var e,t,n=this,i=n.options,r=n.scale,o=i.size,a=r.options.vertical,s=o2,l=r.options.mirror-11,c=r.options.reverse;return a(e=cy2y1,t=[new D(0,0-s),new D(0-lo,0),new D(0,0+s)])(e=cx1x2,t=[new D(0-s,0),new D(0,0+lo),new D(0+s,0)]),t},repaintfunction(){var e=this,t=e.scale,n=e.options,i=new a(e.elements,h(n.animation,{verticalt.options.vertical,mirrort.options.mirror,margine._margin(n.margin),fromt.getSlot(n._oldValue),tot.getSlot(n.value)}));n.animation.transitions===!1&&(i.options.duration=0),i.setup(),i.play()},renderfunction(){var e,t=this,n=t.options,i=new A,r=t.scale,o=t.getElementOptions(),a=t.pointerShape(n.value);return n.animation.type=R,i=new E({strokeo.stroke,fillo.fill}).moveTo(a[0]).lineTo(a[1]).lineTo(a[2]).close(),e=r.getSlot(n.value),i.transform(S.transform().translate(e.x1,e.y1)),t.elements=i,i}}),ht=dt.extend({initfunction(e,n){dt.fn.init.call(this,e,n),this.options.size===t&&(this.options.size=.3this.scale.options.majorTicks.size)},pointerShapefunction(e){var t,n,i,r=this,o=r.options,a=r.scale,s=a.options.vertical,l=a.options.mirror,c=l==s-11,d=o.sizec,u=a.getSlot(a.options.min),h=a.getSlot(e),p=snttt,f=sttnt,g=r._margin()c,m=new D;return m[p]=u[p+1],m[f]=u[f+1],t=new D,t[p]=h[p+1],t[f]=h[f+1],s(m.translate(g,0),t.translate(g,0))(m.translate(0,g),t.translate(0,g)),n=t.clone(),i=m.clone(),s(n.translate(d,0),i.translate(d,0))(n.translate(0,d),i.translate(0,d)),[m,t,n,i]},repaintfunction(){var e,t=this,n=t.scale,i=t.options,r=t.pointerShape(i.value),o=t.elements.children[0],a=t.pointerShape(i._oldValue);o.moveTo(r[0]).lineTo(r[1]).lineTo(r[2]).lineTo(r[3]).close(),e=new s(o,h(i.animation,{reversen.options.reverse,verticaln.options.vertical,oldPoints[a[1],a[2]],newPoints[r[1],r[2]]})),i.animation.transitions===!1&&(e.options.duration=0),e.setup(),e.play()},renderfunction(){var e=this,t=new A,n=e.getElementOptions(),i=new E({stroken.stroke,filln.fill});return t.append(i),e.elements=t,t}}),pt=T.Animation.extend({initfunction(e,t){T.Animation.fn.init.call(this,e,t),t=this.options,t.duration=l.max(l.abs(t.newAngle-t.oldAngle)t.duration1e3,1)},options{easingX,durationP},stepfunction(e){var t=this,n=t.options,i=k(n.oldAngle,n.newAngle,e);t.element.transform(S.transform().rotate(i,n.center))}});T.AnimationFactory.current.register(et,pt),a=T.Animation.extend({options{easingX,durationz},setupfunction(){var e,t,n=this.options,i=(this.element.bbox().width()2,n.margin),r=n.from,o=n.to,a=n.verticalx1y1;n.mirror==n.vertical(r[a]-=i,o[a]-=i)(r[a]+=i,o[a]+=i),e=this.fromScale=new D(r.x1,r.y1),t=this.toScale=new D(o.x1,o.y1),0!==n.duration&&(n.duration=l.max(e.distanceTo(t)n.duration1e3,1))},stepfunction(e){var t=k(this.fromScale.x,this.toScale.x,e),n=k(this.fromScale.y,this.toScale.y,e);this.element.transform(S.transform().translate(t,n))}}),T.AnimationFactory.current.register(R,a),s=T.Animation.extend({options{easingX,speedz},setupfunction(){var e=this.options,t=e.newPoints,n=e.oldPoints,i=this.axis=e.verticalnttt,r=this.to=t[0][i],o=this.from=n[0][i];0!==e.duration&&(e.duration=l.max(l.abs(r-o)e.speed1e3,1)),this._set(o)},stepfunction(e){var t=k(this.from,this.to,e);this._set(t)},_setfunction(e){var t=set+this.axis.toUpperCase(),n=this.options.newPoints;n[0][t](e),n[1][t](e)}}),T.AnimationFactory.current.register(B,s),p.ui.plugin(st),p.ui.plugin(lt),p.ExportMixin.extend(at.fn),h(p,{Gaugeat,RadialPointerrt,LinearPointerdt,ArrowLinearPointerut,BarLinearPointerht,LinearScalect,RadialScaleot,LinearGaugelt,RadialGaugest})}(window.kendo.jQuery),function(e,t){function n(e,t,n){return e.substring(t,t+n)}var i,r,o,a,s,l,c=window.kendo,d=c.ui.Widget,u=e.extend,h=c.deepExtend,p=e.inArray,f=e.isPlainObject,g=c.drawing,m=c.geometry,v=c.util,_=v.defined,w=c.dataviz,y=w.Box2D,b=w.TextBox,k=300,x=100,C=10,S=^d+$,T=^[a-z0-9]+$i,D=Character '{0}' is not valid for symbology {1},A=c.Class.extend({initfunction(e){this.setOptions(e)},setOptionsfunction(e){var t=this;t.options=u({},t.options,e),t.quietZoneLength=t.options.addQuietZone2t.options.quietZoneLength0},encodefunction(e,t,n){var i=this;return _(e)&&(e+=),i.initValue(e,t,n),i.options.addQuietZone&&i.addQuietZone(),i.addData(),i.options.addQuietZone&&i.addQuietZone(),{baseUniti.baseUnit,patterni.pattern}},options{quietZoneLengthC,addQuietZone!0,addCheckSum!0},initValuefunction(){},addQuietZonefunction(){this.pattern.push(this.options.quietZoneLengthC)},addDatafunction(){},invalidCharacterErrorfunction(e){throw Error(c.format(D,e,this.name))}}),E={},I=A.extend({minBaseUnitLength.7,addDatafunction(){var e,t=this,n=t.value;for(t.addStart(),e=0;n.lengthe;e++)t.addCharacter(n.charAt(e));t.options.addCheckSum&&t.pushCheckSum(),t.addStop(),t.prepareValues()},addCharacterfunction(e){var t=this,n=t.characterMap[e];nt.invalidCharacterError(e),t.addBase(n)},addBasefunction(){}}),M={addCharacterfunction(e){var t=this;t.characterMap[e]t.addBase(t.characterMap[e])e.charCodeAt(0)127t.invalidCharacterError(e)t.addExtended(e.charCodeAt(0))},addExtendedfunction(e){var n,i,r,o=this;for(i=0;o.extendedMappings.lengthi;i++)if(n=o.extendedMappings[i].call(o,e)){for(r=0;n.lengthr;r++)o.addBase(n[r]);return o.dataLength+=n.length-1,t}},extendedMappings[function(e){if(e=97&&122=e){var t=this;return[t.characterMap[t.shiftCharacters[0]],t.characterMap[String.fromCharCode(e-32)]]}},function(e){if(e=33&&58=e){var t=this;return[t.characterMap[t.shiftCharacters[1]],t.characterMap[String.fromCharCode(e+32)]]}},function(e){if(e=1&&26=e){var t=this;return[t.characterMap[t.shiftCharacters[2]],t.characterMap[String.fromCharCode(e+64)]]}},function(e){var t,n,i,r=this;if(r.specialAsciiCodes[e])for(t=[],i=0;r.specialAsciiCodes[e].lengthi;i++)t.push(r.characterMap[r.shiftCharacters[3]]),t.push(r.characterMap[r.specialAsciiCodes[e][i]]);else n=6Math.floor(e32)+(e-27)%32+64,t=[r.characterMap[r.shiftCharacters[3]],r.characterMap[String.fromCharCode(n)]];return t}],specialAsciiCodes{0[U],64[V],96[W],127[T,X,Y,Z]},shiftValuesAsciiCodes{3936,4047,4143,4237},characterMap{+!1,!1,$!1,%!1},shiftCharacters[SHIFT0,SHIFT1,SHIFT2,SHIFT3]};E.code39=I.extend({nameCode 39,checkSumMod43,minRatio2.5,maxRatio3,gapWidth1,splitCharacter,initValuefunction(e,t,n){var i=this;i.width=t,i.height=n,i.value=e,i.dataLength=e.length,i.pattern=[],i.patternString=},prepareValuesfunction(){var e,t,n=this,i=n.minBaseUnitLength,r=n.maxRatio,o=n.minRatio,a=Math.max(.15n.width,24);if(an.height)throw Error(Insufficient Height. The minimum height for value +n.value+ is +a);for(;(e=n.getBaseUnit(r))i&&ro;)r=parseFloat((r-.1).toFixed(1));if(ie)throw t=Math.ceil(n.getBaseWidth(o)i),Error(Insufficient width. The minimum width for value +n.value+ is +t);n.ratio=r,n.baseUnit=e,n.patternString=n.patternString.substring(0,n.patternString.length-1),n.pattern=n.pattern.concat(n.patternString.replace(ratiog,r).split(n.splitCharacter))},getBaseUnitfunction(e){return this.widththis.getBaseWidth(e)},getBaseWidthfunction(e){var t=this,n=3(e+2);return t.quietZoneLength+n(t.dataLength+2)+t.gapWidth(t.dataLength+1)},addStartfunction(){var e=this;e.addPattern(e.characterMap.START.pattern),e.addCharacterGap()},addBasefunction(e){this.addPattern(e.pattern),this.addCharacterGap()},addStopfunction(){this.addPattern(this.characterMap.START.pattern)},addPatternfunction(e){for(var t=0;e.lengtht;t++)this.patternString+=this.patternMappings[e.charAt(t)]},addCharacterGapfunction(){var e=this;e.patternString+=e.gapWidth+e.splitCharacter},patternMappings{b1,w1,Bratio,Wratio},characterMap{0{patternbwbWBwBwb,value0},1{patternBwbWbwbwB,value1},2{patternbwBWbwbwB,value2},3{patternBwBWbwbwb,value3},4{patternbwbWBwbwB,value4},5{patternBwbWBwbwb,value5},6{patternbwBWBwbwb,value6},7{patternbwbWbwBwB,value7},8{patternBwbWbwBwb,value8},9{patternbwBWbwBwb,value9},A{patternBwbwbWbwB,value10},B{patternbwBwbWbwB,value11},C{patternBwBwbWbwb,value12},D{patternbwbwBWbwB,value13},E{patternBwbwBWbwb,value14},F{patternbwBwBWbwb,value15},G{patternbwbwbWBwB,value16},H{patternBwbwbWBwb,value17},I{patternbwBwbWBwb,value18},J{patternbwbwBWBwb,value19},K{patternBwbwbwbWB,value20},L{patternbwBwbwbWB,value21},M{patternBwBwbwbWb,value22},N{patternbwbwBwbWB,value23},O{patternBwbwBwbWb,value24},P{patternbwBwBwbWb,value25},Q{patternbwbwbwBWB,value26},R{patternBwbwbwBWb,value27},S{patternbwBwbwBWb,value28},T{patternbwbwBwBWb,value29},U{patternBWbwbwbwB,value30},V{patternbWBwbwbwB,value31},W{patternBWBwbwbwb,value32},X{patternbWbwBwbwB,value33},Y{patternBWbwBwbwb,value34},Z{patternbWBwBwbwb,value35},-{patternbWbwbwBwB,value36},.{patternBWbwbwBwb,value37}, {patternbWBwbwBwb,value38},${patternbWbWbWbwb,value39},{patternbWbWbwbWb,value40},+{patternbWbwbWbWb,value41},%{patternbwbWbWbWb,value42},START{patternbWbwBwBwb}},options{addCheckSum!1}}),E.code39extended=E.code39.extend(h({},M,{nameCode 39 extended,characterMap{SHIFT0{patternbWbwbWbWb,value41},SHIFT1{patternbWbWbwbWb,value40},SHIFT2{patternbWbWbWbwb,value39},SHIFT3{patternbwbWbWbWb,value42}}})),E.code93=I.extend({nameCode 93,cCheckSumTotal20,kCheckSumTotal15,checkSumMod47,initValuefunction(e,t,n){var i=this;i.value=e,i.width=t,i.height=n,i.pattern=[],i.values=[],i.dataLength=e.length},prepareValuesfunction(){var e=this,t=Math.max(.15e.width,24);if(te.height)throw Error(Insufficient Height);if(e.setBaseUnit(),e.minBaseUnitLengthe.baseUnit)throw Error(Insufficient Width)},setBaseUnitfunction(){var e=this,t=2;e.baseUnit=e.width(9(e.dataLength+2+t)+e.quietZoneLength+1)},addStartfunction(){var e=this.characterMap.START.pattern;this.addPattern(e)},addStopfunction(){var e=this;e.addStart(),e.pattern.push(e.characterMap.TERMINATION_BAR)},addBasefunction(e){this.addPattern(e.pattern),this.values.push(e.value)},pushCheckSumfunction(){var e,t,n=this,i=n._getCheckValues();for(n.checksum=i.join(),t=0;i.lengtht;t++)e=n.characterMap[n._findCharacterByValue(i[t])],n.addPattern(e.pattern)},_getCheckValuesfunction(){var e,t,n,i=this,r=i.values,o=r.length,a=0;for(n=o-1;n=0;n--)a+=i.weightedValue(r[n],o-n,i.cCheckSumTotal);for(e=a%i.checkSumMod,a=i.weightedValue(e,1,i.kCheckSumTotal),n=o-1;n=0;n--)a+=i.weightedValue(r[n],o-n+1,i.kCheckSumTotal);return t=a%i.checkSumMod,[e,t]},_findCharacterByValuefunction(e){for(var t in this.characterMap)if(this.characterMap[t].value===e)return t},weightedValuefunction(e,t,n){return(t%nn)e},addPatternfunction(e){var t,n;for(n=0;e.lengthn;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t)},characterMap{0{pattern131112,value0},1{pattern111213,value1},2{pattern111312,value2},3{pattern111411,value3},4{pattern121113,value4},5{pattern121212,value5},6{pattern121311,value6},7{pattern111114,value7},8{pattern131211,value8},9{pattern141111,value9},A{pattern211113,value10},B{pattern211212,value11},C{pattern211311,value12},D{pattern221112,value13},E{pattern221211,value14},F{pattern231111,value15},G{pattern112113,value16},H{pattern112212,value17},I{pattern112311,value18},J{pattern122112,value19},K{pattern132111,value20},L{pattern111123,value21},M{pattern111222,value22},N{pattern111321,value23},O{pattern121122,value24},P{pattern131121,value25},Q{pattern212112,value26},R{pattern212211,value27},S{pattern211122,value28},T{pattern211221,value29},U{pattern221121,value30},V{pattern222111,value31},W{pattern112122,value32},X{pattern112221,value33},Y{pattern122121,value34},Z{pattern123111,value35},-{pattern121131,value36},.{pattern311112,value37}, {pattern311211,value38},${pattern321111,value39},{pattern112131,value40},+{pattern113121,value41},%{pattern211131,value42},SHIFT0{pattern122211,value46},SHIFT1{pattern311121,value45},SHIFT2{pattern121221,value43},SHIFT3{pattern312111,value44},START{pattern111141},TERMINATION_BAR1}}),E.code93extended=E.code93.extend(h({},M,{nameCode 93 extended,pushCheckSumfunction(){var e,t,n=this,i=n._getCheckValues();for(n.checksum=i.join(),t=0;i.lengtht;t++)e=i[t],n.shiftValuesAsciiCodes[e]n.addExtended(n.shiftValuesAsciiCodes[e])n.addPattern(n.characterMap[n._findCharacterByValue(e)].pattern)}})),i=c.Class.extend({initfunction(e){this.encoding=e},addStartfunction(){},isfunction(){},movefunction(){},pushStatefunction(){}}),r=i.extend({FNC4FNC4,initfunction(e,t){var n=this;n.encoding=e,n.states=t,n._initMoves(t)},addStartfunction(){this.encoding.addPattern(this.START)},isfunction(e,t){var n=e.charCodeAt(t);return this.isCode(n)},movefunction(e){for(var t=this,n=0;!t._moves[n].call(t,e)&&t._moves.lengthn;)n++},pushStatefunction(e){var t,n,i=this,r=i.states,o=e.value,a=o.length;for(p(C,r)=0&&(n=o.substr(e.index).match(d{4,}g),n&&(a=o.indexOf(n[0],e.index)));(t=e.value.charCodeAt(e.index))=0&&i.isCode(t)&&ae.index;)i.encoding.addPattern(i.getValue(t)),e.index++},_initMovesfunction(e){var t=this;t._moves=[],p(t.FNC4,e)=0&&t._moves.push(t._moveFNC),p(t.shiftKey,e)=0&&t._moves.push(t._shiftState),t._moves.push(t._moveState)},_moveFNCfunction(e){return e.fnc(e.fnc=!1,e.previousState==this.key)t},_shiftStatefunction(e){var n=this;return e.previousState==n.shiftKey&&(e.index+1=e.value.lengthn.encoding[n.shiftKey].is(e.value,e.index+1))(n.encoding.addPattern(n.SHIFT),e.shifted=!0,!0)t},_moveStatefunction(){return this.encoding.addPattern(this.MOVE),!0},SHIFT98}),o={},o.A=r.extend({keyA,shiftKeyB,isCodefunction(e){return e=0&&96e},getValuefunction(e){return 32ee+64e-32},MOVE101,START103}),o.B=r.extend({keyB,shiftKeyA,isCodefunction(e){return e=32&&128e},getValuefunction(e){return e-32},MOVE100,START104}),o.C=i.extend({keyC,addStartfunction(){this.encoding.addPattern(this.START)},isfunction(e,t){var i=n(e,t,4);return(e.length=t+42==e.length)&&S.test(i)},movefunction(){this.encoding.addPattern(this.MOVE)},pushStatefunction(e){for(var t;(t=n(e.value,e.index,2))&&S.test(t)&&2==t.length;)this.encoding.addPattern(parseInt(t,10)),e.index+=2},getValuefunction(e){return e},MOVE99,START105}),o.FNC4=i.extend({keyFNC4,dependentStates[A,B],initfunction(e,t){this.encoding=e,this._initSubStates(t)},addStartfunction(e){var t=e.value.charCodeAt(0)-128,n=this._getSubState(t);this.encoding[n].addStart()},isfunction(e,t){var n=e.charCodeAt(t);return this.isCode(n)},isCodefunction(e){return e=128&&256e},pushStatefunction(e){var t,n=this,i=n._initSubState(e),r=n.encoding,o=i.value.length;if(e.index+=o,3o)for(;oi.index;i.index++)t=i.value.charCodeAt(i.index),i.state=n._getSubState(t),i.previousState!=i.state&&(i.previousState=i.state,r[i.state].move(i)),r.addPattern(r[i.state].MOVE),r.addPattern(r[i.state].getValue(t));else i.state!=i.previousState&&r[i.state].move(i),n._pushStart(i),r.pushData(i,n.subStates),e.value.lengthe.index&&n._pushStart(i);e.fnc=!0,e.state=i.state},_pushStartfunction(e){var t=this;t.encoding.addPattern(t.encoding[e.state].MOVE),t.encoding.addPattern(t.encoding[e.state].MOVE)},_initSubStatefunction(e){var t=this,n={valuet._getAll(e.value,e.index),index0};return n.state=t._getSubState(n.value.charCodeAt(0)),n.previousState=e.previousState==t.keyn.statee.previousState,n},_initSubStatesfunction(e){var t,n=this;for(n.subStates=[],t=0;e.lengtht;t++)p(e[t],n.dependentStates)=0&&n.subStates.push(e[t])},_getSubStatefunction(e){var t,n=this;for(t=0;n.subStates.lengtht;t++)if(n.encoding[n.subStates[t]].isCode(e))return n.subStates[t]},_getAllfunction(e,t){for(var n,i=;(n=e.charCodeAt(t++))&&this.isCode(n);)i+=String.fromCharCode(n-128);
return i}}),o.FNC1=i.extend({keyFNC1,startStateC,dependentStates[C,B],startAI(,endAI),initfunction(e,t){this.encoding=e,this.states=t},addStartfunction(){this.encoding[this.startState].addStart()},isfunction(){return p(this.key,this.states)=0},pushStatefunction(e){var t,n,i,r=this,o=r.encoding,a=e.value.replace(sg,),s=RegExp([+r.startAI+r.endAI+],g),l=e.index,c={stater.startState};for(o.addPattern(r.START);;){if(c.index=0,i=a.charAt(l)===r.startAI20,t=i0r.getBySeparator(a,l)r.getByLength(a,l),t.ai.length)n=l+i+t.id.length+t.ai.length;else if(n=a.indexOf(r.startAI,l+1),0n){if(a.lengthl+t.ai.max+t.id.length+i)throw Error(Separators are required after variable length identifiers);n=a.length}if(c.value=a.substring(l,n).replace(s,),r.validate(t,c.value),o.pushData(c,r.dependentStates),n=a.length)break;l=n,c.state!=r.startState&&(o[r.startState].move(c),c.state=r.startState),t.ai.lengtho.addPattern(r.START)}e.index=e.value.length},validatefunction(e,t){var n=t.substr(e.id.length),i=e.ai;if(!i.type&&!S.test(n))throw Error(Application identifier +e.id+ is numeric only but contains non numeric character(s).);if(alphanumeric==i.type&&!T.test(n))throw Error(Application identifier +e.id+ is alphanumeric only but contains non alphanumeric character(s).);if(i.length&&i.length!==n.length)throw Error(Application identifier +e.id+ must be +i.length+ characters long.);if(i.min&&i.minn.length)throw Error(Application identifier +e.id+ must be at least +i.min+ characters long.);if(i.max&&n.lengthi.max)throw Error(Application identifier +e.id+ must be at most +i.max+ characters long.)},getByLengthfunction(e,t){var i,r,o,a=this;for(o=2;4=o;o++)if(i=n(e,t,o),r=a.getAI(i)a.getAI(i.substring(0,i.length-1)))return{idi,air};a.unsupportedAIError(i)},unsupportedAIErrorfunction(e){throw Error(c.format('{0}' is not a supported Application Identifier),e)},getBySeparatorfunction(e,t){var n=this,i=e.indexOf(n.startAI,t),r=e.indexOf(n.endAI,i),o=e.substring(i+1,r),a=n.getAI(o)n.getAI(o.substr(o.length-1));return an.unsupportedAIError(o),{aia,ido}},getAIfunction(e){var t,n,i,r=this.applicationIdentifiers,o=r.multiKey;if(r[e])return r[e];for(t=0;o.lengtht;t++){if(o[t].ids&&p(e,o[t].ids)=0)return o[t].type;if(o[t].ranges)for(n=o[t].ranges,i=0;n.lengthi;i++)if(e=n[i][0]&&n[i][1]=e)return o[t].type}},applicationIdentifiers{22{max29,typealphanumeric},402{length17},7004{max4,typealphanumeric},242{max6,typealphanumeric},8020{max25,typealphanumeric},703{min3,max30,typealphanumeric},8008{min8,max12,typealphanumeric},253{min13,max17,typealphanumeric},8003{min14,max30,typealphanumeric},multiKey[{ids[15,17,8005,8100],ranges[[11,13],[310,316],[320,336],[340,369]],type{length6}},{ids[240,241,250,251,400,401,403,7002,8004,8007,8110],ranges[[-9]],type{max30,typealphanumeric}},{ids[7001],ranges[[410,414]],type{length13}},{ids[10,21,254,420,8002],type{max20,typealphanumeric}},{ids[00,8006,8017,8018],type{length18}},{ids[01,02,8001],type{length14}},{ids[422],ranges[[424,426]],type{length3}},{ids[20,8102],type{length2}},{ids[30,37],type{max8,typealphanumeric}},{ids[390,392],type{max15,typealphanumeric}},{ids[421,423],type{min3,max15,typealphanumeric}},{ids[391,393],type{min3,max18,typealphanumeric}},{ids[7003,8101],type{length10}}]},START102}),a=A.extend({initfunction(e){A.fn.init.call(this,e),this._initStates()},_initStatesfunction(){var e,t=this;for(e=0;t.states.lengthe;e++)t[t.states[e]]=new o[t.states[e]](t,t.states)},initValuefunction(e,t,n){var i=this;i.pattern=[],i.value=e,i.width=t,i.height=n,i.checkSum=0,i.totalUnits=0,i.index=0,i.position=1},addDatafunction(){var e=this,t={valuee.value,index0,state};0!==e.value.length&&(t.state=t.previousState=e.getNextState(t,e.states),e.addStart(t),e.pushData(t,e.states),e.addCheckSum(),e.addStop(),e.setBaseUnit())},pushDatafunction(e,t){for(var n,i=this;;){if(i[e.state].pushState(e),e.index=e.value.length)break;e.shifted(n=e.state,e.state=e.previousState,e.previousState=n,e.shifted=!1)(e.previousState=e.state,e.state=i.getNextState(e,t),i[e.state].move(e))}},addStartfunction(e){this[e.state].addStart(e),this.position=1},addCheckSumfunction(){var e=this;e.checksum=e.checkSum%103,e.addPattern(e.checksum)},addStopfunction(){this.addPattern(this.STOP)},setBaseUnitfunction(){var e=this;e.baseUnit=e.width(e.totalUnits+e.quietZoneLength)},addPatternfunction(e){var t,n,i=this,r=+i.characterMap[e];for(n=0;r.lengthn;n++)t=parseInt(r.charAt(n),10),i.pattern.push(t),i.totalUnits+=t;i.checkSum+=ei.position++},getNextStatefunction(e,t){for(var n=0;t.lengthn;n++)if(this[t[n]].is(e.value,e.index))return t[n];this.invalidCharacterError(e.value.charAt(e.index))},characterMap[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP106}),E.code128a=a.extend({nameCode 128 A,states[A]}),E.code128b=a.extend({nameCode 128 B,states[B]}),E.code128c=a.extend({nameCode 128 C,states[C]}),E.code128=a.extend({nameCode 128,states[C,B,A,FNC4]}),E[gs1-128]=a.extend({nameCode GS1-128,states[FNC1,C,B]}),s=A.extend({initValuefunction(e,t){var n=this;n.pattern=[],n.value=e,n.checkSumLength=0,n.width=t},setBaseUnitfunction(){var e=this,t=7;e.baseUnit=e.width(12(e.value.length+e.checkSumLength)+e.quietZoneLength+t)},addDatafunction(){var e,t=this,n=t.value;for(t.addPattern(t.START),e=0;n.lengthe;e++)t.addCharacter(n.charAt(e));t.options.addCheckSum&&t.addCheckSum(),t.addPattern(t.STOP),t.setBaseUnit()},addCharacterfunction(e){var t=this,n=t.characterMap[e];nt.invalidCharacterError(e),t.addPattern(n)},addPatternfunction(e){for(var t=0;e.lengtht;t++)this.pattern.push(parseInt(e.charAt(t),10))},addCheckSumfunction(){var e,t=this,n=t.checkSums[t.checkSumType],i=n.call(t.checkSums,t.value);for(t.checksum=i.join(),e=0;i.lengthe;e++)t.checkSumLength++,t.addPattern(t.characterMap[i[e]])},checkSums{Modulo10function(e){var t,n,i,r=[0,],o=e.length%2;for(t=0;e.lengtht;t++)r[(t+o)%2]+=parseInt(e.charAt(t),10);for(i=r[0],n=+2r[1],t=0;n.lengtht;t++)i+=parseInt(n.charAt(t),10);return[(10-i%10)%10]},Modulo11function(e){var t,n,i,r=0,o=11,a=e.length;for(i=0;ai;i++)t=((a-i)%66)+1,r+=te.charAt(i);return n=(o-r%o)%o,10!=n[n][1,0]},Modulo11Modulo10function(e){var t,n=this.Modulo11(e);return t=e+n[0],n.concat(this.Modulo10(t))},Modulo10Modulo10function(e){var t,n=this.Modulo10(e);return t=e+n[0],n.concat(this.Modulo10(t))}},characterMap[12121212,12121221,12122112,12122121,12211212,12211221,12212112,12212121,21121212,21121221],START21,STOP121,checkSumType}),E.msimod10=s.extend({nameMSI Modulo10,checkSumTypeModulo10}),E.msimod11=s.extend({nameMSI Modulo11,checkSumTypeModulo11}),E.msimod1110=s.extend({nameMSI Modulo11 Modulo10,checkSumTypeModulo11Modulo10}),E.msimod1010=s.extend({nameMSI Modulo10 Modulo10,checkSumTypeModulo10Modulo10}),E.code11=A.extend({nameCode 11,cCheckSumTotal10,kCheckSumTotal9,kCheckSumMinLength10,checkSumMod11,DASH_VALUE10,DASH-,START112211,STOP11221,initValuefunction(e,t){var n=this;n.pattern=[],n.value=e,n.width=t,n.totalUnits=0},addDatafunction(){var e,t=this,n=t.value;for(t.addPattern(t.START),e=0;n.lengthe;e++)t.addCharacter(n.charAt(e));t.options.addCheckSum&&t.addCheckSum(),t.addPattern(t.STOP),t.setBaseUnit()},setBaseUnitfunction(){var e=this;e.baseUnit=e.width(e.totalUnits+e.quietZoneLength)},addCheckSumfunction(){var e,t=this,n=t.value,i=n.length,r=t.getWeightedSum(n,i,t.cCheckSumTotal)%t.checkSumMod;t.checksum=r+,t.addPattern(t.characterMap[r]),i++,i=t.kCheckSumMinLength&&(e=(r+t.getWeightedSum(n,i,t.kCheckSumTotal))%t.checkSumMod,t.checksum+=e,t.addPattern(t.characterMap[e]))},getWeightedSumfunction(e,t,n){var i,r=0;for(i=0;e.lengthi;i++)r+=this.weightedValue(this.getValue(e.charAt(i)),t,i,n);return r},weightedValuefunction(e,t,n,i){var r=(t-n)%ii;return re},getValuefunction(e){var t=this;return isNaN(e)(e!==t.DASH&&t.invalidCharacterError(e),t.DASH_VALUE)parseInt(e,10)},addCharacterfunction(e){var t=this,n=t.getValue(e),i=t.characterMap[n];t.addPattern(i)},addPatternfunction(e){var t,n;for(n=0;e.lengthn;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t),this.totalUnits+=t},characterMap[111121,211121,121121,221111,112121,212111,122111,111221,211211,211111,112111],options{addCheckSum!0}}),E.postnet=A.extend({namePostnet,START2,VALID_CODE_LENGTHS[5,9,11],DIGIT_SEPARATOR-,initValuefunction(e,t,n){var i=this;i.height=n,i.width=t,i.baseHeight=n2,i.value=e.replace(RegExp(i.DIGIT_SEPARATOR,g),),i.pattern=[],i.validate(i.value),i.checkSum=0,i.setBaseUnit()},addDatafunction(){var e,t=this,n=t.value;for(t.addPattern(t.START),e=0;n.lengthe;e++)t.addCharacter(n.charAt(e));t.options.addCheckSum&&t.addCheckSum(),t.addPattern(t.START),t.pattern.pop()},addCharacterfunction(e){var t=this,n=t.characterMap[e];t.checkSum+=parseInt(e,10),t.addPattern(n)},addCheckSumfunction(){var e=this;e.checksum=(10-e.checkSum%10)%10,e.addCharacter(e.checksum)},setBaseUnitfunction(){var e=this,t=3;e.baseUnit=e.width(10(e.value.length+1)+t+e.quietZoneLength)},validatefunction(e){var t=this;if(S.test(e)t.invalidCharacterError(e.match([^0-9])[0]),p(e.length,t.VALID_CODE_LENGTHS)0)throw Error(Invalid value length. Valid lengths for the Postnet symbology are +t.VALID_CODE_LENGTHS.join(,))},addPatternfunction(e){var t,n,i=this;for(n=0;e.lengthn;n++)t=i.height-i.baseHeighte.charAt(n),i.pattern.push({width1,y1t,y2i.height}),i.pattern.push(1)},characterMap[22111,11122,11212,11221,12112,12121,12211,21112,21121,21211]}),E.ean13=A.extend({initValuefunction(e,t,n){if(e+=,12!=e.lengthD.test(e))throw Error('The value of the EAN13 encoding should be 12 symbols');var i=this;i.pattern=[],i.options.height=n,i.baseUnit=t(95+i.quietZoneLength),i.value=e,i.checksum=i.calculateChecksum(),i.leftKey=e[0],i.leftPart=e.substr(1,6),i.rightPart=e.substr(7)+i.checksum},addDatafunction(){var e=this;e.addPieces(e.characterMap.start),e.addSide(e.leftPart,e.leftKey),e.addPieces(e.characterMap.middle),e.addSide(e.rightPart),e.addPieces(e.characterMap.start)},addSidefunction(e,t){var n,i=this;for(n=0;e.lengthn;n++)t&&parseInt(i.keyTable[t].charAt(n),10)i.addPieces(Array.prototype.slice.call(i.characterMap.digits[e.charAt(n)]).reverse(),!0)i.addPieces(i.characterMap.digits[e.charAt(n)],!0)},addPiecesfunction(e,t){var n,i=this;for(n=0;e.lengthn;n++)i.pattern.push(t{y10,y2.95i.options.height,widthe[n]}e[n])},calculateChecksumfunction(){var e,t,n=0,i=0,r=this.value.split().reverse().join();for(e=0;r.lengthe;e++)e%2i+=parseInt(r.charAt(e),10)n+=parseInt(r.charAt(e),10);return t=(10-(3n+i)%10)%10},keyTable[000000,001011,001101,001110,010011,011001,011100,010101,010110,011010],characterMap{digits[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start[1,1,1],middle[1,1,1,1,1]}}),E.ean8=E.ean13.extend({initValuefunction(e,t,n){var i=this;if(7!=e.lengthD.test(e))throw Error(Invalid value provided);i.value=e,i.options.height=n,i.checksum=i.calculateChecksum(i.value),i.leftPart=i.value.substr(0,4),i.rightPart=i.value.substr(4)+i.checksum,i.pattern=[],i.baseUnit=t(67+i.quietZoneLength)}}),l=d.extend({initfunction(t,n){var i=this;d.fn.init.call(i,t,n),i.element=e(t),i.wrapper=i.element,i.element.addClass(k-barcode).css(display,block),i.surfaceWrap=e(div ).css(position,relative).appendTo(this.element),i.surface=g.Surface.create(i.surfaceWrap,{typei.options.renderAs}),i.setOptions(n)},setOptionsfunction(e){var t=this;if(t.type=(e.typet.options.type).toLowerCase(),upca==t.type&&(t.type=ean13,e.value=0+e.value),upce==t.type&&(t.type=ean8,e.value=0+e.value),!E[t.type])throw Error(Encoding +t.type+is not supported.);t.encoding=new E[t.type],t.options=u(!0,t.options,e),_(e.value)&&t.redraw()},redrawfunction(){var e=this._getSize();this.surfaceWrap.css({widthe.width,heighte.height}),this.surface.clear(),this.createVisual(),this.surface.draw(this.visual)},getSizefunction(){return c.dimensions(this.element)},_resizefunction(){this.redraw()},createVisualfunction(){this.visual=this._render()},_renderfunction(){var e,t,n,i=this,r=i.options,o=r.value,a=r.text,s=w.getSpacing(a.margin),l=i._getSize(),c=r.border{},d=i.encoding,u=y(0,0,l.width,l.height).unpad(c.width).unpad(r.padding),h=u.height(),p=new g.Group;return i.contentBox=u,p.append(i._getBackground(l)),a.visible&&(n=g.util.measureText(o,{fonta.font}).height,h-=n+s.top+s.bottom),e=d.encode(o,u.width(),h),a.visible&&(t=o,r.checksum&&_(d.checksum)&&(t+= +d.checksum),p.append(i._getText(t))),i.barHeight=h,this._bandsGroup=this._getBands(e.pattern,e.baseUnit),p.append(this._bandsGroup),p},exportVisualfunction(){return this._render()},_getSizefunction(){var e=this,t=e.element,n=new m.Size(k,x);return t.width()0&&(n.width=t.width()),t.height()0&&(n.height=t.height()),e.options.width&&(n.width=e.options.width),e.options.height&&(n.height=e.options.height),n},valuefunction(e){var n=this;return _(e)(n.options.value=e+,n.redraw(),t)n.options.value},_getBandsfunction(e,t){var n,i,r,o,a,s=this,l=s.contentBox,c=l.x1,d=new g.Group;for(r=0;e.lengthr;r++)i=f(e[r])e[r]{widthe[r],y10,y2s.barHeight},n=i.widtht,r%2&&(o=m.Rect.fromPoints(new m.Point(c,i.y1+l.y1),new m.Point(c+n,i.y2+l.y1)),a=g.Path.fromRect(o,{fill{colors.options.color},strokenull}),d.append(a)),c+=n;return d},_getBackgroundfunction(e){var t=this,n=t.options,i=n.border{},r=y(0,0,e.width,e.height).unpad(i.width2),o=g.Path.fromRect(r.toRect(),{fill{colorn.background},stroke{colori.widthi.color,widthi.width,dashTypei.dashType}});return o},_getTextfunction(e){var t=this,n=t.options.text,i=t._textbox=new b(e,{fontn.font,colorn.color,aligncenter,vAlignbottom,marginn.margin});return i.reflow(t.contentBox),i.renderVisual(),i.visual},options{nameBarcode,renderAssvg,value,typecode39,checksum!1,width0,height0,colorblack,backgroundwhite,text{visible!0,font16px Consolas, Monaco, Sans Mono, monospace, sans-serif,colorblack,margin{top0,bottom0,left0,right0}},border{width0,dashTypesolid,colorblack},padding{top0,bottom0,left0,right0}}}),w.ExportMixin.extend(l.fn),w.ui.plugin(l),c.deepExtend(w,{encodingsE,EncodingA})}(window.kendo.jQuery),function(e,t){function n(e){return parseInt(e,2)}function i(e,t){var n=(+e).toString(2);return tn.length&&(n=Array(t-n.length+1).join(0)+n),n}function r(e,t){for(var n=[],i=0;e.lengthi;)n.push(e.substring(i,i+t)),i+=t;return n}function o(e,t,n,i){for(var r=0;e.lengthr;r++)e[r][n][i]=t}function a(e,t,n,i){for(var r=0;vt.lengthr;r++)e[r][n][i]=vt[r](n,i)1^tparseInt(t,10)}function s(){var e,t;for(t=1;255t;t++)e=2ot[t-1],e255&&(e=285^e),ot[t]=e,rt[e]=t;e=2ot[t-1]^285,ot[t]=e,ot[-1]=0}function l(){var e,t,n,i=68;for(e=2;i=e;e++)t=at[e-1],n=[e,0],at[e]=y(t,n)}function c(e,n){var i=[],r=e.length-1;do i[r]=ot[(e[r]+n)%255],r--;while(e[r]!==t);return i}function d(e,t){return parseInt(e.charAt(t),10)}function u(e,t,n,i,r){t[e][i]=(t[e][i]1^r)%128,t[e][i]==mt&&(n[e]+=40)}function h(e,t,n,i,r,o){n[e][o]==ir[e][o]++(n[e][o]=i,r[e][o]=5&&(t[e]+=3+r[e][o]-5),r[e][o]=1)}function p(e,t){var n=Math.floor(et100),i=n%5,r=Math.abs(n-i-50),o=Math.abs(n+5-i-50),a=10Math.min(r5,o5);return a}var f,g,m,v,_,w,y,b,k,x,C,S,T,D,A,E,I,M,P,z,F,R,B,H,L,N,O,V,U,W,j,G,q,$,Y=window.kendo,Q=e.extend,K=Y.drawing,X=Y.dataviz,Z=Y.ui.Widget,J=X.Box2D,et=0000,tt=numeric,nt=alphanumeric,it=byte,rt={10},ot={01},at=[[1,0],[1,25,0]],st={1520,1620,1824,1924,2220,2422,2624,2820,3020,3124,3228,3324,3618,3722,3920,4024},lt=[{L{groups[[1,19]],totalDataCodewords19,errorCodewordsPerBlock7},M{groups[[1,16]],totalDataCodewords16,errorCodewordsPerBlock10},Q{groups[[1,13]],totalDataCodewords13,errorCodewordsPerBlock13},H{groups[[1,9]],totalDataCodewords9,errorCodewordsPerBlock17}},{L{groups[[1,34]],totalDataCodewords34,errorCodewordsPerBlock10},M{groups[[1,28]],totalDataCodewords28,errorCodewordsPerBlock16},Q{groups[[1,22]],totalDataCodewords22,errorCodewordsPerBlock22},H{groups[[1,16]],totalDataCodewords16,errorCodewordsPerBlock28}},{L{groups[[1,55]],totalDataCodewords55,errorCodewordsPerBlock15},M{groups[[1,44]],totalDataCodewords44,errorCodewordsPerBlock26},Q{groups[[2,17]],totalDataCodewords34,errorCodewordsPerBlock18},H{groups[[2,13]],totalDataCodewords26,errorCodewordsPerBlock22}},{L{groups[[1,80]],totalDataCodewords80,errorCodewordsPerBlock20},M{groups[[2,32]],totalDataCodewords64,errorCodewordsPerBlock18},Q{groups[[2,24]],totalDataCodewords48,errorCodewordsPerBlock26},H{groups[[4,9]],totalDataCodewords36,errorCodewordsPerBlock16}},{L{groups[[1,108]],totalDataCodewords108,errorCodewordsPerBlock26},M{groups[[2,43]],totalDataCodewords86,errorCodewordsPerBlock24},Q{groups[[2,15],[2,16]],totalDataCodewords62,errorCodewordsPerBlock18},H{groups[[2,11],[2,12]],totalDataCodewords46,errorCodewordsPerBlock22}},{L{groups[[2,68]],totalDataCodewords136,errorCodewordsPerBlock18},M{groups[[4,27]],totalDataCodewords108,errorCodewordsPerBlock16},Q{groups[[4,19]],totalDataCodewords76,errorCodewordsPerBlock24},H{groups[[4,15]],totalDataCodewords60,errorCodewordsPerBlock28}},{L{groups[[2,78]],totalDataCodewords156,errorCodewordsPerBlock20},M{groups[[4,31]],totalDataCodewords124,errorCodewordsPerBlock18},Q{groups[[2,14],[4,15]],totalDataCodewords88,errorCodewordsPerBlock18},H{groups[[4,13],[1,14]],totalDataCodewords66,errorCodewordsPerBlock26}},{L{groups[[2,97]],totalDataCodewords194,errorCodewordsPerBlock24},M{groups[[2,38],[2,39]],totalDataCodewords154,errorCodewordsPerBlock22},Q{groups[[4,18],[2,19]],totalDataCodewords110,errorCodewordsPerBlock22},H{groups[[4,14],[2,15]],totalDataCodewords86,errorCodewordsPerBlock26}},{L{groups[[2,116]],totalDataCodewords232,errorCodewordsPerBlock30},M{groups[[3,36],[2,37]],totalDataCodewords182,errorCodewordsPerBlock22},Q{groups[[4,16],[4,17]],totalDataCodewords132,errorCodewordsPerBlock20},H{groups[[4,12],[4,13]],totalDataCodewords100,errorCodewordsPerBlock24}},{L{groups[[2,68],[2,69]],totalDataCodewords274,errorCodewordsPerBlock18},M{groups[[4,43],[1,44]],totalDataCodewords216,errorCodewordsPerBlock26},Q{groups[[6,19],[2,20]],totalDataCodewords154,errorCodewordsPerBlock24},H{groups[[6,15],[2,16]],totalDataCodewords122,errorCodewordsPerBlock28}},{L{groups[[4,81]],totalDataCodewords324,errorCodewordsPerBlock20},M{groups[[1,50],[4,51]],totalDataCodewords254,errorCodewordsPerBlock30},Q{groups[[4,22],[4,23]],totalDataCodewords180,errorCodewordsPerBlock28},H{groups[[3,12],[8,13]],totalDataCodewords140,errorCodewordsPerBlock24}},{L{groups[[2,92],[2,93]],totalDataCodewords370,errorCodewordsPerBlock24},M{groups[[6,36],[2,37]],totalDataCodewords290,errorCodewordsPerBlock22},Q{groups[[4,20],[6,21]],totalDataCodewords206,errorCodewordsPerBlock26},H{groups[[7,14],[4,15]],totalDataCodewords158,errorCodewordsPerBlock28}},{L{groups[[4,107]],totalDataCodewords428,errorCodewordsPerBlock26},M{groups[[8,37],[1,38]],totalDataCodewords334,errorCodewordsPerBlock22},Q{groups[[8,20],[4,21]],totalDataCodewords244,errorCodewordsPerBlock24},H{groups[[12,11],[4,12]],totalDataCodewords180,errorCodewordsPerBlock22}},{L{groups[[3,115],[1,116]],totalDataCodewords461,errorCodewordsPerBlock30},M{groups[[4,40],[5,41]],totalDataCodewords365,errorCodewordsPerBlock24},Q{groups[[11,16],[5,17]],totalDataCodewords261,errorCodewordsPerBlock20},H{groups[[11,12],[5,13]],totalDataCodewords197,errorCodewordsPerBlock24}},{L{groups[[5,87],[1,88]],totalDataCodewords523,errorCodewordsPerBlock22},M{groups[[5,41],[5,42]],totalDataCodewords415,errorCodewordsPerBlock24},Q{groups[[5,24],[7,25]],totalDataCodewords295,errorCodewordsPerBlock30},H{groups[[11,12],[7,13]],totalDataCodewords223,errorCodewordsPerBlock24}},{L{groups[[5,98],[1,99]],totalDataCodewords589,errorCodewordsPerBlock24},M{groups[[7,45],[3,46]],totalDataCodewords453,errorCodewordsPerBlock28},Q{groups[[15,19],[2,20]],totalDataCodewords325,errorCodewordsPerBlock24},H{groups[[3,15],[13,16]],totalDataCodewords253,errorCodewordsPerBlock30}},{L{groups[[1,107],[5,108]],totalDataCodewords647,errorCodewordsPerBlock28},M{groups[[10,46],[1,47]],totalDataCodewords507,errorCodewordsPerBlock28},Q{groups[[1,22],[15,23]],totalDataCodewords367,errorCodewordsPerBlock28},H{groups[[2,14],[17,15]],totalDataCodewords283,errorCodewordsPerBlock28}},{L{groups[[5,120],[1,121]],totalDataCodewords721,errorCodewordsPerBlock30},M{groups[[9,43],[4,44]],totalDataCodewords563,errorCodewordsPerBlock26},Q{groups[[17,22],[1,23]],totalDataCodewords397,errorCodewordsPerBlock28},H{groups[[2,14],[19,15]],totalDataCodewords313,errorCodewordsPerBlock28}},{L{groups[[3,113],[4,114]],totalDataCodewords795,errorCodewordsPerBlock28},M{groups[[3,44],[11,45]],totalDataCodewords627,errorCodewordsPerBlock26},Q{groups[[17,21],[4,22]],totalDataCodewords445,errorCodewordsPerBlock26},H{groups[[9,13],[16,14]],totalDataCodewords341,errorCodewordsPerBlock26}},{L{groups[[3,107],[5,108]],totalDataCodewords861,errorCodewordsPerBlock28},M{groups[[3,41],[13,42]],totalDataCodewords669,errorCodewordsPerBlock26},Q{groups[[15,24],[5,25]],totalDataCodewords485,errorCodewordsPerBlock30},H{groups[[15,15],[10,16]],totalDataCodewords385,errorCodewordsPerBlock28}},{L{groups[[4,116],[4,117]],totalDataCodewords932,errorCodewordsPerBlock28},M{groups[[17,42]],totalDataCodewords714,errorCodewordsPerBlock26},Q{groups[[17,22],[6,23]],totalDataCodewords512,errorCodewordsPerBlock28},H{groups[[19,16],[6,17]],totalDataCodewords406,errorCodewordsPerBlock30}},{L{groups[[2,111],[7,112]],totalDataCodewords1006,errorCodewordsPerBlock28},M{groups[[17,46]],totalDataCodewords782,errorCodewordsPerBlock28},Q{groups[[7,24],[16,25]],totalDataCodewords568,errorCodewordsPerBlock30},H{groups[[34,13]],totalDataCodewords442,errorCodewordsPerBlock24}},{L{groups[[4,121],[5,122]],totalDataCodewords1094,errorCodewordsPerBlock30},M{groups[[4,47],[14,48]],totalDataCodewords860,errorCodewordsPerBlock28},Q{groups[[11,24],[14,25]],totalDataCodewords614,errorCodewordsPerBlock30},H{groups[[16,15],[14,16]],totalDataCodewords464,errorCodewordsPerBlock30}},{L{groups[[6,117],[4,118]],totalDataCodewords1174,errorCodewordsPerBlock30},M{groups[[6,45],[14,46]],totalDataCodewords914,errorCodewordsPerBlock28},Q{groups[[11,24],[16,25]],totalDataCodewords664,errorCodewordsPerBlock30},H{groups[[30,16],[2,17]],totalDataCodewords514,errorCodewordsPerBlock30}},{L{groups[[8,106],[4,107]],totalDataCodewords1276,errorCodewordsPerBlock26},M{groups[[8,47],[13,48]],totalDataCodewords1e3,errorCodewordsPerBlock28},Q{groups[[7,24],[22,25]],totalDataCodewords718,errorCodewordsPerBlock30},H{groups[[22,15],[13,16]],totalDataCodewords538,errorCodewordsPerBlock30}},{L{groups[[10,114],[2,115]],totalDataCodewords1370,errorCodewordsPerBlock28},M{groups[[19,46],[4,47]],totalDataCodewords1062,errorCodewordsPerBlock28},Q{groups[[28,22],[6,23]],totalDataCodewords754,errorCodewordsPerBlock28},H{groups[[33,16],[4,17]],totalDataCodewords596,errorCodewordsPerBlock30}},{L{groups[[8,122],[4,123]],totalDataCodewords1468,errorCodewordsPerBlock30},M{groups[[22,45],[3,46]],totalDataCodewords1128,errorCodewordsPerBlock28},Q{groups[[8,23],[26,24]],totalDataCodewords808,errorCodewordsPerBlock30},H{groups[[12,15],[28,16]],totalDataCodewords628,errorCodewordsPerBlock30}},{L{groups[[3,117],[10,118]],totalDataCodewords1531,errorCodewordsPerBlock30},M{groups[[3,45],[23,46]],totalDataCodewords1193,errorCodewordsPerBlock28},Q{groups[[4,24],[31,25]],totalDataCodewords871,errorCodewordsPerBlock30},H{groups[[11,15],[31,16]],totalDataCodewords661,errorCodewordsPerBlock30}},{L{groups[[7,116],[7,117]],totalDataCodewords1631,errorCodewordsPerBlock30},M{groups[[21,45],[7,46]],totalDataCodewords1267,errorCodewordsPerBlock28},Q{groups[[1,23],[37,24]],totalDataCodewords911,errorCodewordsPerBlock30},H{groups[[19,15],[26,16]],totalDataCodewords701,errorCodewordsPerBlock30}},{L{groups[[5,115],[10,116]],totalDataCodewords1735,errorCodewordsPerBlock30},M{groups[[19,47],[10,48]],totalDataCodewords1373,errorCodewordsPerBlock28},Q{groups[[15,24],[25,25]],totalDataCodewords985,errorCodewordsPerBlock30},H{groups[[23,15],[25,16]],totalDataCodewords745,errorCodewordsPerBlock30}},{L{groups[[13,115],[3,116]],totalDataCodewords1843,errorCodewordsPerBlock30},M{groups[[2,46],[29,47]],totalDataCodewords1455,errorCodewordsPerBlock28},Q{groups[[42,24],[1,25]],totalDataCodewords1033,errorCodewordsPerBlock30},H{groups[[23,15],[28,16]],totalDataCodewords793,errorCodewordsPerBlock30}},{L{groups[[17,115]],totalDataCodewords1955,errorCodewordsPerBlock30},M{groups[[10,46],[23,47]],totalDataCodewords1541,errorCodewordsPerBlock28},Q{groups[[10,24],[35,25]],totalDataCodewords1115,errorCodewordsPerBlock30},H{groups[[19,15],[35,16]],totalDataCodewords845,errorCodewordsPerBlock30}},{L{groups[[17,115],[1,116]],totalDataCodewords2071,errorCodewordsPerBlock30},M{groups[[14,46],[21,47]],totalDataCodewords1631,errorCodewordsPerBlock28},Q{groups[[29,24],[19,25]],totalDataCodewords1171,errorCodewordsPerBlock30},H{groups[[11,15],[46,16]],totalDataCodewords901,errorCodewordsPerBlock30}},{L{groups[[13,115],[6,116]],totalDataCodewords2191,errorCodewordsPerBlock30},M{groups[[14,46],[23,47]],totalDataCodewords1725,errorCodewordsPerBlock28},Q{groups[[44,24],[7,25]],totalDataCodewords1231,errorCodewordsPerBlock30},H{groups[[59,16],[1,17]],totalDataCodewords961,errorCodewordsPerBlock30}},{L{groups[[12,121],[7,122]],totalDataCodewords2306,errorCodewordsPerBlock30},M{groups[[12,47],[26,48]],totalDataCodewords1812,errorCodewordsPerBlock28},Q{groups[[39,24],[14,25]],totalDataCodewords1286,errorCodewordsPerBlock30},H{groups[[22,15],[41,16]],totalDataCodewords986,errorCodewordsPerBlock30}},{L{groups[[6,121],[14,122]],totalDataCodewords2434,errorCodewordsPerBlock30},M{groups[[6,47],[34,48]],totalDataCodewords1914,errorCodewordsPerBlock28},Q{groups[[46,24],[10,25]],totalDataCodewords1354,errorCodewordsPerBlock30},H{groups[[2,15],[64,16]],totalDataCodewords1054,errorCodewordsPerBlock30}},{L{groups[[17,122],[4,123]],totalDataCodewords2566,errorCodewordsPerBlock30},M{groups[[29,46],[14,47]],totalDataCodewords1992,errorCodewordsPerBlock28},Q{groups[[49,24],[10,25]],totalDataCodewords1426,errorCodewordsPerBlock30},H{groups[[24,15],[46,16]],totalDataCodewords1096,errorCodewordsPerBlock30}},{L{groups[[4,122],[18,123]],totalDataCodewords2702,errorCodewordsPerBlock30},M{groups[[13,46],[32,47]],totalDataCodewords2102,errorCodewordsPerBlock28},Q{groups[[48,24],[14,25]],totalDataCodewords1502,errorCodewordsPerBlock30},H{groups[[42,15],[32,16]],totalDataCodewords1142,errorCodewordsPerBlock30}},{L{groups[[20,117],[4,118]],totalDataCodewords2812,errorCodewordsPerBlock30},M{groups[[40,47],[7,48]],totalDataCodewords2216,errorCodewordsPerBlock28},Q{groups[[43,24],[22,25]],totalDataCodewords1582,errorCodewordsPerBlock30},H{groups[[10,15],[67,16]],totalDataCodewords1222,errorCodewordsPerBlock30}},{L{groups[[19,118],[6,119]],totalDataCodewords2956,errorCodewordsPerBlock30},M{groups[[18,47],[31,48]],totalDataCodewords2334,errorCodewordsPerBlock28},Q{groups[[34,24],[34,25]],totalDataCodewords1666,errorCodewordsPerBlock30},H{groups[[20,15],[61,16]],totalDataCodewords1276,errorCodewordsPerBlock30}}],ct=[1,0,1,1,1],dt=[1,0,1],ut={L01,M00,Q11,H10},ht=101010000010010,pt=10100110111,ft=1111100100101,gt=[11101100,00010001],mt=93,vt=[function(e,t){return(e+t)%2===0},function(e){return e%2===0},function(e,t){return t%3===0},function(e,t){return(e+t)%3===0},function(e,t){return(Math.floor(e2)+Math.floor(t3))%2===0},function(e,t){return et%2+et%3===0},function(e,t){return(et%2+et%3)%2===0},function(e,t){return((e+t)%2+et%3)%2===0}],_t=^d+,wt=A-Z0-9 $%+.-,yt=A-Z $%+.-,bt=RegExp(^[+yt+]+),kt=RegExp(^[+wt+]+),xt=RegExp(^[^+wt+]+),Ct=8,St=5,Tt=8,Dt=17,At=9,Et=16,It=Math.round,Mt=Y.Class.extend({getVersionIndexfunction(e){return 10e0e2621},getBitsCharacterCountfunction(e){var t=this;return t.bitsInCharacterCount[t.getVersionIndex(e40)]},getModeCountStringfunction(e,t){var n=this;return n.modeIndicator+i(e,n.getBitsCharacterCount(t))},encodefunction(){},getStringBitsLengthfunction(){},getValuefunction(){},modeIndicator,bitsInCharacterCount[]}),Pt={};Pt[tt]=Mt.extend({bitsInCharacterCount[10,12,14],modeIndicator0001,getValuefunction(e){return parseInt(e,10)},encodefunction(e,t){var n,o=this,a=r(e,3),s=o.getModeCountString(e.length,t);for(n=0;a.length-1n;n++)s+=i(a[n],10);return s+i(a[n],1+3a[n].length)},getStringBitsLengthfunction(e,t){var n=e%3;return 4+this.getBitsCharacterCount(t)+10Math.floor(e3)+3n+(0===n01)}}),Pt[nt]=Mt.extend({characters{00,11,22,33,44,55,66,77,88,99,A10,B11,C12,D13,E14,F15,G16,H17,I18,J19,K20,L21,M22,N23,O24,P25,Q26,R27,S28,T29,U30,V31,W32,X33,Y34,Z35, 36,$37,%38,39,+40,-41,.42,43,44},bitsInCharacterCount[9,11,13],modeIndicator0010,getValuefunction(e){return this.characters[e]},encodefunction(e,t){var n,o,a=this,s=r(e,2),l=a.getModeCountString(e.length,t);for(o=0;s.length-1o;o++)n=45a.getValue(s[o].charAt(0))+a.getValue(s[o].charAt(1)),l+=i(n,11);return n=2==s[o].length45a.getValue(s[o].charAt(0))+a.getValue(s[o].charAt(1))a.getValue(s[o].charAt(0)),l+i(n,1+5s[o].length)},getStringBitsLengthfunction(e,t){return 4+this.getBitsCharacterCount(t)+11Math.floor(e2)+6(e%2)}}),Pt[it]=Mt.extend({bitsInCharacterCount[8,16,16],modeIndicator0100,getValuefunction(e){var t=e.charCodeAt(0);if(127=tt=160&&255=t)return t;throw Error(Unsupported character +e)},encodefunction(e,t){var n,r=this,o=r.getModeCountString(e.length,t);for(n=0;e.lengthn;n++)o+=i(r.getValue(e.charAt(n)),8);return o},getStringBitsLengthfunction(e,t){return 4+this.getBitsCharacterCount(t)+8e}}),f={};for(g in Pt)f[g]=new Pt[g];m=function(e){var n=this,i=e.length-1,r=e.length-1,o=r,a=-1,s=0;n.move=function(){i+=as,s^=1,r=o-s},n.getNextCell=function(){for(;e[i][r]!==t;)n.move(),(0ii=e.length)&&(a=-a,o-=8!=o23,r=o,i=0ae.length-10);return{rowi,columnr}},n.getNextRemainderCell=function(){return n.move(),e[i][r]===t{rowi,columnr}t}},v=function(e,t){var n,i,r,o,s,l,c=new m(e[0]);for(o=0;t.lengtho;o++)for(n=t[o],i=0;n.length0;){for(s=0;n.lengths;s++)for(l=0;8l;l++)r=c.getNextCell(),a(e,n[s][i].charAt(l),r.row,r.column);
for(i++;n[0]&&i==n[0].length;)n.splice(0,1)}for(;r=c.getNextRemainderCell();)a(e,0,r.row,r.column)},_=function(e,t){for(var n=8t,i=0,r=0;ne.length&&et.lengthi;)e+=et.charAt(i++);for(e.length%8!==0&&(e+=Array(9-e.length%8).join(0));ne.length;)e+=gt[r],r^=1;return e},w=function(e,t){var n,i=[],r=e.length-2;for(n=r;n=0;n--)i[n]=e[n]^t[n];return i},y=function(e,n){var i,r,o=[];for(i=0;e.lengthi;i++)for(r=0;n.lengthr;r++)o[i+r]=o[i+r]===t(e[i]+(n[r]=0n[r]0))%255rt[ot[o[i+r]]^ot[(e[i]+n[r])%255]];return o},s(),l(),b=function(e,t){var n,r,o=at[t-1],a=Array(t).concat(e),s=Array(a.length-o.length).concat(o),l=e.length,d=[];for(r=0;lr;r++)n=c(s,rt[a[a.length-1]]),s.splice(0,1),a=w(n,a);for(r=a.length-1;r=0;r--)d[t-1-r]=i(a[r],8);return d},k=function(e,t){var i,r,o,a,s,l,c,d,u=0,h=[],p=[],f=t.groups;for(l=0;f.lengthl;l++)for(o=f[l][0],c=0;oc;c++){for(r=f[l][1],i=[],a=[],d=1;r=d;d++)s=e.substring(u,u+8),i.push(s),a[r-d]=n(s),u+=8;h.push(i),p.push(b(a,t.errorCodewordsPerBlock))}return[h,p]},x=function(e,t,n,i,r){var o,a,s=_t.exec(e),l=ss[0],c=bt.exec(e),d=cc[0],u=kt.exec(e),h=uu[0];return l&&(l.length=te.length==l.lengthl.length=n&&!kt.test(e.charAt(l.length)))(o=tt,a=l)h&&(e.length==h.lengthh.length=ir==nt)(o=nt,a=ld)(o=it,a=hh+xt.exec(e.substring(h.length))[0]xt.exec(e)[0]),{modeo,modeStringa}},C=function(e){var t,n,i=[],r=0;for(i.push(x(e,Ct,St,Tt,t)),t=i[0].mode,e=e.substr(i[0].modeString.length);e.length0;)n=x(e,Dt,At,Et,t),n.mode!=t(t=n.mode,i.push(n),r++)i[r].modeString+=n.modeString,e=e.substr(n.modeString.length);return i},S=function(e){var t,n,i=0;for(n=0;e.lengthn;n++)t=f[e[n].mode],i+=t.getStringBitsLength(e[n].modeString.length);return Math.ceil(i8)},T=function(e,t){var n=0,i=lt.length-1,r=Math.floor(lt.length2);do lt[r][t].totalDataCodewordsei=rn=r,r=n+Math.floor((i-n)2);while(i-n1);return lt[n][t].totalDataCodewords=er+1i+1},D=function(e,t){var n,i,r=;for(i=0;e.lengthi;i++)n=f[e[i].mode],r+=n.encode(e[i].modeString,t);return r},A=function(e){var t,i,r=n(e),o=;if(0===r)return101010000010010;for(t=E(n(e),pt,15),i=0;t.lengthi;i++)o+=t.charAt(i)^ht.charAt(i);return o},E=function(e,t,r){var o=n(t),a=t.length-1,s=ea,l=r-a,c=i(e,l),d=I(s,o);return d=c+i(d,a)},I=function(e,t){var n=t.toString(2).length,i=e.toString(2).length;do e^=ti-n,i=e.toString(2).length;while(i=n);return e},M=function(e){var t,n,i=[],r=17+4e;for(t=0;vt.lengtht;t++)for(i[t]=Array(r),n=0;rn;n++)i[t][n]=Array(r);return i},P=function(e,t){var n,i,r=e[0],a=0,s=t.length;for(n=0,i=8;8=n;n++)6!==n&&o(e,d(t,s-1-a++),n,i);for(n=8,i=7;i=0;i--)6!==i&&o(e,d(t,s-1-a++),n,i);for(a=0,i=r.length-1,n=8;i=r.length-8;i--)o(e,d(t,s-1-a++),n,i);for(o(e,1,r.length-8,8),n=r.length-7,i=8;r.lengthn;n++)o(e,d(t,s-1-a++),n,i)},z=function(e){return E(e,ft,18)},F=function(e,t){var n,i,r,a,s=e[0],l=s.length,c=0,u=l-11,h=l-11,p=0;for(a=0;t.lengtha;a++)n=Math.floor(a3),i=a%3,r=d(t,t.length-a-1),o(e,r,c+n,u+i),o(e,r,h+i,p+n)},R=function(e,t,n,i){var r,a,s,l=t.length+2,c=t.length+1;for(a=0;t.lengtha;a++)for(s=a;l-as;s++)r=t[a],o(e,r,n+s,i+a),o(e,r,n+a,i+s),o(e,r,n+c-s,i+c-a),o(e,r,n+c-a,i+c-s)},B=function(e,t,n,i){var r=n,a=i,s=e[0];do o(e,0,r,i),o(e,0,n,a),r+=t[0],a+=t[1];while(r=0&&s.lengthr)},H=function(e){var t=e[0].length;R(e,ct,0,0),B(e,[-1,-1],7,7),R(e,ct,t-7,0),B(e,[1,-1],t-8,7),R(e,ct,0,t-7),B(e,[-1,1],7,t-8)},L=function(e,n){var i,r,o,a,s,l,c,d,u;if(!(2n)){for(i=e[0],r=i.length,o=Math.floor(n7),a=[6],c=0,(s=st[n])l=(r-13-s)os=l=(r-13)(o+1),a.push(a[c++]+s);ra[c]+l;)a.push(a[c++]+l);for(d=0;a.lengthd;d++)for(u=0;a.lengthu;u++)i[a[d]][a[u]]===t&&R(e,dt,a[d]-2,a[u]-2)}},N=function(e){var t,n=6,i=6,r=1,a=e[0].length;for(t=8;a-8t;t++)o(e,r,n,t),o(e,r,t,i),r^=1},O=function(e){var t,n,i,r,o,a,s,l=[],c=[],d=[],f=[],g=[],m=0,v=1,_=e[0].length;for(n=0;e.lengthn;n++)l[n]=0,d[n]=0,g[n]=[0,0],f[n]=[0,0],c[n]=[];for(n=0;_n;n++)for(i=0;_i;i++)for(r=0;e.lengthr;r++)t=e[r],d[r]+=parseInt(t[n][i],10),c[r][m]===t[n][i]&&_n+1&&i-1=0&&t[n+1][i]==c[r][m]&&t[n+1][i-1]==c[r][m]&&(l[r]+=3),u(r,f,l,m,t[n][i]),u(r,f,l,v,t[i][n]),h(r,l,c,t[n][i],g,m),h(r,l,c,t[i][n],g,v);for(o=__,s=Number.MAX_VALUE,n=0;l.lengthn;n++)l[n]+=p(d[n],o),sl[n]&&(s=l[n],a=n);return a},V=function(e,t){this.dataString=e,this.version=t},U=function(){this.getEncodingResult=function(e,t){var n=C(e),i=S(n),r=T(i,t),o=D(n,r);return new V(o,r)}},W=function(){this.mode=f[this.encodingMode]},W.fn=W.prototype={encodingModeit,utfBOM111011111011101110111111,initialModeCountStringLength20,getEncodingResultfunction(e,t){var n=this,i=n.encode(e),r=n.getDataCodewordsCount(i),o=T(r,t),a=n.mode.getModeCountString(i.length8,o)+i;return new V(a,o)},getDataCodewordsCountfunction(e){var t=this,n=e.length,i=Math.ceil((t.initialModeCountStringLength+n)8);return i},encodefunction(e){var t,n=this,i=n.utfBOM;for(t=0;e.lengtht;t++)i+=n.encodeCharacter(e.charCodeAt(t));return i},encodeCharacterfunction(e){var t,n,r=this.getBytesCount(e),o=r-1,a=;if(1==r)a=i(e,8);else{for(t=8-r,n=0;on;n++)a=i(e6n&63128,8)+a;a=(e6o255tt).toString(2)+a}return a},getBytesCountfunction(e){var t,n=this.ranges;for(t=0;n.lengtht;t++)if(n[t]e)return t+1},ranges[128,2048,65536,2097152,67108864]},j=function(e){return e&&e.toLowerCase().indexOf(utf_8)=0new Wnew U},G=function(e,t,n){var r,o,a,s=new j(n),l=s.getEncodingResult(e,t),c=l.version,d=lt[c-1][t],u=_(l.dataString,d.totalDataCodewords),h=k(u,d),p=M(c);return H(p),L(p,c),N(p),c=7&&F(p,i(0,18)),P(p,i(0,15)),v(p,h),r=O(p),o=p[r],c=7&&F([o],z(c)),a=ut[t]+i(r,3),P([o],A(a)),o},q={DEFAULT_SIZE200,QUIET_ZONE_LENGTH4,DEFAULT_ERROR_CORRECTION_LEVELL,DEFAULT_BACKGROUND#fff,DEFAULT_DARK_MODULE_COLOR#000,MIN_BASE_UNIT_SIZE1},$=Z.extend({initfunction(t,n){var i=this;Z.fn.init.call(i,t,n),i.element=e(t),i.wrapper=i.element,i.element.addClass(k-qrcode),i.surfaceWrap=e(div ).css(position,relative).appendTo(this.element),i.surface=K.Surface.create(i.surfaceWrap,{typei.options.renderAs}),i.setOptions(n)},redrawfunction(){var e=this._getSize();this.surfaceWrap.css({widthe,heighte}),this.surface.clear(),this.createVisual(),this.surface.draw(this.visual)},getSizefunction(){return Y.dimensions(this.element)},_resizefunction(){this.redraw()},createVisualfunction(){this.visual=this._render()},exportVisualfunction(){return this._render()},_renderfunction(){var e,t,n,i,r,o,a,s=this,l=s._value,c=s.options.border{},d=s.options.padding0,u=c.width0;return c.width=u,a=new K.Group,l&&(n=G(l,s.options.errorCorrection,s.options.encoding),i=s._getSize(),o=i-2(u+d),e=s._calculateBaseUnit(o,n.length),r=n.lengthe,t=u+d+(o-r)2,a.append(s._renderBackground(i,c)),a.append(s._renderMatrix(n,e,t))),a},_getSizefunction(){var e,t,n,i=this;return i.options.sizee=parseInt(i.options.size,10)(t=i.element,n=Math.min(t.width(),t.height()),e=n0nq.DEFAULT_SIZE),e},_calculateBaseUnitfunction(e,t){var n=Math.floor(et);if(q.MIN_BASE_UNIT_SIZEn)throw Error(Insufficient size.);return nt=e&&n-1=q.MIN_BASE_UNIT_SIZE&&n--,n},_renderMatrixfunction(e,t,n){var i,r,o,a,s,l,c,d,u=new K.MultiPath({fill{colorthis.options.color},strokenull});for(i=0;e.lengthi;i++)for(r=n+it,o=0;e.lengtho;){for(;0===e[i][o]&&e.lengtho;)o++;if(e.lengtho){for(a=o;1==e[i][o];)o++;s=It(n+at),l=It(r),c=It(n+ot),d=It(r+t),u.moveTo(s,l).lineTo(s,d).lineTo(c,d).lineTo(c,l).close()}}return u},_renderBackgroundfunction(e,t){var n=J(0,0,e,e).unpad(t.width2);return K.Path.fromRect(n.toRect(),{fill{colorthis.options.background},stroke{colort.color,widtht.width}})},setOptionsfunction(e){var n=this;e=e{},n.options=Q(n.options,e),e.value!==t&&(n._value=n.options.value+),n.redraw()},valuefunction(e){var n=this;return e===tn._value(n._value=e+,n.redraw(),t)},options{nameQRCode,renderAssvg,encodingISO_8859_1,value,errorCorrectionq.DEFAULT_ERROR_CORRECTION_LEVEL,backgroundq.DEFAULT_BACKGROUND,colorq.DEFAULT_DARK_MODULE_COLOR,size,padding0,border{color,width0}}}),X.ExportMixin.extend($.fn),X.ui.plugin($),Y.deepExtend(X,{QRCode$,QRCodeDefaultsq,QRCodeFunctions{FreeCellVisitorm,fillDatav,padDataString_,generateErrorCodewordsb,xorPolynomialsw,getBlocksk,multiplyPolynomialsy,chooseModex,getModesC,getDataCodewordsCountS,getVersionT,getDataStringD,encodeFormatInformationA,encodeBCHE,dividePolynomialsI,initMatricesM,addFormatInformationP,encodeVersionInformationz,addVersionInformationF,addCentricPatternR,addFinderSeparatorB,addFinderPatternsH,addAlignmentPatternsL,addTimingFunctionsN,scoreMaskMatrixesO,encodeDataG,UTF8EncoderW},QRCodeFields{modesf,powersOfTwort,powersOfTwoResultot,generatorPolynomialsat}})}(window.kendo.jQuery),function(e,t){function n(){}function i(e){return n.prototype=e,new n}var r,o=window.kendo,a=o.Class,s=o.Observable,l=o.deepExtend,c=Math,d=e.proxy,u=o.util,h=u.last,p=u.renderTemplate,f=o.dataviz,g=u.defined,m=f.filterSeriesByType,v=o.template,_=f.ui.Chart,w=f.Selection,y=f.addDuration,b=u.limitValue,k=f.lteDateIndex,x=f.toDate,C=f.toTime,S=28,T=change,D=k-,A=drag,E=dragEnd,I=_navigator,M=I,P=f.EQUALLY_SPACED_SERIES,z=3,F=zoom,R=zoomEnd,B=_.extend({initfunction(t,n){e(t).addClass(D+chart),_.fn.init.call(this,t,n)},_applyDefaultsfunction(e,t){var n=this,i=n.element.width()f.DEFAULT_WIDTH,r={seriesDefaults{categoryFielde.dateField},axisDefaults{categoryAxis{namedefault,majorGridLines{visible!1},labels{step2},majorTicks{visible!1},maxDateGroupsc.floor(iS)}}};t&&(t=l({},t,r)),n._navigatorH.setup(e,t),_.fn._applyDefaults.call(n,e,t)},_initDataSourcefunction(e){var t,n,i=e{},r=i.dataSource,o=r&&r.serverFiltering,a=[].concat(i.categoryAxis)[0],s=i.navigator{},c=s.select,d=c&&c.from&&c.to;o&&d&&(t=[].concat(r.filter[]),n=new f.DateCategoryAxis(l({baseUnitfit},a,{categories[c.from,c.to]})),r.filter=H.buildFilter(n.range().min,c.to).concat(t)),_.fn._initDataSource.call(this,e)},options{nameStockChart,dateFielddate,axisDefaults{categoryAxis{typedate,baseUnitfit,justified!0},valueAxis{narrowRange!0,labels{formatC}}},navigator{select{},seriesDefaults{markers{visible!1},tooltip{visible!0,template#= kendo.toString(category, 'd') #},line{width2}},hint{},visible!0},tooltip{visible!0},legend{visible!1}},_resizefunction(){var e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e},_redrawfunction(){var e=this,t=e._navigator;!this._dirty()&&t&&t.dataSourcet.redrawSlaves()e._fullRedraw()},_dirtyfunction(){var t=this.options,n=[].concat(t.series,t.navigator.series),i=e.grep(n,function(e){return e&&e.visible}).length,r=this._seriesCount!==i;return this._seriesCount=i,r},_fullRedrawfunction(){var e=this,t=e._navigator;t(t=e._navigator=new H(e)),t._setRange(),_.fn._redraw.call(e),t._initSelection()},_onDataChangedfunction(){var e=this;_.fn._onDataChanged.call(e),e._dataBound=!0},_bindCategoryAxisfunction(e,t,n){var i,r=this,o=r.options.categoryAxis,a=o.length;if(_.fn._bindCategoryAxis.apply(this,arguments),e.name===M)for(;an;)i=o[n++],i.pane==I&&(i.categories=e.categories)},_trackSharedTooltipfunction(e){var t=this,n=t._plotArea,i=n.paneByPoint(e);i&&i.options.name===It._unsetActivePoint()_.fn._trackSharedTooltip.call(t,e)},destroyfunction(){var e=this;e._navigator.destroy(),_.fn.destroy.call(e)}}),H=s.extend({initfunction(e){var t=this;t.chart=e,t.options=l({},t.options,e.options.navigator),t._initDataSource(),g(t.options.hint.visible)(t.options.hint.visible=t.options.visible),e.bind(A,d(t._drag,t)),e.bind(E,d(t._dragEnd,t)),e.bind(F,d(t._zoom,t)),e.bind(R,d(t._zoomEnd,t))},options{},_initDataSourcefunction(){var e=this,t=e.options,n=t.autoBind,i=t.dataSource;g(n)(n=e.chart.options.autoBind),e._dataChangedHandler=d(e._onDataChanged,e),i&&(e.dataSource=o.data.DataSource.create(i).bind(T,e._dataChangedHandler),n&&e.dataSource.fetch())},_onDataChangedfunction(){var e,t,n,i,r,o=this,a=o.chart,s=a.options.series,l=s.length,c=a.options.categoryAxis,d=c.length,u=o.dataSource.view();for(e=0;le;e++)n=s[e],n.axis==M&&a._isBindable(n)&&(n.data=u);for(t=0;dt;t++)i=c[t],i.pane==I&&(i.name==M(a._bindCategoryAxis(i,u,t),r=i.categories)i.categories=r);a._model&&(o.redraw(),o.filterAxes(),(!a.options.dataSourcea.options.dataSource&&a._dataBound)&&o.redrawSlaves())},destroyfunction(){var e=this,t=e.dataSource;t&&t.unbind(T,e._dataChangeHandler),e.selection&&e.selection.destroy()},redrawfunction(){this._redrawSelf(),this._initSelection()},_initSelectionfunction(){var t=this,n=t.chart,o=t.options,a=t.mainAxis(),s=i(a),l=a.range(),c=l.min,d=l.max,u=a.options.categories,h=t.options.select,p=t.selection,f=x(h.from),g=x(h.to);0!==u.length&&(p&&(p.destroy(),p.wrapper.remove()),s.box=a.box,p=t.selection=new w(n,s,{minc,maxd,fromf,tog,selectStarte.proxy(t._selectStart,t),selecte.proxy(t._select,t),selectEnde.proxy(t._selectEnd,t),mousewheel{zoomleft}}),o.hint.visible&&(t.hint=new r(n.element,{minc,maxd,templateo.hint.template,formato.hint.format})))},_setRangefunction(){var e,t=this.chart._createPlotArea(!0),n=t.namedCategoryAxes[M],i=n.options,r=n.range(),o=r.min,a=y(r.max,i.baseUnitStep,i.baseUnit),s=this.options.select{},l=x(s.from)o;ol&&(l=o),e=x(s.to)a,ea&&(e=a),this.options.select={froml,toe},this.filterAxes()},_redrawSelffunction(e){var t=this.chart._plotArea;t&&t.redraw(h(t.panes),e)},redrawSlavesfunction(){var e=this,t=e.chart,n=t._plotArea,i=n.panes.slice(0,-1);n.srcSeries=t.options.series,n.redraw(i)},_dragfunction(e){var t,n,i,r=this,o=r.chart,a=o._eventCoordinates(e.originalEvent),s=r.mainAxis(),l=s.range(),c=s.pane.box.containsPoint(a),d=o._plotArea.categoryAxis,u=e.axisRanges[d.options.name],h=r.options.select,p=r.selection;u&&!c&&p&&(t=h.from&&h.toC(h.to)-C(h.from)C(p.options.to)-C(p.options.from),n=x(b(C(u.min),l.min,C(l.max)-t)),i=x(b(C(n)+t,C(l.min)+t,l.max)),r.options.select={fromn,toi},r._liveDrag()&&(r.filterAxes(),r.redrawSlaves()),p.set(n,i),r.showHint(n,i))},_dragEndfunction(){var e=this;e.filterAxes(),e.filterDataSource(),e.redrawSlaves(),e.hint&&e.hint.hide()},_liveDragfunction(){var e=o.support,t=e.touch,n=e.browser,i=n.mozilla,r=n.msie&&9n.version;return!t&&!i&&!r},readSelectionfunction(){var e=this,t=e.selection,n=t.options,i=e.options.select;i.from=n.from,i.to=n.to},filterAxesfunction(){var e,t,n=this,i=n.options.select{},r=n.chart,o=r.options.categoryAxis,a=i.from,s=i.to;for(e=0;o.lengthe;e++)t=o[e],t.pane!==I&&(t.min=x(a),t.max=x(s))},filterDataSourcefunction(){var e,t=this,n=t.options.select{},i=t.chart,r=i.dataSource,o=r&&r.options.serverFiltering;t.dataSource&&o&&(e=new f.DateCategoryAxis(l({baseUnitfit},i.options.categoryAxis[0],{categories[n.from,n.to]})).options,r.filter(H.buildFilter(y(e.min,-e.baseUnitStep,e.baseUnit),y(e.max,e.baseUnitStep,e.baseUnit))))},_zoomfunction(e){var t,n,i=this,r=i.chart,a=e.delta,s=r._plotArea.categoryAxis,l=i.options.select,d=i.selection,u=i.mainAxis().options.categories;d&&(t=k(d.options.from,u),n=k(d.options.to,u),e.originalEvent.preventDefault(),c.abs(a)1&&(a=z),n-t1(d.expand(a),i.readSelection())(s.options.min=l.from,l.from=s.scaleRange(-e.delta).min),o.support.touch(i.filterAxes(),i.redrawSlaves()),d.set(l.from,l.to),i.showHint(i.options.select.from,i.options.select.to))},_zoomEndfunction(e){this._dragEnd(e)},showHintfunction(e,t){var n=this,i=n.chart,r=i._plotArea;n.hint&&n.hint.show(e,t,r.backgroundBox())},_selectStartfunction(e){var t=this.chart;t._selectStart.call(t,e)},_selectfunction(e){var t=this,n=t.chart;t.showHint(e.from,e.to),n._select.call(n,e)},_selectEndfunction(e){var t=this,n=t.chart;t.hint&&t.hint.hide(),t.readSelection(),t.filterAxes(),t.filterDataSource(),t.redrawSlaves(),n._selectEnd.call(n,e)},mainAxisfunction(){var e=this.chart._plotArea;return ee.namedCategoryAxes[M]t}});H.setup=function(e,t){e=e{},t=t{};var n=l({},t.navigator,e.navigator),i=e.panes=[].concat(e.panes),r=l({},n.pane,{nameI});n.visible(r.visible=!1,r.height=.1),i.push(r),H.attachAxes(e,n),H.attachSeries(e,n,t)},H.attachAxes=function(e,t){var n=t.series[],i=e.categoryAxis=[].concat(e.categoryAxis),r=e.valueAxis=[].concat(e.valueAxis),o=m(n,P),a=0===o.length,s=l({typedate,paneI,roundToBaseUnit!a,justifieda,_collapse!1,majorTicks{visible!0},tooltip{visible!1},labels{step1},autoBind!t.dataSource,autoBaseUnitSteps{minutes[1],hours[1,2],days[1,2],weeks[],months[1],years[1]},_overlap!1}),c=t.categoryAxis;i.push(l({},s,{maxDateGroups200},c,{nameM,baseUnitfit,baseUnitStepauto,labels{visible!1},majorTicks{visible!1}}),l({},s,c,{nameM+_labels,maxDateGroups20,baseUnitStepauto,plotBands[],autoBaseUnitSteps{minutes[]}}),l({},s,c,{nameM+_ticks,maxDateGroups200,majorTicks{width.5},plotBands[],labels{visible!1,mirror!0}})),r.push(l({nameM,paneI,majorGridLines{visible!1},visible!1},t.valueAxis))},H.attachSeries=function(e,t,n){var i,r=e.series=e.series[],o=[].concat(t.series[]),a=n.seriesColors,s=t.seriesDefaults;for(i=0;o.lengthi;i++)r.push(l({colora[i%a.length],categoryFieldt.dateField,visibleInLegend!1,tooltip{visible!1}},s,o[i],{axisM,categoryAxisM,autoBind!t.dataSource}))},H.buildFilter=function(e,t){return[{fieldDate,operatorgte,valuex(e)},{fieldDate,operatorlt,valuex(t)}]},r=a.extend({initfunction(t,n){var i=this;i.options=l({},i.options,n),i.container=t,i.chartPadding={topparseInt(t.css(paddingTop),10),leftparseInt(t.css(paddingLeft),10)},i.template=i.template,i.template(i.template=i.template=p(div class='+D+navigator-hint' style='display none; position absolute; top 1px; left 1px;'div class='+D+tooltip +D+chart-tooltip'&nbsp;divdiv class='+D+scroll' div)),i.element=e(i.template()).appendTo(t)},options{format{0d} - {1d},hideDelay500},showfunction(e,t,n){var i,r=this,a=x(C(e)+C(t-e)2),s=r.options,l=o.format(r.options.format,e,t),c=r.element.find(.+D+tooltip),d=r.element.find(.+D+scroll),u=.4n.width(),h=n.center().x-u,p=n.center().x,f=p-h,g=s.max-s.min,m=fg,_=a-s.min;r._hideTimeout&&clearTimeout(r._hideTimeout),r._visible(r.element.stop(!1,!0).css(visibility,hidden).show(),r._visible=!0),s.template&&(i=v(s.template),l=i({frome,tot})),c.html(l).css({leftn.center().x-c.outerWidth()2,topn.y1}),d.css({widthu,lefth+_m,topn.y1+parseInt(c.css(margin-top),10)+parseInt(c.css(border-top-width),10)+c.height()2}),r.element.css(visibility,visible)},hidefunction(){var e=this;e._hideTimeout&&clearTimeout(e._hideTimeout),e._hideTimeout=setTimeout(function(){e._visible=!1,e.element.fadeOut(slow)},e.options.hideDelay)}}),f.ui.plugin(B),l(f,{NavigatorH})}(window.kendo.jQuery),function(e){function t(e){returnnumber==typeof e[e]e}var n=window.kendo,i=n.dataviz,r=i.ui.Chart,o=n.data.ObservableArray,a=i.SharedTooltip,s=n.deepExtend,l=e.isArray,c=e.proxy,d=i.inArray,u=Math,h=k-,p=150,f=150,g=bar,m=bullet,v=pie,_=leave,w=[g,m],y=r.extend({initfunction(n,i){var a=this,c=a.stage=e(span ),p=i{};n=e(n).addClass(h+sparkline).empty().append(c),a._initialWidth=u.floor(n.width()),p=t(p),(l(p)p instanceof o)&&(p={seriesDefaults{datap}}),p.series(p.series=[{datat(p.data)}]),s(p,{seriesDefaults{typep.type}}),(d(p.series[0].type,w)d(p.seriesDefaults.type,w))&&(p=s({},{categoryAxis{crosshair{visible!1}}},p)),r.fn.init.call(a,n,p)},options{nameSparkline,chartArea{margin2},axisDefaults{visible!1,majorGridLines{visible!1},valueAxis{narrowRange!0}},seriesDefaults{typeline,area{line{width.5}},bar{stack!0},padding2,width.5,overlay{gradientnull},highlight{visible!1},border{width0},markers{size2,visible!1}},tooltip{visible!0,shared!0},categoryAxis{crosshair{visible!0,tooltip{visible!1}}},legend{visible!1},transitions!1,pointWidth5,panes[{clip!1}]},_modelOptionsfunction(){var t,n,i=this,r=i.options,o=i._initialWidth,a=i.stage;return i.stage.children().hide(),n=e(span&nbsp;span),i.stage.append(n),t=s({widthooi._autoWidth(),heighta.height(),transitionsr.transitions},r.chartArea,{inline!0,align!1}),a.css({widtht.width,heightt.height}),n.remove(),i.stage.children().show(),i.surface.resize(),t},_createTooltipfunction(){var e,t=this,n=t.options,i=t.element;return e=t._sharedTooltip()new b(i,t._plotArea,n.tooltip)r.fn._createTooltip.call(t),e.bind(_,c(t._tooltipleave,t)),e},_surfaceWrapfunction(){return this.stage},_autoWidthfunction(){var e,t,n,r=this,o=r.options,a=i.getSpacing(o.chartArea.margin),s=o.series,l=r.dataSource.total(),c=0;for(t=0;s.lengtht;t++){if(n=s[t],n.type===g)return p;if(n.type===m)return f;if(n.type===v)return r.stage.height();n.data&&(c=u.max(c,n.data.length))}return e=u.max(l,c)o.pointWidth,e0&&(e+=a.left+a.right),e}}),b=a.extend({options{animation{duration0}},_anchorfunction(e,t){var n=a.fn._anchor.call(this,e,t),i=this._measure();return n.y=-i.height-this.options.offset,n},_hideElementfunction(){this.element&&this.element.hide().remove()}});i.ui.plugin(y),s(i,{SparklineSharedTooltipb})}(window.kendo.jQuery),function(e,t){var n,i=Math,r=i.abs,o=i.atan,a=i.atan2,s=i.cos,l=i.max,c=i.min,d=i.sin,u=i.tan,h=window.kendo,p=h.Class,f=h.dataviz,g=h.deepExtend,m=h.util,v=m.defined,_=m.deg,w=m.rad,y=m.round,b=m.sqr,k=m.valueOrDefault,x=p.extend({initfunction(e,t){1===arguments.length(this.lat=e[0],this.lng=e[1])(this.lat=e,this.lng=t)},DISTANCE_ITERATIONS100,DISTANCE_CONVERGENCE1e-12,DISTANCE_PRECISION2,FORMAT{0N6},{1N6},toArrayfunction(){return[this.lat,this.lng]},equalsfunction(e){return e&&e.lat===this.lat&&e.lng===this.lng},clonefunction(){return new x(this.lat,this.lng)},roundfunction(e){return this.lng=y(this.lng,e),this.lat=y(this.lat,e),this},wrapfunction(){return this.lng=this.lng%180,this.lat=this.lat%90,this},distanceTofunction(e,t){return this.greatCircleTo(e,t).distance},destinationfunction(e,t,n){var r,o,l,c,u;return t=w(t),n=nf.map.datums.WGS84,r=w(this.lat),o=w(this.lng),l=eh.dataviz.map.datums.WGS84.a,c=i.asin(d(r)s(l)+s(r)d(l)s(t)),u=o+a(d(t)d(l)s(r),s(l)-d(r)d(c)),new x(_(c),_(u))},greatCircleTofunction(e,t){var n,l,c,h,p,g,m,v,k,C,S,T,D,A,E,I,M,P,z,F,R,B,H,L,N,O,V,U,W;if(e=x.create(e),t=tf.map.datums.WGS84,!ethis.clone().round(8).equals(e.clone().round(8)))return{distance0,azimuthFrom0,azimuthTo0};for(n=t.a,l=t.b,c=t.f,h=w(e.lng-this.lng),p=o((1-c)u(w(this.lat))),g=d(p),m=s(p),v=o((1-c)u(w(e.lat))),k=d(v),C=s(v),S=h,D=this.DISTANCE_ITERATIONS,A=!1;!A&&D--0;)E=d(S),I=s(S),M=i.sqrt(b(CE)+b(mk-gCI)),z=gk+mCI,R=a(M,z),B=mCEM,P=1-b(B),F=0,0!==P&&(F=z-2gkP),T=S,H=c16P(4+c(4-3P)),S=h+(1-H)cB(R+HM(F+Hz(-1+2b(F)))),A=r(S-T)=this.DISTANCE_CONVERGENCE;return L=P(b(n)-b(l))b(l),N=1+L16384(4096+L(-768+L(320-175L))),O=L1024(256+L(-128+L(74-47L))),V=OM(F+O4(z(-1+2b(F))-O6F(-3+4b(M))(-3+4b(F)))),U=a(CE,mk-gCI),W=a(mE,-gC+mkI),{distancey(lN(R-V),this.DISTANCE_PRECISION),azimuthFrom_(U),azimuthTo_(W)}}});x.fn.toString=function(){return h.format(this.FORMAT,this.lat,this.lng)},x.fromLngLat=function(e){return new x(e[1],e[0])},x.fromLatLng=function(e){return new x(e[0],e[1])},x.create=function(e,n){return v(e)e instanceof xe.clone()1===arguments.length&&2===e.lengthx.fromLatLng(e)new x(e,n)t},n=p.extend({initfunction(e,t){e=x.create(e),t=x.create(t),e.lng+180t.lng+180&&t.lat+90e.lat+90(this.se=e,this.nw=t)(this.se=t,this.nw=e)},containsfunction(e){var t=this.nw,n=this.se,i=k(e.lng,e[1]),r=k(e.lat,e[0]);return e&&i+180=t.lng+180&&n.lng+180=i+180&&r+90=n.lat+90&&t.lat+90=r+90},centerfunction(){var e=this.nw,t=this.se,n=e.lng+(t.lng-e.lng)2,i=e.lat+(t.lat-e.lat)2;return new x(i,n)},containsAnyfunction(e){var t,n=!1;for(t=0;e.lengtht;t++)n=nthis.contains(e[t]);return n},includefunction(e){var t=this.nw,n=this.se,i=k(e.lng,e[1]),r=k(e.lat,e[0]);t.lng=c(t.lng,i),t.lat=l(t.lat,r),n.lng=l(n.lng,i),n.lat=c(n.lat,r)},includeAllfunction(e){for(var t=0;e.lengtht;t++)this.include(e[t])},edgesfunction(){var e=this.nw,t=this.se;return{nwthis.nw,nenew x(e.lat,t.lng),sethis.se,swnew x(t.lat,e.lng)}},toArrayfunction(){var e=this.nw,t=this.se;return[e,new x(e.lat,t.lng),t,new x(t.lat,e.lng)]},overlapsfunction(e){return this.containsAny(e.toArray())e.containsAny(this.toArray())}}),n.World=new n([90,-180],[-90,180]),n.create=function(e,i){return e instanceof nee&&inew n(e,i)e&&4===e.length&&!inew n([e[0],e[1]],[e[2],e[3]])t},g(f,{map{Extentn,Locationx}})}(window.kendo.jQuery),function(){var e=window.kendo,t=e.ui.Widget,n=e.template,i=e.util.valueOrDefault,r=e.util.defined,o=t.extend({initfunction(e,n){t.fn.init.call(this,e,n),this._initOptions(n),this.items=[],this.element.addClass(k-widget k-attribution)},options{nameAttribution,separator&nbsp;&nbsp;,itemTemplate#= text #},filterfunction(e,t){this._extent=e,this._zoom=t,this._render()},addfunction(e){r(e)&&(string==typeof e&&(e={texte}),this.items.push(e),this._render())},removefunction(e){var t,n,i=[];for(t=0;this.items.lengtht;t++)n=this.items[t],n.text!==e&&i.push(n);this.items=i,this._render()},clearfunction(){this.items=[],this.element.empty()},_renderfunction(){var e,t,i,r=[],o=n(this.options.itemTemplate);for(e=0;this.items.lengthe;e++)t=this.items[e],i=this._itemText(t),!==i&&r.push(o({texti}));r.length0this.element.empty().append(r.join(this.options.separator)).show()this.element.hide()},_itemTextfunction(e){var t=,n=this._inZoomLevel(e.minZoom,e.maxZoom),i=this._inArea(e.extent);return n&&i&&(t+=e.text),t},_inZoomLevelfunction(e,t){var n=!0;return e=i(e,-Number.MAX_VALUE),t=i(t,Number.MAX_VALUE),n=this._zoome&&tthis._zoom},_inAreafunction(e){var t=!0;return e&&(t=e.contains(this._extent)),t}});e.dataviz.ui.plugin(o)}(window.kendo.jQuery),function(e){function t(e){return n.format('button class=k-button k-navigator-{0}span class=k-icon k-i-arrow-{0}button',e)}var n=window.kendo,i=n.ui.Widget,r=n.keys,o=e.proxy,a=.kendoNavigator,s=t(n)+t(e)+t(s)+t(w),l=i.extend({initfunction(e,t){i.fn.init.call(this,e,t),this._initOptions(t),this.element.addClass(k-widget k-header k-shadow k-navigator).append(s).on(click+a,.k-button,o(this,_click));var r=this.element.parent().closest([+n.attr(role)+]);this._keyroot=r.length0rthis.element,this._tabindex(this._keyroot),this._keydown=o(this._keydown,this),this._keyroot.on(keydown,this._keydown)},options{nameNavigator,panStep1},events[pan],disposefunction(){this._keyroot.off(keydown,this._keydown)},_panfunction(e,t){var n=this.options.panStep;this.trigger(pan,{xen,ytn})},_clickfunction(t){var n=0,i=0,r=e(t.currentTarget);r.is(.k-navigator-n)i=1r.is(.k-navigator-s)i=-1r.is(.k-navigator-e)n=1r.is(.k-navigator-w)&&(n=-1),this._pan(n,i),t.preventDefault()},_keydownfunction(e){switch(e.which){case r.UPthis._pan(0,1),e.preventDefault();break;case r.DOWNthis._pan(0,-1),e.preventDefault();break;case r.RIGHTthis._pan(1,0),e.preventDefault();break;case r.LEFTthis._pan(-1,0),e.preventDefault()}}});n.dataviz.ui.plugin(l)}(window.kendo.jQuery),function(e){function t(e,t){return n.format('button class=k-button k-zoom-{0} title=zoom-{0}{1}button',e,t)}var n=window.kendo,i=n.ui.Widget,r=n.keys,o=e.proxy,a=.kendoZoomControl,s=t(in,+)+t(out,-),l=187,c=189,d=61,u=173,h=i.extend({initfunction(e,t){i.fn.init.call(this,e,t),this._initOptions(t),this.element.addClass(k-widget k-zoom-control k-button-wrap k-buttons-horizontal).append(s).on(click+a,.k-button,o(this,_click));var r=this.element.parent().closest([+n.attr(role)+]);this._keyroot=r.length0rthis.element,this._tabindex(this._keyroot),this._keydown=o(this._keydown,this),this._keyroot.on(keydown,this._keydown)},options{nameZoomControl,zoomStep1},events[change],_changefunction(e){var t=this.options.zoomStep;this.trigger(change,{deltaet})},_clickfunction(t){var n=e(t.currentTarget),i=1;n.is(.k-zoom-out)&&(i=-1),this._change(i),t.preventDefault()},_keydownfunction(e){switch(e.which){case r.NUMPAD_PLUScase lcase dthis._change(1);break;case r.NUMPAD_MINUScase ccase uthis._change(-1)}}});n.dataviz.ui.plugin(h)}(window.kendo.jQuery),function(){var e=Math,t=e.atan,n=e.exp,i=e.pow,r=e.sin,o=e.log,a=e.tan,s=window.kendo,l=s.Class,c=s.dataviz,d=s.deepExtend,u=s.geometry,h=u.Point,p=c.map,f=p.Location,g=s.util,m=g.rad,v=g.deg,_=g.limitValue,w=e.PI,y=w2,b=w4,k=w180,x={a6378137,b6356752.314245179,f.0033528106647474805,e.08181919084262149},C=l.extend({initfunction(e){this._initOptions(e)},MAX_LNG180,MAX_LAT85.0840590501,INVERSE_ITERATIONS15,INVERSE_CONVERGENCE1e-12,options{centralMeridian0,datumx},forwardfunction(e,t){var n=this,i=n.options,r=i.datum,o=r.a,a=i.centralMeridian,s=_(e.lat,-n.MAX_LAT,n.MAX_LAT),l=t_(e.lng,-n.MAX_LNG,n.MAX_LNG)e.lng,c=m(l-a)o,d=n._projectLat(s);return new h(c,d)},_projectLatfunction(e){var t=this.options.datum,n=t.e,s=t.a,l=m(e),c=a(b+l2),d=nr(l),u=i((1-d)(1+d),n2);return so(cu)},inversefunction(e,t){var n=this,i=n.options,r=i.datum,o=r.a,a=i.centralMeridian,s=e.x(ko)+a,l=_(n._inverseY(e.y),-n.MAX_LAT,n.MAX_LAT);return t&&(s=_(s,-n.MAX_LNG,n.MAX_LNG)),new f(l,s)},_inverseYfunction(o){var a,s,l,c,d=this,u=d.options.datum,h=u.a,p=u.e,f=p2,g=n(-oh),m=y-2t(g);for(a=0;d.INVERSE_ITERATIONS=a&&(s=pr(m),l=i((1-s)(1+s),f),c=y-2t(gl)-m,m+=c,!(e.abs(c)=d.INVERSE_CONVERGENCE));a++);return v(m)}}),S=C.extend({MAX_LAT85.0511287798,_projectLatfunction(e){var t=this.options.datum.a,n=m(e),i=a(b+n2);return to(i)},_inverseYfunction(e){var i=this.options.datum.a,r=n(-ei);return v(y-2t(r))}}),T=l.extend({forwardfunction(e){return new h(e.lng,e.lat)},inversefunction(e){return new f(e.y,e.x)}}),D=l.extend({initfunction(){var e=this,t=e._proj=new S,n=this.c=2wt.options.datum.a;this._tm=u.transform().translate(.5,.5).scale(1n,-1n),this._itm=u.transform().scale(n,-n).translate(-.5,-.5)},toPointfunction(e,t,n){var i=this._proj.forward(e,n);return i.transform(this._tm).scale(t1)},toLocationfunction(e,t,n){return e=e.clone().scale(1(t1)).transform(this._itm),this._proj.inverse(e,n)}}),A=l.extend({initfunction(){this._proj=new C},toPointfunction(e){return this._proj.forward(e)},toLocationfunction(e){return this._proj.inverse(e)}}),E=l.extend({initfunction(){this._proj=new T},toPointfunction(e){return this._proj.forward(e)},toLocationfunction(e){return this._proj.inverse(e)}});d(c,{map{crs{EPSG3395A,EPSG3857D,EPSG4326E},datums{WGS84x},projections{EquirectangularT,MercatorC,SphericalMercatorS}}})}(window.kendo.jQuery),function(e){var t=e.proxy,n=window.kendo,i=n.Class,r=n.dataviz,o=n.deepExtend,a=r.map.Extent,s=n.util,l=s.defined,c=i.extend({initfunction(n,i){this._initOptions(i),this.map=n,this.element=e(div class='k-layer'div).css({zIndexthis.options.zIndex,opacitythis.options.opacity}).appendTo(n.scrollElement),this._beforeReset=t(this._beforeReset,this),this._reset=t(this._reset,this),this._resize=t(this._resize,this),this._panEnd=t(this._panEnd,this),this._activate(),this._updateAttribution()},destroyfunction(){this._deactivate()},showfunction(){this.reset(),this._activate(),this._applyExtent(!0)},hidefunction(){this._deactivate(),this._setVisibility(!1)},resetfunction(){this._beforeReset(),this._reset()},_resetfunction(){this._applyExtent()},_beforeResete.noop,_resizee.noop,_panEndfunction(){this._applyExtent()},_applyExtentfunction(){var e=this.options,t=this.map.zoom(),n=!l(e.minZoom)t=e.minZoom,i=!l(e.maxZoom)e.maxZoom=t,r=a.create(e.extent),o=!rr.overlaps(this.map.extent());this._setVisibility(n&&i&&o)},_setVisibilityfunction(e){this.element.css(display,enone)},_activatefunction(){var e=this.map;e.bind(beforeReset,this._beforeReset),e.bind(reset,this._reset),e.bind(resize,this._resize),e.bind(panEnd,this._panEnd)
},_deactivatefunction(){var e=this.map;e.unbind(beforeReset,this._beforeReset),e.unbind(reset,this._reset),e.unbind(resize,this._resize),e.unbind(panEnd,this._panEnd)},_updateAttributionfunction(){var e=this.map.attribution;e&&e.add(this.options.attribution)}});o(r,{map{layers{Layerc}}})}(window.kendo.jQuery),function(e){var t=e.proxy,n=window.kendo,i=n.Class,r=n.data.DataSource,o=n.dataviz,a=n.deepExtend,s=n.util.last,l=n.util.defined,c=n.geometry,d=n.drawing,u=d.Group,h=o.map,p=h.Location,f=h.layers.Layer,g=f.extend({initfunction(e,t){f.fn.init.call(this,e,t),this.surface=d.Surface.create(this.element,{widthe.scrollElement.width(),heighte.scrollElement.height()}),this._initRoot(),this.movable=new n.ui.Movable(this.surface.element),this._markers=[],this._click=this._handler(shapeClick),this.surface.bind(click,this._click),this._mouseenter=this._handler(shapeMouseEnter),this.surface.bind(mouseenter,this._mouseenter),this._mouseleave=this._handler(shapeMouseLeave),this.surface.bind(mouseleave,this._mouseleave),this._initDataSource()},options{autoBind!0},destroyfunction(){f.fn.destroy.call(this),this.surface.destroy(),this.dataSource.unbind(change,this._dataChange)},setDataSourcefunction(e){this.dataSource&&this.dataSource.unbind(change,this._dataChange),this.dataSource=e,this.dataSource.bind(change,this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_resetfunction(){f.fn._reset.call(this),this._translateSurface(),this._data&&this._load(this._data)},_initRootfunction(){this._root=new u,this.surface.draw(this._root)},_beforeResetfunction(){this.surface.clear(),this._initRoot()},_resizefunction(){this.surface.size(this.map.size())},_initDataSourcefunction(){var e=this.options.dataSource;this._dataChange=t(this._dataChange,this),this.dataSource=r.create(e).bind(change,this._dataChange),e&&this.options.autoBind&&this.dataSource.fetch()},_dataChangefunction(e){this._data=e.sender.view(),this._load(this._data)},_loadfunction(e){var t,n,i;for(this._clearMarkers(),this._loader(this._loader=new m(this.map,this.options.style,this)),t=new u,n=0;e.lengthn;n++)i=this._loader.parse(e[n]),i&&t.append(i);this._root.clear(),this._root.append(t)},shapeCreatedfunction(e){var t,n=!1;return e instanceof d.Circle&&(n=l(this._createMarker(e))),n(t={layerthis,shapee},n=this.map.trigger(shapeCreated,t)),n},_createMarkerfunction(e){var t=this.map.markers.bind({locatione.location},e.dataItem);return t&&this._markers.push(t),t},_clearMarkersfunction(){for(var e=0;this._markers.lengthe;e++)this.map.markers.remove(this._markers[e]);this._markers=[]},_panEndfunction(e){f.fn._panEnd.call(this,e),this._translateSurface()},_translateSurfacefunction(){var e=this.map,t=e.locationToView(e.extent().nw);this.surface.translate&&(this.surface.translate(t),this.movable.moveTo({xt.x,yt.y}))},_handlerfunction(e){var t=this;return function(n){if(n.element){var i={layert,shapen.element,originalEventn.originalEvent};t.map.trigger(e,i)}}}}),m=i.extend({initfunction(e,t,n){this.observer=n,this.locator=e,this.style=t},parsefunction(e){var t=new u;returnFeature===e.typethis._loadGeometryTo(t,e.geometry,e)this._loadGeometryTo(t,e,e),2t.children.length&&(t=t.children[0]),t},_shapeCreatedfunction(e){var t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(e)),t},_loadGeometryTofunction(e,t,n){var i,r,o=t.coordinates;switch(t.type){caseLineStringr=this._loadPolygon(e,[o],n),this._setLineFill(r);break;caseMultiLineStringfor(i=0;o.lengthi;i++)r=this._loadPolygon(e,[o[i]],n),this._setLineFill(r);break;casePolygonthis._loadPolygon(e,o,n);break;caseMultiPolygonfor(i=0;o.lengthi;i++)this._loadPolygon(e,o[i],n);break;casePointthis._loadPoint(e,o,n);break;caseMultiPointfor(i=0;o.lengthi;i++)this._loadPoint(e,o[i],n)}},_setLineFillfunction(e){var t=e.segments;(4t.length!t[0].anchor().equals(s(t).anchor()))&&(e.options.fill=null)},_loadShapefunction(e,t){return this._shapeCreated(t)e.append(t),t},_loadPolygonfunction(e,t,n){var i=this._buildPolygon(t);return i.dataItem=n,this._loadShape(e,i)},_buildPolygonfunction(e){var t,n,i,r=e.length1d.MultiPathd.Path,o=new r(this.style);for(t=0;e.lengtht;t++)for(n=0;e[t].lengthn;n++)i=this.locator.locationToView(p.fromLngLat(e[t][n])),0===no.moveTo(i.x,i.y)o.lineTo(i.x,i.y);return o},_loadPointfunction(e,t,n){var i=p.fromLngLat(t),r=this.locator.locationToView(i),o=new c.Circle(r,10),a=new d.Circle(o,this.style);return a.dataItem=n,a.location=i,this._loadShape(e,a)}});a(n.data,{schemas{geojson{typejson,datafunction(e){returnFeatureCollection===e.typee.featuresGeometryCollection===e.typee.geometriese}}},transports{geojson{read{dataTypejson}}}}),a(o,{map{layers{shapeg,ShapeLayerg},GeoJSONLoaderm}})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.getter,i=t.dataviz,r=t.deepExtend,o=t.util,a=o.defined,s=t.geometry,l=t.drawing,c=i.map,d=c.Location,u=c.layers.ShapeLayer,h=u.extend({options{autoBind!0,locationFieldlocation,valueFieldvalue,minSize0,maxSize100,scalesqrt,symbolcircle},_loadfunction(e){var t,i,r,o,s,l,c,u,h,p,f,g;if(this.surface.clear(),0!==e.length)for(t=this.options,i=n(t.valueField),e=e.slice(0),e.sort(function(e,t){return i(t)-i(e)}),r=i(e[0]),o=this._scaleType(),l=0;e.lengthl;l++)c=e[l],u=n(t.locationField)(c),h=n(t.valueField)(c),a(u)&&a(h)&&(s(s=new o([0,h],[t.minSize,t.maxSize])),u=d.create(u),p=this.map.locationToView(u),f=s.map(h),g=this._createSymbol({centerp,sizef,stylet.style,dataItemc,locationu}),g.dataItem=c,g.location=u,g.value=h,this._drawSymbol(g))},_scaleTypefunction(){var e=this.options.scale;return t.isFunction(e)ei.map.scales[e]},_createSymbolfunction(e){var n=this.options.symbol;return t.isFunction(n)(n=i.map.symbols[n]),n(e)},_drawSymbolfunction(e){var t={layerthis,shapee},n=this.map.trigger(shapeCreated,t);nthis.surface.draw(e)}}),p=t.Class.extend({initfunction(e,t){var n,i;this._domain=e,this._range=t,n=Math.sqrt(e[1])-Math.sqrt(e[0]),i=t[1]-t[0],this._ratio=in},mapfunction(e){var t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))this._ratio;return this._range[0]+t}}),f={circlefunction(e){var t=new s.Circle(e.center,e.size2);return new l.Circle(t,e.style)},squarefunction(e){var t=new l.Path(e.style),n=e.size2,i=e.center;return t.moveTo(i.x-n,i.y-n).lineTo(i.x+n,i.y-n).lineTo(i.x+n,i.y+n).lineTo(i.x-n,i.y+n).close(),t}};r(i,{map{layers{bubbleh,BubbleLayerh},scales{sqrtp},symbolsf}})}(window.kendo.jQuery),function(e){function t(e){return new d(f(e.x),f(e.y))}var n=Math,i=e.proxy,r=window.kendo,o=r.Class,a=r.template,s=r.dataviz,l=r.deepExtend,c=r.geometry,d=c.Point,u=s.map.layers.Layer,h=r.util,p=h.objectKey,f=h.round,g=h.renderSize,m=h.limitValue,v=u.extend({initfunction(e,t){u.fn.init.call(this,e,t),string==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split());var n=this._viewType();this._view=new n(this.element,this.options)},destroyfunction(){u.fn.destroy.call(this),this._view.destroy(),this._view=null},_resetfunction(){u.fn._reset.call(this),this._updateView(),this._view.reset()},_viewTypefunction(){return _},_activatefunction(){u.fn._activate.call(this),r.support.mobileOS(this._pan(this._pan=r.throttle(i(this._render,this),100)),this.map.bind(pan,this._pan))},_deactivatefunction(){u.fn._deactivate.call(this),this._pan&&this.map.unbind(pan,this._pan)},_updateViewfunction(){var e=this._view,t=this.map,n=t.extent(),i={nwt.locationToLayer(n.nw).round(),set.locationToLayer(n.se).round()};e.center(t.locationToLayer(t.center())),e.extent(i),e.zoom(t.zoom())},_resizefunction(){this._render()},_panEndfunction(e){u.fn._panEnd.call(this,e),this._render()},_renderfunction(){this._updateView(),this._view.render()}}),_=o.extend({initfunction(e,t){this.element=e,this._initOptions(t),this.pool=new y},options{tileSize256,subdomains[a,b,c],urlTemplate},centerfunction(e){this._center=e},extentfunction(e){this._extent=e},zoomfunction(e){this._zoom=e},pointToTileIndexfunction(e){return new d(n.floor(e.xthis.options.tileSize),n.floor(e.ythis.options.tileSize))},tileCountfunction(){var e=this.size(),t=this.pointToTileIndex(this._extent.nw),i=this._extent.nw,r=this.indexToPoint(t).translate(-i.x,-i.y);return{xn.ceil((n.abs(r.x)+e.width)this.options.tileSize),yn.ceil((n.abs(r.y)+e.height)this.options.tileSize)}},sizefunction(){var e=this._extent.nw,t=this._extent.se,n=t.clone().translate(-e.x,-e.y);return{widthn.x,heightn.y}},indexToPointfunction(e){var t=e.x,n=e.y;return new d(tthis.options.tileSize,nthis.options.tileSize)},subdomainTextfunction(){var e=this.options.subdomains;return e[this.subdomainIndex++%e.length]},destroyfunction(){this.element.empty(),this.pool.empty()},resetfunction(){this.pool.reset(),this.subdomainIndex=0,this.basePoint=this._extent.nw,this.render()},renderfunction(){var e,t,n,i=this.tileCount(),r=this.pointToTileIndex(this._extent.nw);for(t=0;i.xt;t++)for(n=0;i.yn;n++)e=this.createTile({xr.x+t,yr.y+n}),e.visiblee.show()},createTilefunction(e){var t=this.tileOptions(e),n=this.pool.get(this._center,t);return 0===n.element.parent().length&&this.element.append(n.element),n},tileOptionsfunction(e){var n=this.wrapIndex(e),i=this.indexToPoint(e),r=this.basePoint,o=i.clone().translate(-r.x,-r.y);return{indexn,currentIndexe,pointi,offsett(o),zoomthis._zoom,subdomainthis.subdomainText(),urlTemplatethis.options.urlTemplate,errorUrlTemplatethis.options.errorUrlTemplate}},wrapIndexfunction(e){var t=n.pow(2,this._zoom);return{xthis.wrapValue(e.x,t),ym(e.y,0,t-1)}},wrapValuefunction(e,t){var i=n.abs(e)%t;return e=e=0it-(0===iti)}}),w=o.extend({initfunction(e,t){this.id=e,this.visible=!0,this._initOptions(t),this.createElement(),this.show()},options{urlTemplate,errorUrlTemplate},createElementfunction(){this.element=e(img style='position absolute; display block;' ).error(i(function(e){this.errorUrl()e.target.setAttribute(src,this.errorUrl())e.target.removeAttribute(src)},this))},showfunction(){var e,t=this.element[0];t.style.top=g(this.options.offset.y),t.style.left=g(this.options.offset.x),e=this.url(),e&&t.setAttribute(src,e),t.style.visibility=visible,this.visible=!0},hidefunction(){this.element[0].style.visibility=hidden,this.visible=!1},urlfunction(){var e=a(this.options.urlTemplate);return e(this.urlOptions())},errorUrlfunction(){var e=a(this.options.errorUrlTemplate);return e(this.urlOptions())},urlOptionsfunction(){var e=this.options;return{zoome.zoom,subdomaine.subdomain,ze.zoom,xe.index.x,ye.index.y,se.subdomain,quadkeye.quadkey,qe.quadkey,culturee.culture,ce.culture}},destroyfunction(){this.element&&(this.element.remove(),this.element=null)}}),y=o.extend({initfunction(){this._items=[]},options{maxSize100},getfunction(e,t){return this._items.length=this.options.maxSize&&this._remove(e),this._create(t)},emptyfunction(){var e,t=this._items;for(e=0;t.lengthe;e++)t[e].destroy();this._items=[]},resetfunction(){var e,t=this._items;for(e=0;t.lengthe;e++)t[e].hide()},_createfunction(e){var t,n,i=this._items,r=h.hashKey(p(e)+p(e.currentIndex));for(n=0;i.lengthn;n++)i[n].id===r&&(t=i[n]);return tt.show()(t=new w(r,e),this._items.push(t)),t},_removefunction(e){var t,n,i=this._items,r=-1,o=-1;for(t=0;i.lengtht;t++)n=i[t].options.point.distanceTo(e),nr&&(o=t,r=n);-1!==o&&(i[o].destroy(),i.splice(o,1))}});l(s,{map{layers{tilev,TileLayerv,ImageTilew,TilePooly,TileView_}}})}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.dataviz,r=n.deepExtend,o=n.util.defined,a=i.map.Extent,s=i.map.Location,l=i.map.layers.TileLayer,c=i.map.layers.TileView,d=l.extend({initfunction(t,n){l.fn.init.call(this,t,n),this._onMetadata=e.proxy(this._onMetadata,this),this._fetchMetadata()},options{baseUrldev.virtualearth.netRESTv1ImageryMetadata,imagerySetroad},_fetchMetadatafunction(){var t=this.options;if(!t.key)throw Error(Bing tile layer API key is required);e.ajax({urlt.baseUrl+t.imagerySet,data{outputjson,includeImageryProviders,keyt.key,uriSchemethis._scheme(window.location.protocol)},typeget,dataTypejsonp,jsonpjsonp,successthis._onMetadata})},_schemefunction(e){returnhttps===e.replace(,)httpshttp},_onMetadatafunction(e){var t,n;e&&e.resourceSets.length&&(t=this.resource=e.resourceSets[0].resources[0],r(this._view.options,{urlTemplatet.imageUrl.replace({subdomain},#= subdomain #).replace({quadkey},#= quadkey #).replace({culture},#= culture #),subdomainst.imageUrlSubdomains}),n=this.options,o(n.minZoom)(n.minZoom=t.zoomMin),o(n.maxZoom)(n.maxZoom=t.zoomMax),this._addAttribution(),none!==this.element.css(display)&&this.reset())},_viewTypefunction(){return u},_addAttributionfunction(){var e,t,n,i,r,o=this.map.attribution;if(o&&(e=this.resource.imageryProviders))for(t=0;e.lengtht;t++)for(n=e[t],i=0;n.coverageAreas.lengthi;i++)r=n.coverageAreas[i],o.add({textn.attribution,minZoomr.zoomMin,maxZoomr.zoomMax,extentnew a(new s(r.bbox[2],r.bbox[1]),new s(r.bbox[0],r.bbox[3]))})},imagerySetfunction(e){return e(this.options.imagerySet=e,this.map.attribution.clear(),this._fetchMetadata(),this._reset(),t)this.options.imagerySet}}),u=c.extend({options{cultureen-US},tileOptionsfunction(e){var t=c.fn.tileOptions.call(this,e);return t.culture=this.options.culture,t.quadkey=this.tileQuadKey(this.wrapIndex(e)),t},tileQuadKeyfunction(e){var t,n,i,r=;for(i=this._zoom;i0;i--)t=0,n=1i-1,0!==(e.x&n)&&t++,0!==(e.y&n)&&(t+=2),r+=t;return r}});r(i,{map{layers{bingd,BingLayerd,BingViewu}}})}(window.kendo.jQuery),function(e,t){var n=document,i=Math,r=e.inArray,o=e.proxy,a=window.kendo,s=a.Class,l=a.data.DataSource,c=a.ui.Tooltip,d=a.dataviz,u=a.deepExtend,h=d.map,p=h.Location,f=h.layers.Layer,g=f.extend({initfunction(e,t){f.fn.init.call(this,e,t),this._markerClick=o(this._markerClick,this),this.element.on(click,.k-marker,this._markerClick),this.items=[],this._initDataSource()},destroyfunction(){f.fn.destroy.call(this),this.element.off(click,.k-marker,this._markerClick),this.dataSource.unbind(change,this._dataChange),this.clear()},options{zIndex1e3,autoBind!0,dataSource{},locationFieldlocation,titleFieldtitle},addfunction(t){if(!e.isArray(t))return this._addOne(t);for(var n=0;t.lengthn;n++)this._addOne(t[n])},removefunction(e){e.destroy();var t=r(e,this.items);t-1&&this.items.splice(t,1)},clearfunction(){for(var e=0;this.items.lengthe;e++)this.items[e].destroy();this.items=[]},updatefunction(e){var t,n=e.location();n&&(e.showAt(this.map.locationToView(n)),t={markere,layerthis},this.map.trigger(markerActivate,t))},_resetfunction(){var e,t;for(f.fn._reset.call(this),e=this.items,t=0;e.lengtht;t++)this.update(e[t])},bindfunction(e,n){var i,r,o=h.Marker.create(e,this.options);return o.dataItem=n,i={markero,layerthis},r=this.map.trigger(markerCreated,i),rt(this.add(o),o)},setDataSourcefunction(e){this.dataSource&&this.dataSource.unbind(change,this._dataChange),this.dataSource=e,this.dataSource.bind(change,this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_addOnefunction(e){var t=m.create(e,this.options);return t.addTo(this),t},_initDataSourcefunction(){var e=this.options.dataSource;this._dataChange=o(this._dataChange,this),this.dataSource=l.create(e).bind(change,this._dataChange),e&&this.options.autoBind&&this.dataSource.fetch()},_dataChangefunction(e){this._load(e.sender.view())},_loadfunction(e){var t,n,i,r;for(this._data=e,this.clear(),t=a.getter(this.options.locationField),n=a.getter(this.options.titleField),i=0;e.lengthi;i++)r=e[i],this.bind({locationt(r),titlen(r)},r)},_markerClickfunction(t){var n={markere(t.target).data(kendoMarker),layerthis};this.map.trigger(markerClick,n)}}),m=s.extend({initfunction(e){this.options=e{}},addTofunction(e){this.layer=e.markerse,this.layer.items.push(this),this.layer.update(this)},locationfunction(e){return e(this.options.location=p.create(e).toArray(),this.layer&&this.layer.update(this),this)p.create(this.options.location)},showAtfunction(e){this.render(),this.element.css({lefti.round(e.x),topi.round(e.y)}),this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position()},hidefunction(){this.element&&(this.element.remove(),this.element=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)},destroyfunction(){this.layer=null,this.hide()},renderfunction(){var t,i;this.element(t=this.options,i=this.layer,this.element=e(n.createElement(span)).addClass(k-marker k-marker-+a.toHyphens(t.shapepin)).attr(title,t.title).attr(t.attributes{}).data(kendoMarker,this).css(zIndex,t.zIndex),i&&i.element.append(this.element),this.renderTooltip())},renderTooltipfunction(){var e,t,n=this,i=n.options.title,r=n.options.tooltip{};r&&c&&(e=r.template,e&&(t=a.template(e),r.content=function(e){return e.location=n.location(),e.marker=n,t(e)}),(ir.contentr.contentUrl)&&(this.tooltip=new c(this.element,r),this.tooltip.marker=this))}});m.create=function(e,t){return e instanceof menew m(u({},t,e))},u(d,{map{layers{markerg,MarkerLayerg},Markerm}})}(window.kendo.jQuery),function(e){var t=document,n=Math,i=n.min,r=n.pow,o=e.proxy,a=window.kendo,s=a.ui.Widget,l=a.deepExtend,c=a.dataviz,d=c.ui,u=a.geometry,h=u.Point,p=c.map,f=p.Extent,g=p.Location,m=p.crs.EPSG3857,v=a.util,_=v.defined,w=v.limitValue,y=v.renderPos,b=v.valueOrDefault,k=k-,x=.9,C=.93,S=DOMMouseScroll mousewheel,T=5,D=s.extend({initfunction(e,n){a.destroy(e),s.fn.init.call(this,e),this._initOptions(n),this.bind(this.events,n),this.crs=new m,this.element.addClass(k+this.options.name.toLowerCase()).css(position,relative).empty().append(t.createElement(div)),this._viewOrigin=this._getOrigin(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheel=o(this._mousewheel,this),this.element.bind(click,o(this._click,this)),this.element.bind(S,this._mousewheel)},options{nameMap,controls{attribution!0,navigator{panStep100},zoom!0},layers[],layerDefaults{shape{style{fill{color#fff},stroke{color#aaa,width.5}}},bubble{style{fill{color#fff,opacity.5},stroke{color#aaa,width.5}}},marker{shapepinTarget,tooltip{positiontop}}},center[0,0],zoom3,minSize256,minZoom1,maxZoom19,markers[],markerDefaults{shapepinTarget,tooltip{positiontop}},wraparound!0},events[beforeReset,click,reset,pan,panEnd,markerActivate,markerClick,markerCreated,shapeClick,shapeCreated,shapeMouseEnter,shapeMouseLeave,zoomStart,zoomEnd],destroyfunction(){this.scroller.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),this.markers.destroy();for(var e=0;this.layers.lengthe;e++)this.layers[e].destroy();s.fn.destroy.call(this)},zoomfunction(e){var t=this.options;return _(e)(e=w(e,t.minZoom,t.maxZoom),t.zoom!==e&&(t.zoom=e,this._reset()),this)t.zoom},centerfunction(e){return e(this.options.center=g.create(e).toArray(),this._reset(),this)g.create(this.options.center)},extentfunction(e){return e(this._setExtent(e),this)this._getExtent()},setOptionsfunction(e){s.fn.setOptions.call(this,e),this._reset()},locationToLayerfunction(e,t){var n=!this.options.wraparound;return e=g.create(e),this.crs.toPoint(e,this._layerSize(t),n)},layerToLocationfunction(e,t){var n=!this.options.wraparound;return e=h.create(e),this.crs.toLocation(e,this._layerSize(t),n)},locationToViewfunction(e){var t,n;return e=g.create(e),t=this.locationToLayer(this._viewOrigin),n=this.locationToLayer(e),n.translateWith(t.scale(-1))},viewToLocationfunction(e,t){var n=this.locationToLayer(this._getOrigin(),t);return e=h.create(e),e=e.clone().translateWith(n),this.layerToLocation(e,t)},eventOffsetfunction(e){var t=this.element.offset(),n=e.originalEvente,i=b(n.pageX,n.clientX)-t.left,r=b(n.pageY,n.clientY)-t.top;return new u.Point(i,r)},eventToViewfunction(e){var t=this.eventOffset(e);return this.locationToView(this.viewToLocation(t))},eventToLayerfunction(e){return this.locationToLayer(this.eventToLocation(e))},eventToLocationfunction(e){var t=this.eventOffset(e);return this.viewToLocation(t)},viewSizefunction(){var e=this.element,t=this._layerSize(),n=e.width();return this.options.wraparound(n=i(t,n)),{widthn,heighti(t,e.height())}},exportVisualfunction(){return this._reset(),!1},_setOriginfunction(e,t){var n,i=this.viewSize();return e=this._origin=g.create(e),n=this.locationToLayer(e,t),n.x+=i.width2,n.y+=i.height2,this.options.center=this.layerToLocation(n,t).toArray(),this},_getOriginfunction(e){var t,n=this.viewSize();return(e!this._origin)&&(t=this.locationToLayer(this.center()),t.x-=n.width2,t.y-=n.height2,this._origin=this.layerToLocation(t)),this._origin},_setExtentfunction(e){var t,i,r,o,a,s,l;for(e=f.create(e),this.center(e.center()),t=this.element.width(),i=this.element.height(),r=this.options.maxZoom;r=this.options.minZoom&&(o=this.locationToLayer(e.nw,r),a=this.locationToLayer(e.se,r),s=n.abs(a.x-o.x),l=n.abs(a.y-o.y),!(t=s&&i=l));r--);this.zoom(r)},_getExtentfunction(){var e,t=this._getOrigin(),n=this.locationToLayer(t),i=this.viewSize();return n.x+=i.width,n.y+=i.height,e=this.layerToLocation(n),new f(t,e)},_zoomAroundfunction(e,t){this._setOrigin(this.layerToLocation(e,t),t),this.zoom(t)},_initControlsfunction(){var e=this.options.controls;d.Attribution&&e.attribution&&this._createAttribution(e.attribution),a.support.mobileOS(d.Navigator&&e.navigator&&this._createNavigator(e.navigator),d.ZoomControl&&e.zoom&&this._createZoomControl(e.zoom))},_createControlElementfunction(t,n){var i=t.positionn,r=.+y(i).replace( ,.),o=e(.k-map-controls+r,this.element);return 0===o.length&&(o=e(div).addClass(k-map-controls +y(i)).appendTo(this.element)),e(div).appendTo(o)},_createAttributionfunction(e){var t=this._createControlElement(e,bottomRight);this.attribution=new d.Attribution(t,e)},_createNavigatorfunction(e){var t=this._createControlElement(e,topLeft),n=this.navigator=new d.Navigator(t,e);this._navigatorPan=o(this._navigatorPan,this),n.bind(pan,this._navigatorPan),this._navigatorCenter=o(this._navigatorCenter,this),n.bind(center,this._navigatorCenter)},_navigatorPanfunction(e){var t=this,n=t.scroller,i=n.scrollLeft+e.x,r=n.scrollTop-e.y,o=this._virtualSize,a=this.element.height(),s=this.element.width();i=w(i,o.x.min,o.x.max-s),r=w(r,o.y.min,o.y.max-a),t.scroller.one(scroll,function(e){t._scrollEnd(e)}),t.scroller.scrollTo(-i,-r)},_navigatorCenterfunction(){this.center(this.options.center)},_createZoomControlfunction(e){var t=this._createControlElement(e,topLeft),n=this.zoomControl=new d.ZoomControl(t,e);this._zoomControlChange=o(this._zoomControlChange,this),n.bind(change,this._zoomControlChange)},_zoomControlChangefunction(e){this.trigger(zoomStart,{originalEvente})(this.zoom(this.zoom()+e.delta),this.trigger(zoomEnd,{originalEvente}))},_initScrollerfunction(){var e=a.support.mobileOSCx,t=this.options.zoomable!==!1,n=this.scroller=new a.mobile.ui.Scroller(this.element.children(0),{frictione,velocityMultiplierT,zoomt,mousewheelScrolling!1});n.bind(scroll,o(this._scroll,this)),n.bind(scrollEnd,o(this._scrollEnd,this)),n.userEvents.bind(gesturestart,o(this._scaleStart,this)),n.userEvents.bind(gestureend,o(this._scale,this)),this.scrollElement=n.scrollElement},_initLayersfunction(){var e,t,n,i,r,o=this.options.layers,a=this.layers=[];for(e=0;o.lengthe;e++)t=o[e],n=t.typeshape,i=this.options.layerDefaults[n],r=c.map.layers[n],a.push(new r(this,l({},i,t)))},_initMarkersfunction(){this.markers=new p.layers.MarkerLayer(this,this.options.markerDefaults),this.markers.add(this.options.markers)},_scrollfunction(e){var t=this.locationToLayer(this._viewOrigin).round(),n=e.sender.movable,i=new u.Point(n.x,n.y).scale(-1).scale(1n.scale);t.x+=i.x,t.y+=i.y,this._setOrigin(this.layerToLocation(t)),this.trigger(pan,{originalEvente,originthis._getOrigin(),centerthis.center()})},_scrollEndfunction(e){this.trigger(panEnd,{originalEvente,originthis._getOrigin(),centerthis.center()})},_scaleStartfunction(e){if(this.trigger(zoomStart,{originalEvente})){var t=e.touches[1];t&&t.cancel()}},_scalefunction(e){var t=this.scroller.movable.scale,n=this._scaleToZoom(t),i=new u.Point(e.center.x,e.center.y),r=this.viewToLocation(i,n),o=this.locationToLayer(r,n),a=o.translate(-i.x,-i.y);this._zoomAround(a,n),this.trigger(zoomEnd,{originalEvente})},_scaleToZoomfunction(e){var t=this._layerSize()e,i=tthis.options.minSize,r=n.log(i)n.log(2);return n.round(r)},_resetfunction(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.trigger(beforeReset),this.trigger(reset)},_resetScrollerfunction(){var e,t,n,i,o=this.scroller,a=o.dimensions.x,s=o.dimensions.y,l=this._layerSize(),c=20l,d=this.extent().nw,u=this.locationToLayer(d).round();o.movable.round=!0,o.reset(),o.userEvents.cancel(),e=this.options.maxZoom-this.zoom(),o.dimensions.maxScale=r(2,e),t={min-u.x,maxl-u.x},n={min-u.y,maxl-u.y},this.options.wraparound&&(t.min=-c,t.max=c),this.options.pannable===!1&&(i=this.viewSize(),t.min=n.min=0,t.max=i.width,n.max=i.height),a.makeVirtual(),s.makeVirtual(),a.virtualSize(t.min,t.max),s.virtualSize(n.min,n.max),this._virtualSize={xt,yn}},_renderLayersfunction(){var e,t,n,i,r,o=this.options.layers,a=this.layers=[],s=this.scrollWrap;for(s.empty(),e=0;o.lengthe;e++)t=o[e],n=t.typeshape,i=this.options.layerDefaults[n],r=c.map.layers[n],a.push(new r(this,l({},i,t)))},_layerSizefunction(e){return e=b(e,this.options.zoom),this.options.minSizer(2,e)},_clickfunction(e){var t=this.eventOffset(e);this.trigger(click,{originalEvente,locationthis.viewToLocation(t)})},_mousewheelfunction(e){var t,n,i,r,o,a,s,l;e.preventDefault(),t=c.mwDelta(e)0-11,n=this.options,i=this.zoom(),r=w(i+t,n.minZoom,n.maxZoom),n.zoomable!==!1&&r!==i&&(this.trigger(zoomStart,{originalEvente})(o=this.eventOffset(e),a=this.viewToLocation(o),s=this.locationToLayer(a,r),l=s.translate(-o.x,-o.y),this._zoomAround(l,r),this.trigger(zoomEnd,{originalEvente})))}});c.ui.plugin(D)}(window.kendo.jQuery),function(e,t){function n(e,n,i){function r(e){for(var t=1;et%1;)t=10;return t}var o,a,s,l;if(t===et===n)return[];if(i&&u.sign(n-e)!=u.sign(i))throwThe sign of the increment should allow to reach the stop-value.;if(i=i1,e=e0,n=ne,(n-e)i===10)throwInfinite range defined.;if(o=[],a=-1,l=r(Math.abs(i)),e=l,n=l,i=l,en&&i0&&(i=-i),0i)for(;(s=e+i++a)=n;)o.push(sl);else for(;(s=e+i++a)=n;)o.push(sl);return o}function i(e,t){if(e==t)return 0;var n=t.x-e.x,i=e.y-t.y,r=Math.atan(ni);return i=00nr+2Math.PIrr+Math.PI}var r,o,a=window.kendo,s=a.dataviz.diagram={},l=a.deepExtend,c=e.isArray,d=1e-6,u={};l(u,{isNearZerofunction(e){return Math.abs(e)d},isDefinedfunction(e){return t!==e},isUndefinedfunction(e){return t===enull===e},isObjectfunction(e){return e===Object(e)},hasfunction(e,t){return Object.hasOwnProperty.call(e,t)},isStringfunction(e){return[object String]==Object.prototype.toString.call(e)},isBooleanfunction(e){return[object Boolean]==Object.prototype.toString.call(e)},isTypefunction(e,t){return Object.prototype.toString.call(e)==[object +t+]},isNumberfunction(e){return!isNaN(parseFloat(e))&&isFinite(e)},isEmptyfunction(e){if(null===e)return!0;if(c(e)u.isString(e))return 0===e.length;for(var t in e)if(u.has(e,t))return!1;return!0},simpleExtendfunction(e,t){if(u.isObject(t))for(var n in t)e[n]=t[n]},initArrayfunction(e,t){var n,i=[];for(n=0;en;++n)i[n]=t;return i},serializePointsfunction(e){var t,n,i=[];for(t=0;e.lengtht;t++)n=e[t],i.push(n.x+;+n.y);return i.join(;)},deserializePointsfunction(e){var t,n=e.split(;),i=[];if(n.length%2!==0)throwNot an array of points.;for(t=0;n.lengtht;t+=2)i.push(new s.Point(parseInt(n[t],10),parseInt(n[t+1],10)));return i},randomIntegerfunction(e,t){return parseInt(Math.floor(Math.random()t)+e,10)},DFTfunction(e,t){var n,i;if(t(e),e.childNodes)for(n=0;e.childNodes.lengthn;n++)i=e.childNodes[n],this.DFT(i,t)},getMatrixAnglefunction(e){return null===e0===e.d0180Math.atan2(e.b,e.d)Math.PI},getMatrixScalingfunction(e){var t=Math.sqrt(e.ae.a+e.ce.c),n=Math.sqrt(e.be.b+e.de.d);return[t,n]}}),u.sign=function(e){return e0e-110},u.findAngle=function(e,t){return 180i(e,t)Math.PI},u.forEach=function(e,t,n){for(var i=0;e.lengthi;i++)t.call(n,e[i],i,e)},u.any=function(e,t){for(var n=0;e.lengthn;++n)if(t(e[n]))return e[n];return null},u.remove=function(e,t){for(var n;-1!==(n=u.indexOf(e,t));)e.splice(n,1);return e},u.contains=function(e,t){return-1!==u.indexOf(e,t)},u.indexOf=function(t,n){return e.inArray(n,t)},u.fold=function(e,t,n,i){var r,o,a=arguments.length2;for(r=0;e.lengthr;r++)o=e[r],an=t.call(i,n,o,r,e)(n=o,a=!0);if(!a)throwReduce of empty array with no initial value;return n},u.find=function(e,t,n){var i;return u.any(e,function(e,r,o){return t.call(n,e,r,o)(i=e,!0)!1}),i},u.first=function(e,t,n){return 0===e.lengthnullu.isUndefined(t)e[0]u.find(e,t,n)},u.insert=function(e,t,n){return e.splice(n,0,t),e},u.all=function(e,t,n){var i,r,o=!0;for(r=0;e.lengthr&&(i=e[r],o=o&&t.call(n,i,r,e),o);r++);return o},u.clear=function(e){e.splice(0,e.length)},u.bisort=function(e,t,n){if(u.isUndefined(e))throwFirst array is not specified.;if(u.isUndefined(t))throwSecond array is not specified.;if(e.length!=t.length)throwThe two arrays should have equal length;var i,r=[];for(i=0;e.lengthi;i++)r.push({xe[i],yt[i]});for(r.sort(u.isUndefined(n)function(e,t){return e.x-t.x}function(e,t){return n(e.x,t.x)}),u.clear(e),u.clear(t),i=0;r.lengthi;i++)e.push(r[i].x),t.push(r[i].y)},u.addRange=function(e,t){e.push.apply(e,t)},r={easeInOutfunction(e){return-Math.cos(eMath.PI)2+.5}},o=a.Class.extend({initfunction(){this.adapters=[],this.target=0,this.tick=0,this.interval=20,this.duration=800,this.lastTime=null,this.handlers=[];var e=this;this.transition=r.easeInOut,this.timerDelegate=function(){e.onTimerEvent()}},addAdapterfunction(e){this.adapters.push(e)},onCompletefunction(e){this.handlers.push(e)},removeHandlerfunction(t){this.handlers=e.grep(this.handlers,function(e){return e!==t})},triggerfunction(){var e=this;this.handlers&&u.forEach(this.handlers,function(t){return t.call(null!==e.callere.callere)})},onStepfunction(){},seekTofunction(e){this.seekFromTo(this.tick,e)},seekFromTofunction(e,t){this.target=Math.max(0,Math.min(1,t)),this.tick=Math.max(0,Math.min(1,e)),this.lastTime=(new Date).getTime(),this.intervalId(this.intervalId=window.setInterval(this.timerDelegate,this.interval))},stopfunction(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.trigger())},playfunction(e){0!==this.adapters.length&&(null!==e&&(this.caller=e),this.initState(),this.seekFromTo(0,1))},reversefunction(){this.seekFromTo(1,0)},initStatefunction(){if(0!==this.adapters.length)for(var e=0;this.adapters.lengthe;e++)this.adapters[e].initState()},propagatefunction(){var e,t=this.transition(this.tick);for(e=0;this.adapters.lengthe;e++)this.adapters[e].update(t)},onTimerEventfunction(){var e,t=(new Date).getTime(),n=t-this.lastTime;this.lastTime=t,e=nthis.duration(this.targetthis.tick1-1),Math.abs(e)=Math.abs(this.tick-this.target)this.tick=this.targetthis.tick+=e;try{this.propagate()}finally{this.onStep.call(this),this.target==this.tick&&this.stop()}}}),a.deepExtend(s,{initfunction(e){a.init(e,s.ui)},Utilsu,Rangen,Tickero})}(window.kendo.jQuery),function(e,t){function n(e){return Math.abs(e)z}function i(e,t,i,r,o){var a,s,l,c,d=(t.x-e.x)(r.y-i.y)-(t.y-e.y)(r.x-i.x);
if(!n(d)&&(a=(e.y-i.y)(r.x-i.x)-(e.x-i.x)(r.y-i.y),s=(e.y-i.y)(t.x-e.x)-(e.x-i.x)(t.y-e.y),l=ad,c=sd,!o!(0ll10cc1)))return new A(e.x+l(t.x-e.x),e.y+l(t.y-e.y))}function r(e,t){var n,i,r;do n=2Math.random()-1,i=2Math.random()-1,r=nn+ii;while(!rr1);return e+tnMath.sqrt(-2Math.log(r)r)}function o(e){var t,n,i;for(D.isUndefined(e)&&(e=10),t=,n=0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ,i=e;i0;--i)t+=n.charAt(Math.round(Math.random()(n.length-1)));return t}var a,s,l,c,d,u,h,p,f,g,m,v,_,w,y,b,k=window.kendo,x=k.dataviz.diagram,C=k.Class,S=k.deepExtend,T=k.dataviz,D=x.Utils,A=T.Point2D,E=k.isFunction,I=D.contains,M=e.map,P=3,z=1e-6;S(A.fn,{plusfunction(e){return new A(this.x+e.x,this.y+e.y)},minusfunction(e){return new A(this.x-e.x,this.y-e.y)},offsetfunction(e){return new A(this.x-e,this.y-e)},timesfunction(e){return new A(this.xe,this.ye)},normalizefunction(){return 0===this.length()new Athis.times(1this.length())},lengthfunction(){return Math.sqrt(this.xthis.x+this.ythis.y)},toStringfunction(){return(+this.x+,+this.y+)},lengthSquaredfunction(){return this.xthis.x+this.ythis.y},middleOffunction(e,t){return new A(t.x-e.x,t.y-e.y).times(.5).plus(e)},toPolarfunction(e){var t,n,i,r=1;if(e&&(r=180Math.PI),t=Math.atan2(Math.abs(this.y),Math.abs(this.x)),n=Math.PI2,i=this.length(),0===this.x){if(0===this.y)return new u(0,0);if(this.y0)return new u(i,rn);if(0this.y)return new u(i,3rn)}else if(this.x0){if(0===this.y)return new u(i,0);if(this.y0)return new u(i,rt);if(0this.y)return new u(i,r(4n-t))}else{if(0===this.y)return new u(i,2n);if(this.y0)return new u(i,r(2n-t));if(0this.y)return new u(i,r(2n+t))}},isOnLinefunction(e,t){var n,i,r,o,a;return e.xt.x&&(n=t,t=e,e=n),i=new s(e.x,e.y).inflate(P,P),r=new s(t.x,t.y).inflate(P,P),i.union(r).contains(this)e.x===t.xe.y===t.y!0(t.ye.y(o=i.x+(r.x-i.x)(this.y-(i.y+i.height))(r.y+r.height-(i.y+i.height)),a=i.x+i.width+(r.x+r.width-(i.x+i.width))(this.y-i.y)(r.y-i.y))(o=i.x+(r.x-i.x)(this.y-i.y)(r.y-i.y),a=i.x+i.width+(r.x+r.width-(i.x+i.width))(this.y-(i.y+i.height))(r.y+r.height-(i.y+i.height))),this.xo&&athis.x)!1}}),S(A,{parsefunction(e){var n=e.slice(1,e.length-1),i=n.split(,),r=parseInt(i[0],10),o=parseInt(i[1],10);return isNaN(r)isNaN(o)tnew A(r,o)}}),a=C.extend({initfunction(e,t,n){this.point=e,this.left=t,this.right=n}}),s=C.extend({initfunction(e,t,n,i){this.x=e0,this.y=t0,this.width=n0,this.height=i0},containsfunction(e){return e.x=this.x&&this.x+this.width=e.x&&e.y=this.y&&this.y+this.height=e.y},inflatefunction(e,n){return n===t&&(n=e),this.x-=e,this.y-=n,this.width+=2e+1,this.height+=2n+1,this},offsetfunction(e,t){var n=e,i=t;return e instanceof A&&(n=e.x,i=e.y),this.x+=n,this.y+=i,this},unionfunction(e){var t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width),r=Math.max(this.y+this.height,e.y+e.height);return new s(t,n,i-t,r-n)},centerfunction(){return new A(this.x+this.width2,this.y+this.height2)},topfunction(){return new A(this.x+this.width2,this.y)},rightfunction(){return new A(this.x+this.width,this.y+this.height2)},bottomfunction(){return new A(this.x+this.width2,this.y+this.height)},leftfunction(){return new A(this.x,this.y+this.height2)},topLeftfunction(){return new A(this.x,this.y)},topRightfunction(){return new A(this.x+this.width,this.y)},bottomLeftfunction(){return new A(this.x,this.y+this.height)},bottomRightfunction(){return new A(this.x+this.width,this.y+this.height)},clonefunction(){return new s(this.x,this.y,this.width,this.height)},isEmptyfunction(){return!this.width&&!this.height},equalsfunction(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},rotatedBoundsfunction(e){var t=this.clone(),n=this.rotatedPoints(e),i=n[0],r=n[1],o=n[2],a=n[3];return t.x=Math.min(o.x,i.x,r.x,a.x),t.y=Math.min(o.y,i.y,r.y,a.y),t.width=Math.max(o.x,i.x,r.x,a.x)-t.x,t.height=Math.max(o.y,i.y,r.y,a.y)-t.y,t},rotatedPointsfunction(e){var t=this,n=t.center(),i=t.bottomRight().rotate(n,360-e),r=t.topLeft().rotate(n,360-e),o=t.topRight().rotate(n,360-e),a=t.bottomLeft().rotate(n,360-e);return[r,o,i,a]},toStringfunction(e){return e=e ,this.x+e+this.y+e+this.width+e+this.height},scalefunction(e,t,n,i,r){var o,a,s,l=this.topLeft(),c=this.center();l.rotate(c,360-r).rotate(i,r),o=n.minus(l),a=new A(o.xe,o.yt),s=o.minus(a),l=l.plus(s),l.rotate(i,360-r).rotate(c,r),this.x=l.x,this.y=l.y,this.width=e,this.height=t},zoomfunction(e){return this.x=e,this.y=e,this.width=e,this.height=e,this}}),l=C.extend({initfunction(e,t){this.width=e,this.height=t}}),l.prototype.Empty=new l(0,0),s.toRect=function(e){return e instanceof s(e=new s(e.x,e.y,e.width,e.height)),e},s.empty=function(){return new s(0,0,0,0)},s.fromPoints=function(e,t){if(isNaN(e.x)isNaN(e.y)isNaN(t.x)isNaN(t.y))throwSome values are NaN.;return new s(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.abs(e.x-t.x),Math.abs(e.y-t.y))},c={linesfunction(e,t,n,r){return i(e,t,n,r)},segmentsfunction(e,t,n,r){return i(e,t,n,r,!0)},rectWithLinefunction(e,t,n){return c.segments(t,n,e.topLeft(),e.topRight())c.segments(t,n,e.topRight(),e.bottomRight())c.segments(t,n,e.bottomLeft(),e.bottomRight())c.segments(t,n,e.topLeft(),e.bottomLeft())},rectsfunction(e,t,n){var i,r,o=t.topLeft(),a=t.topRight(),s=t.bottomLeft(),l=t.bottomRight(),d=t.center();return n&&(o=o.rotate(d,n),a=a.rotate(d,n),s=s.rotate(d,n),l=l.rotate(d,n)),i=e.contains(o)e.contains(a)e.contains(s)e.contains(l)c.rectWithLine(e,o,a)c.rectWithLine(e,o,s)c.rectWithLine(e,a,l)c.rectWithLine(e,s,l),i(o=e.topLeft(),a=e.topRight(),s=e.bottomLeft(),l=e.bottomRight(),n&&(r=360-n,o=o.rotate(d,r),a=a.rotate(d,r),s=s.rotate(d,r),l=l.rotate(d,r)),i=t.contains(o)t.contains(a)t.contains(s)t.contains(l)),i}},d=C.extend({initfunction(e){this.container=s.toRect(e)},alignfunction(e,t){var n,i=t.toLowerCase().split( );for(n=0;i.lengthn;n++)e=this._singleAlign(e,i[n]);return e},_singleAlignfunction(e,t){return E(this[t])this[t](e)e},leftfunction(e){return this._align(e,this._left)},centerfunction(e){return this._align(e,this._center)},rightfunction(e){return this._align(e,this._right)},stretchfunction(e){return this._align(e,this._stretch)},topfunction(e){return this._align(e,this._top)},middlefunction(e){return this._align(e,this._middle)},bottomfunction(e){return this._align(e,this._bottom)},_leftfunction(e,t){t.x=e.x},_centerfunction(e,t){t.x=(e.width-t.width)20},_rightfunction(e,t){t.x=e.width-t.width},_topfunction(e,t){t.y=e.y},_middlefunction(e,t){t.y=(e.height-t.height)20},_bottomfunction(e,t){t.y=e.height-t.height},_stretchfunction(e,t){t.x=0,t.y=0,t.height=e.height,t.width=e.width},_alignfunction(e,t){return e=s.toRect(e),t(this.container,e),e}}),u=C.extend({initfunction(e,t){this.r=e,this.angle=t}}),h=C.extend({initfunction(e,t,n,i,r,o){this.a=e0,this.b=t0,this.c=n0,this.d=i0,this.e=r0,this.f=o0},plusfunction(e){this.a+=e.a,this.b+=e.b,this.c+=e.c,this.d+=e.d,this.e+=e.e,this.f+=e.f},minusfunction(e){this.a-=e.a,this.b-=e.b,this.c-=e.c,this.d-=e.d,this.e-=e.e,this.f-=e.f},timesfunction(e){return new h(this.ae.a+this.ce.b,this.be.a+this.de.b,this.ae.c+this.ce.d,this.be.c+this.de.d,this.ae.e+this.ce.f+this.e,this.be.e+this.de.f+this.f)},applyfunction(e){return new A(this.ae.x+this.ce.y+this.e,this.be.x+this.de.y+this.f)},applyRectfunction(e){return s.fromPoints(this.apply(e.topLeft()),this.apply(e.bottomRight()))},toStringfunction(){returnmatrix(+this.a+ +this.b+ +this.c+ +this.d+ +this.e+ +this.f+)}}),S(h,{fromSVGMatrixfunction(e){var t=new h;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t},fromMatrixVectorfunction(e){var t=new h;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t},fromListfunction(e){if(6!==e.length)throwThe given list should consist of six elements.;var t=new h;return t.a=e[0],t.b=e[1],t.c=e[2],t.d=e[3],t.e=e[4],t.f=e[5],t},translationfunction(e,t){var n=new h;return n.a=1,n.b=0,n.c=0,n.d=1,n.e=e,n.f=t,n},unitfunction(){return new h(1,0,0,1,0,0)},rotationfunction(e,t,n){var i=new h;return i.a=Math.cos(eMath.PI180),i.b=Math.sin(eMath.PI180),i.c=-i.b,i.d=i.a,i.e=t-ti.a+ni.b0,i.f=n-ni.a-ti.b0,i},scalingfunction(e,t){var n=new h;return n.a=e,n.b=0,n.c=0,n.d=t,n.e=0,n.f=0,n},parsefunction(e){var t,n;if(e){if(e=e.trim(),matrix===e.slice(0,6).toLowerCase()){if(n=e.slice(7,e.length-1).trim(),t=n.split(,),6===t.length)return h.fromList(M(t,function(e){return parseFloat(e)}));if(t=n.split( ),6===t.length)return h.fromList(M(t,function(e){return parseFloat(e)}))}if((===e.slice(0,1)&&)===e.slice(e.length-1)&&(e=e.substr(1,e.length-1)),e.indexOf(,)0&&(t=e.split(,),6===t.length))return h.fromList(M(t,function(e){return parseFloat(e)}));if(e.indexOf( )0&&(t=e.split( ),6===t.length))return h.fromList(M(t,function(e){return parseFloat(e)}))}return t}}),p=C.extend({initfunction(e,t,n,i,r,o){this.a=e0,this.b=t0,this.c=n0,this.d=i0,this.e=r0,this.f=o0},fromMatrixfunction(e){var t=new p;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t}}),f={_distanceToLineSquaredfunction(e,t,n){function i(e,t){return(e.x-t.x)(e.x-t.x)+(e.y-t.y)(e.y-t.y)}if(t===n)return i(e,t);var r=n.x-t.x,o=n.y-t.y,a=(e.x-t.x)r+(e.y-t.y)o;return 0ai(t,e)(a=(n.x-e.x)r+(n.y-e.y)o,0ai(n,e)(a=(n.x-e.x)o-(n.y-e.y)r,aa(rr+oo)))},distanceToLinefunction(e,t,n){return Math.sqrt(this._distanceToLineSquared(e,t,n))},distanceToPolylinefunction(e,t){var n,i,r,o,a=Number.MAX_VALUE;if(D.isUndefined(t)0===t.length)return Number.MAX_VALUE;for(n=0;t.length-1n;n++)i=t[n],r=t[n+1],o=this._distanceToLineSquared(e,i,r),ao&&(a=o);return Math.sqrt(a)}},g=k.Class.extend({initfunction(){this._buckets=[],this.length=0},addfunction(e,t){var n=this._createGetBucket(e);return D.isDefined(t)&&(n.value=t),n},getfunction(e){return this._bucketExists(e)this._createGetBucket(e)null},setfunction(e,t){this.add(e,t)},containsKeyfunction(e){return this._bucketExists(e)},removefunction(e){if(this._bucketExists(e)){var t=this._hash(e);return delete this._buckets[t],this.length--,e}},forEachfunction(e){var t,n,i,r,o=this._hashes();for(t=0,n=o.length;nt;t++)i=o[t],r=this._buckets[i],D.isUndefined(r)e(r)},clonefunction(){var e,t,n,i,r=new g,o=this._hashes();for(e=0,t=o.length;te;e++)n=o[e],i=this._buckets[n],D.isUndefined(i)r.add(i.key,i.value);return r},_hashesfunction(){var e,t=[];for(e in this._buckets)this._buckets.hasOwnProperty(e)&&t.push(e);return t},_bucketExistsfunction(e){var t=this._hash(e);return D.isDefined(this._buckets[t])},_createGetBucketfunction(e){var t=this._hash(e),n=this._buckets[t];return D.isUndefined(n)&&(n={keye},this._buckets[t]=n,this.length++),n},_hashfunction(e){if(D.isNumber(e))return e;if(D.isString(e))return this._hashString(e);if(D.isObject(e))return this._objectHashId(e);throwUnsupported key type.},_hashStringfunction(e){var t,n,i=0;if(0===e.length)return i;for(t=0;e.lengtht;t++)n=e.charCodeAt(t),i=32i-i+n;return i},_objectHashIdfunction(e){var t=e._hashId;return D.isUndefined(t)&&(t=o(),e._hashId=t),t}}),m=k.Observable.extend({initfunction(t){var n,i=this;if(k.Observable.fn.init.call(i),this._hashTable=new g,this.length=0,D.isDefined(t))if(e.isArray(t))for(n=0;t.lengthn;n++)this.add(t[n]);else t.forEach(function(e,t){this.add(e,t)},this)},addfunction(e,t){var n=this._hashTable.get(e);n(n=this._hashTable.add(e),this.length++,this.trigger(changed)),n.value=t},setfunction(e,t){this.add(e,t)},getfunction(e){var t=this._hashTable.get(e);if(t)return t.value;throw Error(Cannot find key +e)},containsKeyfunction(e){return this._hashTable.containsKey(e)},removefunction(e){return this.containsKey(e)(this.trigger(changed),this.length--,this._hashTable.remove(e))t},forEachfunction(e,t){this._hashTable.forEach(function(n){e.call(t,n.key,n.value)})},forEachValuefunction(e,t){this._hashTable.forEach(function(n){e.call(t,n.value)})},forEachKeyfunction(e,t){this._hashTable.forEach(function(n){e.call(t,n.key)})},keysfunction(){var e=[];return this.forEachKey(function(t){e.push(t)}),e}}),v=k.Class.extend({initfunction(){this._tail=null,this._head=null,this.length=0},enqueuefunction(e){var t={valuee,nextnull};this._head(this._tail.next=t,this._tail=this._tail.next)(this._head=t,this._tail=this._head),this.length++},dequeuefunction(){if(1this.length)throw Error(The queue is empty.);var e=this._head.value;return this._head=this._head.next,this.length--,e},containsfunction(e){for(var t=this._head;t;){if(t.value===e)return!0;t=t.next}return!1}}),_=k.Observable.extend({initfunction(e){var t=this;k.Observable.fn.init.call(t),this._hashTable=new g,this.length=0,D.isDefined(e)&&(e instanceof ge.forEach(function(e){this.add(e)})e instanceof m&&e.forEach(function(e,t){this.add({keye,valuet})},this))},containsfunction(e){return this._hashTable.containsKey(e)},addfunction(e){var t=this._hashTable.get(e);t(this._hashTable.add(e,e),this.length++,this.trigger(changed))},getfunction(e){return this.contains(e)this._hashTable.get(e).valuenull},hashfunction(e){return this._hashTable._hash(e)},removefunction(e){this.contains(e)&&(this._hashTable.remove(e),this.length--,this.trigger(changed))},forEachfunction(e,t){this._hashTable.forEach(function(t){e(t.value)},t)},toArrayfunction(){var e=[];return this.forEach(function(t){e.push(t)}),e}}),w=k.Class.extend({initfunction(e,t){if(this.links=[],this.outgoing=[],this.incoming=[],this.weight=1,this.id=D.isDefined(e)eo(),D.isDefined(t)){this.associatedShape=t;var n=t.bounds();this.width=n.width,this.height=n.height,this.x=n.x,this.y=n.y}else this.associatedShape=null;this.data=null,this.type=Node,this.shortForm=Node '+this.id+',this.isVirtual=!1},isIsolatedfunction(){return D.isEmpty(this.links)},boundsfunction(e){return D.isDefined(e)(this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,t)new x.Rect(this.x,this.y,this.width,this.height)},isLinkedTofunction(e){var t=this;return D.any(t.links,function(n){return n.getComplement(t)===e})},getChildrenfunction(){var e,t,n,i;if(0===this.outgoing.length)return[];for(e=[],t=0,n=this.outgoing.length;nt;t++)i=this.outgoing[t],e.push(i.getComplement(this));return e},getParentsfunction(){var e,t,n,i;if(0===this.incoming.length)return[];for(e=[],t=0,n=this.incoming.length;nt;t++)i=this.incoming[t],e.push(i.getComplement(this));return e},clonefunction(){var e=new w;return D.isDefined(this.weight)&&(e.weight=this.weight),D.isDefined(this.balance)&&(e.balance=this.balance),D.isDefined(this.owner)&&(e.owner=this.owner),e.associatedShape=this.associatedShape,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},adjacentTofunction(e){return null!==this.isLinkedTo(e)},removeLinkfunction(e){e.source===this&&(D.remove(this.links,e),D.remove(this.outgoing,e),e.source=null),e.target===this&&(D.remove(this.links,e),D.remove(this.incoming,e),e.target=null)},hasLinkTofunction(e){return D.any(this.outgoing,function(t){return t.target===e})},degreefunction(){return this.links.length},incidentWithfunction(e){return I(this.links,e)},getLinksWithfunction(e){return D.all(this.links,function(t){return t.getComplement(this)===e},this)},getNeighborsfunction(){var e=[];return D.forEach(this.incoming,function(t){e.push(t.getComplement(this))},this),D.forEach(this.outgoing,function(t){e.push(t.getComplement(this))},this),e}}),y=k.Class.extend({initfunction(e,t,n,i){if(D.isUndefined(e))throwThe source of the new link is not set.;if(D.isUndefined(t))throwThe target of the new link is not set.;var r,a;r=D.isString(e)new w(e)e,a=D.isString(t)new w(t)t,this.source=r,this.target=a,this.source.links.push(this),this.target.links.push(this),this.source.outgoing.push(this),this.target.incoming.push(this),this.id=D.isDefined(n)no(),this.associatedConnection=D.isDefined(i)inull,this.type=Link,this.shortForm=Link '+this.source.id+-+this.target.id+'},getComplementfunction(e){if(this.source!==e&&this.target!==e)throwThe given node is not incident with this link.;return this.source===ethis.targetthis.source},getCommonNodefunction(e){return this.source===e.sourcethis.source===e.targetthis.sourcethis.target===e.sourcethis.target===e.targetthis.targetnull},isBridgingfunction(e,t){return this.source===e&&this.target===tthis.source===t&&this.target===e},getNodesfunction(){return[this.source,this.target]},incidentWithfunction(e){return this.source===ethis.target===e},adjacentTofunction(e){return I(this.source.links,e)I(this.target.links,e)},changeSourcefunction(e){D.remove(this.source.links,this),D.remove(this.source.outgoing,this),e.links.push(this),e.outgoing.push(this),this.source=e},changeTargetfunction(e){D.remove(this.target.links,this),D.remove(this.target.incoming,this),e.links.push(this),e.incoming.push(this),this.target=e},changesNodesfunction(e,t){this.source===ethis.changeSource(t)this.target===e&&this.changeTarget(t)},reversefunction(){var e=this.source,t=this.target;return this.source=t,D.remove(e.outgoing,this),this.source.outgoing.push(this),this.target=e,D.remove(t.incoming,this),this.target.incoming.push(this),this},directTofunction(e){if(this.source!==e&&this.target!==e)throwThe given node is not incident with this link.;this.target!==e&&this.reverse()},createReverseEdgefunction(){var e=this.clone();return e.reverse(),e.reversed=!0,e},clonefunction(){var e=new y(this.source,this.target);return e}}),b=k.Class.extend({initfunction(e){this.links=[],this.nodes=[],this.diagram=null,this._root=null,D.isDefined(e)D.isString(e)this.id=e(this.diagram=e,this.id=e.id)this.id=o(),this.bounds=new s,this._hasCachedRelationships=!1,this.type=Graph},cacheRelationshipsfunction(e){var t,n,i;if(D.isUndefined(e)&&(e=!1),!this._hasCachedRelationshipse){for(t=0,n=this.nodes.length;nt;t++)i=this.nodes[t],i.children=this.getChildren(i),i.parents=this.getParents(i);this._hasCachedRelationships=!0}},assignLevelsfunction(e,t,n){var i,r,o,a;if(!e)throwStart node not specified.;for(D.isUndefined(t)&&(t=0),this.cacheRelationships(),D.isUndefined(n)&&(n=new m,D.forEach(this.nodes,function(e){n.add(e,!1)})),n.set(e,!0),e.level=t,i=e.children,r=0,o=i.length;or;r++)a=i[r],a&&!n.get(a)&&this.assignLevels(a,t+1,n)},rootfunction(e){if(D.isUndefined(e)){if(this._root)return this._root;var t=D.first(this.nodes,function(e){return 0===e.incoming.length});return ttD.first(this.nodes)}this._root=e},getConnectedComponentsfunction(){var e,t,n,i,r;for(this.componentIndex=0,this.setItemIndices(),e=D.initArray(this.nodes.length,-1),t=0;this.nodes.lengtht;t++)-1===e[t]&&(this._collectConnectedNodes(e,t),this.componentIndex++);for(n=[],i=0;this.componentIndexi;++i)n[i]=new b;for(i=0;e.lengthi;++i)r=n[e[i]],r.addNodeAndOutgoings(this.nodes[i]);return n.sort(function(e,t){return t.nodes.length-e.nodes.length}),n},_collectConnectedNodesfunction(e,t){e[t]=this.componentIndex;var n=this.nodes[t];D.forEach(n.links,function(t){var i=t.getComplement(n),r=i.index;-1===e[r]&&this._collectConnectedNodes(e,r)},this)},calcBoundsfunction(){var e,t,n,i;if(this.isEmpty())return this.bounds=new s;for(e=null,t=0,n=this.nodes.length;nt;t++)i=this.nodes[t],e=ee.union(i.bounds())i.bounds();return this.bounds=e},getSpanningTreefunction(e){var t,n,i,r,o,a,s,l,c,d,u,h,p=new b,f=new m;for(p.root=e.clone(),p.root.level=0,p.root.id=e.id,f.add(e,p.root),e.level=0,i=[],r=[],p.nodes.push(p.root),i.push(e),r.push(e),o=1;r.length0;)for(a=r.pop(),s=0;a.links.lengths;s++)l=a.links[s],c=l.getComplement(a),I(i,c)(c.level=a.level+1,c.level+1o&&(o=c.level+1),I(r,c)r.push(c),I(i,c)i.push(c),f.containsKey(a)t=f.get(a)(t=a.clone(),t.level=a.level,t.id=a.id,f.add(a,t)),f.containsKey(c)n=f.get(c)(n=c.clone(),n.level=c.level,n.id=c.id,f.add(c,n)),d=new y(t,n),p.addLink(d));for(u=[],h=0;oh;h++)u.push([]);return D.forEach(p.nodes,function(e){u[e.level].push(e)}),p.treeLevels=u,p.cacheRelationships(),p},takeRandomNodefunction(t,n){if(D.isUndefined(t)&&(t=[]),D.isUndefined(n)&&(n=4),0===this.nodes.length)return null;if(1===this.nodes.length)return I(t,this.nodes[0])nullthis.nodes[0];var i=e.grep(this.nodes,function(e){return!I(t,e)&&e.degree()=n});return D.isEmpty(i)nulli[D.randomInteger(0,i.length)]},isEmptyfunction(){return D.isEmpty(this.nodes)},isHealthyfunction(){return D.all(this.links,function(e){return I(this.nodes,e.source)&&I(this.nodes,e.target)},this)},getParentsfunction(e){if(!this.hasNode(e))throwThe given node is not part of this graph.;return e.getParents()},getChildrenfunction(e){if(!this.hasNode(e))throwThe given node is not part of this graph.;return e.getChildren()},addLinkfunction(e,n,i){var r,o,a;if(D.isUndefined(e))throwThe source of the link is not defined.;if(D.isUndefined(n)){if(D.isDefined(e.type)&&Link===e.type)return this.addExistingLink(e),t;throwThe target of the link is not defined.}return r=this.getNode(e),D.isUndefined(r)&&(r=this.addNode(e)),o=this.getNode(n),D.isUndefined(o)&&(o=this.addNode(n)),a=new y(r,o),D.isDefined(i)&&(a.owner=i),this.links.push(a),a},removeAllLinksfunction(){for(;this.links.length0;){var e=this.links[0];this.removeLink(e)}},addExistingLinkfunction(e){var t,n;this.hasLink(e)(this.links.push(e),this.hasNode(e.source.id)(t=this.getNode(e.source.id),e.changeSource(t))this.addNode(e.source),this.hasNode(e.target.id)(n=this.getNode(e.target.id),e.changeTarget(n))this.addNode(e.target))},hasLinkfunction(e){if(D.isString(e))return D.any(this.links,function(t){return t.id===e});if(Link===e.type)return I(this.links,e);throwThe given object is neither an identifier nor a Link.},getNodefunction(e){if(D.isUndefined(e))throwNo identifier or Node specified.;return D.isString(e)D.find(this.nodes,function(t){return t.id==e})this.hasNode(e)enull},hasNodefunction(e){if(D.isString(e))return D.any(this.nodes,function(t){return t.id===e});if(D.isObject(e))return D.any(this.nodes,function(t){return t===e});throwThe identifier should be a Node or the Id (string) of a node.},removeNodefunction(e){var t,n,i,r,o=e;if(D.isString(e)&&(o=this.getNode(e)),!D.isDefined(o))throwThe identifier should be a Node or the Id (string) of a node.;for(t=o.links,o.links=[],n=0,i=t.length;in;n++)r=t[n],this.removeLink(r);D.remove(this.nodes,o)},areConnectedfunction(e,t){return D.any(this.links,function(n){return n.source==e&&n.target==tn.source==t&&n.target==e})},removeLinkfunction(e){D.remove(this.links,e),D.remove(e.source.outgoing,e),D.remove(e.source.links,e),D.remove(e.target.incoming,e),D.remove(e.target.links,e)},addNodefunction(e,t,n){var i=null;if(!D.isDefined(e))throwNo Node or identifier for a new Node is given.;if(D.isString(e)){if(this.hasNode(e))return this.getNode(e);i=new w(e)}else{if(this.hasNode(e))return this.getNode(e);i=e}return D.isDefined(t)&&i.bounds(t),D.isDefined(n)&&(i.owner=n),this.nodes.push(i),i},addNodeAndOutgoingsfunction(e){I(this.nodes,e)this.nodes.push(e);var t=e.outgoing;e.outgoing=[],D.forEach(t,function(e){this.addExistingLink(e)},this)},setItemIndicesfunction(){var e;for(e=0;this.nodes.lengthe;++e)this.nodes[e].index=e;for(e=0;this.links.lengthe;++e)this.links[e].index=e},clonefunction(e){var t,n=new b,i=D.isDefined(e)&&e===!0;return i&&(n.nodeMap=new m,n.linkMap=new m),t=new m,D.forEach(this.nodes,function(e){var r=e.clone();t.set(e,r),n.nodes.push(r),i&&n.nodeMap.set(r,e)}),D.forEach(this.links,function(e){if(t.containsKey(e.source)&&t.containsKey(e.target)){var r=n.addLink(t.get(e.source),t.get(e.target));i&&n.linkMap.set(r,e)}}),n},linearizefunction(e){return b.Utils.linearize(this,e)},depthFirstTraversalfunction(e,t){var n,i;if(D.isUndefined(e))throwYou need to supply a starting node.;if(D.isUndefined(t))throwYou need to supply an action.;if(!this.hasNode(e))throwThe given start-node is not part of this graph;n=this.getNode(e),i=[],this._dftIterator(n,t,i)},_dftIteratorfunction(e,t,n){var i,r,o,a;for(t(e),n.push(e),i=e.getChildren(),r=0,o=i.length;or;r++)a=i[r],I(n,a)this._dftIterator(a,t,n)},breadthFirstTraversalfunction(e,t){var n,i,r,o,a,s,l,c;if(D.isUndefined(e))throwYou need to supply a starting node.;if(D.isUndefined(t))throwYou need to supply an action.;if(!this.hasNode(e))throwThe given start-node is not part of this graph;for(n=this.getNode(e),i=new v,r=[],i.enqueue(n);i.length0;)for(o=i.dequeue(),t(o),r.push(o),a=o.getChildren(),s=0,l=a.length;ls;s++)c=a[s],I(r,c)I(i,c)i.enqueue(c)},_stronglyConnectedComponentsfunction(e,t,n,i,r,o,a){var s,l,c,d,u;for(n.add(t,a),i.add(t,a),a++,o.push(t),s=t.getChildren(),c=0,d=s.length;dc;c++)l=s[c],n.containsKey(l)I(o,l)&&i.add(t,Math.min(i.get(t),n.get(l)))(this._stronglyConnectedComponents(e,l,n,i,r,o,a),i.add(t,Math.min(i.get(t),i.get(l))));if(i.get(t)===n.get(t)){u=[];do l=o.pop(),u.push(l);while(l!==t);(!eu.length1)&&r.push(u)}},findCyclesfunction(e){var t,n,i,r,o,a,s;for(D.isUndefined(e)&&(e=!0),t=new m,n=new m,i=[],r=[],o=0,a=this.nodes.length;ao;o++)s=this.nodes[o],t.containsKey(s)this._stronglyConnectedComponents(e,s,t,n,i,r,0);return i},isAcyclicfunction(){return D.isEmpty(this.findCycles())},isSubGraphfunction(e){var t=e.linearize(),n=this.linearize();return D.all(t,function(e){return I(n,e)})},makeAcyclicfunction(){var e,t,n,i,r,o,a,s,l,c,d,u,h,p,f,g,v,_,w,y,b,k,x,C,S,T,A,E,I,M,P,z;if(this.isEmpty()1=this.nodes.length1=this.links.length)return[];if(2==this.nodes.length){if(e=[],this.links.length1)for(t=this.links[0],n=t.source,i=0,r=this.links.length;ri;i++)o=this.links[i],o.source!=n&&(a=o.reverse(),e.push(a));return e}for(s=this.clone(!0),l=this.nodes.length,c=new m,d=function(e){return 0===e.outgoing.length2-l0===e.incoming.lengthl-2e.outgoing.length-e.incoming.length},u=function(e,t){var n=d(e,l);t.containsKey(n)t.set(n,[]),t.get(n).push(e)},D.forEach(s.nodes,function(e){u(e,c)}),h=[],p=[];s.nodes.length0;){if(c.containsKey(2-l))for(_=c.get(2-l);_.length0;){for(g=_.pop(),w=0;g.links.lengthw;w++)y=g.links[w],f=y.getComplement(g),v=d(f,l),D.remove(c.get(v),f),f.removeLink(y),u(f,c);D.remove(s.nodes,g),p.unshift(g)}if(c.containsKey(l-2))for(b=c.get(l-2);b.length0;){for(f=b.pop(),k=0;f.links.lengthk;k++)x=f.links[k],g=x.getComplement(f),v=d(g,l),D.remove(c.get(v),g),g.removeLink(x),u(g,c);h.push(f),D.remove(s.nodes,f)}if(s.nodes.length0)for(C=l-3;C2-l;C--)if(c.containsKey(C)&&c.get(C).length0){for(S=c.get(C),T=S.pop(),A=0;T.links.lengthA;A++)E=T.links[A],I=E.getComplement(T),v=d(I,l),D.remove(c.get(v),I),I.removeLink(E),u(I,c);h.push(T),D.remove(s.nodes,T);break}}for(h=h.concat(p),M=new m,P=0;this.nodes.lengthP;P++)M.set(s.nodeMap.get(h[P]),P);return z=[],D.forEach(this.links,function(e){M.get(e.source)M.get(e.target)&&(e.reverse(),z.push(e))}),z}}),b.Predefined={EightGraphfunction(){return b.Utils.parse([1-2,2-3,3-4,4-1,3-5,5-6,6-7,7-3])},Mindmapfunction(){return b.Utils.parse([0-1,0-2,0-3,0-4,0-5,1-6,1-7,7-8,2-9,9-10,9-11,3-12,12-13,13-14,4-15,4-16,15-17,15-18,18-19,18-20,14-21,14-22,5-23,23-24,23-25,6-26])},ThreeGraphfunction(){return b.Utils.parse([1-2,2-3,3-1])},BinaryTreefunction(e){return D.isUndefined(e)&&(e=5),b.Utils.createBalancedTree(e,2)},Linearfunction(e){return D.isUndefined(e)&&(e=10),b.Utils.createBalancedTree(e,1)},Treefunction(e,t){return b.Utils.createBalancedTree(e,t)},Forestfunction(e,t,n){return b.Utils.createBalancedForest(e,t,n)},Workflowfunction(){return b.Utils.parse([0-1,1-2,2-3,1-4,4-3,3-5,5-6,6-3,6-7,5-4])},Gridfunction(e,t){var n,i,r,o,a,s=new x.Graph;if(0=e&&0=t)return s;for(n=0;e+1n;n++)for(i=null,r=0;t+1r;r++)o=new w(+n+.+r),s.addNode(o),i&&s.addLink(i,o),n0&&(a=s.getNode(+(n-1)+.+r),s.addLink(a,o)),i=o;return s}},b.Utils={parsefunction(e){var t,n,i,r,o,a=new x.Graph,s=e.slice();for(n=0,i=s.length;in;n++){if(r=s[n],D.isString(r)){if(r.indexOf(-)0)throwThe link should be specified as 'a-b'.;if(o=r.split(-),2!=o.length)throwThe link should be specified as 'a-b'.;t=new y(o[0],o[1]),a.addLink(t)}if(D.isObject(r)){if(!t)throwSpecification found before Link definition.;k.deepExtend(t,r)}}return a},linearizefunction(e,t){var n,i,r,o;if(D.isUndefined(e))throwExpected an instance of a Graph object in slot one.;for(D.isUndefined(t)&&(t=!1),n=[],i=0,r=e.links.length;ri;i++)o=e.links[i],n.push(o.source.id+-+o.target.id),t&&n.push({ido.id});return n},_addShapefunction(e,t,n,i){return D.isUndefined(t)&&(t=new x.Point(0,0)),D.isUndefined(n)&&(n=o()),i=k.deepExtend({width20,height20,idn,radius10,fill#778899,datacircle,undoable!1,xt.x,yt.y},i),e.addShape(i)},_addConnectionfunction(e,t,n,i){return e.connect(t,n,i)},createDiagramFromGraphfunction(e,t,n,i){var r,o,a,l,c,d,u,h,p,f,g,m,v,_,w,y;if(D.isUndefined(e))throwThe diagram surface is undefined.;if(D.isUndefined(t))throwNo graph specification defined.;for(D.isUndefined(n)&&(n=!0),D.isUndefined(i)&&(i=!1),r=e.element.clientWidth200,o=e.element.clientHeight200,a=[],d=0,u=t.nodes.length;ud;d++)l=t.nodes[d],h=l.position,D.isUndefined(h)&&(h=D.isDefined(l.x)&&D.isDefined(l.y)new A(l.x,l.y)new A(D.randomInteger(10,r-20),D.randomInteger(10,o-20))),p={},0===l.idi&&k.deepExtend(p,{width150Math.random()+20,height80Math.random()+50,datarectangle,fill{color#778899}}),c=this._addShape(e,h,l.id,p),f=c.bounds(),D.isDefined(f)&&(l.x=f.x,l.y=f.y,l.width=f.width,l.height=f.height),a[l.id]=c;for(g=0;t.links.lengthg;g++)m=t.links[g],v=a[m.source.id],D.isUndefined(v)(_=a[m.target.id],D.isUndefined(_)this._addConnection(e,v,_,{idm.id}));if(n)for(w=new e.SpringLayout(e),w.layoutGraph(t,{limitToView!1}),y=0;t.nodes.lengthy;y++)l=t.nodes[y],c=a[l.id],c.bounds(new s(l.x,l.y,l.width,l.height))},createBalancedTreefunction(e,t){var n,i,r,o,a,s,l,c,d,u;if(D.isUndefined(e)&&(e=3),D.isUndefined(t)&&(t=3),n=new x.Graph,i=-1,r=[],0=e0=t)return n;for(a=new w(+ ++i),n.addNode(a),n.root=a,r.push(a),s=0;es;s++){for(o=[],l=0;r.lengthl;l++)for(c=r[l],d=0;td;d++)u=new w(+ ++i),n.addLink(c,u),o.push(u);r=o}return n},createBalancedForestfunction(e,t,n){var i,r,o,a,s,l,c,d,u,h,p;if(D.isUndefined(e)&&(e=3),D.isUndefined(t)&&(t=3),D.isUndefined(n)&&(n=5),i=new x.Graph,r=-1,o=[],0=e0=t0=n)return i;for(s=0;ns;s++)for(l=new w(+ ++r),i.addNode(l),o=[l],c=0;ec;c++){for(a=[],d=0;o.lengthd;d++)for(u=o[d],h=0;th;h++)p=new w(+ ++r),i.addLink(u,p),a.push(p);o=a}return i},createRandomConnectedGraphfunction(e,t,n){var i,r,o,a,s,l,c,d,u,h;if(D.isUndefined(e)&&(e=40),D.isUndefined(t)&&(t=4),D.isUndefined(n)&&(n=!1),i=new x.Graph,r=-1,0=e)return i;if(o=new w(+ ++r),i.addNode(o),1===e)return i;if(e1){for(a=1;ea&&(s=i.takeRandomNode([],t),s);a++)l=i.addNode(+a),i.addLink(s,l);if(!n&&e1)for(c=D.randomInteger(1,e),d=0;cd;d++)u=i.takeRandomNode([],t),h=i.takeRandomNode([],t),u&&h&&!i.areConnected(u,h)&&i.addLink(u,h);return i}},randomDiagramfunction(e,t,n,i,r){var o=k.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(t,n,i);b.Utils.createDiagramFromGraph(e,o,!1,r)}},k.deepExtend(x,{initfunction(e){k.init(e,x.ui)},PointA,Intersectc,Geometryf,Rects,Sizel,RectAlignd,Matrixh,MatrixVectorp,normalVariabler,randomIdo,Dictionarym,HashTableg,Queuev,Set_,Nodew,Linky,Graphb,PathDefinera})}(window.kendo.jQuery),function(e,t){function n(e){return{xe.x0,ye.y0,widthe.width0,heighte.height0}}function i(e){if(e){var t=e;return H(t)&&(t={colort}),t.color&&(t.color=r(t.color)),t}}function r(e){var t;return t=e!=Wnew O.Color(e).toHex()e}function o(e,t){var n=t.x-e.x,i=t.y-e.y,r=A.util.deg(Math.atan2(i,n));return r}function a(e,t){var n,i,r,o=this.options,a=!1;for(r=0;t.lengthr;r++)i=t[r],n=e[i],B(n)&&o[i]!==n&&(o[i]=n,a=!0);
return a}function s(e,t){return new O.Segment(new N.Point(e,t))}var l,c,d,u,h,p,f,g,m,v,_,w,y,b,k,x,C,S,T,D,A=window.kendo,E=A.dataviz.diagram,I=A.Class,M=A.deepExtend,P=E.Point,z=E.Rect,F=E.Matrix,R=E.Utils,B=R.isNumber,H=R.isString,L=E.MatrixVector,N=A.geometry,O=A.drawing,V=A.util.defined,U=e.inArray,W=transparent,j={nonenone,arrowStartArrowStart,filledCircleFilledCircle,arrowEndArrowEnd},G=360,q=start,$=end,Y=width,Q=height,K=x,X=y;E.Markers=j,l=I.extend({initfunction(e,t){this.x=e,this.y=t},toMatrixfunction(){return F.scaling(this.x,this.y)},toStringfunction(){return A.format(scale({0},{1}),this.x,this.y)},invertfunction(){return new l(1this.x,1this.y)}}),c=I.extend({initfunction(e,t){this.x=e,this.y=t},toMatrixVectorfunction(){return new L(0,0,0,0,this.x,this.y)},toMatrixfunction(){return F.translation(this.x,this.y)},toStringfunction(){return A.format(translate({0},{1}),this.x,this.y)},plusfunction(e){this.x+=e.x,this.y+=e.y},timesfunction(e){this.x=e,this.y=e},lengthfunction(){return Math.sqrt(this.xthis.x+this.ythis.y)},normalizefunction(){0!==this.Length&&this.times(1this.length())},invertfunction(){return new c(-this.x,-this.y)}}),d=I.extend({initfunction(e,t,n){this.x=t0,this.y=n0,this.angle=e},toStringfunction(){return this.x&&this.yA.format(rotate({0},{1},{2}),this.angle,this.x,this.y)A.format(rotate({0}),this.angle)},toMatrixfunction(){return F.rotation(this.angle,this.x,this.y)},centerfunction(){return new P(this.x,this.y)},invertfunction(){return new d(G-this.angle,this.x,this.y)}}),d.create=function(e){return new d(e.angle,e.x,e.y)},d.parse=function(e){var t=e.slice(1,e.length-1).split(,),n=t[0],i=t[1],r=t[2],o=new d(n,i,r);return o},u=I.extend({initfunction(e,n,i,r,o,a){this.translate=new c(e,n),i!==t&&r!==t&&(this.scale=new l(i,r)),o!==t&&(this.rotate=anew d(o,a.x,a.y)new d(o))},toStringfunction(){var e=function(e){return e+e};return e(this.translate)+e(this.rotate)+e(this.scale)},renderfunction(e){e._transform=this,e._renderTransform()},toMatrixfunction(){var e=F.unit();return this.translate&&(e=e.times(this.translate.toMatrix())),this.rotate&&(e=e.times(this.rotate.toMatrix())),this.scale&&(e=e.times(this.scale.toMatrix())),e},invertfunction(){var e,n,i=this.rotatethis.rotate.invert()t,r=ii.toMatrix()F.unit(),o=this.scalethis.scale.invert()t,a=oo.toMatrix()F.unit(),s=new P(-this.translate.x,-this.translate.y);return s=r.times(a).apply(s),e=new c(s.x,s.y),n=new u,n.translate=e,n.rotate=i,n.scale=o,n}}),h={_setScalefunction(){var e=this.options,t=this._originWidth,n=this._originHeight,i=e.widtht,r=e.heightn;B(i)(i=1),B(r)(r=1),this._transform.scale=new l(i,r)},_setTranslatefunction(){var e=this.options,t=e.x0,n=e.y0;this._transform.translate=new c(t,n)},_initSizefunction(){var e=this.options,t=!1;e.autoSize!==!1&&(V(e.width)V(e.height))&&(this._measure(!0),this._setScale(),t=!0),(V(e.x)V(e.y))&&(this._setTranslate(),t=!0),t&&this._renderTransform()},_updateSizefunction(e){var t=!1;return this.options.autoSize!==!1&&this._diffNumericOptions(e,[Y,Q])&&(t=!0,this._measure(!0),this._setScale()),this._diffNumericOptions(e,[K,X])&&(t=!0,this._setTranslate()),t&&this._renderTransform(),t}},p=I.extend({initfunction(e){var t=this;t.options=M({},t.options,e),t.id=t.options.id,t._originSize=z.empty(),t._transform=new u},visiblefunction(e){return this.drawingContainer().visible(e)},redrawfunction(e){e&&e.id&&(this.id=e.id)},positionfunction(e,n){var i=this.options;return V(e)(V(n)(i.x=e,i.y=n)e instanceof P&&(i.x=e.x,i.y=e.y),this._transform.translate=new c(i.x,i.y),this._renderTransform(),t)new P(i.x,i.y)},rotatefunction(e,t){return V(e)&&(this._transform.rotate=new d(e,t.x,t.y),this._renderTransform()),this._transform.rotatenew d(0)},drawingContainerfunction(){return this.drawingElement},_renderTransformfunction(){var e=this._transform.toMatrix();this.drawingContainer().transform(new N.Matrix(e.a,e.b,e.c,e.d,e.e,e.f))},_hoverfunction(){},_diffNumericOptionsa,_measurefunction(e){var t,n,i;return!this._measurede(n=this._boundingBox()new N.Rect,i=n.topLeft(),t=new z(i.x,i.y,n.width(),n.height()),this._originSize=t,this._originWidth=t.width,this._originHeight=t.height,this._measured=!0)t=this._originSize,t},_boundingBoxfunction(){return this.drawingElement.rawBBox()}}),f=p.extend({initfunction(e){p.fn.init.call(this,e),e=this.options,e.fill=i(e.fill),e.stroke=i(e.stroke)},options{stroke{colorgray,width1},fill{colorW}},fillfunction(e,t){this._fill({colorr(e),opacityt})},strokefunction(e,t,n){this._stroke({colorr(e),widtht,opacityn})},redrawfunction(e){var t,n;e&&(t=e.stroke,n=e.fill,t&&this._stroke(i(t)),n&&this._fill(i(n)),p.fn.redraw.call(this,e))},_hoverfunction(e){var t,n=this.drawingElement,r=this.options,o=r.hover;o&&o.fill&&(t=ei(o.fill)r.fill,n.fill(t.color,t.opacity))},_strokefunction(e){var t,n=this.options;M(n,{strokee}),e=n.stroke,t=null,e.width0&&(t={colore.color,widthe.width,opacitye.opacity,dashTypee.dashType}),this.drawingElement.options.set(stroke,t)},_fillfunction(e){var t,n=this.options;M(n,{fille}),t=n.fill,this.drawingElement.fill(t.color,t.opacity)}}),g=f.extend({initfunction(e){this._textColor(e),f.fn.init.call(this,e),this._font(),this._initText(),this._initSize()},options{fontSize15,fontFamilysans-serif,stroke{width0},fill{colorblack},autoSize!0},_initTextfunction(){var e=this.options;this.drawingElement=new O.Text(V(e.text)e.text,new N.Point,{fille.fill,fonte.font}),this._stroke()},_textColorfunction(e){e&&e.color&&M(e,{fill{colore.color}})},_fontfunction(){var e=this.options;e.fontFamily&&V(e.fontSize)e.font=e.fontSize+px +e.fontFamilydelete e.font},contentfunction(e){return this.drawingElement.content(e)},redrawfunction(e){var t,n;e&&(t=!1,n=this.options,this._textColor(e),f.fn.redraw.call(this,e),(e.fontFamilyV(e.fontSize))&&(M(n,{fontFamilye.fontFamily,fontSizee.fontSize}),this._font(),this.drawingElement.options.set(font,n.font),t=!0),e.text&&(this.content(e.text),t=!0),!this._updateSize(e)&&t&&this._initSize())}}),M(g.fn,h),m=f.extend({initfunction(e){f.fn.init.call(this,e),this._initPath(),this._setPosition()},_setPositionfunction(){var e=this.options,t=e.x,n=e.y;(V(t)V(n))&&this.position(t0,n0)},redrawfunction(e){e&&(f.fn.redraw.call(this,e),this._diffNumericOptions(e,[Y,Q])&&this._drawPath(),this._diffNumericOptions(e,[K,X])&&this._setPosition())},_initPathfunction(){{var e=this.options;this.drawingElement=new O.Path({fille.fill,strokee.stroke,closed!0})}this._drawPath()},_drawPathfunction(){var e=this.drawingElement,t=n(this.options),i=t.width,r=t.height;e.segments.elements([s(0,0),s(i,0),s(i,r),s(0,r)])}}),v=f.extend({initfunction(e){f.fn.init.call(this,e);var t=this.options.anchor;this.anchor=new N.Point(t.x,t.y),this.createElement()},options{stroke{colorW,width0},fill{colorblack}},_transformToPathfunction(e,t){var n=t.transform();return e&&n&&(e=e.transformCopy(n)),e},redrawfunction(e){e&&(e.position&&(this.options.position=e.position),f.fn.redraw.call(this,e))}}),_=v.extend({options{radius4,anchor{x0,y0}},createElementfunction(){var e=this.options;this.drawingElement=new O.Circle(new N.Circle(this.anchor,e.radius),{fille.fill,strokee.stroke})},positionMarkerfunction(e){var t,n,i=this.options,r=i.position,o=e.segments;t=r==qo[0]o[o.length-1],t&&(n=this._transformToPath(t.anchor(),e),this.drawingElement.transform(N.transform().translate(n.x,n.y)))}}),w=v.extend({options{pathM 0 0 L 10 5 L 0 10 L 3 5 z,anchor{x10,y5}},createElementfunction(){var e=this.options;this.drawingElement=O.Path.parse(e.path,{fille.fill,strokee.stroke})},positionMarkerfunction(e){var t,n,i=this._linePoints(e),r=i.start,a=i.end,s=N.transform();r&&s.rotate(o(r,a),a),a&&(t=this.anchor,n=a.clone().translate(-t.x,-t.y),s.translate(n.x,n.y)),this.drawingElement.transform(s)},_linePointsfunction(e){var n,i,r,o,a,s=this.options,l=e.segments;return s.position==q(r=l[0],r&&(i=r.anchor(),n=r.controlOut(),o=l[1],!n&&o&&(n=o.anchor())))(r=l[l.length-1],r&&(i=r.anchor(),n=r.controlIn(),a=l[l.length-2],!n&&a&&(n=a.anchor()))),i{startthis._transformToPath(n,e),endthis._transformToPath(i,e)}t}}),y={_getPathfunction(e){var n=this.drawingElement;return n instanceof O.MultiPath&&(n=e==qn.paths[0]n.paths[n.paths.length-1]),n&&n.segments.lengthnt},_normalizeMarkerOptionsfunction(e){var t=e.startCap,n=e.endCap;H(t)&&(e.startCap={typet}),H(n)&&(e.endCap={typen})},_removeMarkerfunction(e){var t=this._markers[e];t&&(this.drawingContainer().remove(t.drawingElement),delete this._markers[e])},_createMarkersfunction(){var e=this.options;this._normalizeMarkerOptions(e),this._markers={},this._markers[q]=this._createMarker(e.startCap,q),this._markers[$]=this._createMarker(e.endCap,$)},_createMarkerfunction(e,n){var i,r,o=(e{}).type,a=this._getPath(n);return a(o==j.filledCirclei=_o==j.arrowStarto==j.arrowEndi=wthis._removeMarker(n),i(r=new i(M({},e,{positionn})),r.positionMarker(a),this.drawingContainer().append(r.drawingElement),r)t)(this._removeMarker(n),t)},_positionMarkerfunction(e){var t,n=this._markers[e];n&&(t=this._getPath(e),tn.positionMarker(t)this._removeMarker(e))},_capMap{startstartCap,endendCap},_redrawMarkerfunction(e,t,n){var i,r,o,a,s;return this._normalizeMarkerOptions(n),i=this.options,r=this._capMap[t],o=(i[r]{}).type,a=n[r],s=!1,a(i[r]=M({},i[r],a),a.type&&o!=a.type(this._removeMarker(t),this._markers[t]=this._createMarker(i[r],t),s=!0)this._markers[t]&&this._markers[t].redraw(a))e&&!this._markers[t]&&i[r]&&(this._markers[t]=this._createMarker(i[r],t),s=!0),s},_redrawMarkersfunction(e,t){!this._redrawMarker(e,q,t)&&e&&this._positionMarker(q),!this._redrawMarker(e,$,t)&&e&&this._positionMarker($)}},b=f.extend({initfunction(e){f.fn.init.call(this,e),this.container=new O.Group,this._createElements(),this._initSize()},options{autoSize!0},drawingContainerfunction(){return this.container},datafunction(e){var n=this.options;return e(n.data!=e&&(n.data=e,this._setData(e),this._initSize(),this._redrawMarkers(!0,{})),t)n.data},redrawfunction(e){var t,n;e&&(f.fn.redraw.call(this,e),t=this.options,n=e.data,V(n)&&t.data!=n(t.data=n,this._setData(n),this._updateSize(e)this._initSize(),this._redrawMarkers(!0,e))(this._updateSize(e),this._redrawMarkers(!1,e)))},_createElementsfunction(){var e=this.options;this.drawingElement=O.Path.parse(e.data,{fille.fill,strokee.stroke}),this.container.append(this.drawingElement),this._createMarkers()},_setDatafunction(e){var t=this.drawingElement,n=O.Path.parse(e),i=n.paths.slice(0);n.paths.elements([]),t.paths.elements(i)}}),M(b.fn,h),M(b.fn,y),k=f.extend({initfunction(e){f.fn.init.call(this,e),this.container=new O.Group,this._initPath(),this._createMarkers()},drawingContainerfunction(){return this.container},redrawfunction(e){var t,n;e&&(e=e{},t=e.from,n=e.to,t&&(this.options.from=t),n&&(this.options.to=n),tn(this._drawPath(),this._redrawMarkers(!0,e))this._redrawMarkers(!1,e),f.fn.redraw.call(this,e))},_initPathfunction(){var e=this.options,t=this.drawingElement=new O.Path({fille.fill,strokee.stroke});this._drawPath(),this.container.append(t)},_drawPathfunction(){var e=this.options,t=this.drawingElement,n=e.fromnew P,i=e.tonew P;t.segments.elements([s(n.x,n.y),s(i.x,i.y)])}}),M(k.fn,y),x=f.extend({initfunction(e){f.fn.init.call(this,e),this.container=new O.Group,this._initPath(),this._createMarkers()},drawingContainerfunction(){return this.container},pointsfunction(e){var n=this.options;return e(n.points=e,this._updatePath(),t)n.points},redrawfunction(e){if(e){var t=e.points;f.fn.redraw.call(this,e),t&&this._pointsDiffer(t)(this.points(t),this._redrawMarkers(!0,e))this._redrawMarkers(!1,e)}},_initPathfunction(){var e=this.options;this.drawingElement=new O.Path({fille.fill,strokee.stroke}),this.container.append(this.drawingElement),e.points&&this._updatePath()},_pointsDifferfunction(e){var t,n=this.options.points,i=n.length!==e.length;if(!i)for(t=0;e.lengtht;t++)if(n[t].x!==e[t].xn[t].y!==e[t].y){i=!0;break}return i},_updatePathfunction(){var e,t,n=this.drawingElement,i=this.options,r=i.points,o=[];for(t=0;r.lengtht;t++)e=r[t],o.push(s(e.x,e.y));n.segments.elements(o)},options{points[]}}),M(x.fn,y),C=p.extend({initfunction(e){p.fn.init.call(this,e),this._initImage()},redrawfunction(e){e&&(e.source&&this.drawingElement.src(e.source),this._diffNumericOptions(e,[Y,Q,K,X])&&this.drawingElement.rect(this._rect()),p.fn.redraw.call(this,e))},_initImagefunction(){var e=this.options,t=this._rect();this.drawingElement=new O.Image(e.source,t,{})},_rectfunction(){var e=n(this.options),t=new N.Point(e.x,e.y),i=new N.Size(e.width,e.height);return new N.Rect(t,i)}}),S=p.extend({initfunction(e){this.children=[],p.fn.init.call(this,e),this.drawingElement=new O.Group,this._initSize()},options{autoSize!1},appendfunction(e){this.drawingElement.append(e.drawingContainer()),this.children.push(e),this._childrenChange=!0},removefunction(e){this._remove(e)&&(this._childrenChange=!0)},_removefunction(e){var n=U(e,this.children);return n=0(this.drawingElement.removeAt(n),this.children.splice(n,1),!0)t},clearfunction(){this.drawingElement.clear(),this.children=[],this._childrenChange=!0},toFrontfunction(e){var t,n;for(n=0;e.lengthn;n++)t=e[n],this._remove(t)&&this.append(t)},toBackfunction(e){this._reorderChildren(e,0)},toIndexfunction(e,t){this._reorderChildren(e,t)},_reorderChildrenfunction(e,t){var n,i,r,o,a,s=this.drawingElement,l=s.children.slice(0),c=this.children,d=B(t);for(n=0;e.lengthn;n++)a=e[n],o=a.drawingContainer(),i=U(a,c),i=0&&(l.splice(i,1),c.splice(i,1),r=dtt[n],l.splice(r,0,o),c.splice(r,0,a));s.clear(),s.append.apply(s,l)},redrawfunction(e){e&&(this._childrenChange(this._childrenChange=!1,this._updateSize(e)this._initSize())this._updateSize(e),p.fn.redraw.call(this,e))},_boundingBoxfunction(){var e,t,n,i,r=this.children;for(i=0;r.lengthi;i++)t=r[i],t.visible()&&t._includeInBBox!==!1&&(n=t.drawingContainer().clippedBBox(null),n&&(e=ez.union(e,n)n));return e}}),M(S.fn,h),T=f.extend({initfunction(e){f.fn.init.call(this,e),this._initCircle(),this._initSize()},redrawfunction(e){if(e){var t=this.options;e.center&&(M(t,{centere.center}),this._center.move(t.center.x,t.center.y)),this._diffNumericOptions(e,[radius])&&this._circle.setRadius(t.radius),this._updateSize(e),f.fn.redraw.call(this,e)}},_initCirclefunction(){var e,t=this.options,n=t.width,i=t.height,r=t.radius;V(r)(V(n)(n=i),V(i)(i=n),t.radius=r=Math.min(n,i)2),e=t.center{xr,yr},this._center=new N.Point(e.x,e.y),this._circle=new N.Circle(this._center,r),this.drawingElement=new O.Circle(this._circle,{fillt.fill,stroket.stroke})}}),M(T.fn,h),D=I.extend({initfunction(e,t){t=t{},this.element=e,this.surface=O.Surface.create(e,t),A.isFunction(this.surface.translate)&&(this.translate=this._translate),this.drawingElement=new O.Group,this._viewBox=new z(0,0,t.width,t.height),this.size(this._viewBox)},boundsfunction(){var e=this.drawingElement.clippedBBox();return new z(0,0,e.width(),e.height())},sizefunction(e){var t=this._viewBox;return V(e)&&(t.width=e.width,t.height=e.height,this.surface.setSize(e)),{widtht.width,heightt.height}},_translatefunction(e,t){var n=this._viewBox;return V(e)&&V(t)&&(n.x=e,n.y=t,this.surface.translate({xe,yt})),{xn.x,yn.y}},drawfunction(){this.surface.draw(this.drawingElement)},appendfunction(e){return this.drawingElement.append(e.drawingContainer()),this},removefunction(e){this.drawingElement.remove(e.drawingContainer())},insertBeforefunction(){},clearfunction(){this.drawingElement.clear()},destroyfunction(t){this.surface.destroy(),t&&e(this.element).remove()}}),A.deepExtend(E,{initfunction(e){A.init(e,E.ui)},diffNumericOptionsa,Elementp,Scalel,Translationc,Rotationd,CircleT,GroupS,Rectanglem,CanvasD,Pathb,Linek,MarkerBasev,ArrowMarkerw,CircleMarker_,Polylinex,CompositeTransformu,TextBlockg,ImageC,VisualBasef})}(window.kendo.jQuery),function(e,t){function n(e,t){e.isSelectedt.ctrlKey&&e.select(!1)e.diagram.select(e,{addToSelectiont.ctrlKey})}function i(e){return e.ctrlKey===!1&&e.altKey===!1&&e.shiftKey===!1}function r(e,t){var n=e!==!1;return e.key&&none!=e.key&&(n=t[e.key+Key]),n}function o(e,t){return t.charCodeAt(0)==et.toUpperCase().charCodeAt(0)==e}function a(e,t){var n;return-1==e.x&&-1==e.yn=t.bottomRight()1==e.x&&1==e.yn=t.topLeft()-1==e.x&&1==e.yn=t.topRight()1==e.x&&-1==e.yn=t.bottomLeft()0===e.x&&-1==e.yn=t.bottom()0===e.x&&1==e.yn=t.top()1==e.x&&0===e.yn=t.left()-1==e.x&&0===e.y&&(n=t.right()),n}var s,l,c,d,u,h,p,f,g,m,v,_,w,y,b,k,x,C,S,T,D,A,E,I,M,P,z,F,R,B,H,L,N=window.kendo,O=N.dataviz,V=O.diagram,U=N.Class,W=V.Group,j=V.Rect,G=V.Rectangle,q=V.Utils,$=q.isUndefined,Y=V.Point,Q=V.Circle,K=V.Ticker,X=N.deepExtend,Z=N.ui.Movable,J=N.support.browser,et=N.util.defined,tt=e.proxy,nt={arrowdefault,grippointer,crosspointer,addpointer,movemove,selectpointer,souths-resize,easte-resize,westw-resize,northn-resize,rowresizerow-resize,colresizecol-resize},it=10,rt=Auto,ot=Top,at=Right,st=Left,lt=Bottom,ct=10,dt=10,ut=itemRotate,ht=itemBoundsChange,pt=5,ft=5,gt=mouseEnter,mt=mouseLeave,vt=zoomStart,_t=zoomEnd,wt=-2e4,yt=2e4,bt=.9,kt=.93,xt=5,Ct=transparent,St=pan,Tt=rotated;V.Cursors=nt,s=N.Class.extend({initfunction(e){this.layoutState=e,this.diagram=e.diagram},initStatefunction(){function e(e,t){var n=this.diagram.getShapeById(e);n&&(this.subjects.push(n),this.froms.push(n.bounds().topLeft()),this.tos.push(t.topLeft()))}this.froms=[],this.tos=[],this.subjects=[],this.layoutState.nodeMap.forEach(e,this)},updatefunction(e){if(!(0=this.subjects.length))for(var t=0;this.subjects.lengtht;t++)this.subjects[t].position(new Y(this.froms[t].x+(this.tos[t].x-this.froms[t].x)e,this.froms[t].y+(this.tos[t].y-this.froms[t].y)e))}}),l=U.extend({initfunction(e,t,n){this.animate=$(n)!1n,this._initialState=e,this._finalState=t,this.title=Diagram layout},undofunction(){this.setState(this._initialState)},redofunction(){this.setState(this._finalState)},setStatefunction(e){var t,n=e.diagram;this.animate(e.linkMap.forEach(function(e,t){var i=n.getShapeById(e);i.visible(!1),i&&i.points(t)}),t=new K,t.addAdapter(new s(e)),t.onComplete(function(){e.linkMap.forEach(function(e){var t=n.getShapeById(e);t.visible(!0)})}),t.play())(e.nodeMap.forEach(function(e,t){var i=n.getShapeById(e);i&&i.position(t.topLeft())}),e.linkMap.forEach(function(e,t){var i=n.getShapeById(e);i&&i.points(t)}))}}),c=U.extend({initfunction(e){this.units=[],this.title=Composite unit,e!==t&&this.units.push(e)},addfunction(e){this.units.push(e)},undofunction(){for(var e=0;this.units.lengthe;e++)this.units[e].undo()},redofunction(){for(var e=0;this.units.lengthe;e++)this.units[e].redo()}}),d=U.extend({initfunction(e,t,n){this.item=e,this._redoSource=t,this._redoTarget=n,et(t)&&(this._undoSource=e.source()),et(n)&&(this._undoTarget=e.target()),this.title=Connection Editing},undofunction(){this._undoSource!==t&&this.item._updateConnector(this._undoSource,source),this._undoTarget!==t&&this.item._updateConnector(this._undoTarget,target),this.item.updateModel()},redofunction(){this._redoSource!==t&&this.item._updateConnector(this._redoSource,source),this._redoTarget!==t&&this.item._updateConnector(this._redoTarget,target),this.item.updateModel()}}),u=U.extend({initfunction(e,t,n){this.item=e,this._undoSource=t,this._undoTarget=n,this._redoSource=e.source(),this._redoTarget=e.target(),this.title=Connection Editing},undofunction(){this.item._updateConnector(this._undoSource,source),this.item._updateConnector(this._undoTarget,target),this.item.updateModel()},redofunction(){this.item._updateConnector(this._redoSource,source),this.item._updateConnector(this._redoTarget,target),this.item.updateModel()}}),h=U.extend({initfunction(e){this.connection=e,this.diagram=e.diagram,this.targetConnector=e.targetConnector,this.title=Delete connection},undofunction(){this.diagram._addConnection(this.connection,!1)},redofunction(){this.diagram.remove(this.connection,!1)}}),p=U.extend({initfunction(e){this.shape=e,this.diagram=e.diagram,this.title=Deletion},undofunction(){this.diagram._addShape(this.shape,!1),this.shape.select(!1)},redofunction(){this.shape.select(!1),this.diagram.remove(this.shape,!1)}}),f=U.extend({initfunction(e,t,n){var i,r;for(this.shapes=e,this.undoStates=t,this.title=Transformation,this.redoStates=[],this.adorner=n,i=0;this.shapes.lengthi;i++)r=this.shapes[i],this.redoStates.push(r.bounds())},undofunction(){var e,t;for(e=0;this.shapes.lengthe;e++)t=this.shapes[e],t.bounds(this.undoStates[e]),t.hasOwnProperty(layout)&&t.layout(t,this.redoStates[e],this.undoStates[e]),t.updateModel();this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())},redofunction(){var e,t;for(e=0;this.shapes.lengthe;e++)t=this.shapes[e],t.bounds(this.redoStates[e]),t.hasOwnProperty(layout)&&t.layout(t,this.undoStates[e],this.redoStates[e]),t.updateModel();this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())}}),g=U.extend({initfunction(e,t){this.connection=e,this.diagram=t,this.title=New connection},undofunction(){this.diagram.remove(this.connection,!1)},redofunction(){this.diagram._addConnection(this.connection,!1)}}),m=U.extend({initfunction(e,t){this.shape=e,this.diagram=t,this.title=New shape},undofunction(){this.diagram.deselect(),this.diagram.remove(this.shape,!1)},redofunction(){this.diagram._addShape(this.shape,!1)}}),v=U.extend({initfunction(e,t,n){this.initial=e,this.finalPos=t,this.diagram=n,this.title=Pan Unit},undofunction(){this.diagram.pan(this.initial)},redofunction(){this.diagram.pan(this.finalPos)}}),_=U.extend({initfunction(e,t,n){var i,r;for(this.shapes=t,this.undoRotates=n,this.title=Rotation,this.redoRotates=[],this.redoAngle=e._angle,this.adorner=e,this.center=e._innerBounds.center(),i=0;this.shapes.lengthi;i++)r=this.shapes[i],this.redoRotates.push(r.rotate().angle)},undofunction(){var e,t;for(e=0;this.shapes.lengthe;e++)t=this.shapes[e],t.rotate(this.undoRotates[e],this.center,!1),t.hasOwnProperty(layout)&&t.layout(t),t.updateModel();this.adorner&&(this.adorner._initialize(),this.adorner.refresh())},redofunction(){var e,t;for(e=0;this.shapes.lengthe;e++)t=this.shapes[e],t.rotate(this.redoRotates[e],this.center,!1),t.hasOwnProperty(layout)&&t.layout(t),t.updateModel();this.adorner&&(this.adorner._initialize(),this.adorner.refresh())}}),w=U.extend({initfunction(e,t,n){this.diagram=e,this.indices=n,this.items=t,this.title=Rotate Unit},undofunction(){this.diagram._toIndex(this.items,this.indices)},redofunction(){this.diagram.toFront(this.items,!1)}}),y=U.extend({initfunction(e,t,n){this.diagram=e,this.indices=n,this.items=t,this.title=Rotate Unit},undofunction(){this.diagram._toIndex(this.items,this.indices)},redofunction(){this.diagram.toBack(this.items,!1)}}),b=N.Observable.extend({initfunction(e){N.Observable.fn.init.call(this,e),this.bind(this.events,e),this.stack=[],this.index=0,this.capacity=100},events[undone,redone],beginfunction(){this.composite=new c},cancelfunction(){this.composite=t},commitfunction(e){this.composite.units.length0&&this._restart(this.composite,e),this.composite=t},addCompositeItemfunction(e){this.compositethis.composite.add(e)this.add(e)},addfunction(e,t){this._restart(e,t)},countfunction(){return this.stack.length},undofunction(){this.index0&&(this.index--,this.stack[this.index].undo(),this.trigger(undone))},redofunction(){this.stack.length0&&this.stack.lengththis.index&&(this.stack[this.index].redo(),this.index++,this.trigger(redone))},_restartfunction(e,t){this.stack.splice(this.index,this.stack.length-this.index),this.stack.push(e),t!==!1this.redo()this.index++,this.stack.lengththis.capacity&&(this.stack.splice(0,this.stack.length-this.capacity),this.index=this.capacity)},clearfunction(){this.stack=[],this.index=0}}),k=U.extend({initfunction(e){this.toolService=e},startfunction(){},movefunction(){},endfunction(){},tryActivatefunction(){return!1},getCursorfunction(){return nt.arrow}}),x=k.extend({initfunction(t){var n,i,r,o,a=this,s=N.support.mobileOSktbt;k.fn.init.call(a,t),n=a.toolService.diagram,i=n.canvas,r=n.scroller=a.scroller=e(n.scrollable).kendoMobileScroller({frictions,velocityMultiplierxt,mousewheelScrolling!1,zoom!1,scrolltt(a._move,a)}).data(kendoMobileScroller),i.translate&&(a.movableCanvas=new Z(i.element)),o=function(e,t,n){e.makeVirtual(),e.virtualSize(twt,nyt)},o(r.dimensions.x),o(r.dimensions.y),r.disable()},tryActivatefunction(e,t){var n=this.toolService,r=n.diagram.options.pannable,o=t.ctrlKey;return et(r.key)&&(o=r.key&&none!=r.keyt[r.key+Key]&&!(t.ctrlKey&&et(n.hoveredItem))i(t)),r!==!1&&o&&!et(n.hoveredAdorner)&&!et(n._hoveredConnector)},startfunction(){this.scroller.enable()},movefunction(){},_movefunction(e){var t=this,n=t.toolService.diagram,i=n.canvas,r=new Y(e.scrollLeft,e.scrollTop);i.translate(n._storePan(r.times(-1)),t.movableCanvas.moveTo(r),i.translate(r.x,r.y))r=r.plus(n._pan.times(-1)),n.trigger(St,{panr})},endfunction(){this.scroller.disable()},getCursorfunction(){return nt.move}}),C=U.extend({initfunction(e){this.toolService=e},tryActivatefunction(){return!0},startfunction(e,t){var i=this.toolService,o=i.diagram,a=i.hoveredItem,s=o.options.selectable;a&&(r(s,t)&&n(a,t),a.adorner&&(this.adorner=a.adorner,this.handle=this.adorner._hitTest(e))),this.handle(this.handle=o._resizingAdorner._hitTest(e),this.handle&&(this.adorner=o._resizingAdorner)),this.adorner&&this.adorner.start(e)},movefunction(e){var t=this;this.adorner&&this.adorner.move(t.handle,e)},endfunction(e,n){var i,r=this.toolService.diagram,o=this.toolService;this.adorner&&(i=this.adorner.stop(),i&&r.undoRedoService.add(i,!1)),o.hoveredItem&&this.toolService.triggerClick({itemo.hoveredItem,pointe,metan}),this.adorner=t,this.handle=t},getCursorfunction(e){return this.toolService.hoveredItemthis.toolService.hoveredItem._getCursor(e)nt.arrow}}),S=U.extend({initfunction(e){this.toolService=e},tryActivatefunction(e,t){var n=this.toolService,i=r(n.diagram.options.selectable,t);return i&&!et(n.hoveredItem)&&!et(n.hoveredAdorner)},startfunction(e){var t=this.toolService.diagram;t.deselect(),t.selector.start(e)},movefunction(e){var t=this.toolService.diagram;t.selector.move(e)},endfunction(e,t){var n=this.toolService.diagram,i=this.toolService.hoveredItem,r=n.selector.bounds();i&&i.isSelectedt.ctrlKeyn.deselect(),r.isEmpty()n.selectArea(r),n.selector.end()},getCursorfunction(){return nt.arrow}}),T=U.extend({initfunction(e){this.toolService=e,this.type=ConnectionTool},tryActivatefunction(){return this.toolService._hoveredConnector},startfunction(e,t){var i=this.toolService.diagram,r=this.toolService._hoveredConnector,o=i._createConnection({},r._c,e);i._addConnection(o)(this.toolService._connectionManipulation(o,r._c.shape,!0),this.toolService._removeHover(),n(this.toolService.activeConnection,t))(o.source(null),this.toolService.end())},movefunction(e){return this.toolService.activeConnection.target(e),!0},endfunction(e){var t,n=this.toolService.activeConnection,i=this.toolService.hoveredItem,r=this.toolService._hoveredConnector;n&&(t=r&&r._c!=n.sourceConnectorr._ci&&i instanceof V.Shapei.getConnector(rt)i.getConnector(e)e,n.target(t),n.updateModel(!0),this.toolService._connectionManipulation())},getCursorfunction(){return nt.arrow}}),D=U.extend({initfunction(e){this.toolService=e,this.type=ConnectionTool},tryActivatefunction(e,t){var n=this.toolService,i=n.diagram,o=i.options.selectable,a=n.hoveredItem,s=r(o,t)&&a&&a.path&&!(a.isSelected&&t.ctrlKey);return s&&(this._c=a),s},startfunction(e,t){n(this._c,t);var i=this._c.adorner;i&&(this.handle=i._hitTest(e),i.start(e))},movefunction(e){var n=this._c.adorner;return n(n.move(this.handle,e),!0)t},endfunction(e,t){var n,i=this._c.adorner;i&&(this.toolService.triggerClick({itemthis._c,pointe,metat}),n=i.stop(e),this.toolService.diagram.undoRedoService.add(n,!1))},getCursorfunction(){return nt.move}}),A=U.extend({initfunction(e){this.diagram=e,this.tools=[new x(this),new D(this),new T(this),new S(this),new C(this)],this.activeTool=t},startfunction(e,t){return t=X({},t),this.activeTool&&this.activeTool.end(e,t),this._updateHoveredItem(e),this._activateTool(e,t),this.activeTool.start(e,t),this._updateCursor(e),this.diagram.focus(),this.startPoint=e,!0},movefunction(e,t){t=X({},t);var n=!0;return this.activeTool&&(n=this.activeTool.move(e,t)),n&&this._updateHoveredItem(e),this._updateCursor(e),!0},endfunction(e,n){return n=X({},n),this.activeTool&&this.activeTool.end(e,n),this.activeTool=t,this._updateCursor(e),!0},keyDownfunction(e,t){var n,i=this.diagram;if(t=X({ctrlKey!1,metaKey!1,altKey!1},t),!t.ctrlKey&&!t.metaKeyt.altKey){if(46===e8===e)return n=this.diagram._triggerRemove(i.select()),n.length&&(this.diagram.remove(n,!0),this.diagram._syncChanges(),this.diagram._destroyToolBar()),!0;if(27===e)return this._discardNewConnection(),i.deselect(),i._destroyToolBar(),!0}else{if(o(e,a))return i.selectAll(),i._destroyToolBar(),!0;if(o(e,z))return i.undo(),i._destroyToolBar(),!0;if(o(e,y))return i.redo(),i._destroyToolBar(),!0;o(e,c)(i.copy(),i._destroyToolBar())o(e,x)(i.cut(),i._destroyToolBar())o(e,v)(i.paste(),i._destroyToolBar())o(e,l)(i.layout(),i._destroyToolBar())o(e,d)&&(i._destroyToolBar(),i.copy(),i.paste())}},wheelfunction(e,t){var n=this.diagram,i=t.delta,r=n.zoom(),o=n.options,a=o.zoomRate,s={pointe,metat,zoomr};if(!n.trigger(vt,s))return 0ir+=ar-=a,r=N.dataviz.round(Math.max(o.zoomMin,Math.min(o.zoomMax,r)),2),s.zoom=r,n.zoom(r,s),n.trigger(_t,s),!0},setToolfunction(e,t){e.toolService=this,this.tools[t]=e},triggerClickfunction(e){this.startPoint.equals(e.point)&&this.diagram.trigger(click,e)},_discardNewConnectionfunction(){this.newConnection&&(this.diagram.remove(this.newConnection),this.newConnection=t)},_activateToolfunction(e,t){var n,i;for(n=0;this.tools.lengthn;n++)if(i=this.tools[n],i.tryActivate(e,t)){this.activeTool=i;break}},_updateCursorfunction(e){var t=this.diagram.element,n=this.activeToolthis.activeTool.getCursor(e)this.hoveredAdornerthis.hoveredAdorner._getCursor(e)this.hoveredItemthis.hoveredItem._getCursor(e)nt.arrow;t.css({cursorn}),J.msie&&7==J.version&&(t[0].style.cssText=t[0].style.cssText)},_connectionManipulationfunction(e,n,i){this.activeConnection=e,this.disabledShape=n,this.newConnection=ithis.activeConnectiont},_updateHoveredItemfunction(e){var n=this._hitTest(e),i=this.diagram;n==this.hoveredItemthis.disabledShape&&n==this.disabledShape(this.hoveredItem&&(i.trigger(mt,{itemthis.hoveredItem}),this.hoveredItem._hover(!1)),n&&n.options.enable(i.trigger(gt,{itemn}),this.hoveredItem=n,this.hoveredItem._hover(!0))this.hoveredItem=t)},_removeHoverfunction(){this.hoveredItem&&(this.hoveredItem._hover(!1),this.hoveredItem=t)},_hitTestfunction(e){var n,i,r,o,a=this.diagram;if(this._hoveredConnector&&(this._hoveredConnector._hover(!1),this._hoveredConnector=t),a._connectorsAdorner._visible&&(n=a._connectorsAdorner._hitTest(e)))return n;if(n=this.diagram._resizingAdorner._hitTest(e)){if(this.hoveredAdorner=a._resizingAdorner,0!==n.x0!==n.y)return;n=t}else this.hoveredAdorner=t;if(!this.activeToolConnectionTool!==this.activeTool.type){for(o=[],r=0;a._selectedItems.lengthr;r++)i=a._selectedItems[r],i instanceof V.Connection&&o.push(i);n=this._hitTestItems(o,e)}return nthis._hitTestItems(a.shapes,e)this._hitTestItems(a.connections,e)},_hitTestItemsfunction(e,t){var n,i,r;for(n=e.length-1;n=0;n--)if(i=e[n],r=i._hitTest(t))return r
}}),E=N.Class.extend({initfunction(){}}),I=E.extend({initfunction(e){var t=this;E.fn.init.call(t),this.connection=e},hitTestfunction(e){var t=this.getBounds().inflate(10);return t.contains(e)V.Geometry.distanceToPolyline(e,this.connection.allPoints())it!1},getBoundsfunction(){var e,t=this.connection.allPoints(),n=t[0],i=t[t.length-1],r=Math.max(n.x,i.x),o=Math.min(n.x,i.x),a=Math.min(n.y,i.y),s=Math.max(n.y,i.y);for(e=1;t.length-1e;++e)r=Math.max(r,t[e].x),o=Math.min(o,t[e].x),a=Math.min(a,t[e].y),s=Math.max(s,t[e].y);return new j(o,a,r-o,s-a)}}),M=I.extend({initfunction(e){var t=this;I.fn.init.call(t),this.connection=e},routefunction(){}}),P=I.extend({SAME_SIDE_DISTANCE_RATIO5,initfunction(e){var t=this;I.fn.init.call(t),this.connection=e},routePointsfunction(e,t,n,i){var r;return r=n&&ithis._connectorPoints(e,t,n,i)this._floatingPoints(e,t,n)},routefunction(){var e=this.connection._resolvedSourceConnector,t=this.connection._resolvedTargetConnector,n=this.connection.sourcePoint(),i=this.connection.targetPoint(),r=this.routePoints(n,i,e,t);this.connection.points(r)},_connectorSides[{nameTop,axisy,boundsPointtopLeft,secondarySign1},{nameLeft,axisx,boundsPointtopLeft,secondarySign1},{nameBottom,axisy,boundsPointbottomRight,secondarySign-1},{nameRight,axisx,boundsPointbottomRight,secondarySign-1}],_connectorSidefunction(e,t){var n,i,r,o,a,s=e.position(),l=e.shape.bounds(Tt),c={topLeftl.topLeft(),bottomRightl.bottomRight()},d=this._connectorSides,u=N.util.MAX_NUM;for(a=0;d.lengtha;a++)o=d[a],r=o.axis,n=Math.round(Math.abs(s[r]-c[o.boundsPoint][r])),un(u=n,i=o)n===u&&(s[r]-t[r])o.secondarySign(s[i.axis]-t[i.axis])i.secondarySign&&(i=o);return i.name},_sameSideDistancefunction(e){var t=e.shape.bounds(Tt);return Math.min(t.width,t.height)this.SAME_SIDE_DISTANCE_RATIO},_connectorPointsfunction(e,t,n,i){var r,o,a=this._connectorSide(n,t),s=this._connectorSide(i,e),l=t.x-e.x,c=t.y-e.y,d=this._sameSideDistance(n),u=[];return a===ota==lts==ots==lta==s(o=a==otMath.min(e.y,t.y)-dMath.max(e.y,t.y)+d,u=[new Y(e.x,o),new Y(t.x,o)])u=[new Y(e.x,e.y+c2),new Y(t.x,e.y+c2)]u=[new Y(e.x,t.y)]s==sts==ata==s(r=a==stMath.min(e.x,t.x)-dMath.max(e.x,t.x)+d,u=[new Y(r,e.y),new Y(r,t.y)])u=[new Y(e.x+l2,e.y),new Y(e.x+l2,e.y+c)]u=[new Y(t.x,e.y)],u},_floatingPointsfunction(e,t,n){var i,r,o,a=nthis._connectorSide(n,t)null,s=this._startHorizontal(e,t,a),l=[e,e,t,t],c=t.x-e.x,d=t.y-e.y,u=l.length;for(o=1;u-1o;++o)so%2!==0(i=c(u2),r=0)(i=0,r=d((u-1)2))o%2!==0(i=0,r=d(u2))(i=c((u-1)2),r=0),l[o]=new Y(l[o-1].x+i,l[o-1].y+r);return o--,l[u-2]=s&&o%2!==0!s&&o%2===0new Y(l[u-1].x,l[u-2].y)new Y(l[u-2].x,l[u-1].y),[l[1],l[2]]},_startHorizontalfunction(e,t,n){var i;return i=null===nn!==at&&n!==stMath.abs(e.x-t.x)Math.abs(e.y-t.y)!0}}),z=U.extend({initfunction(e,t){var n=this;n.diagram=e,n.options=X({},n.options,t),n.visual=new W,n.diagram._adorners.push(n)},refreshfunction(){}}),F=z.extend({initfunction(e,t){var n,i,r,o=this;o.connection=e,n=o.connection.diagram,o._ts=n.toolService,z.fn.init.call(o,n,t),i=o.connection.sourcePoint(),r=o.connection.targetPoint(),o.spVisual=new Q(X(o.options.handles,{centeri})),o.epVisual=new Q(X(o.options.handles,{centerr})),o.visual.append(o.spVisual),o.visual.append(o.epVisual)},options{handles{}},_getCursorfunction(){return nt.move},startfunction(e){switch(this.handle=this._hitTest(e),this.startPoint=e,this._initialSource=this.connection.source(),this._initialTarget=this.connection.target(),this.handle){case-1this.connection.targetConnector&&this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape);break;case 1this.connection.sourceConnector&&this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape)}},movefunction(e,t){switch(e){case-1this.connection.source(t);break;case 1this.connection.target(t);break;defaultvar n=t.minus(this.startPoint);this.startPoint=t,this.connection.sourceConnectorthis.connection.source(this.connection.sourcePoint().plus(n)),this.connection.targetConnectorthis.connection.target(this.connection.targetPoint().plus(n))}return this.refresh(),!0},stopfunction(e){var n,i=this.diagram.toolService,r=i.hoveredItem;return n=i._hoveredConnectori._hoveredConnector._cr&&r instanceof V.Shaper.getConnector(rt)r.getConnector(e)e,-1===this.handlethis.connection.source(n)1===this.handle&&this.connection.target(n),this.connection.updateModel(!0),this.handle=t,this._ts._connectionManipulation(),new u(this.connection,this._initialSource,this._initialTarget)},_hitTestfunction(e){var t=this.connection.sourcePoint(),n=this.connection.targetPoint(),i=this.options.handles.width2,r=this.options.handles.height2,o=new j(t.x,t.y).inflate(i,r),a=new j(n.x,n.y).inflate(i,r);return o.contains(e)-1a.contains(e)10},refreshfunction(){this.spVisual.redraw({centerthis.diagram.modelToLayer(this.connection.sourcePoint())}),this.epVisual.redraw({centerthis.diagram.modelToLayer(this.connection.targetPoint())})}}),R=z.extend({initfunction(e,t){var n=this;z.fn.init.call(n,e,t),n._refreshHandler=function(e){e.item==n.shape&&n.refresh()}},showfunction(e){var t,n,i,r=this;for(r._visible=!0,r.shape=e,r.diagram.bind(ht,r._refreshHandler),t=e.connectors.length,r.connectors=[],r.visual.clear(),n=0;tn;n++)i=new L(e.connectors[n]),r.connectors.push(i),r.visual.append(i.visual);r.visual.visible(!0),r.refresh()},destroyfunction(){var e=this;e.diagram.unbind(ht,e._refreshHandler),e.shape=t,e._visible=t,e.visual.visible(!1)},_hitTestfunction(e){var t,n;for(n=0;this.connectors.lengthn;n++)if(t=this.connectors[n],t._hitTest(e)){t._hover(!0),this.diagram.toolService._hoveredConnector=t;break}},refreshfunction(){if(this.shape){var t=this.shape.bounds();t=this.diagram.modelToLayer(t),this.visual.position(t.topLeft()),e.each(this.connectors,function(){this.refresh()})}}}),B=z.extend({initfunction(e,t){var n=this;z.fn.init.call(n,e,t),n._manipulating=!1,n.map=[],n.shapes=[],n._initSelection(),n._createHandles(),n.redraw(),n.diagram.bind(select,function(e){n._initialize(e.selected)}),n._refreshHandler=function(){n._internalChange(n.refreshBounds(),n.refresh())},n._rotatedHandler=function(){1==n.shapes.length&&(n._angle=n.shapes[0].rotate().angle),n._refreshHandler()},n.diagram.bind(ht,n._refreshHandler).bind(ut,n._rotatedHandler),n.refreshBounds(),n.refresh()},options{editable{},selectable{stroke{color#778899,width1,dashTypedash},fill{colorCt}},offset10},_initSelectionfunction(){var e=this,t=e.diagram,n=t.options.selectable,i=X({},e.options.selectable,n);e.rect=new G(i),e.visual.append(e.rect)},_createHandlesfunction(){var e,t,n,i,r=this.options.editable;if(r&&r.resize)for(e=r.resize.handles,i=-1;1=i;i++)for(n=-1;1=n;n++)(0!==i0!==n)&&(t=new G(e),t.drawingElement._hover=tt(this._hover,this),this.map.push({xi,yn,visualt}),this.visual.append(t))},boundsfunction(e){return e(this._innerBounds=e.clone(),this._bounds=this.diagram.modelToLayer(e).inflate(this.options.offset,this.options.offset),t)this._bounds},_hitTestfunction(e){var n,i,r,o,a=this.diagram.modelToLayer(e),s=this.options.editable,l=this.map.length;if(this._angle&&(a=a.clone().rotate(this._bounds.center(),this._angle)),s&&s.rotate&&this._rotationThumbBounds&&this._rotationThumbBounds.contains(a))return new Y(-1,-2);if(s&&s.resize)for(n=0;ln;n++)if(o=this.map[n],i=new Y(o.x,o.y),r=this._getHandleBounds(i),r.offset(this._bounds.x,this._bounds.y),r.contains(a))return i;return this._bounds.contains(a)new Y(0,0)t},_getHandleBoundsfunction(e){var n,i,r,o,a=this.options.editable;return a&&a.resize(n=a.resize.handles{},i=n.width,r=n.height,o=new j(0,0,i,r),0e.xo.x=-i20===e.xo.x=Math.floor(this._bounds.width2)-i2e.x0&&(o.x=this._bounds.width+1-i2),0e.yo.y=-r20===e.yo.y=Math.floor(this._bounds.height2)-r2e.y0&&(o.y=this._bounds.height+1-r2),o)t},_getCursorfunction(e){var t,n=this._hitTest(e);if(n&&n.x=-1&&1=n.x&&n.y=-1&&1=n.y&&this.options.editable&&this.options.editable.resize){if(t=this._angle,t&&(t=360-t,n.rotate(new Y(0,0),t),n=new Y(Math.round(n.x),Math.round(n.y))),-1==n.x&&-1==n.y)returnnw-resize;if(1==n.x&&1==n.y)returnse-resize;if(-1==n.x&&1==n.y)returnsw-resize;if(1==n.x&&-1==n.y)returnne-resize;if(0===n.x&&-1==n.y)returnn-resize;if(0===n.x&&1==n.y)returns-resize;if(1==n.x&&0===n.y)returne-resize;if(-1==n.x&&0===n.y)returnw-resize}return this._manipulatingnt.movent.select},_initializefunction(){var e,t,n=this,i=n.diagram.select();for(n.shapes=[],e=0;i.lengthe;e++)t=i[e],t instanceof V.Shape&&(n.shapes.push(t),t._rotationOffset=new Y);n._angle=1==n.shapes.lengthn.shapes[0].rotate().angle0,n._startAngle=n._angle,n._rotates(),n._positions(),n.refreshBounds(),n.refresh(),n.redraw()},_rotatesfunction(){var e,t,n=this;for(n.initialRotates=[],e=0;n.shapes.lengthe;e++)t=n.shapes[e],n.initialRotates.push(t.rotate().angle)},_positionsfunction(){var e,t,n=this;for(n.initialStates=[],e=0;n.shapes.lengthe;e++)t=n.shapes[e],n.initialStates.push(t.bounds())},_hoverfunction(e,t){var n,i,r,o,a=this.options.editable;a&&a.resize&&(n=a.resize.handles,i=n.hover,r=n.stroke,o=n.fill,e&&q.isDefined(i.stroke)&&(r=X({},r,i.stroke)),e&&q.isDefined(i.fill)&&(o=i.fill),t.stroke(r.color,r.width,r.opacity),t.fill(o.color,o.opacity))},startfunction(e){var t,n;for(this._sp=e,this._cp=e,this._lp=e,this._manipulating=!0,this._internalChange=!0,this.shapeStates=[],t=0;this.shapes.lengtht;t++)n=this.shapes[t],this.shapeStates.push(n.bounds())},redrawfunction(){var e,t,n=this,i=n.options.editable,r=i.resize,o=i.rotate,a=i&&r!0!1,s=i&&o!0!1;for(e=0;this.map.lengthe;e++)t=this.map[e],t.visual.visible(a);n.rotationThumb&&n.rotationThumb.visible(s)},anglefunction(e){return et(e)&&(this._angle=e),this._angle},rotatefunction(){var e,t,n=this._innerBounds.center(),i=this.angle();for(this._internalChange=!0,e=0;this.shapes.lengthe;e++)t=this.shapes[e],i=(i+this.initialRotates[e]-this._startAngle)%360,t.rotate(i,n);this.refresh()},movefunction(e,n){var i,r,o,s,l,c,d,u,h,p,f,g,m,v,_=new Y,w=new Y,y=0;if(-2===e.y&&-1===e.x){for(s=this._innerBounds.center(),this._angle=this._truncateAngle(q.findAngle(s,n)),c=0;this.shapes.lengthc;c++)l=this.shapes[c],d=(this._angle+this.initialRotates[c]-this._startAngle)%360,l.rotate(d,s),l.hasOwnProperty(layout)&&l.layout(l),this._rotating=!0;this.refresh()}else{if(this.diagram.options.snap){if(g=this._truncateDistance(n.minus(this._lp)),0===g.x&&0===g.y)return this._cp=n,t;i=g,this._lp=new Y(this._lp.x+g.x,this._lp.y+g.y)}else i=n.minus(this._cp);for(0===e.x&&0===e.y(w=_=i,r=!0)(this._angle&&i.rotate(new Y(0,0),this._angle),-1==e.x_.x=i.x1==e.x&&(w.x=i.x),-1==e.y_.y=i.y1==e.y&&(w.y=i.y)),r(h=a(e,this._innerBounds),p=(this._innerBounds.width+i.xe.x)this._innerBounds.width,f=(this._innerBounds.height+i.ye.y)this._innerBounds.height),c=0;this.shapes.lengthc;c++)l=this.shapes[c],o=l.bounds(),ru=this._displaceBounds(o,_,w,r)(u=o.clone(),u.scale(p,f,h,this._innerBounds.center(),l.rotate().angle),m=u.center(),m.rotate(o.center(),-this._angle),u=new j(m.x-u.width2,m.y-u.height2,u.width,u.height)),u.width=l.options.minWidth&&u.height=l.options.minHeight&&(v=o,l.bounds(u),l.hasOwnProperty(layout)&&l.layout(l,v,u),(v.width!==u.widthv.height!==u.height)&&l.rotate(l.rotate().angle),y+=1);y==c&&(u=this._displaceBounds(this._innerBounds,_,w,r),this.bounds(u),this.refresh()),this._positions()}this._cp=n},_truncatePositionToGuidesfunction(e){return this.diagram.rulerthis.diagram.ruler.truncatePositionToGuides(e)e},_truncateSizeToGuidesfunction(e){return this.diagram.rulerthis.diagram.ruler.truncateSizeToGuides(e)e},_truncateAnglefunction(e){var t=this.diagram.options.snap,n=Math.max(t.angledt,ft);return tMath.floor(e%360n)ne%360},_truncateDistancefunction(e){var t,n;return e instanceof V.Pointnew V.Point(this._truncateDistance(e.x),this._truncateDistance(e.y))(t=this.diagram.options.snap,n=Math.max(t.sizect,pt),tMath.floor(en)ne)},_displaceBoundsfunction(e,t,n,i){var r,o=e.topLeft().plus(t),a=e.bottomRight().plus(n),s=j.fromPoints(o,a);return i(r=s.center(),r.rotate(e.center(),-this._angle),s=new j(r.x-s.width2,r.y-s.height2,s.width,s.height)),s},stopfunction(){var e,n,i,r;if(this._cp!=this._sp)if(this._rotating)e=new _(this,this.shapes,this.initialRotates),this._rotating=!1;else if(this._diffStates()){if(this.diagram.ruler)for(n=0;this.shapes.lengthn;n++)i=this.shapes[n],r=i.bounds(),r=this._truncateSizeToGuides(this._truncatePositionToGuides(r)),i.bounds(r),this.refreshBounds(),this.refresh();for(n=0;this.shapes.lengthn;n++)i=this.shapes[n],i.updateModel();e=new f(this.shapes,this.shapeStates,this),this.diagram._syncShapeChanges()}return this._manipulating=t,this._internalChange=t,this._rotating=t,e},_diffStatesfunction(){var e,t=this.shapes,n=this.shapeStates;for(e=0;t.lengthe;e++)if(!t[e].bounds().equals(n[e]))return!0;return!1},refreshBoundsfunction(){var e=1==this.shapes.lengththis.shapes[0].bounds().clone()this.diagram.boundingBox(this.shapes,!0);this.bounds(e)},refreshfunction(){var t,n,i,r,o=this;this.shapes.length0(n=this.bounds(),this.visual.visible(!0),this.visual.position(n.topLeft()),e.each(this.map,function(){t=o._getHandleBounds(new Y(this.x,this.y)),this.visual.position(t.topLeft())}),this.visual.position(n.topLeft()),i=new Y(n.width2,n.height2),this.visual.rotate(this._angle,i),this.rect.redraw({widthn.width,heightn.height}),this.rotationThumb&&(r=this.options.editable.rotate.thumb,this._rotationThumbBounds=new j(n.center().x,n.y+r.y,0,0).inflate(r.width),this.rotationThumb.redraw({xn.width2-r.width2})))this.visual.visible(!1)}}),H=U.extend({initfunction(e){var t=e.options.selectable;this.options=X({},this.options,t),this.visual=new G(this.options),this.diagram=e},options{stroke{color#778899,width1,dashTypedash},fill{colorCt}},startfunction(e){this._sp=this._ep=e,this.refresh(),this.diagram._adorn(this,!0)},endfunction(){this._sp=this._ep=t,this.diagram._adorn(this,!1)},boundsfunction(e){return e&&(this._bounds=e),this._bounds},movefunction(e){this._ep=e,this.refresh()},refreshfunction(){if(this._sp){var e=j.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(j.fromPoints(this._sp,this._ep)),this.visual.position(e.topLeft()),this.visual.redraw({heighte.height+1,widthe.width+1})}}}),L=U.extend({initfunction(e){this.options=X({},e.options),this._c=e,this.visual=new Q(this.options),this.refresh()},_hoverfunction(e){var t=this.options,n=t.hover,i=t.stroke,r=t.fill;e&&q.isDefined(n.stroke)&&(i=X({},i,n.stroke)),e&&q.isDefined(n.fill)&&(r=n.fill),this.visual.redraw({strokei,fillr})},refreshfunction(){var e=this._c.shape.diagram.modelToView(this._c.position()),t=e.minus(this._c.shape.bounds(transformed).topLeft()),n=new j(e.x,e.y,0,0);n.inflate(this.options.width2,this.options.height2),this._visualBounds=n,this.visual.redraw({centernew Y(t.x,t.y)})},_hitTestfunction(e){var t=this._c.shape.diagram.modelToView(e);return this._visualBounds.contains(t)}}),X(V,{CompositeUnitc,TransformUnitf,PanUndoUnitv,AddShapeUnitm,AddConnectionUnitg,DeleteShapeUnitp,DeleteConnectionUnith,ConnectionEditAdornerF,ConnectionToolT,ConnectorVisualL,UndoRedoServiceb,ResizingAdornerB,SelectorH,ToolServiceA,ConnectorsAdornerR,LayoutUndoUnitl,ConnectionEditUnitd,ToFrontUnitw,ToBackUnity,ConnectionRouterBaseE,PolylineRouterM,CascadingRouterP,SelectionToolS,ScrollerToolx,PointerToolC,ConnectionEditToolD,RotateUnit_})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.dataviz.diagram,i=n.Graph,r=n.Node,o=n.Link,a=t.deepExtend,s=n.Size,l=n.Rect,c=n.Dictionary,d=n.Set,u=n.Graph,h=n.Utils,p=n.Point,f=1e-6,g=Math.PI180,m=h.contains,v=e.grep,_=t.Class.extend({defaultOptions{typeTree,subtypeDown,rootsnull,animate!1,limitToView!1,friction.9,nodeDistance50,iterations300,horizontalSeparation90,verticalSeparation50,underneathVerticalTopOffset15,underneathHorizontalOffset15,underneathVerticalSeparation15,grid{width1500,offsetX50,offsetY50,componentSpacingX20,componentSpacingY20},layerSeparation50,layeredIterations2,startRadialAngle0,endRadialAngle360,radialSeparation150,radialFirstLevelSeparation200,keepComponentsInOneRadialLayout!1,ignoreContainers!0,layoutContainerChildren!1,ignoreInvisible!0,animateTransitions!1},initfunction(){},gridLayoutComponentsfunction(e){var t,n,i,r,o,a,s,l,c,d,u,f,g,m,v;if(!e)throwNo components supplied.;for(h.forEach(e,function(e){e.calcBounds()}),e.sort(function(e,t){return t.bounds.width-e.bounds.width}),t=this.options.grid.width,n=this.options.grid.componentSpacingX,i=this.options.grid.componentSpacingY,r=0,o=this.options.grid.offsetX,a=this.options.grid.offsetY,s=o,l=a,d=[],u=[];e.length0;){for(s=t&&(s=o,l+=r+i,r=0),f=e.pop(),this.moveToOffset(f,new p(s,l)),c=0;f.nodes.lengthc;c++)u.push(f.nodes[c]);for(c=0;f.links.lengthc;c++)d.push(f.links[c]);g=f.bounds,m=g.height,(0=misNaN(m))&&(m=0),v=g.width,(0=visNaN(v))&&(v=0),m=r&&(r=m),s+=v+n}return{nodesu,linksd}},moveToOffsetfunction(e,t){var n,i,r,o,a,s,c,d,u=e.bounds,h=t.x-u.x,f=t.y-u.y;for(n=0;e.nodes.lengthn;n++)r=e.nodes[n],o=r.bounds(),0===o.width&&0===o.height&&0===o.x&&0===o.y&&(o=new l(0,0,0,0)),o.x+=h,o.y+=f,r.bounds(o);for(n=0;e.links.lengthn;n++)if(a=e.links[n],a.points){for(s=[],c=a.points,i=0;c.lengthi;i++)d=c[i],d.x+=h,d.y+=f,s.push(d);a.points=s}return this.currentHorizontalOffset+=u.width+this.options.grid.offsetX,new p(h,f)},transferOptionsfunction(e){this.options=t.deepExtend({},this.defaultOptions),h.isUndefined(e)(this.options=t.deepExtend(this.options,e{}))}}),w=t.Class.extend({initfunction(e){this.nodeMap=new c,this.shapeMap=new c,this.nodes=[],this.edges=[],this.edgeMap=new c,this.finalNodes=[],this.finalLinks=[],this.ignoredConnections=[],this.ignoredShapes=[],this.hyperMap=new c,this.hyperTree=new i,this.finalGraph=null,this.diagram=e},convertfunction(e){if(h.isUndefined(this.diagram))throwNo diagram to convert.;return this.options=t.deepExtend({ignoreInvisible!0,ignoreContainers!0,layoutContainerChildren!1},e{}),this.clear(),this._renormalizeShapes(),this._renormalizeConnections(),this.finalNodes=new c(this.nodes),this.finalLinks=new c(this.edges),this.finalGraph=new i,this.finalNodes.forEach(function(e){this.finalGraph.addNode(e)},this),this.finalLinks.forEach(function(e){this.finalGraph.addExistingLink(e)},this),this.finalGraph},mapConnectionfunction(e){return this.edgeMap.first(function(t){return m(this.edgeMap.get(t),e)})},mapShapefunction(e){var t,n,i,r=this.nodeMap.keys();for(t=0,n=r.length;nt;t++)if(i=r[t],m(this.nodeMap.get(i),e))return i},getEdgefunction(e,t){return h.first(e.links,function(n){return n.getComplement(e)===t})},clearfunction(){this.finalGraph=null,this.hyperTree=!this.options.ignoreContainers&&this.options.layoutContainerChildrennew unull,this.hyperMap=!this.options.ignoreContainers&&this.options.layoutContainerChildrennew cnull,this.nodeMap=new c,this.shapeMap=new c,this.nodes=[],this.edges=[],this.edgeMap=new c,this.ignoredConnections=[],this.ignoredShapes=[],this.finalNodes=[],this.finalLinks=[]},listToRootfunction(e){var t=[],n=e.container;if(!n)return t;for(t.push(n);n.parentContainer;)n=n.parentContainer,t.push(n);return t.reverse(),t},firstNonIgnorableContainerfunction(e){return e.isContainer&&!this._isIgnorableItem(e)ee.parentContainerthis.firstNonIgnorableContainer(e.parentContainer)null},isContainerConnectionfunction(e,t){return e.isContainer&&this.isDescendantOf(e,t)!0t.isContainer&&this.isDescendantOf(t,e)},isDescendantOffunction(e,t){var n,i,r,o;if(!e.isContainer)throwExpecting a container.;if(e===t)return!1;if(m(e.children,t))return!0;for(n=[],i=0,r=e.children.length;ri;i++)o=e.children[i],o.isContainer&&this.isDescendantOf(o,t)&&n.push(o);return n.length0},isIgnorableItemfunction(e){return this.options.ignoreInvisiblee.isCollapsed&&this._isVisible(e)!1!e.isCollapsed&&this._isVisible(e)!1!0e.isCollapsed&&!this._isTop(e)},isShapeMappedfunction(e){return e.isCollapsed&&!this._isVisible(e)&&!this._isTop(e)},leastCommonAncestorfunction(e,t){var n,i,r,o,a,s;if(!e)throwParameter should not be null.;if(!t)throwParameter should not be null.;if(!this.hyperTree)throwNo hypertree available.;if(n=this.listToRoot(e),i=this.listToRoot(t),r=null,h.isEmpty(n)h.isEmpty(i))return this.hyperTree.root.data;for(o=n[0],a=i[0],s=0;o===a&&(r=n[s],s++,!(s=n.lengths=i.length));)o=n[s],a=i[s];return rv(this.hyperTree.nodes,function(e){return e.data.container===r})this.hyperTree.root.data},_isTopfunction(e){return!e.parentContainer},_isVisiblefunction(e){return e.visible()e.parentContainerthis._isVisible(e.parentContainer)e.visible()!1},_isCollapsedfunction(e){return e.isContainer&&e.isCollapsed!0e.parentContainer&&this._isCollapsed(e.parentContainer)},_renormalizeShapesfunction(){var e,t,n,i;if(!this.options.ignoreContainers)throwContainers are not supported yet, but stay tuned.;for(e=0,t=this.diagram.shapes.length;te;e++)n=this.diagram.shapes[e],this.options.ignoreInvisible&&!this._isVisible(n)n.isContainerthis.ignoredShapes.push(n)(i=new r(n.id,n),i.isVirtual=!1,this.nodeMap.add(i,[n]),this.nodes.push(i))},_renormalizeConnectionsfunction(){var e,t,n,i,r,a,s,l;if(0!==this.diagram.connections.length)for(e=0,t=this.diagram.connections.length;te;e++)if(n=this.diagram.connections[e],this.isIgnorableItem(n))this.ignoredConnections.push(n);else if(i=n.sourceConnectorn.sourceConnector.shapenull,r=n.targetConnectorn.targetConnector.shapenull,i&&r)if(!m(this.ignoredShapes,i)this.shapeMap.containsKey(i))if(!m(this.ignoredShapes,r)this.shapeMap.containsKey(r))if(this.shapeMap.containsKey(i)&&(i=this.shapeMap[i]),this.shapeMap.containsKey(r)&&(r=this.shapeMap[r]),a=this.mapShape(i),s=this.mapShape(r),a===sthis.areConnectedAlready(a,s))this.ignoredConnections.push(n);else{if(null===anull===s)throwA shape was not mapped to a node.;if(!this.options.ignoreContainers)throwContainers are not supported yet, but stay tuned.;a.isVirtuals.isVirtualthis.ignoredConnections.push(n)(l=new o(a,s,n.id,n),this.edgeMap.add(l,[n]),this.edges.push(l))}else this.ignoredConnections.push(n);else this.ignoredConnections.push(n);else this.ignoredConnections.push(n)},areConnectedAlreadyfunction(e,t){return h.any(this.edges,function(n){return n.source===e&&n.target===tn.source===t&&n.target===e})}}),y=_.extend({initfunction(e){var t=this;if(_.fn.init.call(t),h.isUndefined(e))throwDiagram is not specified.;this.diagram=e},layoutfunction(e){var t,i,r,o,a,s;if(this.transferOptions(e),t=new w(this.diagram),i=t.convert(e),!i.isEmpty()&&(r=i.getConnectedComponents(),!h.isEmpty(r))){for(o=0;r.lengtho;o++)a=r[o],this.layoutGraph(a,e);return s=this.gridLayoutComponents(r),new n.LayoutState(this.diagram,s)}},layoutGraphfunction(e,t){var n,i,r;for(h.isDefined(t)&&this.transferOptions(t),this.graph=e,n=9this.options.nodeDistance,this.temperature=n,i=this._expectedBounds(),this.width=i.width,this.height=i.height,r=0;this.options.iterationsr;r++)this.refineStage=r=5this.options.iterations6,this.tick(),this.temperature=this.refineStagen30n(1-r(2this.options.iterations))},tickfunction(){var e,t,n;for(e=0;this.graph.nodes.lengthe;e++)this._repulsion(this.graph.nodes[e]);for(e=0;this.graph.links.lengthe;e++)this._attraction(this.graph.links[e]);for(e=0;this.graph.nodes.lengthe;e++){if(t=this.graph.nodes[e],n=Math.sqrt(t.dxt.dx+t.dyt.dy),0===n)return;t.x+=Math.min(n,this.temperature)t.dxn,t.y+=Math.min(n,this.temperature)t.dyn,this.options.limitToView&&(t.x=Math.min(this.width,Math.max(t.width2,t.x)),t.y=Math.min(this.height,Math.max(t.height2,t.y)))}},_shakefunction(e){var t=Math.random()this.options.nodeDistance4,n=2Math.random()Math.PI;e.x+=tMath.cos(n),e.y-=tMath.sin(n)},_InverseSquareForcefunction(e,t,n){var i,r,o,a,s,l,c;return this.refineStage(r=t.x-n.x,o=t.y-n.y,a=t.width2,s=t.height2,l=n.width2,c=n.height2,i=Math.pow(r,2)Math.pow(a+l+this.options.nodeDistance,2)+Math.pow(o,2)Math.pow(s+c+this.options.nodeDistance,2))i=Math.pow(e,2)Math.pow(this.options.nodeDistance,2),4i3},_SquareForcefunction(e,t,n){return 1this._InverseSquareForce(e,t,n)},_repulsionfunction(e){e.dx=0,e.dy=0,h.forEach(this.graph.nodes,function(t){var n,i,r,o;if(t!==e){for(;e.x===t.x&&e.y===t.y;)this._shake(t);n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(nn+ii),o=2this._SquareForce(r,e,t),e.dx+=nro,e.dy+=iro}},this)},_attractionfunction(e){var t,n,i,r,o,a,s=e.target,l=e.source;if(l!==s){for(;l.x===s.x&&l.y===s.y;)this._shake(s);t=l.x-s.x,n=l.y-s.y,i=Math.sqrt(tt+nn),r=5this._InverseSquareForce(i,l,s),o=tir,a=nir,s.dx+=o,s.dy+=a,l.dx-=o,l.dy-=a}},_expectedBoundsfunction(){var e,t,n,i,r,o=this.graph.nodes.length,a=1.5,s=4;return 0===oe(e=h.fold(this.graph.nodes,function(e,t){var n=t.widtht.height;return n0e+=Math.sqrt(n)0},0,this),t=eo,n=tMath.ceil(Math.sqrt(o)),i=nMath.sqrt(a),r=nMath.sqrt(a),{widthis,heightrs})}}),b=t.Class.extend({initfunction(e){this.center=null,this.options=e},layoutfunction(e,t){if(this.graph=e,this.graph.nodes&&0!==this.graph.nodes.length){if(!m(this.graph.nodes,t))throwThe given root is not in the graph.;this.center=t,this.graph.cacheRelationships(),this.layoutSwitch()}},layoutLeftfunction(e){var t,n,i,r,o,a,l,c;for(this.setChildrenDirection(this.center,Left,!1),this.setChildrenLayout(this.center,Default,!1),t=0,n=0,r=0;e.lengthr;r++)o=e[r],o.TreeDirection=Left,a=this.measure(o,s.Empty),n=Math.max(n,a.Width),t+=a.height+this.options.verticalSeparation;for(t-=this.options.verticalSeparation,l=this.center.x-this.options.horizontalSeparation,i=this.center.y+(this.center.height-t)2,r=0;e.lengthr;r++)o=e[r],c=new p(l-o.Size.width,i),this.arrange(o,c),i+=o.Size.height+this.options.verticalSeparation},layoutRightfunction(e){var t,n,i,r,o,a,l,c;for(this.setChildrenDirection(this.center,Right,!1),this.setChildrenLayout(this.center,Default,!1),t=0,n=0,r=0;e.lengthr;r++)o=e[r],o.TreeDirection=Right,a=this.measure(o,s.Empty),n=Math.max(n,a.Width),t+=a.height+this.options.verticalSeparation;for(t-=this.options.verticalSeparation,l=this.center.x+this.options.horizontalSeparation+this.center.width,i=this.center.y+(this.center.height-t)2,r=0;e.lengthr;r++)o=e[r],c=new p(l,i),this.arrange(o,c),i+=o.Size.height+this.options.verticalSeparation},layoutUpfunction(e){var t,n,i,r,o,a,l;for(this.setChildrenDirection(this.center,Up,!1),this.setChildrenLayout(this.center,Default,!1),t=0,r=0;e.lengthr;r++)i=e[r],i.TreeDirection=Up,o=this.measure(i,s.Empty),t+=o.width+this.options.horizontalSeparation;for(t-=this.options.horizontalSeparation,a=this.center.x+this.center.width2-t2,r=0;e.lengthr;r++)i=e[r],n=this.center.y-this.options.verticalSeparation-i.Size.height,l=new p(a,n),this.arrange(i,l),a+=i.Size.width+this.options.horizontalSeparation},layoutDownfunction(e){var t,n,i,r,o,a,l;for(this.setChildrenDirection(this.center,Down,!1),this.setChildrenLayout(this.center,Default,!1),i=0,n=0;e.lengthn;n++)t=e[n],t.treeDirection=Down,o=this.measure(t,s.Empty),i+=o.width+this.options.horizontalSeparation;for(i-=this.options.horizontalSeparation,a=this.center.x+this.center.width2-i2,r=this.center.y+this.options.verticalSeparation+this.center.height,n=0;e.lengthn;n++)t=e[n],l=new p(a,r),this.arrange(t,l),a+=t.Size.width+this.options.horizontalSeparation},layoutRadialTreefunction(){var e,t;if(this.setChildrenDirection(this.center,Radial,!1),this.setChildrenLayout(this.center,Default,!1),this.previousRoot=null,e=this.options.startRadialAngleg,t=this.options.endRadialAngleg,e=t)throwFinal angle should not be less than the start angle.;this.maxDepth=0,this.origin=new p(this.center.x,this.center.y),this.calculateAngularWidth(this.center,0),this.maxDepth0&&this.radialLayout(this.center,this.options.radialFirstLevelSeparation,e,t),this.center.Angle=t-e},tipOverTreefunction(e,t){var n,i,r,o,a,l,c;for(h.isUndefined(t)&&(t=0),this.setChildrenDirection(this.center,Down,!1),this.setChildrenLayout(this.center,Default,!1),this.setChildrenLayout(this.center,Underneath,!1,t),n=0,o=0;e.lengtho;o++)r=e[o],r.TreeDirection=Down,a=this.measure(r,s.Empty),n+=a.width+this.options.horizontalSeparation;for(n-=this.options.horizontalSeparation,n-=e[e.length-1].width,n+=e[e.length-1].associatedShape.bounds().width,l=this.center.x+this.center.width2-n2,i=this.center.y+this.options.verticalSeparation+this.center.height,o=0;e.lengtho;o++)r=e[o],c=new p(l,i),this.arrange(r,c),l+=r.Size.width+this.options.horizontalSeparation},calculateAngularWidthfunction(e,t){var n,i,r,o,a,s,l;if(tthis.maxDepth&&(this.maxDepth=t),n=0,i=1e3,r=1e3,o=0===t0Math.sqrt(ii+rr)t,e.children.length0){for(a=0,s=e.children.length;sa;a++)l=e.children[a],n+=this.calculateAngularWidth(l,t+1);n=Math.max(o,n)}else n=o;return e.sectorAngle=n,n},sortChildrenfunction(e){var t,n,i,r,o,a,s,l,c,d,u,f=0;if(e.parents.length1)throwNode is not part of a tree.;if(n=e.parents[0],n&&(i=new p(n.x,n.y),r=new p(e.x,e.y),f=this.normalizeAngle(Math.atan2(i.y-r.y,i.x-r.x))),o=e.children.length,0===o)return null;for(a=[],s=[],t=0;ot;++t)l=e.children[t],c=new p(l.x,l.y),s[t]=t,a[t]=this.normalizeAngle(-f+Math.atan2(c.y-c.y,c.x-c.x));for(h.bisort(a,s),d=[],u=e.children,t=0;ot;++t)d.push(u[s[t]]);return d},normalizeAnglefunction(e){for(;e2Math.PI;)e-=2Math.PI;for(;0e;)e+=2Math.PI;return e},radialLayoutfunction(e,t,n,i){var r,o,a,s,l,c=i-n,d=c2,u=e.sectorAngle,h=0,p=this.sortChildren(e);for(r=0,o=p.length;or;r++)a=p[r],s=a,l=s.sectorAngleu,a.children.length0&&this.radialLayout(a,t+this.options.radialSeparation,n+hc,n+(h+l)c),this.setPolarLocation(a,t,n+hc+ld),s.angle=lc,h+=l},setPolarLocationfunction(e,t,n){e.x=this.origin.x+tMath.cos(n),e.y=this.origin.y+tMath.sin(n),e.BoundingRectangle=new l(e.x,e.y,e.width,e.height)},setChildrenDirectionfunction(e,t,n){var i=e.treeDirection;this.graph.depthFirstTraversal(e,function(e){e.treeDirection=t}),n(e.treeDirection=i)},setChildrenLayoutfunction(e,t,n,i){h.isUndefined(i)&&(i=0);var r=e.childrenLayout;i0(this.graph.assignLevels(e),this.graph.depthFirstTraversal(e,function(e){e.level=i+1&&(e.childrenLayout=t)}))(this.graph.depthFirstTraversal(e,function(e){e.childrenLayout=t}),n(e.childrenLayout=r))},measurefunction(e,t){var n,i,r,o,a,l,c,d=0,u=0,p=new s(0,0);if(!e)throw;if(i=e.associatedShape.bounds(),r=i.width,o=i.height,1!==e.parents.length)throwNode not in a spanning tree.;if(a=e.parents[0],Undefined===e.treeDirection&&(e.treeDirection=a.treeDirection),h.isEmpty(e.children))p=new s(Math.abs(r)f50r,Math.abs(o)f25o);else if(1===e.children.length){switch(e.treeDirection){caseRadialn=this.measure(e.children[0],t),d=r+this.options.radialSeparationMath.cos(e.AngleToParent)+n.width,u=o+Math.abs(this.options.radialSeparationMath.sin(e.AngleToParent))+n.height;break;caseLeftcaseRightswitch(e.childrenLayout){caseTopAlignedWithParentbreak;caseBottomAlignedWithParentbreak;caseUnderneathn=this.measure(e.children[0],t),d=r+n.width+this.options.underneathHorizontalOffset,u=o+this.options.underneathVerticalTopOffset+n.height;break;caseDefaultn=this.measure(e.children[0],t),d=r+this.options.horizontalSeparation+n.width,u=Math.max(o,n.height);break;defaultthrowUnhandled TreeDirection in the Radial layout measuring.}break;caseUpcaseDownswitch(e.childrenLayout){caseTopAlignedWithParentcaseBottomAlignedWithParentbreak;caseUnderneathn=this.measure(e.children[0],t),d=Math.max(r,n.width+this.options.underneathHorizontalOffset),u=o+this.options.underneathVerticalTopOffset+n.height;break;caseDefaultn=this.measure(e.children[0],t),u=o+this.options.verticalSeparation+n.height,d=Math.max(r,n.width);
break;defaultthrowUnhandled TreeDirection in the Down layout measuring.}break;defaultthrowUnhandled TreeDirection in the layout measuring.}p=new s(d,u)}else{switch(e.treeDirection){caseLeftcaseRightswitch(e.childrenLayout){caseTopAlignedWithParentcaseBottomAlignedWithParentbreak;caseUnderneathfor(d=r,u=o+this.options.underneathVerticalTopOffset,l=0;e.children.lengthl;l++)c=e.children[l],n=this.measure(c,t),d=Math.max(d,n.width+this.options.underneathHorizontalOffset),u+=n.height+this.options.underneathVerticalSeparation;u-=this.options.underneathVerticalSeparation;break;caseDefaultfor(d=r,u=0,l=0;e.children.lengthl;l++)c=e.children[l],n=this.measure(c,t),d=Math.max(d,r+this.options.horizontalSeparation+n.width),u+=n.height+this.options.verticalSeparation;u-=this.options.verticalSeparation;break;defaultthrowUnhandled TreeDirection in the Right layout measuring.}break;caseUpcaseDownswitch(e.childrenLayout){caseTopAlignedWithParentcaseBottomAlignedWithParentbreak;caseUnderneathfor(d=r,u=o+this.options.underneathVerticalTopOffset,l=0;e.children.lengthl;l++)c=e.children[l],n=this.measure(c,t),d=Math.max(d,n.width+this.options.underneathHorizontalOffset),u+=n.height+this.options.underneathVerticalSeparation;u-=this.options.underneathVerticalSeparation;break;caseDefaultfor(d=0,u=0,l=0;e.children.lengthl;l++)c=e.children[l],n=this.measure(c,t),d+=n.width+this.options.horizontalSeparation,u=Math.max(u,n.height+this.options.verticalSeparation+o);d-=this.options.horizontalSeparation;break;defaultthrowUnhandled TreeDirection in the Down layout measuring.}break;defaultthrowUnhandled TreeDirection in the layout measuring.}p=new s(d,u)}return e.SectorAngle=Math.sqrt(dd4+uu4),e.Size=p,p},arrangefunction(e,t){var n,i,r,o,a,s,c,d,u=e.associatedShape.bounds(),g=u.width,m=u.height;if(h.isEmpty(e.children))e.x=t.x,e.y=t.y,e.BoundingRectangle=new l(t.x,t.y,g,m);else switch(e.treeDirection){caseLeftswitch(e.childrenLayout){caseTopAlignedWithParentcaseBottomAlignedWithParentbreak;caseUnderneathfor(d=t,e.x=d.x,e.y=d.y,e.BoundingRectangle=new l(e.x,e.y,e.width,e.height),c=t.y+m+this.options.underneathVerticalTopOffset,n=0;o.children.lengthn;n++)o=o.children[n],s=d.x-o.associatedShape.width-this.options.underneathHorizontalOffset,i=new p(s,c),this.arrange(o,i),c+=o.Size.height+this.options.underneathVerticalSeparation;break;caseDefaultfor(d=new p(t.x+e.Size.width-g,t.y+(e.Size.height-m)2),e.x=d.x,e.y=d.y,e.BoundingRectangle=new l(e.x,e.y,e.width,e.height),s=d.x-this.options.horizontalSeparation,c=t.y,n=0;e.children.lengthn;n++)o=e.children[n],i=new p(s-o.Size.width,c),this.arrange(o,i),c+=o.Size.height+this.options.verticalSeparation;break;defaultthrowUnsupported TreeDirection}break;caseRightswitch(e.childrenLayout){caseTopAlignedWithParentcaseBottomAlignedWithParentbreak;caseUnderneathfor(d=t,e.x=d.x,e.y=d.y,e.BoundingRectangle=new l(e.x,e.y,e.width,e.height),s=t.x+g+this.options.underneathHorizontalOffset,c=t.y+m+this.options.underneathVerticalTopOffset,n=0;e.children.lengthn;n++)o=e.children[n],i=new p(s,c),this.arrange(o,i),c+=o.Size.height+this.options.underneathVerticalSeparation;break;caseDefaultfor(d=new p(t.x,t.y+(e.Size.height-m)2),e.x=d.x,e.y=d.y,e.BoundingRectangle=new l(e.x,e.y,e.width,e.height),s=t.x+g+this.options.horizontalSeparation,c=t.y,n=0;e.children.lengthn;n++)o=e.children[n],i=new p(s,c),this.arrange(o,i),c+=o.Size.height+this.options.verticalSeparation;break;defaultthrowUnsupported TreeDirection}break;caseUpif(d=new p(t.x+(e.Size.width-g)2,t.y+e.Size.height-m),e.x=d.x,e.y=d.y,e.BoundingRectangle=new l(e.x,e.y,e.width,e.height),Math.abs(d.x-t.x)f){for(a=0,n=0;e.children.lengthn;n++)r=e.children[n],a+=r.Size.width+this.options.horizontalSeparation;a-=this.options.horizontalSeparation,s=t.x+(g-a)2}else s=t.x;for(n=0;e.children.lengthn;n++)o=e.children[n],c=d.y-this.options.verticalSeparation-o.Size.height,i=new p(s,c),this.arrange(o,i),s+=o.Size.width+this.options.horizontalSeparation;break;caseDownswitch(e.childrenLayout){caseTopAlignedWithParentcaseBottomAlignedWithParentbreak;caseUnderneathfor(d=t,e.x=d.x,e.y=d.y,e.BoundingRectangle=new l(e.x,e.y,e.width,e.height),s=t.x+this.options.underneathHorizontalOffset,c=t.y+m+this.options.underneathVerticalTopOffset,n=0;e.children.lengthn;n++)o=e.children[n],i=new p(s,c),this.arrange(o,i),c+=o.Size.height+this.options.underneathVerticalSeparation;break;caseDefaultif(d=new p(t.x+(e.Size.width-g)2,t.y),e.x=d.x,e.y=d.y,e.BoundingRectangle=new l(e.x,e.y,e.width,e.height),Math.abs(d.x-t.x)f){for(a=0,n=0;e.children.lengthn;n++)r=e.children[n],a+=r.Size.width+this.options.horizontalSeparation;a-=this.options.horizontalSeparation,s=t.x+(g-a)2}else s=t.x;for(n=0;e.children.lengthn;n++)o=e.children[n],c=d.y+this.options.verticalSeparation+m,i=new p(s,c),this.arrange(o,i),s+=o.Size.width+this.options.horizontalSeparation;break;defaultthrowUnsupported TreeDirection}break;caseNonebreak;defaultthrowUnsupported TreeDirection}},layoutSwitchfunction(){var e,t,n,i,r,o;if(this.center&&!h.isEmpty(this.center.children))switch(e=this.options.subtype,h.isUndefined(e)&&(e=Down),o=this.center.children,e.toLowerCase()){caseradialcaseradialtreethis.layoutRadialTree();break;casemindmaphorizontalcasemindmapt=this.center.children,1===this.center.children.lengththis.layoutRight(t)(r=o.length2,n=v(this.center.children,function(e){return h.indexOf(o,e)r}),i=v(this.center.children,function(e){return h.indexOf(o,e)=r}),this.layoutLeft(n),this.layoutRight(i));break;casemindmapverticalt=this.center.children,1===this.center.children.lengththis.layoutDown(t)(r=o.length2,n=v(this.center.children,function(e){return h.indexOf(o,e)r}),i=v(this.center.children,function(e){return h.indexOf(o,e)=r}),this.layoutUp(n),this.layoutDown(i));break;caserightthis.layoutRight(this.center.children);break;caseleftthis.layoutLeft(this.center.children);break;caseupcasebottomthis.layoutUp(this.center.children);break;casedowncasetopthis.layoutDown(this.center.children);break;casetipovercasetipovertreeif(0this.options.tipOverTreeStartLevel)throwThe tip-over level should be a positive integer.;this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel);break;caseundefinedcasenone}}}),k=_.extend({initfunction(e){var t=this;if(_.fn.init.call(t),h.isUndefined(e))throwNo diagram specified.;this.diagram=e},layoutfunction(e){var t,i;return this.transferOptions(e),t=new w(this.diagram),this.graph=t.convert(),i=this.layoutComponents(),new n.LayoutState(this.diagram,i)},layoutComponentsfunction(){var e,t,n,i,r,o,a,s;if(!this.graph.isEmpty()&&(e=this.graph.getConnectedComponents(),!h.isEmpty(e))){for(t=new b(this.options),n=[],i=0;e.lengthi;i++){if(r=e[i],o=this.getTree(r),!o)throwFailed to find a spanning tree for the component.;a=o.root,s=o.tree,t.layout(s,a),n.push(s)}return this.gridLayoutComponents(n)}},getTreefunction(e){var t,n,i,r,o,a=null;if(this.options.roots&&this.options.roots.length0)for(t=0,n=e.nodes.length;nt;t++)for(i=e.nodes[t],r=0;this.options.roots.lengthr;r++)if(o=this.options.roots[r],o===i.associatedShape){a=i;break}if(!a&&(a=e.root(),!a))throwUnable to find a root for the tree.;return this.getTreeForRoot(e,a)},getTreeForRootfunction(e,t){var n=e.getSpanningTree(t);return h.isUndefined(n)n.isEmpty()null{treen,rootn.root}}}),x=_.extend({initfunction(e){var t=this;if(_.fn.init.call(t),h.isUndefined(e))throwDiagram is not specified.;this.diagram=e},layoutfunction(e){var t,i,r,o,a,s;if(this.transferOptions(e),t=new w(this.diagram),i=t.convert(e),!i.isEmpty()&&(r=i.getConnectedComponents(),!h.isEmpty(r))){for(o=0;r.lengtho;o++)a=r[o],this.layoutGraph(a,e);return s=this.gridLayoutComponents(r),new n.LayoutState(this.diagram,s)}},_initRuntimePropertiesfunction(){var e,t;for(e=0;this.graph.nodes.lengthe;e++)t=this.graph.nodes[e],t.layer=-1,t.downstreamLinkCount=0,t.upstreamLinkCount=0,t.isVirtual=!1,t.uBaryCenter=0,t.dBaryCenter=0,t.upstreamPriority=0,t.downstreamPriority=0,t.gridPosition=0},_preparefunction(e){var t,n,i,r,o,a,s,l,d,u,p,f,g=[];for(n=0;e.links.lengthn;n++)e.links[n].depthOfDumminess=0;for(r=new c,h.forEach(e.nodes,function(e){0===e.incoming.length&&(r.set(e,0),g.push(e))});g.length0;)for(o=g.shift(),t=0;o.outgoing.lengtht;t++)i=o.outgoing[t],a=i.target,r.containsKey(a)r.set(a,Math.max(r.get(o)+1,r.get(a)))r.set(a,r.get(o)+1),m(g,a)g.push(a);for(s=0,r.forEachValue(function(e){s=Math.max(s,e)}),l=[],h.addRange(l,r.keys()),l.sort(function(e,t){var n=r.get(e),i=r.get(t);return h.sign(i-n)}),d=0;l.lengthd;++d)if(u=l[d],p=Number.MAX_VALUE,0!==u.outgoing.length){for(n=0;u.outgoing.lengthn;++n)i=u.outgoing[n],p=Math.min(p,r.get(i.target));p1&&r.set(u,p-1)}for(this.layers=[],t=0;s+1t;t++)this.layers.push([]);for(r.forEach(function(e,t){e.layer=t,this.layers[t].push(e)},this),n=0;this.layers.lengthn;n++)for(f=this.layers[n],t=0;f.lengtht;t++)f[t].gridPosition=t},layoutGraphfunction(e,t){if(h.isUndefined(e))throwNo graph given or graph analysis of the diagram failed.;h.isDefined(t)&&this.transferOptions(t),this.graph=e,e.setItemIndices();var n=e.makeAcyclic();this._initRuntimeProperties(),this._prepare(e,t),this._dummify(),this._optimizeCrossings(),this._swapPairs(),this.arrangeNodes(),this._moveThingsAround(),this._dedummify(),h.forEach(n,function(e){e.points&&e.points.reverse()})},setMinDistfunction(e,t,n){var i=e.layer,r=e.layerIndex;this.minDistances[i][r]=n},getMinDistfunction(e,t){var n,i=0,r=e.layerIndex,o=t.layerIndex,a=e.layer,s=Math.min(r,o),l=Math.max(r,o);for(n=s;ln;++n)i+=this.minDistances[a][n];return i},placeLeftToRightfunction(e){var t,n,i,r,o,a,s,l,d,u,p=new c;for(i=0;this.layers.lengthi;++i)if(r=e[i]){for(t=0;r.lengtht;t++)n=r[t],p.containsKey(n)this.placeLeft(n,p,i);for(o=Number.POSITIVE_INFINITY,t=0;r.lengtht;t++)n=r[t],a=this.rightSibling(n),a&&this.nodeLeftClass.get(a)!==i&&(o=Math.min(o,p.get(a)-p.get(n)-this.getMinDist(n,a)));if(o===Number.POSITIVE_INFINITY){for(s=[],t=0;r.lengtht;t++)for(n=r[t],l=[],h.addRange(l,this.upNodes.get(n)),h.addRange(l,this.downNodes.get(n)),d=0;l.lengthd;d++)u=l[d],this.nodeLeftClass.get(u)i&&s.push(p.get(u)-p.get(n));s.sort(),o=0===s.length0s.length%2===1s[this.intDiv(s.length,2)](s[this.intDiv(s.length,2)-1]+s[this.intDiv(s.length,2)])2}for(t=0;r.lengtht;t++)n=r[t],p.set(n,p.get(n)+o)}return p},placeRightToLeftfunction(e){var t,n,i,r,o,a,s,l,d,u,p=new c;for(i=0;this.layers.lengthi;++i)if(r=e[i]){for(t=0;r.lengtht;t++)n=r[t],p.containsKey(n)this.placeRight(n,p,i);for(o=Number.NEGATIVE_INFINITY,t=0;r.lengtht;t++)n=r[t],a=this.leftSibling(n),a&&this.nodeRightClass.get(a)!==i&&(o=Math.max(o,p.get(a)-p.get(n)+this.getMinDist(a,n)));if(o===Number.NEGATIVE_INFINITY){for(s=[],t=0;r.lengtht;t++)for(n=r[t],l=[],h.addRange(l,this.upNodes.get(n)),h.addRange(l,this.downNodes.get(n)),d=0;l.lengthd;d++)u=l[d],this.nodeRightClass.get(u)i&&s.push(p.get(n)-p.get(u));s.sort(),o=0===s.length0s.length%2===1s[this.intDiv(s.length,2)](s[this.intDiv(s.length,2)-1]+s[this.intDiv(s.length,2)])2}for(t=0;r.lengtht;t++)n=r[t],p.set(n,p.get(n)+o)}return p},_getLeftWingfunction(){var e={valuenull},t=this.computeClasses(e,1);return this.nodeLeftClass=e.value,t},_getRightWingfunction(){var e={valuenull},t=this.computeClasses(e,-1);return this.nodeRightClass=e.value,t},computeClassesfunction(e,t){var n,i,r,o,a,s,l,d,u,h=0,p=e.value=new c;for(n=0;this.layers.lengthn;++n)for(h=n,i=this.layers[n],r=1===t0i.length-1;r=0&&i.lengthr;r+=t)if(o=i[r],p.containsKey(o))h=p.get(o);else if(p.set(o,h),o.isVirtual)for(a=this._nodesInLink(o),s=0;a.lengths;s++)l=a[s],p.set(l,h);for(d=[],u=0;this.layers.lengthu;u++)d.push(null);return p.forEach(function(e,t){null===d[t]&&(d[t]=[]),d[t].push(e)}),d},_isVerticalLayoutfunction(){returnup===this.options.subtype.toLowerCase()down===this.options.subtype.toLowerCase()vertical===this.options.subtype.toLowerCase()},_isHorizontalLayoutfunction(){returnright===this.options.subtype.toLowerCase()left===this.options.subtype.toLowerCase()horizontal===this.options.subtype.toLowerCase()},_isIncreasingLayoutfunction(){returnright===this.options.subtype.toLowerCase()down===this.options.subtype.toLowerCase()},_moveThingsAroundfunction(){function e(e,t){var n,i,r=Number.MIN_VALUE;for(n=0;e.lengthn;++n)i=e[n],r=t._isVerticalLayout()Math.max(r,i.height)Math.max(r,i.width);return r}var t,n,i,r,o,a,s,l,d,u,p,f,g,m,v,_,w,y,b,k,x,C,S,T,D,A,E;for(n=0;this.layers.lengthn;++n)r=this.layers[n],r.sort(this._gridPositionComparer);for(this.minDistances=[],n=0;this.layers.lengthn;++n)for(r=this.layers[n],this.minDistances[n]=[],o=0;r.lengtho;++o)i=r[o],i.layerIndex=o,this.minDistances[n][o]=this.options.nodeDistance,r.length-1o&&(this.minDistances[n][o]+=this._isVerticalLayout()(i.width+r[o+1].width)2(i.height+r[o+1].height)2);for(this.downNodes=new c,this.upNodes=new c,h.forEach(this.graph.nodes,function(e){this.downNodes.set(e,[]),this.upNodes.set(e,[])},this),h.forEach(this.graph.links,function(e){var t=e.source,n=e.target,i=null,r=null;t.layern.layer(i=e.source,r=e.target)(r=e.source,i=e.target),this.downNodes.get(r).push(i),this.upNodes.get(i).push(r)},this),this.downNodes.forEachValue(function(e){e.sort(this._gridPositionComparer)},this),this.upNodes.forEachValue(function(e){e.sort(this._gridPositionComparer)},this),n=0;this.layers.length-1n;++n)for(r=this.layers[n],a=0;r.length-1a;a++)if(s=r[a],s.isVirtual&&(l=this.downNodes.get(s)[0],l.isVirtual))for(o=a+1;r.lengtho;++o)i=r[o],i.isVirtual&&(d=this.downNodes.get(i)[0],d.isVirtual&&l.gridPositiond.gridPosition&&(u=l.gridPosition,l.gridPosition=d.gridPosition,d.gridPosition=u,p=l.layerIndex,f=d.layerIndex,this.layers[n+1][p]=d,this.layers[n+1][f]=l,l.layerIndex=f,d.layerIndex=p));for(g=this._getLeftWing(),m=this._getRightWing(),v=this.placeLeftToRight(g),_=this.placeRightToLeft(m),w=new c,h.forEach(this.graph.nodes,function(e){w.set(e,(v.get(e)+_.get(e))2)}),y=new c,b=new c,n=0;this.layers.lengthn;++n)for(r=this.layers[n],k=-1,x=-1,o=0;r.lengtho;++o)i=r[o],y.set(i,0),b.set(i,!1),i.isVirtual&&(-1===kk=ok===o-1k=o(x=o,y.set(r[k],0),w.get(i)-w.get(r[k])===this.getMinDist(r[k],i)b.set(r[k],!0)b.set(r[k],!1),k=o));for(C=[1,-1],h.forEach(C,function(e){var n,i,r,o,a,s,l,c=1===e0this.layers.length-1;for(n=c;n=0&&this.layers.lengthn;n+=e){if(i=this.layers[n],r=this._firstVirtualNode(i),o=null,a=null,-1!==r)for(o=i[r],a=[],t=0;rt;t++)a.push(i[t]);else o=null,a=i;if(a.length0){for(this._sequencer(w,null,o,e,a),t=0;a.length-1t;++t)this.setMinDist(a[t],a[t+1],w.get(a[t+1])-w.get(a[t]));o&&this.setMinDist(a[a.length-1],o,w.get(o)-w.get(a[a.length-1]))}for(;o;){if(s=this.nextVirtualNode(i,o)){if(y.get(o)===e){for(r=o.layerIndex,l=s.layerIndex,a=[],t=r+1;lt;t++)a.push(i[t]);a.length0&&this._sequencer(w,o,s,e,a),b.set(o,!0)}}else{for(r=o.layerIndex,a=[],t=r+1;i.lengtht;t++)a.push(i[t]);if(a.length0){for(this._sequencer(w,o,null,e,a),t=0;a.length-1t;++t)this.setMinDist(a[t],a[t+1],w.get(a[t+1])-w.get(a[t]));this.setMinDist(o,a[0],w.get(a[0])-w.get(o))}}o=s}this.adjustDirections(n,e,y,b)}},this),S=this._isIncreasingLayout()0this.layers.length-1,T=function(e,t){return t._isIncreasingLayout()t.layers.lengthee=0},D=this._isIncreasingLayout()1-1,A=0,t=S;T(t,this);t+=D){for(r=this.layers[t],E=e(r,this),o=0;r.lengtho;++o)i=r[o],this._isVerticalLayout()(i.x=w.get(i),i.y=A+E2)(i.x=A+E2,i.y=w.get(i));A+=this.options.layerSeparation+E}},adjustDirectionsfunction(e,t,n,i){var r,o,a,s,l,c,d,u,h,p,f,g,m,v;if(!(0e+te+t=this.layers.length))for(r=null,o=null,a=this.layers[e+t],s=0;a.lengths;++s)if(l=a[s],l.isVirtual&&(c=this.getNeighborOnLayer(l,e),c.isVirtual)){if(r){for(d=i.get(o),u=this.layers[e],h=o.layerIndex,p=c.layerIndex,f=h+1;pf;++f)u[f].isVirtual&&(d=d&&i.get(u[f]));if(d)for(n.set(r,t),g=r.layerIndex,m=l.layerIndex,v=g+1;mv;++v)a[v].isVirtual&&n.set(a[v],t)}r=l,o=c}},getNeighborOnLayerfunction(e,t){var n=this.upNodes.get(e)[0];return n.layer===tn(n=this.downNodes.get(e)[0],n.layer===tnnull)},_sequencerfunction(e,t,n,i,r){if(1===r.length&&this._sequenceSingle(e,t,n,i,r[0]),r.length1){var o=r.length,a=this.intDiv(o,2);this._sequencer(e,t,n,i,r.slice(0,a)),this._sequencer(e,t,n,i,r.slice(a)),this.combineSequences(e,t,n,i,r)}},_sequenceSinglefunction(e,t,n,i,r){var o=-1===ithis.downNodes.get(r)this.upNodes.get(r),a=o.length;0!==a&&(a%2===1e.set(r,e.get(o[this.intDiv(a,2)]))e.set(r,(e.get(o[this.intDiv(a,2)-1])+e.get(o[this.intDiv(a,2)]))2),t&&e.set(r,Math.max(e.get(r),e.get(t)+this.getMinDist(t,r))),n&&e.set(r,Math.min(e.get(r),e.get(n)-this.getMinDist(r,n))))},combineSequencesfunction(e,t,n,i,r){var o,a,s,l,c,d,u,h,p,f,g=r.length,m=this.intDiv(g,2),v=[];for(o=0;mo;++o){for(a=0,l=-1===ithis.downNodes.get(r[o])this.upNodes.get(r[o]),s=0;l.lengths;++s)c=l[s],e.get(c)=e.get(r[o])a++(a--,v.push({ke.get(c)+this.getMinDist(r[o],r[m-1]),v2}));v.push({ke.get(r[o])+this.getMinDist(r[o],r[m-1]),va})}for(t&&v.push({ke.get(t)+this.getMinDist(t,r[m-1]),vNumber.MAX_VALUE}),v.sort(this._positionDescendingComparer),u=[],o=m;go;++o){for(a=0,l=-1===ithis.downNodes.get(r[o])this.upNodes.get(r[o]),s=0;l.lengths;++s)c=l[s],e.get(c)=e.get(r[o])a++(a--,u.push({ke.get(c)-this.getMinDist(r[o],r[m]),v2}));u.push({ke.get(r[o])-this.getMinDist(r[o],r[m]),va})}for(n&&u.push({ke.get(n)-this.getMinDist(n,r[m]),vNumber.MAX_VALUE}),u.sort(this._positionAscendingComparer),h=0,p=0,f=this.getMinDist(r[m-1],r[m]);e.get(r[m])-e.get(r[m-1])f;)if(ph){if(0===v.length){e.set(r[m-1],e.get(r[m])-f);break}d=v.shift(),h+=d.v,e.set(r[m-1],d.k),e.set(r[m-1],Math.max(e.get(r[m-1]),e.get(r[m])-f))}else{if(0===u.length){e.set(r[m],e.get(r[m-1])+f);break}d=u.shift(),p+=d.v,e.set(r[m],d.k),e.set(r[m],Math.min(e.get(r[m]),e.get(r[m-1])+f))}for(o=m-2;o=0;o--)e.set(r[o],Math.min(e.get(r[o]),e.get(r[m-1])-this.getMinDist(r[o],r[m-1])));for(o=m+1;go;o++)e.set(r[o],Math.max(e.get(r[o]),e.get(r[m])+this.getMinDist(r[o],r[m])))},placeLeftfunction(e,t,n){var i=Number.NEGATIVE_INFINITY;h.forEach(this._getComposite(e),function(e){var r=this.leftSibling(e);r&&this.nodeLeftClass.get(r)===this.nodeLeftClass.get(e)&&(t.containsKey(r)this.placeLeft(r,t,n),i=Math.max(i,t.get(r)+this.getMinDist(r,e)))},this),i===Number.NEGATIVE_INFINITY&&(i=0),h.forEach(this._getComposite(e),function(e){t.set(e,i)})},placeRightfunction(e,t,n){var i=Number.POSITIVE_INFINITY;h.forEach(this._getComposite(e),function(e){var r=this.rightSibling(e);r&&this.nodeRightClass.get(r)===this.nodeRightClass.get(e)&&(t.containsKey(r)this.placeRight(r,t,n),i=Math.min(i,t.get(r)-this.getMinDist(e,r)))},this),i===Number.POSITIVE_INFINITY&&(i=0),h.forEach(this._getComposite(e),function(e){t.set(e,i)})},leftSiblingfunction(e){var t=this.layers[e.layer],n=e.layerIndex;return 0===nnullt[n-1]},rightSiblingfunction(e){var t=this.layers[e.layer],n=e.layerIndex;return n===t.length-1nullt[n+1]},_getCompositefunction(e){return e.isVirtualthis._nodesInLink(e)[e]},arrangeNodesfunction(){var e,t,n,i,r,o,a,s;for(t=0;this.layers.lengtht;t++)for(i=this.layers[t],n=0;i.lengthn;n++)r=i[n],r.upstreamPriority=r.upstreamLinkCount,r.downstreamPriority=r.downstreamLinkCount;for(o=2,a=0;oa;a++){for(e=this.layers.length-1;e=1;e--)this.layoutLayer(!1,e);for(e=0;this.layers.length-1e;e++)this.layoutLayer(!0,e)}for(s=Number.MAX_VALUE,t=0;this.layers.lengtht;t++)for(i=this.layers[t],n=0;i.lengthn;n++)r=i[n],s=Math.min(s,r.gridPosition);if(0s)for(t=0;this.layers.lengtht;t++)for(i=this.layers[t],n=0;i.lengthn;n++)r=i[n],r.gridPosition=r.gridPosition-s},layoutLayerfunction(e,t){var n,i,r,o;for(i=ethis.layers[n=t+1]this.layers[n=t-1],r=[],o=0;i.lengtho;o++)r.push(i[o]);r.sort(function(e,t){var n=(e.upstreamPriority+e.downstreamPriority)2,i=(t.upstreamPriority+t.downstreamPriority)2;return Math.abs(n-i)1e-40in1-1}),h.forEach(r,function(e){var t=e.gridPosition,n=this.calcBaryCenter(e),r=(e.upstreamPriority+e.downstreamPriority)2;if(!(Math.abs(t-n)1e-4Math.abs(t-n).2501))if(nt)for(;nt&&this.moveRight(e,i,r);)t=e.gridPosition;else for(;tn&&this.moveLeft(e,i,r);)t=e.gridPosition},this),n0&&this.calcDownData(n-1),this.layers.length-1n&&this.calcUpData(n+1)},moveRightfunction(e,t,n){var i,r,o=h.indexOf(t,e);return o===t.length-1(e.gridPosition=e.gridPosition+.5,!0)(i=t[o+1],r=(i.upstreamPriority+i.downstreamPriority)2,i.gridPositione.gridPosition+1(e.gridPosition=e.gridPosition+.5,!0)rnMath.abs(r-n)1e-4!1this.moveRight(i,t,n)(e.gridPosition=e.gridPosition+.5,!0)!1)},moveLeftfunction(e,t,n){var i,r,o=h.indexOf(t,e);return 0===o(e.gridPosition=e.gridPosition-.5,!0)(i=t[o-1],r=(i.upstreamPriority+i.downstreamPriority)2,e.gridPosition-1i.gridPosition(e.gridPosition=e.gridPosition-.5,!0)rnMath.abs(r-n)1e-4!1this.moveLeft(i,t,n)(e.gridPosition=e.gridPosition-.5,!0)!1)},mapVirtualNodefunction(e,t){this.nodeToLinkMap.set(e,t),this.linkToNodeMap.containsKey(t)this.linkToNodeMap.set(t,[]),this.linkToNodeMap.get(t).push(e)},_nodesInLinkfunction(e){return this.linkToNodeMap.get(this.nodeToLinkMap.get(e))},_dummifyfunction(){var e,t,n,i,a,s,l,d,u,p,f,g,m,v,_,w,y,b;for(this.linkToNodeMap=new c,this.nodeToLinkMap=new c,u=this.graph.links.slice(0),d=0;u.lengthd;d++){if(p=u[d],f=p.source,g=p.target,m=f.layer,v=g.layer,_=f.gridPosition,w=g.gridPosition,y=(w-_)Math.abs(v-m),b=f,m-v1){for(l=m-1;lv;l--){for(n=new r,n.x=f.x,n.y=f.y,n.width=f.width100,n.height=f.height100,e=this.layers[l],t=(l-v)y+_,te.length&&(t=e.length),_=this.layers[m].length-1&&w=this.layers[v].length-1t=e.length0===_&&0===w&&(t=0),n.layer=l,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=t,n.isVirtual=!0,h.insert(e,n,t),a=t+1;e.lengtha;a++)i=e[a],i.gridPosition=i.gridPosition+1;s=new o(b,n),s.depthOfDumminess=0,b=n,this.graph.nodes.push(n),this.graph.addLink(s),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,p)}p.changeSource(b),p.depthOfDumminess=m-v-1}if(-1m-v){for(l=m+1;vl;l++){for(n=new r,n.x=f.x,n.y=f.y,n.width=f.width100,n.height=f.height100,e=this.layers[l],t=(l-m)y+_,te.length&&(t=e.length),_=this.layers[m].length-1&&w=this.layers[v].length-1t=e.length0===_&&0===w&&(t=0),n.layer=l,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=t,n.isVirtual=!0,t&=t,h.insert(e,n,t),a=t+1;e.lengtha;a++)i=e[a],i.gridPosition=i.gridPosition+1;s=new o(b,n),s.depthOfDumminess=0,b=n,this.graph.nodes.push(n),this.graph.addLink(s),n.index=this.graph.nodes.length-1,this.mapVirtualNode(n,p)}p.changeSource(b),p.depthOfDumminess=v-m-1}}},_dedummifyfunction(){for(var e,t,n,i,r,o,a,s,l=!0;l;)for(l=!1,e=0;this.graph.links.lengthe;e++)if(t=this.graph.links[e],0!==t.depthOfDumminess){for(n=[],n.unshift({xt.target.x,yt.target.y}),n.unshift({xt.source.x,yt.source.y}),i=t,r=t.depthOfDumminess,o=0;ro;o++)a=i.source,s=a.incoming[0],n.unshift({xs.source.x,ys.source.y}),i=s;t.changeSource(i.source),t.depthOfDumminess=0,n.length2(n.splice(0,1),n.splice(n.length-1),t.points=n)t.points=[],l=!0;break}},_optimizeCrossingsfunction(){for(var e,t=-1,n=3,i=0;0!==t&&!(i++n);){for(t=0,e=this.layers.length-1;e=1;e--)t+=this.optimizeLayerCrossings(!1,e);for(e=0;this.layers.length-1e;e++)t+=this.optimizeLayerCrossings(!0,e)}},calcUpDatafunction(e){var t,n,i,r,o,a,s,l,c;if(0!==e){for(t=this.layers[e],o=new d,a=this.layers[e-1],n=0;a.lengthn;n++)o.add(a[n]);for(n=0;t.lengthn;n++){for(s=t[n],l=0,c=0,i=0;s.incoming.lengthi;i++)r=s.incoming[i],o.contains(r.source)&&(c++,l+=r.source.gridPosition);for(i=0;s.outgoing.lengthi;i++)r=s.outgoing[i],o.contains(r.target)&&(c++,l+=r.target.gridPosition);c0(s.uBaryCenter=lc,s.upstreamLinkCount=c)(s.uBaryCenter=n,s.upstreamLinkCount=0)}}},calcDownDatafunction(e){var t,n,i,r,o,a,s,l,c;if(e!==this.layers.length-1){for(t=this.layers[e],o=new d,a=this.layers[e+1],n=0;a.lengthn;n++)o.add(a[n]);for(n=0;t.lengthn;n++){for(s=t[n],l=0,c=0,i=0;s.incoming.lengthi;i++)r=s.incoming[i],o.contains(r.source)&&(c++,l+=r.source.gridPosition);for(i=0;s.outgoing.lengthi;i++)r=s.outgoing[i],o.contains(r.target)&&(c++,l+=r.target.gridPosition);c0(s.dBaryCenter=lc,s.downstreamLinkCount=c)(s.dBaryCenter=n,s.downstreamLinkCount=0)}}},optimizeLayerCrossingsfunction(e,t){var n,i,r,o,a,s,l,c;for(i=ethis.layers[n=t+1]this.layers[n=t-1],r=i.slice(0),ethis.calcUpData(n)this.calcDownData(n),o=this,i.sort(function(e,t){var n,i=o.calcBaryCenter(e),r=o.calcBaryCenter(t);return Math.abs(i-r)1e-4e.degree()===t.degree()o.compareByIndex(e,t)e.degree()t.degree()1-1(n=1e3(r-i),n0-10n1o.compareByIndex(e,t))}),s=0,a=0;i.lengtha;a++)i[a]!==r[a]&&s++;if(s0)for(l=0,a=0;i.lengtha;a++)c=i[a],c.gridPosition=l++;return s},_swapPairsfunction(){for(var e,t,n,i,r,o,a,s,l,c,d,u,h,p,f,g,m,v=this.options.layeredIterations,_=0;;){if(_++v)break;for(e=1=_%4,t=_%4===1,n=e0this.layers.length-1;ethis.layers.length-1=nn=0;n+=e1-1){for(i=this.layers[n],r=!1,o=!0,a=0,s=0;i.length-1s;s++)l=0,c=0,d=0,o(0!==n&&(l=this.countLinksCrossingBetweenTwoLayers(n-1,n)),n!==this.layers.length-1&&(c=this.countLinksCrossingBetweenTwoLayers(n,n+1)),el=2c=2,d=l+c)d=a,0!==d&&(u=i[s],h=i[s+1],p=u.gridPosition,f=h.gridPosition,i[s]=h,i[s+1]=u,u.gridPosition=f,h.gridPosition=p,l=0,0!==n&&(l=this.countLinksCrossingBetweenTwoLayers(n-1,n)),c=0,n!==this.layers.length-1&&(c=this.countLinksCrossingBetweenTwoLayers(n,n+1)),el=2c=2,g=l+c,m=!1,m=tg=dgd,m(u=i[s],h=i[s+1],p=u.gridPosition,f=h.gridPosition,i[s]=h,i[s+1]=u,u.gridPosition=f,h.gridPosition=p,a=d,o=!1)(r=!0,o=!0));r&&(n!==this.layers.length-1&&this.calcUpData(n+1),0!==n&&this.calcDownData(n-1))}}},countLinksCrossingBetweenTwoLayersfunction(e,t){var n,i,r,o,a,s,l,c,u,p,f,g,m,v,_,w,y,b,k,x,C=0,S=new d,T=this.layers[e];for(n=0;T.lengthn;n++)S.add(T[n]);for(i=new d,r=this.layers[t],n=0;r.lengthn;n++)i.add(r[n]);for(o=new d,a=[],s=[],S.forEach(function(e){h.addRange(s,e.incoming),h.addRange(s,e.outgoing)}),l=0;s.lengthl;l++)c=s[l],S.contains(c.source)&&i.contains(c.target)(o.add(c),a.push(c))i.contains(c.source)&&S.contains(c.target)&&a.push(c);for(u=0;a.lengthu;u++)for(p=a[u],f=0;a.lengthf;f++)u!==f&&(g=a[f],o.contains(p)(m=p.source,v=p.target)(m=p.target,v=p.source),o.contains(g)(_=g.source,w=g.target)(_=g.target,w=g.source),y=m.gridPosition,b=v.gridPosition,k=_.gridPosition,x=w.gridPosition,0(y-k)(b-x)&&C++);return C2},calcBaryCenterfunction(e){var t=e.upstreamLinkCount,n=e.downstreamLinkCount,i=e.uBaryCenter,r=e.dBaryCenter;return t0&&n0(i+r)2t0in0r0},_gridPositionComparerfunction(e,t){return t.gridPositione.gridPosition-1e.gridPositiont.gridPosition10},_positionAscendingComparerfunction(e,t){return t.ke.k-1e.kt.k10},_positionDescendingComparerfunction(e,t){return t.ke.k1e.kt.k-10},_firstVirtualNodefunction(e){for(var t=0;e.lengtht;t++)if(e[t].isVirtual)return t;return-1},compareByIndexfunction(e,t){var n=e.index,i=t.index;return in1ni-10},intDivfunction(e,t){return(e-e%t)t},nextVirtualNodefunction(e,t){var n,i=t.layerIndex;for(n=i+1;e.lengthn;++n)if(e[n].isVirtual)return e[n];return null}}),C=t.Class.extend({initfunction(e,t){if(h.isUndefined(e))throwNo diagram given;this.diagram=e,this.nodeMap=new c,this.linkMap=new c,this.capture(tte)},capturefunction(e){var t,i,r,o,a,s,c,d,u;if(e instanceof n.Graph){for(o=0;e.nodes.lengtho;o++)t=e.nodes[o],r=t.associatedShape,this.nodeMap.set(r.visual.id,new l(t.x,t.y,t.width,t.height));for(o=0;e.links.lengtho;o++)s=e.links[o],a=s.associatedConnection,this.linkMap.set(a.visual.id,s.points())}else if(e instanceof Array)for(i=e,o=0;i.lengtho;o++)t=i[o],r=t.associatedShape,r&&this.nodeMap.set(r.visual.id,new l(t.x,t.y,t.width,t.height));else if(e.hasOwnProperty(links)&&e.hasOwnProperty(nodes)){for(i=e.nodes,c=e.links,o=0;i.lengtho;o++)t=i[o],r=t.associatedShape,r&&this.nodeMap.set(r.visual.id,new l(t.x,t.y,t.width,t.height));for(o=0;c.lengtho;o++)s=c[o],a=s.associatedConnection,a&&this.linkMap.set(a.visual.id,s.points)}else{for(d=this.diagram.shapes,u=this.diagram.connections,o=0;d.lengtho;o++)r=d[o],this.nodeMap.set(r.visual.id,r.bounds());for(o=0;u.lengtho;o++)a=u[o],this.linkMap.set(a.visual.id,a.points())}}});a(n,{initfunction(e){t.init(e,n.ui)},SpringLayouty,TreeLayoutk,GraphAdapterw,LayeredLayoutx,LayoutBase_,LayoutStateC})}(window.kendo.jQuery),function(e,t){function n(e){var t=e.originalEvent,n=0;return t.wheelDelta(n=-t.wheelDelta40,n=n0mt.ceil(n)mt.floor(n))t.detail&&(n=t.detail),n}function i(e){return e.options.name.toLowerCase()===St.toLowerCase()}function r(e,t){var n,r,o,a,s=It,l=t.connectors;for(r=0;l.lengthr;r++)o=l[r],i(o)(a=e.distanceTo(o.position()),sa&&(s=a,n=o));return n}function o(e,t){var n,i,r,o=[],a=e.drawingContainer().children,s=a.length;for(n=0;t.lengthn;n++)for(i=t[n],r=0;sr;r++)if(a[r]==i.drawingContainer()){o.push(r);break}return o}function a(e){var t=e.drawingContainer().clippedBBox(null);(0!==t.origin.x0!==t.origin.y)&&e.position(-t.origin.x,-t.origin.y)}function s(e){var t={};return e=e{},ut(e.text)&&null!==e.text&&(t.text=e.text),ut(e.x)&&null!==e.x&&(t.x=e.x),ut(e.y)&&null!==e.y&&(t.y=e.y),ut(e.width)&&null!==e.width&&(t.width=e.width),ut(e.height)&&null!==e.height&&(t.height=e.height),ut(e.type)&&null!==e.type&&(t.type=e.type),t}function l(e){var t={};return e=e{},ut(e.text)&&null!==e.text&&(t.content=e.text),ut(e.type)&&null!==e.type&&(t.type=e.type),ut(e.from)&&null!==e.from&&(t.from=e.from),ut(e.fromX)&&null!==e.fromX&&(t.fromX=e.fromX),ut(e.fromY)&&null!==e.fromY&&(t.fromY=e.fromY),ut(e.to)&&null!==e.to&&(t.to=e.to),ut(e.toX)&&null!==e.toX&&(t.toX=e.toX),ut(e.toY)&&null!==e.toY&&(t.toY=e.toY),t}function c(t,n){var i,r=this.dataSource.reader.model;r&&(i=r.fn.fields.texttextr.idField,e(input name='+n.field+' ).appendTo(t).kendoDropDownList({dataValueFieldr.idField,dataTextFieldi,dataSourcethis.dataSource.data().toJSON(),optionLabel ,valuePrimitive!0}))}function d(e){this.dataItem=e,this.callbacks=[]}function u(){this.items={}}function h(e){var t=e;return e instanceof kendo.data.Model&&(t=e.toJSON(),t[e.idField]=e._defaultId),t}function p(e){var t,n,i=[],r=[];for(n=0;e.lengthn;n++)t=e[n],t instanceof _r.push(t)i.push(t);return{shapesr,connectionsi}}function f(e,t){return e.reader.modelnew e.reader.model(t)new kendo.data.ObservableObject(t)}var g,m,v,_,w,y,b,k,x,C,S,T,D=kendo.dataviz,A=kendo.drawing,E=kendo.geometry,I=D.diagram,M=kendo.ui.Widget,P=kendo.Class,z=e.proxy,F=kendo.deepExtend,R=e.extend,B=kendo.data.HierarchicalDataSource,H=I.Canvas,L=I.Group,N=I.Rectangle,O=I.Circle,V=I.CompositeTransform,U=I.Rect,W=I.Path,j=I.DeleteShapeUnit,G=I.DeleteConnectionUnit,q=I.TextBlock,$=I.Image,Y=I.Point,Q=I.Intersect,K=I.ConnectionEditAdorner,X=I.UndoRedoService,Z=I.ToolService,J=I.Selector,et=I.ResizingAdorner,tt=I.ConnectorsAdorner,nt=I.Cursors,it=I.Utils,rt=kendo.Observable,ot=I.ToBackUnit,at=I.ToFrontUnit,st=I.PolylineRouter,lt=I.CascadingRouter,ct=it.isUndefined,dt=it.isDefined,ut=kendo.util.defined,ht=e.isArray,pt=kendo.isFunction,ft=it.isString,gt=e.isPlainObject,mt=Math,vt=.kendoDiagram,_t=cascading,wt=itemBoundsChange,yt=change,bt=click,kt=mouseEnter,xt=mouseLeave,Ct=error,St=Auto,Tt=Top,Dt=Right,At=Left,Et=Bottom,It=9007199254740992,Mt=select,Pt=itemRotate,zt=pan,Ft=zoomStart,Rt=zoomEnd,Bt=none,Ht=600,Lt=600,Nt=rectangle,Ot=100,Vt=100,Ut=20,Wt=20,jt=0,Gt=Yellow,qt=Number.MAX_VALUE,$t=-Number.MAX_VALUE,Yt=absolute,Qt=transformed,Kt=rotated,Xt=transparent,Zt=width,Jt=height,en=x,tn=y,nn=DOMMouseScroll+vt+ mousewheel+vt,rn=.05,on=5,an='a class=k-button k-button-icontext #=className# href=#span class=#=iconClass# #=imageClass#span#=text#a';
I.DefaultConnectors=[{nameTt},{nameEt},{nameAt},{nameDt},{nameSt,positionfunction(e){return e.getPosition(center)}}],g={cancel{textCancel,imageClassk-cancel,classNamek-diagram-cancel,iconClassk-icon},update{textUpdate,imageClassk-update,classNamek-diagram-update,iconClassk-icon}},I.shapeDefaults=function(e){var t={typeNt,path,autoSize!0,visualnull,xjt,yjt,minWidthUt,minHeightWt,widthOt,heightVt,hover{},editable{connect!0,tools[]},connectorsI.DefaultConnectors,rotation{angle0}};return it.simpleExtend(t,e),t},m=rt.extend({initfunction(e){var t=this;t.dataItem=(e{}).dataItem,rt.fn.init.call(t),t.options=F({idI.randomId()},t.options,e),t.isSelected=!1,t.visual=new L({idt.options.id,autoSizet.options.autoSize}),t._template()},options{hover{},cursornt.grip,content{aligncenter middle},selectable!0,serializable!0,enable!0},_getCursorfunction(e){return this.adornerthis.adorner._getCursor(e)this.options.cursor},visiblefunction(e){return ct(e)this.visual.visible()(this.visual.visible(e),t)},boundsfunction(){},refreshfunction(){this.visual.redraw()},positionfunction(e){this.options.x=e.x,this.options.y=e.y,this.visual.position(e)},toStringfunction(){return this.options.id},serializefunction(){var e=F({},{optionsthis.options});return this.dataItem&&(e.dataItem=+this.dataItem),e},_contentfunction(e){var n,i,r,o;return e!==t&&(n=this.options,i=this.bounds(),I.Utils.isString(e)n.content.text=eF(n.content,e),r=n.content,o=this._contentVisual,!o&&r.text(this._contentVisual=new q(r),this._contentVisual._includeInBBox=!1,this.visual.append(this._contentVisual))o&&o.redraw(r)),this.options.content.text},_hitTestfunction(e){var t=this.bounds();return this.visible()&&t.contains(e)&&this.options.enable},_templatefunction(){var e,t,n=this;n.options.content.template&&(e=n.dataItem{},t=kendo.template(n.options.content.template,{paramNamedataItem}),n.options.content.text=t(e))},_canSelectfunction(){return this.options.selectable!==!1},toJSONfunction(){return{idthis.options.id}}}),v=P.extend({initfunction(e,t){this.options=F({},this.options,t),this.connections=[],this.shape=e},options{width7,height7,fill{colorGt},hover{}},positionfunction(){return this.options.positionthis.options.position(this.shape)this.shape.getPosition(this.options.name)},toJSONfunction(){return{shapeId+this.shape,connectorthis.options.name}}}),v.parse=function(e,t){var n,i,r=t.split(),o=r[0],a=r[1]St;for(n=0;e.shapes.lengthn;n++)if(i=e.shapes[n],i.options.id==o)return i.getConnector(a.trim())},_=m.extend({initfunction(e,n){var i=this;m.fn.init.call(i,e),this.diagram=n,this.updateOptionsFromModel(),e=i.options,i.connectors=[],i.type=e.type,i.shapeVisual=_.createShapeVisual(i.options),i.visual.append(this.shapeVisual),i.updateBounds(),i.content(i.content()),i._createConnectors(),i.parentContainer=null,i.isContainer=!1,i.isCollapsed=!1,i.id=i.visual.id,e.hasOwnProperty(layout)&&e.layout!==t&&(i.layout=e.layout.bind(e))},optionsI.shapeDefaults(),_setOptionsFromModelfunction(e){var t=s(ethis.dataItem);this.options=F({},this.options,t),this.redrawVisual(),this.options.content&&(this._template(),this.content(this.options.content))},updateOptionsFromModelfunction(e,t){var n,i;this.diagram&&this.diagram._isEditable&&(n=s(ethis.dataItem),e&&tD.inArray(t,[x,y,width,height])(i=this.bounds(),i[t]=e[t],this.bounds(i))(this.options.visualthis.redrawVisual()n.type&&(this.options=F({},this.options,n),this.redrawVisual()),this.options.content&&(this._template(),this.content(this.options.content)))this.options=F({},this.options,n))},redrawVisualfunction(){this.visual.clear(),this._contentVisual=null,this.options.dataItem=this.dataItem,this.shapeVisual=_.createShapeVisual(this.options),this.visual.append(this.shapeVisual),this.updateBounds()},updateModelfunction(e){var t,n,i=this.diagram;i&&i._isEditable&&(t=this._bounds,n=this.dataItem,n&&(i._suspendModelRefresh(),ut(n.x)&&t.x!==n.x&&n.set(x,t.x),ut(n.y)&&t.y!==n.y&&n.set(y,t.y),ut(n.width)&&t.width!==n.width&&n.set(width,t.width),ut(n.height)&&t.height!==n.height&&n.set(height,t.height),this.dataItem=n,i._resumeModelRefresh(),e&&i._syncShapeChanges()))},updateBoundsfunction(){var e=this.visual._measure(!0),t=this.options;this.bounds(new U(t.x,t.y,e.width,e.height)),this._rotate(),this._alignContent()},contentfunction(e){var t=this._content(e);return this._alignContent(),t},_alignContentfunction(){var e,t,n,i,r,o=this.options.content{},a=this._contentVisual;a&&o.align&&(e=this.visual._measure(),t=new I.RectAlign(e),n=a.drawingElement.bbox(null),i=new U(0,0,n.width(),n.height()),r=t.align(i,o.align),a.position(r.topLeft()))},_createConnectorsfunction(){var e,t,n=this.options,i=n.connectors.length,r=n.connectorDefaults;for(t=0;it;t++)e=new v(this,F({},r,n.connectors[t])),this.connectors.push(e)},boundsfunction(e){var t,n;if(e)if(ft(e))switch(e){case Qtt=this._transformedBounds();break;case Ytt=this._transformedBounds(),n=this.diagram._pan,t.x+=n.x,t.y+=n.y;break;case Ktt=this._rotatedBounds();break;defaultt=this._bounds}else this._setBounds(e),this._triggerBoundsChange(),this.refreshConnections();else t=this._bounds;return t},_setBoundsfunction(e){var t=this.options,n=e.topLeft(),i=t.x=n.x,r=t.y=n.y,o=t.width=mt.max(e.width,t.minWidth),a=t.height=mt.max(e.height,t.minHeight);this._bounds=new U(i,r,o,a),this.visual.redraw({xi,yr,widtho,heighta})},positionfunction(e){return e(this.bounds(new U(e.x,e.y,this._bounds.width,this._bounds.height)),t)this._bounds.topLeft()},clonefunction(){var e=this.serialize();return e.options.id=I.randomId(),this.diagram&&this.diagram._isEditable&&ut(this.dataItem)&&(e.options.dataItem=h(this.dataItem)),new _(e.options)},selectfunction(e){var n,i,r=this.diagram;return ct(e)&&(e=!0),this._canSelect()&&this.isSelected!=e(n=[],i=[],this.isSelected=e,this.isSelected(r._selectedItems.push(this),n.push(this))(it.remove(r._selectedItems,this),i.push(this)),r._internalSelectionr._selectionChanged(n,i),!0)t},rotatefunction(e,n,i){var r,o,a,s,l=this.visual.rotate();return e!==t&&(i!==!1&&this.diagram&&this.diagram.undoRedoService&&e!==l.angle&&this.diagram.undoRedoService.add(new I.RotateUnit(this.diagram._resizingAdorner,[this],[l.angle]),!1),r=this.bounds(),o=new Y(r.width2,r.height2),n&&(a=e-l.angle,s=r.center().rotate(n,360-a).minus(o),this._rotationOffset=this._rotationOffset.plus(s.minus(r.topLeft())),this.position(s)),this.visual.rotate(e,o),this.options.rotation.angle=e,this.diagram&&this.diagram._connectorsAdorner&&this.diagram._connectorsAdorner.refresh(),this.refreshConnections(),this.diagram&&this.diagram.trigger(Pt,{itemthis})),l},connectionsfunction(e){var t,n,i,r,o,a,s,l=[];for(t=0;this.connectors.lengtht;t++)for(o=this.connectors[t],r=o.connections,n=0,r;r.lengthn;n++)i=r[n],out==e(a=i.source(),a.shape&&a.shape==this&&l.push(i))in==e(s=i.target(),s.shape&&s.shape==this&&l.push(i))l.push(i);return l},refreshConnectionsfunction(){e.each(this.connections(),function(){this.refresh()})},getConnectorfunction(e){var t,n;if(!ft(e))return e instanceof Yr(e,this)this.connectors.lengththis.connectors[0]null;for(e=e.toLocaleLowerCase(),t=0;this.connectors.lengtht;t++)if(n=this.connectors[t],n.options.name.toLocaleLowerCase()==e)return n},getPositionfunction(e){var t=this.bounds(),n=e.charAt(0).toLowerCase()+e.slice(1);return pt(t[n])this._transformPoint(t[n]())t.center()},redrawfunction(e){var t,n;e&&(t=this.options,this.shapeVisual.redraw(this._visualOptions(e)),this._diffNumericOptions(e,[Zt,Jt,en,tn])&&(this.bounds(new U(t.x,t.y,t.width,t.height)),n=!0),e.connectors&&(t.connectors=e.connectors,this._updateConnectors()),t=F(t,e),(e.rotationn)&&this._rotate(),t.content&&this.content(t.content))},_updateConnectorsfunction(){var e,t,n,i,r=this.connections();for(this.connectors=[],this._createConnectors(),i=0;r.lengthi;i++)e=r[i],t=e.source(),n=e.target(),t.shape&&t.shape===thise.source(this.getConnector(t.options.name)null)n.shape&&n.shape===this&&e.target(this.getConnector(n.options.name)null),e.updateModel()},_diffNumericOptionsI.diffNumericOptions,_visualOptionsfunction(e){return{datae.path,sourcee.source,hovere.hover,fille.fill,strokee.stroke,startCape.startCap,endCape.endCap}},_triggerBoundsChangefunction(){this.diagram&&this.diagram.trigger(wt,{itemthis,boundsthis._bounds.clone()})},_transformPointfunction(e){var t=this.rotate(),n=this.bounds(),i=n.topLeft();return t.angle&&e.rotate(t.center().plus(i),360-t.angle),e},_transformedBoundsfunction(){var e=this.bounds(),t=e.topLeft(),n=e.bottomRight();return U.fromPoints(this.diagram.modelToView(t),this.diagram.modelToView(n))},_rotatedBoundsfunction(){var e=this.bounds().rotatedBounds(this.rotate().angle),t=e.topLeft(),n=e.bottomRight();return U.fromPoints(t,n)},_rotatefunction(){var e=this.options.rotation;e&&e.angle&&this.rotate(e.angle),this._rotationOffset=new Y},_hoverfunction(e){var t=this.options,n=t.hover,i=t.stroke,r=t.fill;e&&dt(n.stroke)&&(i=F({},i,n.stroke)),e&&dt(n.fill)&&(r=n.fill),this.shapeVisual.redraw({strokei,fillr}),t.editable&&t.editable.connect&&this.diagram._showConnectors(this,e)},_hitTestfunction(e){if(this.visible()){var t,n=this.bounds(),i=this.rotate().angle;if(e.isEmpty&&!e.isEmpty())return Q.rects(e,n,ii0);if(t=e.clone().rotate(n.center(),i),n.contains(t))return this}},toJSONfunction(){return{shapeIdthis.options.id}}}),_.createShapeVisual=function(e){var t,n,i,r;return delete e.diagram,t=F({},e,{x0,y0}),n=t.visual,i=(t.type+).toLocaleLowerCase(),pt(n)r=n.call(this,t)t.path(t.data=t.path,r=new W(t),a(r))r=rectangle==inew N(t)circle==inew O(t)text==inew q(t)image==inew $(t)new W(t),r},w=m.extend({initfunction(e,t,n){var i=this;m.fn.init.call(i,n),this.updateOptionsFromModel(),this._initRouter(),i.path=new I.Polyline(i.options),i.path.fill(Xt),i.visual.append(i.path),i._sourcePoint=i._targetPoint=new Y,i.source(e),i.target(t),i.content(i.options.content),i.definers=[],ut(n)&&n.points&&i.points(n.points),i.refresh()},options{hover{stroke{}},startCapBt,endCapBt,points[],selectable!0},_setOptionsFromModelfunction(e){this.updateOptionsFromModel(ethis.dataItem)},updateOptionsFromModelfunction(e){var t,n;this.diagram&&this.diagram._isEditable&&(t=this.diagram._dataMap,n=l(ethis.dataItem),e(ut(n.from)this.source(t[n.from])ut(n.fromX)&&ut(n.fromY)&&this.source(new Y(n.fromX,n.fromY)),ut(n.to)this.target(t[n.to])ut(n.toX)&&ut(n.toY)&&this.target(new Y(n.toX,n.toY)),this.dataItem=e,this._template(),this.redraw(this.options))this.options=F({},n,this.options))},updateModelfunction(e){if(this.diagram&&this.diagram._isEditable&&this.diagram.connectionsDataSource){var t=this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);t&&(this.diagram._suspendModelRefresh(),ut(this.options.fromX)&&null!==this.options.fromX(t.set(from,null),t.set(fromX,this.options.fromX),t.set(fromY,this.options.fromY))(t.set(from,this.options.from),t.set(fromX,null),t.set(fromY,null)),ut(this.options.toX)&&null!==this.options.toX(t.set(to,null),t.set(toX,this.options.toX),t.set(toY,this.options.toY))(t.set(to,this.options.to),t.set(toX,null),t.set(toY,null)),this.dataItem=t,this.diagram._resumeModelRefresh(),e&&this.diagram._syncConnectionChanges())}},sourcePointfunction(){return this._resolvedSourceConnectorthis._resolvedSourceConnector.position()this._sourcePoint},sourcefunction(e,n){var i,r;if(dt(e)){if(r=e instanceof _,r&&!e.getConnector(St))return;n&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new I.ConnectionEditUnit(this,e)),e!==t&&(this.from=e),null===ethis.sourceConnector&&(this._sourcePoint=this._resolvedSourceConnector.position(),this._clearSourceConnector(),this._setFromOptions(null,this._sourcePoint))e instanceof v(i=e.shape.dataItem,i&&this._setFromOptions(i.id),this.sourceConnector=e,this.sourceConnector.connections.push(this))e instanceof Y(this._setFromOptions(null,e),this._sourcePoint=e,this.sourceConnector&&this._clearSourceConnector())r&&(i=e.dataItem,i&&this._setFromOptions(i.id),this.sourceConnector=e.getConnector(St),this.sourceConnector.connections.push(this)),this.refresh()}return this.sourceConnectorthis.sourceConnectorthis._sourcePoint},_setFromOptionsfunction(e,t){this.options.from=e,t(this.options.fromX=t.x,this.options.fromY=t.y)(this.options.fromX=null,this.options.fromY=null)},sourceDefinerfunction(e){if(!e)return this._sourceDefiner(this._sourceDefiner=new I.PathDefiner(this.sourcePoint(),null,null)),this._sourceDefiner;if(!(e instanceof I.PathDefiner))throwThe sourceDefiner needs to be a PathDefiner.;e.left=null,this._sourceDefiner=e,this.source(e.point)},targetPointfunction(){return this._resolvedTargetConnectorthis._resolvedTargetConnector.position()this._targetPoint},targetfunction(e,n){var i,r;if(dt(e)){if(r=e instanceof _,r&&!e.getConnector(St))return;n&&this.diagram&&this.diagram.undoRedoService.addCompositeItem(new I.ConnectionEditUnit(this,t,e)),e!==t&&(this.to=e),null===ethis.targetConnector&&(this._targetPoint=this._resolvedTargetConnector.position(),this._clearTargetConnector(),this._setToOptions(null,this._targetPoint))e instanceof v(i=e.shape.dataItem,i&&this._setToOptions(i.id),this.targetConnector=e,this.targetConnector.connections.push(this))e instanceof Y(this._setToOptions(null,e),this._targetPoint=e,this.targetConnector&&this._clearTargetConnector())r&&(i=e.dataItem,i&&this._setToOptions(i.id),this.targetConnector=e.getConnector(St),this.targetConnector.connections.push(this)),this.refresh()}return this.targetConnectorthis.targetConnectorthis._targetPoint},_setToOptionsfunction(e,t){this.options.to=e,t(this.options.toX=t.x,this.options.toY=t.y)(this.options.toX=null,this.options.toY=null)},targetDefinerfunction(e){if(!e)return this._targetDefiner(this._targetDefiner=new I.PathDefiner(this.targetPoint(),null,null)),this._targetDefiner;if(!(e instanceof I.PathDefiner))throwThe sourceDefiner needs to be a PathDefiner.;e.right=null,this._targetDefiner=e,this.target(e.point)},_updateConnectorsfunction(){this._updateConnector(this.source(),source),this._updateConnector(this.target(),target)},_updateConnectorfunction(e,t){var n,i,r,o,a=this,s=a.diagram;e instanceof v&&!s.getShapeById(e.shape.id)(n=e.shape.dataItem,i=e.options.name,r=function(){var r=s._dataMap[n.id];e=r.getConnector(i),a[t](e,!1),a.updateModel()},s._dataMap[n.id]r()(o=s._inactiveShapeItems.getByUid(n.uid),o&&s._deferredConnectionUpdates.push(o.onActivate(r))))a[t](e,!1)},contentfunction(e){return this._content(e)},selectfunction(e){var n,i,r=this.diagram;return this._canSelect()&&this.isSelected!==e(this.isSelected=e,n=[],i=[],this.isSelected(this.adorner=new K(this,this.options.selection),r._adorn(this.adorner,!0),r._selectedItems.push(this),n.push(this))this.adorner&&(r._adorn(this.adorner,!1),it.remove(r._selectedItems,this),this.adorner=t,i.push(this)),this.refresh(),r._internalSelectionr._selectionChanged(n,i),!0)t},boundsfunction(e){return!eft(e)this._bounds(this._bounds=e,t)},typefunction(e){var n=this.options;return e(e!==n.type&&(n.type=e,this._initRouter(),this.refresh()),t)n.type},_initRouterfunction(){var e=(this.options.type).toLowerCase();this._router=e==_tnew lt(this)new st(this)},pointsfunction(e){var t,n,i,r;if(!e){if(i=[],dt(this.definers))for(r=0;this.definers.lengthr;r++)i.push(this.definers[r].point);return i}for(this.definers=[],t=0;e.lengtht;t++)if(n=e[t],n instanceof I.Point)this.definers.push(new I.PathDefiner(n));else{if(!n.hasOwnProperty(x)!n.hasOwnProperty(y))throwA Connection point needs to be a Point or an object with x and y properties.;this.definers.push(new I.PathDefiner(new Y(n.x,n.y)))}},allPointsfunction(){var e,t=[this.sourcePoint()];if(this.definers)for(e=0;this.definers.lengthe;e++)t.push(this.definers[e].point);return t.push(this.targetPoint()),t},refreshfunction(){this._resolveConnectors();var e,t,n,i,r=this.sourcePoint(),o=this.targetPoint();this._refreshPath(),e=this._bounds.topLeft(),t=r.minus(e),n=o.minus(e),this._contentVisual&&(i=Y.fn.middleOf(t,n),this._contentVisual.position(new Y(i.x+e.x,i.y+e.y))),this.adorner&&this.adorner.refresh()},_resolveConnectorsfunction(){var e,t,n,o,a=this,s=a.source(),l=a.target();s instanceof Ye=ss instanceof v&&(i(s)n=s.shape(a._resolvedSourceConnector=s,e=s.position())),l instanceof Yt=ll instanceof v&&(i(l)o=l.shape(a._resolvedTargetConnector=l,t=l.position())),eo&&(a._resolvedTargetConnector=r(e,o))n&&(ta._resolvedSourceConnector=r(t,n)o&&this._resolveAutoConnectors(n,o))},_resolveAutoConnectorsfunction(e,t){var n,r,o,a,s,l,c,d,u,h,p,f,g=It,m=It,v=e.connectors;for(h=0;v.lengthh;h++)if(d=v[h],!i(d))for(a=d.position(),n=t.connectors,p=0;n.lengthp;p++)u=n[p],i(u)(s=u.position(),f=mt.round(a.distanceTo(s)),gf&&this.diagram&&this._testRoutePoints(a,s,d,u)&&(g=f,r=d,o=u),mf&&(l=d,c=u,m=f));r&&(l=r,c=o),this._resolvedSourceConnector=l,this._resolvedTargetConnector=c},_testRoutePointsfunction(e,t,n,i){var r,o,a,s,l,c,d=this._router,u=!0;if(d instanceof lt)for(r=d.routePoints(e,t,n,i),r.unshift(e),r.push(t),s=[n.shape,i.shape],c=1;r.lengthc;c++)if(o=r[c-1],a=r[c],l=new U(mt.min(o.x,a.x),mt.min(o.y,a.y),mt.abs(o.x-a.x),mt.abs(o.y-a.y)),this.diagram._shapesQuadTree.hitTestRect(l,s)){u=!1;break}return u},redrawfunction(e){if(e){this.options=F({},this.options,e);var t=this.options.points;(e&&e.contente.text)&&this.content(e.content),ut(t)&&t.length0&&(this.points(t),this._refreshPath()),this.path.redraw({fille.fill,strokee.stroke,startCape.startCap,endCape.endCap})}},clonefunction(){var e=this.serialize();return this.diagram&&this.diagram._isEditable&&ut(this.dataItem)&&(e.options.dataItem=h(this.dataItem)),new w(this.from,this.to,e.options)},serializefunction(){var e=this.from.toJSONthis.from.toJSON+this.from,t=this.to.toJSONthis.to.toJSON+this.to,n=F({},{optionsthis.options,frome,tot});return ut(this.dataItem)&&(n.dataItem=+this.dataItem),n.options.points=this.points(),n},_hitTestfunction(e){if(this.visible()){var t=new Y(e.x,e.y),n=this.sourcePoint(),i=this.targetPoint();if(e.isEmpty&&!e.isEmpty()&&e.contains(n)&&e.contains(i))return this;if(this._router.hitTest(t))return this}},_hoverfunction(e){var t=(this.options.stroke{}).color;e&&dt(this.options.hover.stroke.color)&&(t=this.options.hover.stroke.color),this.path.redraw({stroke{colort}})},_refreshPathfunction(){ut(this.path)&&(this._drawPath(),this.bounds(this._router.getBounds()))},_drawPathfunction(){var e,t,n;this._router&&this._router.route(),e=this.sourcePoint(),t=this.targetPoint(),n=this.points(),this.path.redraw({points[e].concat(n,[t])})},_clearSourceConnectorfunction(){it.remove(this.sourceConnector.connections,this),this.sourceConnector=t,this._resolvedSourceConnector=t},_clearTargetConnectorfunction(){it.remove(this.targetConnector.connections,this),this.targetConnector=t,this._resolvedTargetConnector=t}}),y=M.extend({initfunction(e,t){var n=this;kendo.destroy(e),M.fn.init.call(n,e,t),n._initTheme(),n._initElements(),n._extendLayoutOptions(n.options),n._initDefaults(t),n._initCanvas(),n.mainLayer=new L({idmain-layer}),n.canvas.append(n.mainLayer),n._shapesQuadTree=new T(n),n._pan=new Y,n._adorners=[],n.adornerLayer=new L({idadorner-layer}),n.canvas.append(n.adornerLayer),n._createHandlers(),n._initialize(),n._fetchFreshData(),n._createGlobalToolBar(),n._resizingAdorner=new et(n,{editablen.options.editable}),n._connectorsAdorner=new tt(n),n._adorn(n._resizingAdorner,!0),n._adorn(n._connectorsAdorner,!0),n.selector=new J(n),n._clipboard=[],n.pauseMouseHandlers=!1,n._createShapes(),n._createConnections(),n.options.layout&&n.layout(n.options.layout),n.zoom(n.options.zoom),n.canvas.draw()},options{nameDiagram,themedefault,layout,zoomRate.1,zoom1,zoomMin0,zoomMax2,dataSource{},draggable!0,template,autoBind!0,editable{rotate{},resize{},text!0,tools[]},pannable{keyctrl},selectable{keynone},tooltip{enabled!0,format{0}},copy{enabled!0,offsetX20,offsetY20},snap{size10,angle10},shapeDefaultsI.shapeDefaults({undoable!0}),connectionDefaults{editable{tools[]}},shapes[],connections[]},events[Rt,Ft,zt,Mt,Pt,wt,yt,bt,kt,xt,toolBarClick,save,cancel,edit,remove,add,dataBound],_createGlobalToolBarfunction(){var e,t=this.options.editable;t&&(e=t.tools,this._isEditable&&0===e.length&&(e=[createShape,undo,redo,rotateClockwise,rotateAnticlockwise]),e&&e.length&&(this.toolBar=new b(this,{toolse{},clickz(this._toolBarClick,this),modal!1}),this.toolBar.element.css({positionabsolute,top0,left0,widththis.element.width(),textAlignleft}),this.element.append(this.toolBar.element)))},createShapefunction(){var e,t,n,i,r,o;(this.editor&&this.editor.end()!this.editor)&&(e=this.dataSource,t=e.view()[],n=t.length,i=f(e,{}),r=this._createShape(i,{}),this.trigger(add,{shaper})(e.insert(n,i),o=this._inactiveShapeItems.getByUid(i.uid),o.element=r,this.edit(r)))},_createShapefunction(e,t){t=F({},this.options.shapeDefaults,t),t.dataItem=e;var n=new _(t,this);return n},createConnectionfunction(){var e,t,n,i,r;(this.editor&&this.editor.end()!this.editor)&&(e=this.connectionsDataSource,t=e.view()[],n=t.length,i=f(e,{}),r=this._createConnection(i),this.trigger(add,{connectionr})(this._connectionsDataMap[i.uid]=r,e.insert(n,i),this.addConnection(r,!1),this.edit(r)))},_createConnectionfunction(e,t,n){var i,r=F({},this.options.connectionDefaults);return r.dataItem=e,i=new w(tnew Y,nnew Y,r)},editModelfunction(e,t){var n,i,r,o;if(this.cancelEdit(),r=this.options.editable,shape==t)n=r.shapeEditors,i=r.shapeTemplate;else{if(connection!=t)return;o=z(c,this),n=F({},{fromo,too},r.connectionEditors),i=r.connectionTemplate}this.editor=new x(this.element,{updatez(this._update,this),cancelz(this._cancel,this),modele,typet,targetthis,editorsn,templatei}),this.trigger(edit,this._editArgs())},editfunction(e){if(e.dataItem){var t=e instanceof _shapeconnection;this.editModel(e.dataItem,t)}},cancelEditfunction(){this.editor&&(this._getEditDataSource().cancelChanges(this.editor.model),this._destroyEditor())},saveEditfunction(){this.editor&&this.editor.end()&&!this.trigger(save,this._editArgs())&&this._getEditDataSource().sync()},_updatefunction(){this.editor&&this.editor.end()&&!this.trigger(save,this._editArgs())&&(this._getEditDataSource().sync(),this._destroyEditor())},_cancelfunction(){var e,t;this.editor&&!this.trigger(cancel,this._editArgs())&&(e=this.editor.model,this._getEditDataSource().cancelChanges(e),t=this._connectionsDataMap[e.uid]this._dataMap[e.id],t&&t._setOptionsFromModel(e),this._destroyEditor())},_getEditDataSourcefunction(){returnshape===this.editor.options.typethis.dataSourcethis.connectionsDataSource},_editArgsfunction(){var e={containerthis.editor.element};return e[this.editor.options.type]=this.editor.model,e},_destroyEditorfunction(){this.editor&&(this.editor.close(),this.editor=null)},_initElementsfunction(){this.wrapper=this.element.empty().css(position,relative).attr(tabindex,0).addClass(k-widget k-diagram),this.scrollable=e(div ).appendTo(this.element)},_initDefaultsfunction(e){var t=this.options,n=(e{}).shapeDefaults;t.editable===!1&&(t.shapeDefaults.editable=!1,t.connectionDefaults.editable=!1),n&&n.connectors&&(t.shapeDefaults.connectors=n.connectors)},_initCanvasfunction(){var t=e(div class='k-layer'div).appendTo(this.scrollable)[0],n=this.viewport();this.canvas=new H(t,{widthn.widthHt,heightn.heightLt})},_createHandlersfunction(){var e=this,t=e.element;t.on(nn,z(e._wheel,e)),kendo.support.touchkendo.support.mobileOS(e._userEvents=new kendo.UserEvents(t,{multiTouch!0,tapz(e._tap,e)}),e._userEvents.bind([gesturestart,gesturechange,gestureend],{gesturestartz(e._gestureStart,e),gesturechangez(e._gestureChange,e),gestureendz(e._gestureEnd,e)}),e.toolService=new Z(e),e.options.pannable!==!1&&e.scroller.enable())(e.toolService=new Z(e),this.scroller.wrapper.on(mousemove+vt,z(e._mouseMove,e)).on(mouseup+vt,z(e._mouseUp,e)).on(mousedown+vt,z(e._mouseDown,e)).on(mouseover+vt,z(e._mouseover,e)).on(mouseout+vt,z(e._mouseout,e)),t.on(keydown+vt,z(e._keydown,e))),this._syncHandler=z(e._syncChanges,e),e._resizeHandler=z(e.resize,e,!1),kendo.onResize(e._resizeHandler),this.bind(Ft,z(e._destroyToolBar,e)),this.bind(zt,z(e._destroyToolBar,e))},_tapfunction(e){var t,n=this.toolService,i=this._caculateMobilePosition(e);n._updateHoveredItem(i),n.hoveredItem&&(t=n.hoveredItem,this.options.selectable!==!1&&(this._destroyToolBar(),t.isSelectedt.select(!1)this.select(t,{addToSelection!0}),this._createToolBar()),this.trigger(click,{itemt,pointi}))},_caculateMobilePositionfunction(e){return this.documentToModel(Y(e.x.location,e.y.location))},_gestureStartfunction(e){var t,n;this._destroyToolBar(),this.scroller.disable(),t=this.documentToModel(new Y(e.center.x,e.center.y)),n={pointt,zoomthis.zoom()},this.trigger(Ft,n)(this._gesture=e,this._initialCenter=t)},_gestureChangefunction(e){var t,n,i=this._gesture,r=this._initialCenter,o=this.documentToView(new Y(e.center.x,e.center.y)),a=e.distancei.distance,s=this._zoom,l=!1;mt.abs(a-1)=rn&&(this._zoom=s=this._getValidZoom(sa),this.options.zoom=s,this._gesture=e,l=!0),t=r.times(s),n=o.minus(t),(lthis._pan.distanceTo(n)=on)&&(this._panTransform(n),this._updateAdorners()),e.preventDefault()},_gestureEndfunction(){this.options.pannable!==!1&&this.scroller.enable(),this.trigger(Rt,{pointthis._initialCenter,zoomthis.zoom()})},_resizefunction(e){this.canvas&&this.canvas.size(e),this.toolBar&&this.toolBar._toolBar.element.width(this.element.width())},_mouseoverfunction(e){var t=e.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!0,t.srcElement)},_mouseoutfunction(e){var t=e.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!1,t.srcElement)},_initThemefunction(){var e=this,t=D.ui.themes{},n=((e.options{}).theme).toLowerCase(),i=(t[n]{}).diagram;e.options=F({},i,e.options)},_createShapesfunction(){var e,t,n=this,i=n.options,r=i.shapes;for(t=0;r.lengtht;t++)e=r[t],n.addShape(e)},_createConnectionsfunction(){var e,t,n,i,r=this,o=r.options,a=o.connectionDefaults,s=o.connections;for(i=0;s.lengthi;i++)e=s[i],t=r._findConnectionShape(e.from),n=r._findConnectionShape(e.to),r.connect(t,n,F({},a,e))},_findConnectionShapefunction(e){var t=this,n=ft(e)ee.shapeId,i=t.getShapeById(n);return i.getConnector(e.connectorSt)},destroyfunction(){var e=this;M.fn.destroy.call(e),this._userEvents&&this._userEvents.destroy(),kendo.unbindResize(e._resizeHandler),e.clear(),e.element.off(vt),e.scroller.wrapper.off(vt),e.canvas.destroy(!0),e.canvas=t,e._destroyEditor(),e.destroyScroller(),e._destroyGlobalToolBar(),e._destroyToolBar()},destroyScrollerfunction(){var e=this.scroller;e&&(e.destroy(),e.element.remove(),this.scroller=null)},savefunction(){var e,t,n,i,r={};for(r.shapes=[],r.connections=[],e=0;this.shapes.lengthe;e++)t=this.shapes[e],t.options.serializable&&r.shapes.push(t.options);for(e=0;this.connections.lengthe;e++)n=this.connections[e],i=F({},n.options,{fromn.from.toJSON(),ton.to.toJSON()}),r.connections.push(i);return r},focusfunction(){if(!this.element.is(kendo._activeElement())){var e,t=this.element,n=t[0],i=[],r=[],o=document.documentElement;do n=n.parentNode,n.scrollHeightn.clientHeight&&(i.push(n),r.push(n.scrollTop));while(n!=o);for(t.focus(),e=0;i.lengthe;e++)i[e].scrollTop=r[e]}},loadfunction(e){this.clear(),this.setOptions(e),this._createShapes(),this._createConnections()},setOptionsfunction(e){F(this.options,e)},clearfunction(){var e=this;e.select(!1),e.mainLayer.clear(),e._shapesQuadTree.clear(),e._initialize()},connectfunction(e,t,n){var i,r;return this.connectionsDataSource&&this._isEditable(r=this.connectionsDataSource.add({}),i=this._connectionsDataMap[r.uid],i.source(e),i.target(t),i.redraw(n),i.updateModel())(i=new w(e,t,F({},this.options.connectionDefaults,n)),this.addConnection(i)),i},connectedfunction(e,t){var n,i;for(n=0;this.connections.lengthn;n++)if(i=this.connections[n],i.from==e&&i.to==t)return!0;return!1},addConnectionfunction(e,t){return t!==!1&&this.undoRedoService.add(new I.AddConnectionUnit(e,this),!1),e.diagram=this,e.updateOptionsFromModel(),e.refresh(),this.mainLayer.append(e.visual),this.connections.push(e),this.trigger(yt,{added[e],removed[]}),e},_addConnectionfunction(e,t){var n,i=this.connectionsDataSource;if(i&&this._isEditable){if(n=f(i,h(e.dataItem)),e.dataItem=n,e.updateModel(),!this.trigger(add,{connectione}))return this._connectionsDataMap[n.uid]=e,i.add(n),this.addConnection(e,t),e._updateConnectors(),e}else if(!this.trigger(add,{connectione}))return this.addConnection(e,t),e._updateConnectors(),e},addShapefunction(e,t){var n,i=this.options.shapeDefaults;if(e instanceof _)i=F({},i,t),e.redraw(t),n=e;else{if(e instanceof kendo.Class)return;i=F({},i,e{}),n=new _(i)}return i.undoable&&this.undoRedoService.add(new I.AddShapeUnit(n,this),!1),this.shapes.push(n),n.diagram=this,this.mainLayer.append(n.visual),this._shapesQuadTree.insert(n),this.trigger(yt,{added[n],removed[]}),n.hasOwnProperty(layout)&&n.layout(n),n},_addShapefunction(e,t){var n,i,r=this,o=r.dataSource;if(o&&this._isEditable){if(n=f(o,h(e.dataItem)),e.dataItem=n,e.updateModel(),!this.trigger(add,{shapee}))return this.dataSource.add(n),i=this._inactiveShapeItems.getByUid(n.uid),i.element=e,i.undoable=t,e}else if(!this.trigger(add,{shapee}))return this.addShape(e,{undoablet})},removefunction(e,t){var n,i,r,o;for(e=ht(e)e.slice(0)[e],n=p(e),i=n.shapes,r=n.connections,ut(t)(t=!0),t&&this.undoRedoService.begin(),this._suspendModelRefresh(),o=i.length-1;o=0;o--)this._removeItem(i[o],t,r);for(o=r.length-1;o=0;o--)this._removeItem(r[o],t);this._resumeModelRefresh(),t&&this.undoRedoService.commit(!1),this.trigger(yt,{added[],removede})},_removeShapeDataItemfunction(e){this._isEditable&&(this.dataSource.remove(e.dataItem),delete this._dataMap[e.dataItem.id])},_removeConnectionDataItemfunction(e){this._isEditable&&(this.connectionsDataSource.remove(e.dataItem),delete this._connectionsDataMap[e.dataItem.uid])},_triggerRemovefunction(e){var t,n,i,r=[];for(i=0;e.lengthi;i++)t=e[i],n=t instanceof _{shapet}{connectiont},this.trigger(remove,n)r.push(t);return r},undofunction(){this.undoRedoService.undo()},redofunction(){this.undoRedoService.redo()},selectfunction(e,t){if(!dt(e))return this._selectedItems;t=F({addToSelection!1},t);var n,i,r=t.addToSelection,o=[],a=[];for(rthis.deselect(),this._internalSelection=!0,e instanceof Arrayo=ee instanceof m&&(o=[e]),n=0;o.lengthn;n++)i=o[n],i.select(!0)&&a.push(i);this._selectionChanged(a,[]),this._internalSelection=!1},selectAllfunction(){this.select(this.shapes.concat(this.connections))},selectAreafunction(e){var t,n,i,r;if(this._internalSelection=!0,r=[],e instanceof U)for(n=this.shapes.concat(this.connections),t=0;n.lengtht;t++)i=n[t],e&&!i._hitTest(e)!i.options.enablei.select(!0)&&r.push(i);this._selectionChanged(r,[]),this._internalSelection=!1},deselectfunction(e){this._internalSelection=!0;var t,n,i=[],r=[];for(e instanceof Arrayr=ee instanceof mr.push(e)dt(e)(r=this._selectedItems.slice(0)),n=0;r.lengthn;n++)t=r[n],t.select(!1)&&i.push(t);this._selectionChanged([],i),this._internalSelection=!1},toFrontfunction(e,t){var n,i,r;e(e=this._selectedItems.slice()),n=this._getDiagramItems(e),!ut(t)t(i=o(this.mainLayer,n.visuals),r=new at(this,e,i),this.undoRedoService.add(r))(this.mainLayer.toFront(n.visuals),this._fixOrdering(n,!0))},toBackfunction(e,t){var n,i,r;e(e=this._selectedItems.slice()),n=this._getDiagramItems(e),!ut(t)t(i=o(this.mainLayer,n.visuals),r=new ot(this,e,i),this.undoRedoService.add(r))(this.mainLayer.toBack(n.visuals),this._fixOrdering(n,!1))
},bringIntoViewfunction(e,t){var n,i,r,o,a=this.viewport(),s=new I.RectAlign(a);0!==a.width&&0!==a.height&&(t=F({animate!1,aligncenter middle},t),none==t.align&&(t.align=center middle),e instanceof mi=e.bounds(Qt)ht(e)i=this.boundingBox(e)e instanceof U&&(i=e.clone()),r=i.clone(),i.zoom(this._zoom),this._storePan(new Y),(i.widtha.widthi.heighta.height)&&(this._zoom=this._getValidZoom(mt.min(a.widthr.width,a.heightr.height)),i=r.clone().zoom(this._zoom)),this._zoomMainLayer(),n=i.clone(),s.align(i,t.align),o=i.topLeft().minus(n.topLeft()),this.pan(o.times(-1),t.animate))},alignShapesfunction(e){var t,n,i,r,o,a,s;if(ct(e)&&(e=Left),t=this.select(),0!==t.length){switch(e.toLowerCase()){caseleftcasetopn=qt;break;caserightcasebottomn=$t}for(r=0;t.lengthr;r++)if(i=t[r],i instanceof _)switch(e.toLowerCase()){caseleftn=mt.min(n,i.options.x);break;casetopn=mt.min(n,i.options.y);break;caserightn=mt.max(n,i.options.x);break;casebottomn=mt.max(n,i.options.y)}for(o=[],a=[],r=0;t.lengthr;r++)if(i=t[r],i instanceof _)switch(a.push(i),o.push(i.bounds()),e.toLowerCase()){caseleftcaserighti.position(new Y(n,i.options.y));break;casetopcasebottomi.position(new Y(i.options.x,n))}s=new I.TransformUnit(a,o),this.undoRedoService.add(s,!1)}},zoomfunction(e,t){var n,i,r,o;return e&&(n=tt.pointnew I.Point(0,0),e=this._zoom=this._getValidZoom(e),ct(n)(n=new I.Point(mt.round(n.x),mt.round(n.y)),i=n.times(e),r=this.modelToView(n),o=r.minus(i),this._storePan(new I.Point(mt.round(o.x),mt.round(o.y)))),t&&(t.zoom=e),this._panTransform(),this._updateAdorners()),this._zoom},_getPanfunction(e){var t=this.canvas;return t.translate(e=e.plus(this._pan)),e},panfunction(e,t){var n,i;e instanceof Y&&(n=this,i=n.scroller,e=n._getPan(e),e=e.times(-1),ti.animatedScrollTo(e.x,e.y,function(){n._updateAdorners()})(i.scrollTo(e.x,e.y),n._updateAdorners()))},viewportfunction(){var e=this.element;return new U(0,0,e.width(),e.height())},copyfunction(){var e,t;if(this.options.copy.enabled)for(this._clipboard=[],this._copyOffset=1,e=0;this._selectedItems.lengthe;e++)t=this._selectedItems[e],this._clipboard.push(t)},cutfunction(){var e,t;if(this.options.copy.enabled){for(this._clipboard=[],this._copyOffset=0,e=0;this._selectedItems.lengthe;e++)t=this._selectedItems[e],this._clipboard.push(t);this.remove(this._clipboard,!0)}},pastefunction(){var e,t,n,i,r,o,a,s;if(this._clipboard.length0){for(i={},r=p(this._clipboard),o=r.connections,a=r.shapes,s={xthis._copyOffsetthis.options.copy.offsetX,ythis._copyOffsetthis.options.copy.offsetY},this.deselect(),n=0;a.lengthn;n++)e=a[n],t=e.clone(),i[e.id]=t,t.position(new Y(e.options.x+s.x,e.options.y+s.y)),t.diagram=this,t=this._addShape(t),t&&t.select();for(n=0;o.lengthn;n++)e=o[n],t=this._addConnection(e.clone()),t&&(this._updateCopiedConnection(t,e,source,i,s),this._updateCopiedConnection(t,e,target,i,s),t.select(!0),t.updateModel());this._syncChanges(),this._copyOffset+=1}},_updateCopiedConnectionfunction(e,t,n,i,r){var o,a,s,l=t[n](),c=this;l instanceof v&&i[l.shape.id](s=i[l.shape.id],c.getShapeById(s.id)e[n](s.getConnector(l.options.name))(a=c._inactiveShapeItems.getByUid(s.dataItem.uid),a&&(o=function(t){s=c._dataMap[t.id],e[n](s.getConnector(l.options.name)),e.updateModel()},c._deferredConnectionUpdates.push(a.onActivate(o)))))e[n](new Y(t[n+Point]().x+r.x,t[n+Point]().y+r.y))},boundingBoxfunction(e,t){var n,i,r,o=U.empty(),a=dt(e)this._getDiagramItems(e){shapesthis.shapes};if(a.shapes.length0)for(i=a.shapes[0],o=i.bounds(Kt),r=1;a.shapes.lengthr;r++)i=a.shapes[r],n=i.bounds(Kt),t===!0&&(n.x-=i._rotationOffset.x,n.y-=i._rotationOffset.y),o=o.union(n);return o},documentToViewfunction(e){var t=this.element.offset();return new Y(e.x-t.left,e.y-t.top)},viewToDocumentfunction(e){var t=this.element.offset();return new Y(e.x+t.left,e.y+t.top)},viewToModelfunction(e){return this._transformWithMatrix(e,this._matrixInvert)},modelToViewfunction(e){return this._transformWithMatrix(e,this._matrix)},modelToLayerfunction(e){return this._transformWithMatrix(e,this._layerMatrix)},layerToModelfunction(e){return this._transformWithMatrix(e,this._layerMatrixInvert)},documentToModelfunction(e){var t=this.documentToView(e);return this.canvas.translate(t.x=t.x+this.scroller.scrollLeft,t.y=t.y+this.scroller.scrollTop),this.viewToModel(t)},modelToDocumentfunction(e){return this.viewToDocument(this.modelToView(e))},_transformWithMatrixfunction(e,t){var n,i,r=e;return e instanceof Yt&&(r=t.apply(e))(n=this._transformWithMatrix(e.topLeft(),t),i=this._transformWithMatrix(e.bottomRight(),t),r=U.fromPoints(n,i)),r},setDataSourcefunction(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setConnectionsDataSourcefunction(e){this.options.connectionsDataSource=e,this._connectionDataSource(),this.options.autoBind&&this.connectionsDataSource.fetch()},layoutfunction(e){var t,n,i,r,o;switch(this.isLayouting=!0,ct(e)&&(e=this.options.layout),t=ct(e)ct(e.type)Treee.type,t.toLowerCase()){casetreen=new I.TreeLayout(this);break;caselayeredn=new I.LayeredLayout(this);break;caseforcedirectedcaseforcecasespringcasespringembeddern=new I.SpringLayout(this);break;defaultthrowLayout algorithm '+t+' is not supported.}i=new I.LayoutState(this),r=n.layout(e),r&&(o=new I.LayoutUndoUnit(i,r,ee.animatenull),this.undoRedoService.add(o)),this.isLayouting=!1},getShapeByIdfunction(e){var t;return(t=it.first(this.shapes,function(t){return t.visual.id===e}))tt=it.first(this.connections,function(t){return t.visual.id===e})},_extendLayoutOptionsfunction(e){e.layout&&(e.layout=F(I.LayoutBase.fn.defaultOptions{},e.layout))},_selectionChangedfunction(e,t){(e.lengtht.length)&&this.trigger(Mt,{selectede,deselectedt})},_getValidZoomfunction(e){return mt.min(mt.max(e,this.options.zoomMin),this.options.zoomMax)},_panTransformfunction(e){var t=this,n=et._pan;t.canvas.translate(t.scroller.scrollTo(n.x,n.y),t._zoomMainLayer())(t._storePan(n),t._transformMainLayer())},_finishPanfunction(){this.trigger(zt,{totalthis._pan,deltaNumber.NaN})},_storePanfunction(e){this._pan=e,this._storeViewMatrix()},_zoomMainLayerfunction(){var e=this._zoom,t=new V(0,0,e,e);t.render(this.mainLayer),this._storeLayerMatrix(t),this._storeViewMatrix()},_transformMainLayerfunction(){var e=this._pan,t=this._zoom,n=new V(e.x,e.y,t,t);n.render(this.mainLayer),this._storeLayerMatrix(n),this._storeViewMatrix()},_storeLayerMatrixfunction(e){this._layerMatrix=e.toMatrix(),this._layerMatrixInvert=e.invert().toMatrix()},_storeViewMatrixfunction(){var e=this._pan,t=this._zoom,n=new V(e.x,e.y,t,t);this._matrix=n.toMatrix(),this._matrixInvert=n.invert().toMatrix()},_toIndexfunction(e,t){var n=this._getDiagramItems(e);this.mainLayer.toIndex(n.visuals,t),this._fixOrdering(n,!1)},_fixOrderingfunction(e,t){var n,i,r=tthis.shapes.length-10,o=tthis.connections.length-10;for(n=0;e.shapes.lengthn;n++)i=e.shapes[n],it.remove(this.shapes,i),it.insert(this.shapes,i,r);for(n=0;e.cons.lengthn;n++)i=e.cons[n],it.remove(this.connections,i),it.insert(this.connections,i,o)},_getDiagramItemsfunction(e){var t,n,i={},r=e;for(i.visuals=[],i.shapes=[],i.cons=[],eht(e)(r=[e])r=this._selectedItems.slice(),t=0;r.lengtht;t++)n=r[t],n instanceof _(i.shapes.push(n),i.visuals.push(n.visual))n instanceof w&&(i.cons.push(n),i.visuals.push(n.visual));return i},_removeItemfunction(e,t,n){e.select(!1),e instanceof _(this._removeShapeDataItem(e),this._removeShape(e,t,n))e instanceof w&&(this._removeConnectionDataItem(e),this._removeConnection(e,t)),this.mainLayer.remove(e.visual)},_removeShapefunction(e,t,n){var i,r,o,a,s=[],l=[];for(this.toolService._removeHover(),t&&this.undoRedoService.addCompositeItem(new j(e)),it.remove(this.shapes,e),this._shapesQuadTree.remove(e),i=0;e.connectors.lengthi;i++)for(o=e.connectors[i],a=0;o.connections.lengtha;a++)r=o.connections[a],n&&D.inArray(r,n)(r.sourceConnector==os.push(r)r.targetConnector==o&&l.push(r));for(i=0;s.lengthi;i++)s[i].source(null,t),s[i].updateModel();for(i=0;l.lengthi;i++)l[i].target(null,t),l[i].updateModel()},_removeConnectionfunction(e,t){e.sourceConnector&&it.remove(e.sourceConnector.connections,e),e.targetConnector&&it.remove(e.targetConnector.connections,e),t&&this.undoRedoService.addCompositeItem(new G(e)),it.remove(this.connections,e)},_removeDataItemsfunction(e,t){var n,i,r,o;for(e=ht(e)e[e];e.length;)if(n=e.shift(),r=this._dataMap[n.uid],r&&(this._removeShapeConnections(r),this._removeItem(r,!1),delete this._dataMap[n.uid],t&&n.hasChildren&&n.loaded()))for(i=n.children.data(),o=0;i.lengtho;o++)e.push(i[o])},_removeShapeConnectionsfunction(e){var t,n=e.connections();if(n)for(t=0;n.lengtht;t++)this._removeItem(n[t],!1)},_addDataItemfunction(e,t){var n,i;if(ut(e))return(n=this._dataMap[e.id])n(i=F({},this.options.shapeDefaults),i.dataItem=e,n=new _(i,this),this.addShape(n,{undoablet!==!1}),this._dataMap[e.id]=n,n)},_addDataItemByUidfunction(e){var t,n;if(ut(e))return(t=this._dataMap[e.uid])t(n=F({},this.options.shapeDefaults),n.dataItem=e,t=new _(n,this),this.addShape(t),this._dataMap[e.uid]=t,t)},_addDataItemsfunction(e,t){var n,i,r,o,a;for(i=0;e.lengthi;i++)n=e[i],r=this._addDataItemByUid(n),o=this._addDataItemByUid(t),o&&!this.connected(o,r)&&(a=this.connect(o,r),a.type(_t))},_refreshSourcefunction(e){var t,n=this,i=e.node,r=e.action,o=e.items,a=n.options;if(!e.field){if(remove==r)this._removeDataItems(e.items,!0);else for(rin.clear(),this._addDataItems(o,i),t=0;o.lengtht;t++)o[t].load();a.layout&&n.layout(a.layout)}},_mouseDownfunction(e){var t=this._calculatePosition(e);1==e.which&&this.toolService.start(t,this._meta(e))&&(this._destroyToolBar(),e.preventDefault())},_addItemfunction(e){e instanceof _this.addShape(e)e instanceof w&&this.addConnection(e)},_mouseUpfunction(e){var t=this._calculatePosition(e);1==e.which&&this.toolService.end(t,this._meta(e))&&(this._createToolBar(),e.preventDefault())},_createToolBarfunction(){var e,t,n,i,r,o,a,s,l,c=this.toolService.diagram;this.singleToolBar1!==c.select().length(e=c.select()[0],e&&e.options.editable!==!1&&(t=e.options.editable.tools,this._isEditable&&0===t.length&&(e instanceof _t=[edit,rotateClockwise,rotateAnticlockwise,delete]e instanceof w&&(t=[edit,delete])),t&&t.length&&(n=20,this.singleToolBar=new b(c,{toolst,clickz(this._toolBarClick,this),modal!0}),r=this.singleToolBar.element,o=this.singleToolBar._popup.element.outerWidth(),a=this.singleToolBar._popup.element.outerHeight(),e instanceof _(s=this.modelToView(e.bounds(Kt)),i=Y(s.x,s.y).minus(Y((o-s.width)2,a+n)))e instanceof w&&(l=this.modelToView(e.bounds()),i=Y(l.x,l.y).minus(Y((o-l.width-20)2,a+n))),i(this.canvas.translate(i=i.minus(Y(this.scroller.scrollLeft,this.scroller.scrollTop))),i=this.viewToDocument(i),i=Y(mt.max(i.x,0),mt.max(i.y,0)),this.singleToolBar.showAt(i))this._destroyToolBar())))},_toolBarClickfunction(e){this.trigger(toolBarClick,e),this._destroyToolBar()},_mouseMovefunction(e){if(!this.pauseMouseHandlers){var t=this._calculatePosition(e);0!==e.which&&1!=e.which!this.toolService.move(t,this._meta(e))e.preventDefault()}},_keydownfunction(e){this.toolService.keyDown(e.keyCode,this._meta(e))&&e.preventDefault()},_wheelfunction(e){var t=n(e),i=this._calculatePosition(e),r=F(this._meta(e),{deltat});this.toolService.wheel(i,r)&&e.preventDefault()},_metafunction(e){return{ctrlKeye.ctrlKey,metaKeye.metaKey,altKeye.altKey,shiftKeye.shiftKey}},_calculatePositionfunction(e){var n=e.pageX===te.originalEvente,i=new Y(n.pageX,n.pageY),r=this.documentToModel(i);return r},_normalizePointZoomfunction(e){return e.times(1this.zoom())},_initializefunction(){this.shapes=[],this._selectedItems=[],this.connections=[],this._dataMap={},this._connectionsDataMap={},this._inactiveShapeItems=new u,this._deferredConnectionUpdates=[],this.undoRedoService=new X({undonethis._syncHandler,redonethis._syncHandler}),this.id=I.randomId()},_fetchFreshDatafunction(){var t,n=this;n._dataSource(),n._isEditable&&n._connectionDataSource(),n.options.autoBind&&(n._isEditable(n._preventRefresh=!0,n._preventConnectionsRefresh=!0,t=e.map([n.dataSource,n.connectionsDataSource],function(e){return e.fetch()}),e.when.apply(null,t).done(function(){n._preventRefresh=!1,n._preventConnectionsRefresh=!1,n.refresh()}))n.dataSource.fetch())},_dataSourcefunction(){var e,t;ut(this.options.connectionsDataSource)(this._isEditable=!0,e=this.options.dataSource{},t=ht(e){datae}e,this.dataSource&&this._shapesRefreshHandlerthis.dataSource.unbind(change,this._shapesRefreshHandler).unbind(error,this._shapesErrorHandler)(this._shapesRefreshHandler=z(this._refreshShapes,this),this._shapesErrorHandler=z(this._error,this)),this.dataSource=kendo.data.DataSource.create(t).bind(change,this._shapesRefreshHandler).bind(error,this._shapesErrorHandler))(this._treeDataSource(),this._isEditable=!1)},_connectionDataSourcefunction(){var e,t=this.options.connectionsDataSource;t&&(e=ht(t){datat}t,this.connectionsDataSource&&this._connectionsRefreshHandlerthis.connectionsDataSource.unbind(change,this._connectionsRefreshHandler).unbind(error,this._connectionsErrorHandler)(this._connectionsRefreshHandler=z(this._refreshConnections,this),this._connectionsErrorHandler=z(this._error,this)),this.connectionsDataSource=kendo.data.DataSource.create(e).bind(change,this._connectionsRefreshHandler).bind(error,this._connectionsErrorHandler))},_refreshShapesfunction(e){remove===e.actionthis._shouldRefresh()&&this._removeShapes(e.items)itemchange===e.actionthis._shouldRefresh()&&this._updateShapes(e.items,e.field)add===e.actionthis._inactiveShapeItems.add(e.items)sync===e.actionthis._syncShapes(e.items)this.refresh()},_shouldRefreshfunction(){return!this._suspended},_suspendModelRefreshfunction(){this._suspended=(this._suspended0)+1},_resumeModelRefreshfunction(){this._suspended=mt.max((this._suspended0)-1,0)},refreshfunction(){this._preventRefresh(this.trigger(dataBound),this.clear(),this._addShapes(this.dataSource.view()),this.connectionsDataSource&&this._addConnections(this.connectionsDataSource.view(),!1),this.options.layout&&this.layout(this.options.layout))},refreshConnectionsfunction(){this._preventConnectionsRefresh(this.trigger(dataBound),this._addConnections(this.connectionsDataSource.view(),!1),this.options.layout&&this.layout(this.options.layout))},_removeShapesfunction(e){var t,n,i=this._dataMap;for(n=0;e.lengthn;n++)t=e[n],i[t.id]&&(this.remove(i[t.id],!1),i[t.id]=null)},_syncShapesfunction(){var e=this,t=e._inactiveShapeItems;t.forEach(function(n){var i=n.dataItem,r=n.element;i.isNew()(r(r._setOptionsFromModel(),e.addShape(r,{undoablen.undoable}),e._dataMap[i.id]=r)e._addDataItem(i),n.activate(),t.remove(i))})},_updateShapesfunction(e,t){var n,i,r;for(n=0;e.lengthn;n++)i=e[n],r=this._dataMap[i.id],r&&r.updateOptionsFromModel(i,t)},_addShapesfunction(e){for(var t=0;e.lengtht;t++)this._addDataItem(e[t],!1)},_refreshConnectionsfunction(e){remove===e.actionthis._shouldRefresh()&&this._removeConnections(e.items)add===e.actionthis._addConnections(e.items)sync===e.action(itemchange===e.actionthis._shouldRefresh()&&this._updateConnections(e.items)this.refreshConnections())},_removeConnectionsfunction(e){for(var t=0;e.lengtht;t++)this.remove(this._connectionsDataMap[e[t].uid],!1),this._connectionsDataMap[e[t].uid]=null},_updateConnectionsfunction(e){var t,n,i,r,o;for(t=0;e.lengtht;t++)n=e[t],i=this._connectionsDataMap[n.uid],i.updateOptionsFromModel(n),r=this._validateConnector(n.from),r&&i.source(r),o=this._validateConnector(n.to),o&&i.target(o)},_addConnectionsfunction(e,t){var n,i,r=e.length;for(n=0;rn;n++)i=e[n],this._addConnectionDataItem(i,t)},_addConnectionDataItemfunction(e,t){var n,i,r,o;this._connectionsDataMap[e.uid](n=this._validateConnector(e.from),ut(n)&&null!==n(n=new Y(e.fromX,e.fromY)),i=this._validateConnector(e.to),ut(i)&&null!==i(i=new Y(e.toX,e.toY)),ut(n)&&ut(i)&&(r=F({},this.options.connectionDefaults),r.dataItem=e,o=new w(n,i,r),o.type(r.type_t),this._connectionsDataMap[e.uid]=o,this.addConnection(o,t)))},_validateConnectorfunction(e){var t;return ut(e)&&null!==e&&(t=this._dataMap[e]),t},_treeDataSourcefunction(){var e=this,t=e.options,n=t.dataSource;n=ht(n){datan}n,n.fields(n.fields=[{fieldtext},{fieldurl},{fieldspriteCssClass},{fieldimageUrl}]),e.dataSource&&e._refreshHandler&&e._unbindDataSource(),e._refreshHandler=z(e._refreshSource,e),e._errorHandler=z(e._error,e),e.dataSource=B.create(n).bind(yt,e._refreshHandler).bind(Ct,e._errorHandler)},_unbindDataSourcefunction(){var e=this;e.dataSource.unbind(yt,e._refreshHandler).unbind(Ct,e._errorHandler)},_errorfunction(){},_adornfunction(e,n){n!==t&&e&&(n(this._adorners.push(e),this.adornerLayer.append(e.visual))(it.remove(this._adorners,e),this.adornerLayer.remove(e.visual)))},_showConnectorsfunction(e,t){tthis._connectorsAdorner.show(e)this._connectorsAdorner.destroy()},_updateAdornersfunction(){var e,t,n=this._adorners;for(e=0;n.lengthe;e++)t=n[e],t.refreshBounds&&t.refreshBounds(),t.refresh()},_refreshfunction(){for(var e=0;this.connections.lengthe;e++)this.connections[e].refresh()},_destroyToolBarfunction(){this.singleToolBar&&(this.singleToolBar.hide(),this.singleToolBar.destroy(),this.singleToolBar=null)},_destroyGlobalToolBarfunction(){this.toolBar&&(this.toolBar.hide(),this.toolBar.destroy(),this.toolBar=null)},exportDOMVisualfunction(){var e=this.canvas._viewBox,t=E.transform().translate(-e.x,-e.y),n=new E.Rect([0,0],[e.width,e.height]),i=A.Path.fromRect(n),r=new A.Group({transformt,clipi}),o=this.canvas.drawingElement.children[0];return r.children.push(o),r},exportVisualfunction(){var e=E.transform().scale(1this._zoom),t=new A.Group({transforme}),n=this.canvas.drawingElement.children[0];return t.children.push(n),t},_syncChangesfunction(){this._syncShapeChanges(),this._syncConnectionChanges()},_syncShapeChangesfunction(){this.dataSource&&this._isEditable&&this.dataSource.sync()},_syncConnectionChangesfunction(){var t=this;t.connectionsDataSource&&t._isEditable&&(e.when.apply(e,t._deferredConnectionUpdates).then(function(){t.connectionsDataSource.sync()}),t.deferredConnectionUpdates=[])}}),D.ExportMixin.extend(y.fn,!0),kendo.PDFMixin&&kendo.PDFMixin.extend(y.fn),b=kendo.Observable.extend({initfunction(e,t){kendo.Observable.fn.init.call(this),this.diagram=e,this.options=F({},this.options,t),this._tools=[],this.createToolBar(),this.createTools(),this.appendTools(),this.options.modal&&this.createPopup(),this.bind(this.events,t)},events[click],createPopupfunction(){this.container=e(div).append(this.element),this._popup=this.container.kendoPopup({}).getKendoPopup()},appendToolsfunction(){var e,t;for(e=0;this._tools.lengthe;e++)t=this._tools[e],(t.buttons&&t.buttons.length!ut(t.buttons))&&this._toolBar.add(t)},createToolBarfunction(){this.element=e(div),this._toolBar=this.element.kendoToolBar({clickz(this.click,this),resizable!1}).getKendoToolBar(),this.element.css(border,none)},createToolsfunction(){for(var e=0;this.options.tools.lengthe;e++)this.createTool(this.options.tools[e])},createToolfunction(e){var t=(gt(e)e.namee)+Tool;this[t]this[t](e)this._tools.push(e)},showAtfunction(e){this._popup&&this._popup.open(e.x,e.y)},hidefunction(){this._popup&&this._popup.close()},newGroupfunction(){return{typebuttonGroup,buttons[]}},editToolfunction(){this._tools.push({spriteCssClassk-icon k-i-pencil,showTextoverflow,typebutton,textEdit,attributesthis._setAttributes({actionedit})})},deleteToolfunction(){this._tools.push({spriteCssClassk-icon k-i-close,showTextoverflow,typebutton,textDelete,attributesthis._setAttributes({actiondelete})})},rotateAnticlockwiseToolfunction(e){this._appendGroup(rotate),this._rotateGroup.buttons.push({spriteCssClassk-icon k-i-rotateccw,showTextoverflow,textRotateAnticlockwise,grouprotate,attributesthis._setAttributes({actionrotateAnticlockwise,stepe.step})})},rotateClockwiseToolfunction(e){this._appendGroup(rotate),this._rotateGroup.buttons.push({spriteCssClassk-icon k-i-rotatecw,attributesthis._setAttributes({actionrotateClockwise,stepe.step}),showTextoverflow,textRotateClockwise,grouprotate})},createShapeToolfunction(){this._appendGroup(create),this._createGroup.buttons.push({spriteCssClassk-icon k-i-shape,showTextoverflow,textCreateShape,groupcreate,attributesthis._setAttributes({actioncreateShape})})},createConnectionToolfunction(){this._appendGroup(create),this._createGroup.buttons.push({spriteCssClassk-icon k-i-connector,showTextoverflow,textCreateConnection,groupcreate,attributesthis._setAttributes({actioncreateConnection})})},undoToolfunction(){this._appendGroup(history),this._historyGroup.buttons.push({spriteCssClassk-icon k-i-undo,showTextoverflow,textUndo,grouphistory,attributesthis._setAttributes({actionundo})})},redoToolfunction(){this._appendGroup(history),this._historyGroup.buttons.push({spriteCssClassk-icon k-i-redo,showTextoverflow,textRedo,grouphistory,attributesthis._setAttributes({actionredo})})},_appendGroupfunction(e){var t=_+e+Group;this[t](this[t]=this.newGroup(),this._tools.push(this[t]))},_setAttributesfunction(e){var t={};return e.action&&(t[kendo.attr(action)]=e.action),e.step&&(t[kendo.attr(step)]=e.step),t},_getAttributesfunction(e){var t,n={},i=e.attr(kendo.attr(action));return i&&(n.action=i),t=e.attr(kendo.attr(step)),t&&(n.step=t),n},clickfunction(t){var n=this._getAttributes(e(t.target)),i=n.action;i&&this[i](n),this.trigger(click,this.eventData(i))},eventDatafunction(e){var t=this.selectedElements(),n=[],i=[];return t instanceof _n.push(t)i.push(t),{shapesn,connectionsi,actione}},deletefunction(){var e=this.diagram,t=e._triggerRemove(this.selectedElements());t.length&&(this.diagram.remove(t,!0),this.diagram._syncChanges())},editfunction(){this.diagram.edit(this.selectedElements()[0])},rotateClockwisefunction(e){var t=(this.selectedElements(),parseFloat(e.step90));this._rotate(t)},rotateAnticlockwisefunction(e){var t=(this.selectedElements(),parseFloat(e.step90));this._rotate(-t)},_rotatefunction(e){var t=this.diagram._resizingAdorner;t.angle(t.angle()+e),t.rotate()},selectedElementsfunction(){return this.diagram.select()},createShapefunction(){this.diagram.createShape()},createConnectionfunction(){this.diagram.createConnection()},undofunction(){this.diagram.undo()},redofunction(){this.diagram.redo()},destroyfunction(){this.diagram=null,this.element=null,this.options=null,this._toolBar&&this._toolBar.destroy(),this._popup&&this._popup.destroy()}}),k=kendo.Observable.extend({initfunction(e,t){kendo.Observable.fn.init.call(this),this.options=R(!0,{},this.options,t),this.element=e,this.model=this.options.model,this.fields=this._getFields(),this._initContainer(),this.createEditable()},options{editors{}},_initContainerfunction(){this.wrapper=this.element},createEditablefunction(){var e=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fieldsthis.fields,targete.target,clearContainer!1,modelthis.model})},_isEditablefunction(e){return this.model.editable&&this.model.editable(e)},_getFieldsfunction(){var e,t,n,i=[],r=this.model.fields;for(e in r)t={},this._isEditable(e)&&(n=this.options.editors[e],n&&(t.editor=n),t.field=e,i.push(t));return i},endfunction(){return this.editable.end()},destroyfunction(){this.editable.destroy(),this.editable.element.find([+kendo.attr(container-for)+]).empty(),this.model=this.wrapper=this.element=this.columns=this.editable=null}}),x=k.extend({initfunction(e,t){k.fn.init.call(this,e,t),this.bind(this.events,this.options),this.open()},events[update,cancel],options{window{modal!0,resizable!1,draggable!0,titleEdit,visible!1}},_initContainerfunction(){var t,n=this;this.wrapper=e('div class=k-popup-edit-form').attr(kendo.attr(uid),this.model.uid),t=,this.options.template(t+=this._renderTemplate(),this.fields=[])t+=this._renderFields(),t+=this._renderButtons(),this.wrapper.append(e('div class=k-edit-form-container').append(t)),this.window=new kendo.ui.Window(this.wrapper,this.options.window),this.window.bind(close,function(e){e.userTriggered&&(e.sender.element.focus(),n._cancelClick(e))}),this._attachButtonEvents()},_renderTemplatefunction(){var e=this.options.template;returnstring==typeof e&&(e=window.unescape(e)),e=kendo.template(e)(this.model)},_renderFieldsfunction(){var e,t,n=;for(e=0;this.fields.lengthe;e++)t=this.fields[e],n+='div class=k-edit-labellabel for='+t.field+''+(t.field)+labeldiv,this._isEditable(t.field)&&(n+=div +kendo.attr(container-for)+'='+t.field+' class=k-edit-fielddiv');return n},_renderButtonsfunction(){var e='div class=k-edit-buttons k-state-default';return e+=this._createButton(update),e+=this._createButton(cancel),e+=div},_createButtonfunction(e){return kendo.template(an)(g[e])},_attachButtonEventsfunction(){this._cancelClickHandler=z(this._cancelClick,this),this.window.element.on(bt+vt,a.k-diagram-cancel,this._cancelClickHandler),this._updateClickHandler=z(this._updateClick,this),this.window.element.on(bt+vt,a.k-diagram-update,this._updateClickHandler)},_updateClickfunction(e){e.preventDefault(),this.trigger(update)},_cancelClickfunction(e){e.preventDefault(),this.trigger(cancel)},openfunction(){this.window.center().open()},closefunction(){this.window.bind(deactivate,z(this.destroy,this)).close()},destroyfunction(){this.window.close().destroy(),this.window.element.off(bt+vt,a.k-diagram-cancel,this._cancelClickHandler),this.window.element.off(bt+vt,a.k-diagram-update,this._updateClickHandler),this._cancelClickHandler=null,this._editUpdateClickHandler=null,this.window=null,k.fn.destroy.call(this)}}),d.fn=d.prototype={onActivatefunction(t){var n=e.Deferred();return this.callbacks.push({callbackt,deferredn}),n},activatefunction(){var e,t,n=this.callbacks;for(t=0;n.lengtht;t++)e=this.callbacks[t],e.callback(this.dataItem),e.deferred.resolve();this.callbacks=[]}},u.fn=u.prototype={addfunction(e){for(var t=0;e.lengtht;t++)this.items[e[t].uid]=new d(e[t])},forEachfunction(e){for(var t in this.items)e(this.items[t])},getByUidfunction(e){return this.items[e]},removefunction(e){delete this.items[e.uid]}},C=P.extend({initfunction(){this.shapes=[]},_addfunction(e,t){this.shapes.push({boundst,shapee}),e._quadNode=this},insertfunction(e,t){this._add(e,t)},removefunction(e){var t,n=this.shapes,i=n.length;for(t=0;it;t++)if(n[t].shape===e){n.splice(t,1);break}},hitTestRectfunction(e,t){var n,i=this.shapes,r=i.length,o=!1;for(n=0;rn;n++)if(this._overlaps(i[n].bounds,e)&&!D.inArray(i[n].shape,t)){o=!0;break}return o},_overlapsfunction(e,t){var n=e.bottomRight(),i=t.bottomRight(),r=!(t.xn.xt.yn.ye.xi.xe.yi.y);return r}}),S=C.extend({initfunction(e){C.fn.init.call(this),this.children=[],this.rect=e},inBoundsfunction(e){var t=this.rect,n=t.bottomRight(),i=e.bottomRight(),r=e.x=t.x&&e.y=t.y&&n.x=i.x&&n.y=i.y;return r},overlapsBoundsfunction(e){return this._overlaps(this.rect,e)},insertfunction(e,t){var n,i=!1,r=this.children,o=r.length;if(this.inBounds(t)){if(!o&&4this.shapes.length)this._add(e,t);else{for(othis._initChildren(),n=0;r.lengthn;n++)if(r[n].insert(e,t)){i=!0;break}ithis._add(e,t)}i=!0}return i},_initChildrenfunction(){var e,t,n=this.rect,i=this.children,r=this.shapes,o=n.center(),a=n.width2,s=n.height2;for(i.push(new S(new U(n.x,n.y,a,s)),new S(new U(o.x,n.y,a,s)),new S(new U(n.x,o.y,a,s)),new S(new U(o.x,o.y,a,s))),t=r.length-1;t=0;t--)for(e=0;i.lengthe;e++)if(i[e].insert(r[t].shape,r[t].bounds)){r.splice(t,1);break}},hitTestRectfunction(e,t){var n,i=this.children,r=i.length,o=!1;if(this.overlapsBounds(e))if(C.fn.hitTestRect.call(this,e,t))o=!0;else for(n=0;rn;n++)if(i[n].hitTestRect(e,t)){o=!0;break}return o}}),T=P.extend({ROOT_SIZE1e3,initfunction(e){e.bind(wt,z(this._boundsChange,this)),e.bind(Pt,z(this._boundsChange,this)),this.initRoots()},initRootsfunction(){this.rootMap={},this.root=new C},clearfunction(){this.initRoots()},_boundsChangefunction(e){e.item._quadNode&&(e.item._quadNode.remove(e.item),this.insert(e.item))},insertfunction(e){var t=e.bounds(Kt),n=this.ROOT_SIZE,i=this.getSectors(t),r=i[0][0],o=i[1][0];this.inRoot(i)this.root.insert(e,t)(this.rootMap[r](this.rootMap[r]={}),this.rootMap[r][o](this.rootMap[r][o]=new S(new U(rn,on,n,n))),this.rootMap[r][o].insert(e,t))},removefunction(e){e._quadNode&&e._quadNode.remove(e)},inRootfunction(e){return e[0].length1e[1].length1},getSectorsfunction(e){var t=this.ROOT_SIZE,n=e.bottomRight(),i=Math.floor(e.xt),r=Math.floor(e.yt),o=Math.floor(n.xt),a=Math.floor(n.yt),s=[[i],[r]];return i!==o&&s[0].push(o),r!==a&&s[1].push(a),s},hitTestRectfunction(e,t){var n,i,r,o,a,s=this.getSectors(e);if(this.root.hitTestRect(e,t))return!0;for(n=0;s[0].lengthn;n++)for(r=s[0][n],i=0;s[1].lengthi;i++)if(o=s[1][i],a=(this.rootMap[r]{})[o],a&&a.hitTestRect(e,t))return!0;return!1}}),D.ui.plugin(y),F(I,{Shape_,Connectionw,Connectorv,DiagramToolBarb,QuadNodeS,QuadRootC,ShapesQuadTreeT})}(window.kendo.jQuery),function(e,t){function n(e,t){if(null===t)return t;var n=b(e,!0);return n(t)}function i(e){return typeof e!==I}function r(e,t,n){var i,r,l=s(e),c=s(t),d=u(e)-u(t)0,h=[];for(h.push(e),i=0;ni;i++)r={ro(l.r,c.r,i,n,d),go(l.g,c.g,i,n,d),bo(l.b,c.b,i,n,d)},h.push(a(r));return h.push(t),h}function o(e,t,n,i,r){var o,a=p.min(p.abs(e),p.abs(t)),s=p.max(p.abs(e),p.abs(t)),l=(s-a)(i+1),c=l(n+1);return o=ra+cs-c}function a(e){return#+l(e.r)+l(e.g)+l(e.b)}function s(e){e=e.replace(#,);var t=c(e);return{rd(t.r),gd(t.g),bd(t.b)}}function l(e){var t=p.round(e).toString(16).toUpperCase();return 1===t.length&&(t=0+t),t}function c(e){var t=e.length,n={};return 3===t(n.r=e[0],n.g=e[1],n.b=e[2])(n.r=e.substring(0,2),n.g=e.substring(2,4),n.b=e.substring(4,6)),n}function d(e){return parseInt(e.toString(16),16)}function u(e){var t=0;return e&&(e=s(e),t=p.sqrt(.241e.re.r+.691e.ge.g+.068e.be.b)),t}function h(e){var t=p.pow(10,4);return p.round(et)t}var p=Math,f=e.proxy,g=window.kendo,m=g.Class,v=g.ui.Widget,_=g.template,w=g.deepExtend,y=g.data.HierarchicalDataSource,b=g.getter,k=g.dataviz,x=.kendoTreeMap,C=change,S=dataBound,T=itemCreated,D=Number.MAX_VALUE,A=mouseover+x,E=mouseleave+x,I=undefined,M=v.extend({initfunction(t,n){g.destroy(t),e(t).empty(),v.fn.init.call(this,t,n),this._initTheme(this.options),this.element.addClass(k-widget k-treemap),this._setLayout(),this._originalOptions=w({},this.options),this._initDataSource(),this._attachEvents(),g.notify(this,k.ui)},options{nameTreeMap,themedefault,autoBind!0,textFieldtext,valueFieldvalue,colorFieldcolor},events[S,T],_initThemefunction(e){var t=this,n=k.ui.themes{},i=((e{}).theme).toLowerCase(),r=(n[i]{}).treeMap;t.options=w({},r,e)},_attachEventsfunction(){this.element.on(A,f(this._mouseover,this)).on(E,f(this._mouseleave,this))},_setLayoutfunction(){horizontal===this.options.type(this._layout=new F(!1),this._view=new R(this,this.options))vertical===this.options.type(this._layout=new F(!0),this._view=new R(this,this.options))(this._layout=new P,this._view=new z(this,this.options))},_initDataSourcefunction(){var e=this,t=e.options,n=t.dataSource;e._dataChangeHandler=f(e._onDataChange,e),e.dataSource=y.create(n).bind(C,e._dataChangeHandler),n&&e.options.autoBind&&e.dataSource.fetch()},setDataSourcefunction(e){var t=this;t.dataSource.unbind(C,t._dataChangeHandler),t.dataSource=e.bind(C,t._dataChangeHandler),e&&t.options.autoBind&&t.dataSource.fetch()
},_onDataChangefunction(e){var t,n,o,a,s,l,c=e.node,d=e.items,u=this.options;if(c){if(d.length){for(a=this._getByUid(c.uid),a.children=[],o=i(a.minColor)i(a.maxColor)r(a.minColor,a.maxColor,d.length)[]u.colors[],n=0;d.lengthn;n++)t=d[n],a.children.push(this._wrapItem(t));for(s=this._view.htmlSize(a),this._layout.compute(a.children,a.coord,s),n=0;a.children.lengthn;n++)t=a.children[n],i(t.color)(string==typeof o[0]t.color=o[n%o.length](l=o[n%o.length],l&&(t.color=l[0],t.minColor=l[0],t.maxColor=l[1])));this._view.render(a)}}else this.element.empty(),t=this._wrapItem(d[0]),this._layout.createRoot(t,this.element.outerWidth(),this.element.outerHeight(),vertical===this.options.type),this._view.createRoot(t),this._root=t;for(n=0;d.lengthn;n++)d[n].load();c&&this.trigger(S,{nodec})},_contentSizefunction(e){this.view.renderHeight(e)},_wrapItemfunction(e){var t={};return i(this.options.valueField)&&(t.value=n(this.options.valueField,e)),i(this.options.colorField)&&(t.color=n(this.options.colorField,e)),i(this.options.textField)&&(t.text=n(this.options.textField,e)),t.level=e.level(),t.dataItem=e,t},_getByUidfunction(e){for(var t,n=[this._root];n.length;){if(t=n.pop(),t.dataItem.uid===e)return t;t.children&&(n=n.concat(t.children))}},dataItemfunction(t){var n=e(t).attr(g.attr(uid)),i=this.dataSource;return i&&i.getByUid(n)},findByUidfunction(e){return this.element.find(.k-treemap-tile[+g.attr(uid)+='+e+'])},_mouseoverfunction(t){var n=e(t.target);n.hasClass(k-leaf)&&(this._removeActiveState(),n.removeClass(k-state-hover).addClass(k-state-hover))},_removeActiveStatefunction(){this.element.find(.k-state-hover).removeClass(k-state-hover)},_mouseleavefunction(){this._removeActiveState()},destroyfunction(){v.fn.destroy.call(this),this.element.off(x),this.dataSource&&this.dataSource.unbind(C,this._dataChangeHandler),this._root=null,g.destroy(this.element)},itemsfunction(){return e()},getSizefunction(){return g.dimensions(this.element)},_resizefunction(){this.dataSource.fetch()},setOptionsfunction(e){var n=e.dataSource;e.dataSource=t,this._originalOptions=w(this._originalOptions,e),this.options=w({},this._originalOptions),this._setLayout(),this._initTheme(this.options),v.fn._setEvents.call(this,e),n&&this.setDataSource(y.create(n)),this.options.autoBind&&this.dataSource.fetch()}}),P=m.extend({createRootfunction(e,t,n){e.coord={widtht,heightn,top0,left0}},leaffunction(e){return!e.children},layoutChildrenfunction(e,t){var n,i,r,o,a=t.widtht.height,s=0,l=[];for(n=0;e.lengthn;n++)l[n]=parseFloat(e[n].value),s+=l[n];for(n=0;l.lengthn;n++)e[n].area=al[n]s;i=this.layoutHorizontal()t.heightt.width,e=new g.data.Query(e)._sortForGrouping(value,desc),r=[e[0]],o=e.slice(1),this.squarify(o,r,i,t)},squarifyfunction(e,t,n,i){this.computeDim(e,t,n,i)},computeDimfunction(e,n,i,r){var o,a,s;return e.length+n.length==1(o=1==e.lengthen,this.layoutLast(o,i,r),t)(e.length=2&&0===n.length&&(n=[e[0]],e=e.slice(1)),0===e.length(n.length0&&this.layoutRow(n,i,r),t)(a=e[0],this.worstAspectRatio(n,i)=this.worstAspectRatio([a].concat(n),i)this.computeDim(e.slice(1),n.concat([a]),i,r)(s=this.layoutRow(n,i,r),this.computeDim(e,[],s.dim,s)),t))},layoutLastfunction(e,t,n){e[0].coord=n},layoutRowfunction(e,t,n){return this.layoutHorizontal()this.layoutV(e,t,n)this.layoutH(e,t,n)},orientationh,layoutVerticalfunction(){returnv===this.orientation},layoutHorizontalfunction(){returnh===this.orientation},layoutChangefunction(){this.orientation=this.layoutVertical()hv},worstAspectRatiofunction(e,t){var n,i,r,o,a;if(!e0===e.length)return D;for(n=0,i=0,r=D,o=0;e.lengtho;o++)a=e[o].area,n+=a,r=arra,i=iaia;return p.max(tti(nn),nn(ttr))},computefunction(e,t,n){if(t.width=t.height&&this.layoutHorizontal()this.layoutChange(),e&&e.length0){var i={widtht.width,heightt.height-n.text,top0,left0};this.layoutChildren(e,i)}},layoutVfunction(e,t,n){var i,r,o,a=this._totalArea(e),s=0;for(t=h(at),i=0;e.lengthi;i++)r=h(e[i].areat),e[i].coord={heightr,widtht,topn.top+s,leftn.left},s+=r;return o={heightn.height,widthn.width-t,topn.top,leftn.left+t},o.dim=p.min(o.width,o.height),o.dim!=o.height&&this.layoutChange(),o},layoutHfunction(e,t,n){var i,r,o=this._totalArea(e),a=h(ot),s=n.top,l=0;for(i=0;e.lengthi;i++)e[i].coord={heighta,widthh(e[i].areaa),tops,leftn.left+l},l+=e[i].coord.width;return r={heightn.height-a,widthn.width,topn.top+a,leftn.left},r.dim=p.min(r.width,r.height),r.dim!=r.width&&this.layoutChange(),r},_totalAreafunction(e){var t,n=0;for(t=0;e.lengtht;t++)n+=e[t].area;return n}}),z=m.extend({initfunction(t,n){this.options=w({},this.options,n),this.treeMap=t,this.element=e(t.element),this.offset=0},htmlSizefunction(e){var t,n,i=this._getByUid(e.dataItem.uid),r={text0};return e.children&&(this._clean(i),t=this._getText(e),t&&(n=this._createTitle(e),i.append(n),r.text=n.height()),i.append(this._createWrap()),this.offset=(i.outerWidth()-i.innerWidth())2),r},_getByUidfunction(e){return this.element.find(.k-treemap-tile[+g.attr(uid)+='+e+'])},renderfunction(e){var t,n,i,r,o=this._getByUid(e.dataItem.uid),a=e.children;if(a)for(t=o.find(.k-treemap-wrap),n=0;a.lengthn;n++)i=a[n],r=this._createLeaf(i),t.append(r),this.treeMap.trigger(T,{elementr})},createRootfunction(e){var t=this._createLeaf(e);this.element.append(t),this.treeMap.trigger(T,{elementt})},_cleanfunction(e){e.css(background-color,),e.removeClass(k-leaf),e.removeClass(k-inverse),e.empty()},_createLeaffunction(t){return this._createTile(t).css(background-color,t.color).addClass(k-leaf).toggleClass(k-inverse,this._tileColorBrightness(t)180).append(e(divdiv).html(this._getText(t)))},_createTilefunction(t){var n,r={widtht.coord.width,heightt.coord.height,leftt.coord.left,topt.coord.top};return r.width+=r.left&&this.offset2this.offsetthis.offset,r.height+=r.top2this.offsetthis.offset,n=e(div class='k-treemap-tile'div).css({widthr.width,heightr.height,leftr.left,topr.top}),i(t.dataItem)&&i(t.dataItem.uid)&&n.attr(g.attr(uid),t.dataItem.uid),n},_getTextfunction(e){var t=e.text;return this.options.template&&(t=this._renderTemplate(e)),t},_renderTemplatefunction(e){var t=_(this.options.template);return t({dataIteme.dataItem,texte.text})},_createTitlefunction(t){return e(div class='k-treemap-title'div).append(e(divdiv).html(this._getText(t)))},_createWrapfunction(){return e(div class='k-treemap-wrap'div)},_tileColorBrightnessfunction(e){return u(e.color)}}),F=m.extend({createRootfunction(e,t,n,i){e.coord={widtht,heightn,top0,left0},e.vertical=i},initfunction(e){this.vertical=e,this.quotient=e10},computefunction(e,t,n){var i,r,o;e.length0&&(i=t.width,r=t.height,this.verticalr-=n.texti-=n.text,o={widthi,heightr,top0,left0},this.layoutChildren(e,o))},layoutChildrenfunction(e,t){var n,i,r=t.widtht.height,o=0,a=[];for(n=0;e.lengthn;n++)i=e[n],a[n]=parseFloat(e[n].value),o+=a[n],i.vertical=this.vertical;for(n=0;a.lengthn;n++)e[n].area=ra[n]o;e=new g.data.Query(e)._sortForGrouping(value,desc),this.sliceAndDice(e,t)},sliceAndDicefunction(e,t){var n=this._totalArea(e);e[0].level%2===this.quotientthis.layoutHorizontal(e,t,n)this.layoutVertical(e,t,n)},layoutHorizontalfunction(e,t,n){var i,r,o,a=0;for(i=0;e.lengthi;i++)r=e[i],o=r.area(nt.width),r.coord={heightt.height,widtho,topt.top,leftt.left+a},a+=o},layoutVerticalfunction(e,t,n){var i,r,o,a=0;for(i=0;e.lengthi;i++)r=e[i],o=r.area(nt.height),r.coord={heighto,widtht.width,topt.top+a,leftt.left},a+=o},_totalAreafunction(e){var t,n=0;for(t=0;e.lengtht;t++)n+=e[t].area;return n}}),R=z.extend({htmlSizefunction(e){var t,n,i=this._getByUid(e.dataItem.uid),r={text0,offset0};return e.children&&(this._clean(i),t=this._getText(e),t&&(n=this._createTitle(e),i.append(n),r.text=e.verticaln.height()n.width()),i.append(this._createWrap()),this.offset=(i.outerWidth()-i.innerWidth())2),r},_createTitlefunction(t){var n;return n=e(t.verticaldiv class='k-treemap-title'divdiv class='k-treemap-title-vertical'div),n.append(e(divdiv).html(this._getText(t)))}});k.ui.plugin(M)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile.ui,i=n.Shim,r=n.Widget,o=beforeOpen,a=open,s=close,l=init,c='div class=km-modalview-wrapper ',d=n.View.extend({initfunction(e,t){var n=this;r.fn.init.call(n,e,t),n._id(),n._wrap(),n._shim(),this.options.$angular(n._layout(),n._scroller(),n._model()),n.element.css(display,),n.trigger(l)},events[l,o,a,s],options{nameModalView,modal!0,widthnull,heightnull},destroyfunction(){r.fn.destroy.call(this),this.shim.destroy()},openfunction(t){var n=this;n.target=e(t),n.shim.show(),n._invokeNgController(),n.trigger(show,{viewn})},openForfunction(e){this.trigger(o,{targete})(this.open(e),this.trigger(a,{targete}))},closefunction(){this.element.is(visible)&&!this.trigger(s)&&this.shim.hide()},_wrapfunction(){var e,t,n=this,i=n.element,r=n.options;e=i[0].style.widthauto,t=i[0].style.heightauto,i.addClass(km-modalview).wrap(c),n.wrapper=i.parent().css({widthr.widthe300,heightr.heightt300}).addClass(auto==t km-auto-height),i.css({width,height})},_shimfunction(){var e=this;e.shim=new i(e.wrapper,{modale.options.modal,positioncenter center,aligncenter center,effectfadein,classNamekm-modalview-root,hidefunction(t){e.trigger(s)&&t.preventDefault()}})}});n.plugin(d)}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.mobile,r=n.support.mobileOS,o=n.effects.Transition,a=n.roleSelector,s=x,l=i.ui,c=!(r.ios&&7==r.majorVersion&&!r.appMode),d=beforeShow,u=init,h=show,p=hide,f=afterHide,g={enablee.noop},m=l.View.extend({initfunction(t,r){var o,s,l,d,h;if(e(t).parent().prepend(t),i.ui.Widget.fn.init.call(this,t,r),this.options.$angular(this._layout(),this._scroller()),this._model(),o=this.element.closest(a(pane)).data(kendoMobilePane))this.pane=o,this.pane.bind(viewShow,function(e){d._viewShow(e)}),this.pane.bind(sameViewRequested,function(){d.hide()}),s=this.userEvents=new n.UserEvents(o.element,{filtera(view splitview),allowSelection!0});else{if(this.currentView=g,l=e(this.options.container),!l)throw Error(The drawer needs a container configuration option set.);s=this.userEvents=new n.UserEvents(l,{allowSelection!0}),this._attachTransition(l)}d=this,h=function(e){d.visible&&(d.hide(),e.preventDefault())},this.options.swipeToOpen&&c(s.bind(press,function(){d.transition.cancel()}),s.bind(start,function(e){d._start(e)}),s.bind(move,function(e){d._update(e)}),s.bind(end,function(e){d._end(e)}),s.bind(tap,h))s.bind(press,h),this.leftPositioned=left===this.options.position,this.visible=!1,this.element.hide().addClass(km-drawer).addClass(this.leftPositionedkm-left-drawerkm-right-drawer),this.trigger(u)},options{nameDrawer,positionleft,views[],swipeToOpenViews[],swipeToOpen!0,title,containernull},events[d,p,f,u,h],showfunction(){this._activate()&&this._show()},hidefunction(){this.currentView&&(this.currentView.enable(),m.current=null,this._moveViewTo(0),this.trigger(p,{viewthis}))},openForfunction(){this.visiblethis.hide()this.show()},destroyfunction(){l.View.fn.destroy.call(this),this.userEvents.destroy()},_activatefunction(){if(this.visible)return!0;var e=this._currentViewIncludedIn(this.options.views);return!ethis.trigger(d,{viewthis})!1(this._setAsCurrent(),this.element.show(),this.trigger(h,{viewthis}),this._invokeNgController(),!0)},_currentViewIncludedInfunction(t){if(!this.pane!t.length)return!0;var n=this.pane.view();return e.inArray(n.id.replace(#,),t)-1e.inArray(n.element.attr(id),t)-1},_showfunction(){this.currentView.enable(!1),this.visible=!0;var e=this.element.width();this.leftPositioned(e=-e),this._moveViewTo(e)},_setAsCurrentfunction(){m.last!==this&&(m.last&&m.last.element.hide(),this.element.show()),m.last=this,m.current=this},_moveViewTofunction(e){this.userEvents.cancel(),this.transition.moveTo({locatione,duration400,easeo.easeOutExpo})},_viewShowfunction(e){return this.currentView&&this.currentView.enable(),this.currentView===e.view(this.hide(),t)(this.currentView=e.view,this._attachTransition(e.view.element),t)},_attachTransitionfunction(e){var t=this,i=this.movable,r=i&&i.x;this.transition&&(this.transition.cancel(),this.movable.moveAxis(x,0)),i=this.movable=new n.ui.Movable(e),this.transition=new o({axiss,movablethis.movable,onEndfunction(){0===i[s]&&(e[0].style.cssText=,t.element.hide(),t.trigger(f),t.visible=!1)}}),r&&(e.addClass(k-fx-hidden),n.animationFrame(function(){e.removeClass(k-fx-hidden),t.movable.moveAxis(s,r),t.hide()}))},_startfunction(e){var i,r,o,a,s,l=e.sender;return Math.abs(e.x.velocity)Math.abs(e.y.velocity)n.triggeredByInput(e.event)!this._currentViewIncludedIn(this.options.swipeToOpenViews)(l.cancel(),t)(i=this.leftPositioned,r=this.visible,o=i&&r!i&&!m.current,a=!i&&ri&&!m.current,s=0e.x.velocity,(o&&sa&&!s)&&this._activate()(l.capture(),t)(l.cancel(),t))},_updatefunction(e){var t,n=this.movable,i=n.x+e.x.delta;t=this.leftPositionedMath.min(Math.max(0,i),this.element.width())Math.max(Math.min(0,i),-this.element.width()),this.movable.moveAxis(s,t),e.event.preventDefault(),e.event.stopPropagation()},_endfunction(e){var t,n=e.x.velocity,i=Math.abs(this.movable.x)this.element.width()2,r=.8;t=this.leftPositionedn-r&&(nri)rn&&(-rni),tthis._show()this.hide()}});l.plugin(m)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile.ui,i=n.Widget,r=div class='km-expanded-pane-shim' ,o=n.View,a=o.extend({initfunction(o,a){var s,l,c=this;i.fn.init.call(c,o,a),o=c.element,e.extend(c,a),c._id(),c.options.$angularc._overlay()(c._layout(),c._overlay()),c._style(),l=o.children(c._locate(modalview)),c.options.$angularl.each(function(n,i){t.compileMobileDirective(e(i),a.$angular[0])})t.mobile.init(l),c.panes=[],c._paramsHistory=[],c.options.$angular(c.element.children(t.directiveSelector(pane)).each(function(){s=t.compileMobileDirective(e(this),a.$angular[0]),c.panes.push(s)}),c.element.children(t.directiveSelector(header footer)).each(function(){t.compileMobileDirective(e(this),a.$angular[0])}))c.content.children(t.roleSelector(pane)).each(function(){s=t.initWidget(this,{},n.roles),c.panes.push(s)}),c.expandedPaneShim=e(r).appendTo(c.element),c._shimUserEvents=new t.UserEvents(c.expandedPaneShim,{tapfunction(){c.collapsePanes()}})},_locatefunction(e){return this.options.$angulart.directiveSelector(e)t.roleSelector(e)},options{nameSplitView,stylehorizontal},expandPanesfunction(){this.element.addClass(km-expanded-splitview)},collapsePanesfunction(){this.element.removeClass(km-expanded-splitview)},_layoutfunction(){var e=this,n=e.element;e.transition=t.attrValue(n,transition),t.mobile.ui.View.prototype._layout.call(this),t.mobile.init(this.header.add(this.footer)),e.element.addClass(km-splitview),e.content.addClass(km-split-content)},_stylefunction(){var t,n=this.options.style,i=this.element;n&&(t=n.split( ),e.each(t,function(){i.addClass(km-split-+this)}))},showStartfunction(){var t=this;t.element.css(display,),t.initedthis._invokeNgController()(t.inited=!0,e.each(t.panes,function(){this.options.initialthis.navigateToInitial()this.navigate()}),t.trigger(init,{viewt})),t.trigger(show,{viewt})}});n.plugin(a)}(window.kendo.jQuery),function(e,t){function n(e,t){var n=[];return f&&n.push(km-on-+f.name),n.push(e.skinkm-+e.skinios==e.name&&e.majorVersion6km-ios7km-+e.name),(ios==e.name&&7e.majorVersionios!=e.name)&&n.push(km-+e.name+e.majorVersion),n.push(km-+e.majorVersion),n.push(km-m+(e.minorVersione.minorVersion[0]0)),e.variant&&(e.skin&&e.skin===e.name!e.skine.setDefaultPlatform===!1)&&n.push(km-+(e.skine.skine.name)+-+e.variant),e.cordova&&n.push(km-cordova),n.push(e.appModekm-appkm-web),t&&t.statusBarStyle&&n.push(km-+t.statusBarStyle+-status-bar),n.join( )}function i(t){returnkm-wp-+(t.noVariantSet0===parseInt(e(div style='background Background' ).css(background-color).split(,)[1],10)darklightt.variant+ km-wp-+t.variant+-force)}function r(e){return f.wp-kendo-landscape==e.css(animation-name)Math.abs(window.orientation)90==1}function o(e){return r(e)ym}function a(e){e.parent().addBack().css(min-height,window.innerHeight)}function s(){e(meta[name=viewport]).remove(),R.append(k({height, width=device-width+(r(), height=+window.innerHeight+pxd.mobileOS.flatVersion=600&&700d.mobileOS.flatVersion, height=+window.innerWidth+px, height=device-height)}))}var l=window.kendo,c=l.mobile,d=l.support,u=c.ui.Widget,h=c.ui.Pane,p=ios7,f=d.mobileOS,g=blackberry==f.device&&f.flatVersion=600&&1e3f.flatVersion&&f.appMode,m=km-vertical,v=chrome===f.browser,_=f.ios&&f.flatVersion=700&&800f.flatVersion&&(f.appModev),w=Math.abs(window.orientation)90==1,y=km-horizontal,b={ios7{ios!0,browserdefault,deviceiphone,flatVersion700,majorVersion7,minorVersion0.0,nameios,tablet!1},ios{ios!0,browserdefault,deviceiphone,flatVersion612,majorVersion6,minorVersion1.2,nameios,tablet!1},android{android!0,browserdefault,deviceandroid,flatVersion442,majorVersion4,minorVersion4.2,nameandroid,tablet!1},blackberry{blackberry!0,browserdefault,deviceblackberry,flatVersion710,majorVersion7,minorVersion1.0,nameblackberry,tablet!1},meego{meego!0,browserdefault,devicemeego,flatVersion850,majorVersion8,minorVersion5.0,namemeego,tablet!1},wp{wp!0,browserdefault,devicewp,flatVersion800,majorVersion8,minorVersion0.0,namewp,tablet!1}},k=l.template('meta content=initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height# name=viewport ',{usedWithBlock!1}),x=l.template('meta name=apple-mobile-web-app-capable content=#= data.webAppCapable === false  'no'  'yes' #  meta name=apple-mobile-web-app-status-bar-style content=#=data.statusBarStyle#  meta name=msapplication-tap-highlight content=no  ',{usedWithBlock!1}),C=l.template(style.km-view { clip rect(0 #= data.width #px #= data.height #px 0); }style,{usedWithBlock!1}),S=f.android&&chrome!=f.browserf.blackberry,T=k({height}),D=l.template('link rel=apple-touch-icon'+(f.android-precomposed)+' # if(data.size) { # sizes=#=data.size# #}# href=#=data.icon# ',{usedWithBlock!1}),A=(iphone==f.deviceipod==f.device)&&7f.majorVersion,E=(iphone==f.deviceipod==f.device)&&f.majorVersion=7,I=Enonenull,M=mobilesafari==f.browser600,P=20,z=e(window),F=window.screen,R=e(head),B=init,H=e.proxy,L=u.extend({initfunction(t,n){c.application=this,e(e.proxy(this,bootstrap,t,n))},bootstrapfunction(t,n){var i,r,o;t=e(t),t[0](t=e(document.body)),u.fn.init.call(this,t,n),this.element.removeAttr(data-+l.ns+role),this._setupPlatform(),this._attachMeta(),this._setupElementClass(),this._attachHideBarHandlers(),i=e.extend({},this.options),delete i.name,r=this,o=function(){r.pane=new h(r.element,i),r.pane.navigateToInitial(),r.options.updateDocumentTitle&&r._setupDocumentTitle(),r._startHistory(),r.trigger(B)},this.options.$angularsetTimeout(o)o()},options{nameApplication,hideAddressBar!0,browserHistory!0,historyTransitionI,modelScopewindow,statusBarStyleblack,transition,platformnull,skinnull,updateDocumentTitle!0,useNativeScrolling!1},events[B],navigatefunction(e,t){this.pane.navigate(e,t)},replacefunction(e,t){this.pane.replace(e,t)},scrollerfunction(){return this.view().scroller},hideLoadingfunction(){if(!this.pane)throw Error(The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.);this.pane.hideLoading()},showLoadingfunction(){if(!this.pane)throw Error(The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.);this.pane.showLoading()},changeLoadingMessagefunction(e){if(!this.pane)throw Error(The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.);this.pane.changeLoadingMessage(e)},viewfunction(){return this.pane.view()},skinfunction(e){var t=this;return arguments.length(t.options.skin=e,t.element[0].className=km-pane,t._setupPlatform(),t._setupElementClass(),t.options.skin)t.options.skin},destroyfunction(){u.fn.destroy.call(this),this.pane.destroy(),this.router.destroy()},_setupPlatformfunction(){var t=this,r=t.options.platform,o=t.options.skin,a=[],s=fb[p];r&&(s.setDefaultPlatform=!0,string==typeof r(a=r.split(-),s=e.extend({varianta[1]},s,b[a[0]]))s=r),o&&(a=o.split(-),f(s.setDefaultPlatform=!1),s=e.extend({},s,{skina[0],varianta[1]})),s.variant(s.noVariantSet=!0,s.variant=dark),t.os=s,t.osCssClass=n(t.os,t.options),wp==s.name&&(t.refreshBackgroundColorProxy(t.refreshBackgroundColorProxy=e.proxy(function(){(t.os.variant&&t.os.skin&&t.os.skin===t.os.name!t.os.skin)&&t.element.removeClass(km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force).addClass(i(t.os))},t)),e(document).off(visibilitychange,t.refreshBackgroundColorProxy),e(document).off(resume,t.refreshBackgroundColorProxy),s.skin(t.element.parent().css(overflow,hidden),e(document).on(visibilitychange,t.refreshBackgroundColorProxy),e(document).on(resume,t.refreshBackgroundColorProxy),t.refreshBackgroundColorProxy()))},_startHistoryfunction(){this.options.browserHistory(this.router=new l.Router({pushStatethis.options.pushState,rootthis.options.root,hashBangthis.options.hashBang}),this.pane.bindToRouter(this.router),this.router.start())this.options.initialthis.pane.navigate()},_resizeToScreenHeightfunction(){var t,n=e(meta[name=apple-mobile-web-app-status-bar-style]).attr(content).match(black-translucenthidden),i=this.element;t=vwindow.innerHeightr(i)nwF.availWidth+PF.availWidthwF.availWidthF.availWidth-PnwF.availHeightF.availHeight+PwF.availHeight-PF.availHeight,i.height(t)},_setupElementClassfunction(){var t,n=this,i=n.element;i.parent().addClass(km-root km-+(n.os.tablettabletphone)),i.addClass(n.osCssClass+ +o(i)),this.options.useNativeScrolling&&i.parent().addClass(km-native-scrolling),v&&i.addClass(km-ios-chrome),d.wpDevicePixelRatio&&i.parent().css(font-size,d.wpDevicePixelRatio+em),g&&s(),n.options.useNativeScrollingi.parent().addClass(km-native-scrolling)S&&(t=(screen.availWidthscreen.availHeightscreen.availWidthscreen.availHeight)+200,e(C({widtht,heightt})).appendTo(R)),_&&n._resizeToScreenHeight(),l.onResize(function(){i.removeClass(km-horizontal km-vertical).addClass(o(i)),n.options.useNativeScrolling&&a(i),_&&n._resizeToScreenHeight(),g&&s(),l.resize(i)})},_clearExistingMetafunction(){R.find(meta).filter([name='apple-mobile-web-app'],[name='msapplication-tap'],[name='viewport']).remove()},_attachMetafunction(){var e,t=this.options,n=t.icon;if(this._clearExistingMeta(),gR.prepend(T),R.prepend(x(t)),n){string==typeof n&&(n={n});for(e in n)R.prepend(D({iconn[e],sizee}))}t.useNativeScrolling&&a(this.element)},_attachHideBarHandlersfunction(){var e=this,t=H(e,_hideBar);!d.mobileOS.appMode&&e.options.hideAddressBar&&A&&!e.options.useNativeScrolling&&(e._initialHeight={},z.on(load,t),l.onResize(function(){setTimeout(window.scrollTo,0,0,1)}))},_setupDocumentTitlefunction(){var e=this,n=document.title;e.pane.bind(viewShow,function(e){var i=e.view.title;document.title=i!==tin})},_hideBarfunction(){var t=this,n=t.element;n.height(l.support.transforms.css+calc(100% + +M+px)),e(window).trigger(l.support.resize)}});l.mobile.Application=L,l.ui.plugin(L,l.mobile,Mobile)}(window.kendo.jQuery),function(e,t){function n(t,n,i){e(n.target).closest(.km-button,.km-detail).toggleClass(km-state-active,i),d&&t.deactivateTimeoutID&&(clearTimeout(t.deactivateTimeoutID),t.deactivateTimeoutID=0)}function i(t){return e('span class=km-badge'+t+span)}var r=window.kendo,o=r.mobile,a=o.ui,s=a.Widget,l=r.support,c=l.mobileOS,d=c.android&&c.flatVersion=300,u=click,h=disabled,p=km-state-disabled,f=s.extend({initfunction(e,t){var i,o=this;s.fn.init.call(o,e,t),i=up===o.options.clickOn,o._wrap(),o._style(),io.element.attr(data-navigate-on-press,!0),o.options.enable=o.options.enable&&!o.element.attr(h),o.enable(o.options.enable),o._userEvents=new r.UserEvents(o.element,{pressfunction(e){o._activate(e)},releasefunction(e){n(o,e,!1)}}),o._userEvents.bind(itappress,function(e){o._release(e)}),d&&o.element.on(move,function(e){o._timeoutDeactivate(e)})},destroyfunction(){s.fn.destroy.call(this),this._userEvents.destroy()},events[u],options{nameButton,icon,style,badge,clickOnup,enable!0},badgefunction(e){var t=this.badgeElement=this.badgeElementi(e).appendTo(this.element);return e0===e(t.html(e),this)e===!1(t.empty().remove(),this.badgeElement=!1,this)t.html()},enablefunction(e){var n=this.element;t===e&&(e=!0),this.options.enable=e,en.removeAttr(h)n.attr(h,h),n.toggleClass(p,!e)},_timeoutDeactivatefunction(e){this.deactivateTimeoutID(this.deactivateTimeoutID=setTimeout(n,500,this,e,!1))},_activatefunction(e){var t=document.activeElement,i=tt.nodeName;this.options.enable&&(n(this,e,!0),(INPUT==iTEXTAREA==i)&&t.blur())},_releasefunction(n){var i=this;if(!(n.which1))return i.options.enable(i.trigger(u,{targete(n.target),buttoni.element})&&n.preventDefault(),t)(n.preventDefault(),t)},_stylefunction(){var t,n=this.options.style,i=this.element;n&&(t=n.split( ),e.each(t,function(){i.addClass(km-+this)}))},_wrapfunction(){var t=this,n=t.options.icon,r=t.options.badge,o='span class=km-icon km-'+n,a=t.element.addClass(km-button),s=a.children(spannot(.km-icon)).addClass(km-text),l=a.find(img).addClass(km-image);!s[0]&&a.html()&&(s=a.wrapInner('span class=km-text ').children(span.km-text)),!l[0]&&n&&(s[0](o+= km-notext),t.iconElement=a.prepend(e(o+' '))),(r0===r)&&(t.badgeElement=i(r).appendTo(a))}}),g=f.extend({options{nameBackButton,styleback},initfunction(e,n){var i=this;f.fn.init.call(i,e,n),t===i.element.attr(href)&&i.element.attr(href,#back)}}),m=f.extend({options{nameDetailButton,style},initfunction(e,t){f.fn.init.call(this,e,t)},_stylefunction(){var t,n=this.options.style+ detail,i=this.element;n&&(t=n.split( ),e.each(t,function(){i.addClass(km-+this)}))},_wrapfunction(){var t=this,n=t.options.icon,i='span class=km-icon km-'+n,r=t.element,o=r.children(span),a=r.find(img).addClass(km-image);!a[0]&&n&&(o[0](i+= km-notext),r.prepend(e(i+' ')))}});a.plugin(f),a.plugin(g),a.plugin(m)}(window.kendo.jQuery),function(e,t){function n(t){return e('span class=km-badge'+t+span)}var i=window.kendo,r=i.mobile.ui,o=r.Widget,a=km-state-active,s=km-state-disabled,l=select,c=linot(.+a+),d=o.extend({initfunction(e,t){var n=this;o.fn.init.call(n,e,t),n.element.addClass(km-buttongroup).find(li).each(n._button),n.element.on(n.options.selectOn,c,_select),n._enable=!0,n.select(n.options.index),n.options.enable(n._enable=!1,n.wrapper.addClass(s))},events[l],options{nameButtonGroup,selectOndown,index-1,enable!0},currentfunction(){return this.element.find(.+a)},selectfunction(n){var i=this,r=-1;n!==t&&-1!==n&&i._enable&&!e(n).is(.+s)&&(i.current().removeClass(a),number==typeof n(r=n,n=e(i.element[0].children[n]))n.nodeType&&(n=e(n),r=n.index()),n.addClass(a),i.selectedIndex=r)},badgefunction(t,i){var r,o=this.element;return isNaN(t)(t=o.children().get(t)),t=o.find(t),r=e(t.children(.km-badge)[0]n(i).appendTo(t)),i0===i(r.html(i),this)i===!1(r.empty().remove(),this)r.html()},enablefunction(e){var n=this.wrapper;t===e&&(e=!0),en.removeClass(s)n.addClass(s),this._enable=this.options.enable=e},_buttonfunction(){var t=e(this).addClass(km-button),r=i.attrValue(t,icon),o=i.attrValue(t,badge),a=t.children(span),s=t.find(img).addClass(km-image);a[0](a=t.wrapInner(span).children(span)),a.addClass(km-text),!s[0]&&r&&t.prepend(e('span class=km-icon km-'+r+'')),(o0===o)&&n(o).appendTo(t)},_selectfunction(e){e.which1e.isDefaultPrevented()!this._enable(this.select(e.currentTarget),this.trigger(l,{indexthis.selectedIndex}))}});r.plugin(d)}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.mobile.ui,i=n.Widget,r=km-collapsible,o=km-collapsible-header,a=km-collapsible-content,s=km-collapsibleinset,l=div data-role='collapsible-header' class='+o+'div,c=div data-role='collapsible-content' class='+a+'div,d=km-collapsed,u=km-expanded,h=km-animated,p=left,f=expand,g=collapse,m=i.extend({initfunction(n,o){var a=this,l=e(n);i.fn.init.call(a,l,o),l.addClass(r),a._buildHeader(),a.content=l.children().not(a.header).wrapAll(c).parent(),a._userEvents=new t.UserEvents(a.header,{tapfunction(){a.toggle()}}),l.addClass(a.options.collapseddu),a.options.inset&&l.addClass(s),a.options.animation(a.content.addClass(h),a.content.height(0),a.options.collapsed&&a.content.hide())a.options.collapsed&&a.content.hide()},events[f,g],options{nameCollapsible,collapsed!0,collapseIconarrow-n,expandIconarrow-s,iconPositionp,animation!0,inset!1},destroyfunction(){i.fn.destroy.call(this),this._userEvents.destroy()},expandfunction(e){var n=this.options.collapseIcon,i=this.content,r=t.support.mobileOS.ios;this.trigger(f)(n&&this.header.find(.km-icon).removeClass().addClass(km-icon km-+n),this.element.removeClass(d).addClass(u),this.options.animation&&!e(i.off(transitionend),i.show(),r&&i.removeClass(h),i.height(this._getContentHeight()),r&&i.addClass(h),t.resize(i))i.show())},collapsefunction(e){var t=this.options.expandIcon,n=this.content;this.trigger(g)(t&&this.header.find(.km-icon).removeClass().addClass(km-icon km-+t),this.element.removeClass(u).addClass(d),this.options.animation&&!e(n.one(transitionend,function(){n.hide()}),n.height(0))n.hide())},togglefunction(e){this.isCollapsed()this.expand(e)this.collapse(e)},isCollapsedfunction(){return this.element.hasClass(d)},resizefunction(){!this.isCollapsed()&&this.options.animation&&this.content.height(this._getContentHeight())},_buildHeaderfunction(){var t=this.element.children(header).wrapAll(l),n=e('span class=km-icon'),i=this.options.collapsedthis.options.expandIconthis.options.collapseIcon,r=this.options.iconPosition;i&&(t.prepend(n),n.addClass(km-+i)),this.header=t.parent(),this.header.addClass(km-icon-+r)},_getContentHeightfunction(){var e,t=this.content.attr(style);return this.content.css({positionabsolute,visibilityhidden,heightauto}),e=this.content.height(),this.content.attr(style,tt),e}});n.plugin(m)}(window.kendo.jQuery),function(e,t){function n(){return this.nodeType===v.TEXT_NODE&&this.nodeValue.match(U)}function i(e,t){t&&!e[0].querySelector(.km-icon)&&e.prepend('span class=km-icon km-'+t+'')}function r(e){i(e,T(e,icon)),i(e,T(e.children(C),icon))}function o(e){var t=e.parent(),r=e.add(t.children(m.roleSelector(detailbutton))),o=t.contents().not(r).not(n);o.length(e.addClass(km-listview-link).attr(m.attr(role),listview-link),i(e,T(t,icon)),i(e,T(e,icon)))}function a(e){if(e[0].querySelector(input[type=checkbox],input[type=radio])){var t=e.parent();t.contents().not(e).not(function(){return 3==this.nodeType})[0](e.addClass(km-listview-label),e.children([type=checkbox],[type=radio]).addClass(km-widget km-icon km-check))}}function s(t,n){e(t).css(transform,translate3d(0px, +n+px, 0px))
}var l,c,d,u,h,p,f,g,m=window.kendo,v=window.Node,_=m.mobile,w=_.ui,y=m.data.DataSource,b=w.DataBoundWidget,k=.km-list  li,  linot(.km-group-container),x=.km-listview-link, .km-listview-label,C=[+m.attr(icon)+],S=e.proxy,T=m.attrValue,D=km-group-title,A=km-state-active,E='div class='+D+'div class=km-textdivdiv',I=m.template('lidiv class='+D+'div class=km-text#= this.headerTemplate(data) #divdivul#= kendo.render(this.template, data.items)#ulli'),M='div class=km-listview-wrapper ',P=m.template('form class=km-filter-formdiv class=km-filter-wrapinput type=search placeholder=#=placeholder#a href=# class=km-filter-reset title=Clearspan class=km-icon km-clearspanspan class=km-textClearspanadivform'),z=.kendoMobileListView,F=styled,R=dataBound,B=dataBinding,H=itemChange,L=click,N=change,O=progress,V=function,U=^s+$,W=button,j=m.Class.extend({initfunction(e){var t,n,i=e.scroller();i&&(this.options=e.options,this.element=e.element,this.scroller=e.scroller(),this._shouldFixHeaders(),t=this,n=function(){t._cacheHeaders()},e.bind(resize,n),e.bind(F,n),e.bind(R,n),i.bind(scroll,function(e){t._fixHeader(e)}))},_fixHeaderfunction(t){if(this.fixedHeaders){var n,i,r,o=0,a=this.scroller,s=this.headers,l=t.scrollTop;do{if(n=s[o++],!n){r=e(div );break}i=n.offset,r=n.header}while(i+1l);this.currentHeader!=o&&(a.fixedContainer.html(r.clone()),this.currentHeader=o)}},_shouldFixHeadersfunction(){this.fixedHeaders=group===this.options.type&&this.options.fixedHeaders},_cacheHeadersfunction(){if(this._shouldFixHeaders(),this.fixedHeaders){var t=[],n=this.scroller.scrollTop;this.element.find(.+D).each(function(i,r){r=e(r),t.unshift({offsetr.position().top+n,headerr})}),this.headers=t,this._fixHeader({scrollTopn})}}}),G=function(){return{page1}},q=m.Class.extend({initfunction(e){var t=this,n=e.options,i=e.scroller(),r=n.pullParametersG;this.listView=e,this.scroller=i,e.bind(_dataSource,function(e){t.setDataSource(e.dataSource)}),i.setOptions({pullToRefresh!0,pullfunction(){t._pulled(t._pulled=!0,t.dataSource.read(r.call(e,t._first)))},messages{pullTemplaten.messages.pullTemplate,releaseTemplaten.messages.releaseTemplate,refreshTemplaten.messages.refreshTemplate}})},setDataSourcefunction(e){var t=this;this._first=e.view()[0],this.dataSource=e,e.bind(change,function(){t._change()}),e.bind(error,function(){t._change()})},_changefunction(){var e,t=this.scroller,n=this.dataSource;this._pulled&&t.pullHandled(),(this._pulled!this._first)&&(e=n.view(),e[0]&&(this._first=e[0])),this._pulled=!1}}),$=m.Observable.extend({initfunction(e){var t=this;m.Observable.fn.init.call(t),t.buffer=e.buffer,t.height=e.height,t.item=e.item,t.items=[],t.footer=e.footer,t.buffer.bind(reset,function(){t.refresh()})},refreshfunction(){for(var e,t,n,i,r=this.buffer,o=this.items,a=!1;o.length;)o.pop().destroy();for(this.offset=r.offset,e=this.item,i=0;r.viewSizei;i++){if(i===r.total()){a=!0;break}n=e(this.content(this.offset+o.length)),n.below(t),t=n,o.push(n)}this.itemCount=o.length,this.trigger(reset),this._resize(),a&&this.trigger(endReached)},totalHeightfunction(){if(!this.items[0])return 0;var e=this,t=e.items,n=t[0].top,i=t[t.length-1].bottom,r=(i-n)e.itemCount,o=e.buffer.length-e.offset-e.itemCount;return(this.footerthis.footer.height0)+i+or},batchUpdatefunction(e){var t,n,i=this.height(),r=this.items,o=this.offset;if(r[0]){if(this.lastDirection)for(;r[r.length-1].bottome+2i&&0!==this.offset;)this.offset--,t=r.pop(),t.update(this.content(this.offset)),t.above(r[0]),r.unshift(t);else for(;e-ir[0].top;){if(n=this.offset+this.itemCount,n===this.buffer.total()){this.trigger(endReached);break}if(n===this.buffer.length)break;t=r.shift(),t.update(this.content(this.offset+this.itemCount)),t.below(r[r.length-1]),r.push(t),this.offset++}o!==this.offset&&this._resize()}},updatefunction(e){var t,n,i,r,o=this,a=this.items,s=this.height(),l=this.itemCount,c=s2,d=(this.lastTop0)e,u=e-c,h=e+s+c;a[0]&&(this.lastTop=e,this.lastDirection=d,da[0].topu&&a[a.length-1].bottomh+c&&this.offset0&&(this.offset--,t=a.pop(),n=a[0],t.update(this.content(this.offset)),a.unshift(t),t.above(n),o._resize())ha[a.length-1].bottom&&u-ca[0].top&&(r=this.offset+l,r===this.buffer.total()this.trigger(endReached)r!==this.buffer.length&&(t=a.shift(),i=a[a.length-1],a.push(t),t.update(this.content(this.offset+this.itemCount)),o.offset++,t.below(i),o._resize())))},contentfunction(e){return this.buffer.at(e)},destroyfunction(){this.unbind()},_resizefunction(){var e=this.items,t=0,n=0,i=e[0],r=e[e.length-1];i&&(t=i.top,n=r.bottom),this.trigger(resize,{topt,bottomn}),this.footer&&this.footer.below(r)}});m.mobile.ui.VirtualList=$,l=m.Class.extend({initfunction(t,n){var i=t.append([n],!0)[0],r=i.offsetHeight;e.extend(this,{top0,elementi,listViewt,heightr,bottomr})},updatefunction(e){this.element=this.listView.setDataItem(this.element,e)},abovefunction(e){e&&(this.height=this.element.offsetHeight,this.top=e.top-this.height,this.bottom=e.top,s(this.element,this.top))},belowfunction(e){e&&(this.height=this.element.offsetHeight,this.top=e.bottom,this.bottom=this.top+this.height,s(this.element,this.top))},destroyfunction(){m.destroy(this.element),e(this.element).remove()}}),c='divspan class=km-iconspanspan class=km-loading-leftspanspan class=km-loading-rightspandiv',d=m.Class.extend({initfunction(t){this.element=e('li class=km-load-more km-scroller-refresh style=display noneli').appendTo(t.element),this._loadIcon=e(c).appendTo(this.element)},enablefunction(){this.element.show(),this.height=this.element.outerHeight(!0)},disablefunction(){this.element.hide(),this.height=0},belowfunction(e){e&&(this.top=e.bottom,this.bottom=this.height+this.top,s(this.element,this.top))}}),u=d.extend({initfunction(t,n){this._loadIcon=e(c).hide(),this._loadButton=e('a class=km-load'+t.options.messages.loadMoreText+a).hide(),this.element=e('li class=km-load-more style=display noneli').append(this._loadIcon).append(this._loadButton).appendTo(t.element);var i=this;this._loadButton.kendoMobileButton().data(kendoMobileButton).bind(click,function(){i._hideShowButton(),n.next()}),n.bind(resize,function(){i._showLoadButton()}),this.height=this.element.outerHeight(!0),this.disable()},_hideShowButtonfunction(){this._loadButton.hide(),this.element.addClass(km-scroller-refresh),this._loadIcon.css(display,block)},_showLoadButtonfunction(){this._loadButton.show(),this.element.removeClass(km-scroller-refresh),this._loadIcon.hide()}}),h=m.Class.extend({initfunction(e){var t=this;this.chromeHeight=e.wrapper.children().not(e.element).outerHeight()0,this.listView=e,this.scroller=e.scroller(),this.options=e.options,e.bind(_dataSource,function(e){t.setDataSource(e.dataSource,e.empty)}),e.bind(resize,function(){t.list.items.length&&(t.scroller.reset(),t.buffer.range(0),t.list.refresh())}),this.scroller.makeVirtual(),this.scroller.bind(scroll,function(e){t.list.update(e.scrollTop)}),this.scroller.bind(scrollEnd,function(e){t.list.batchUpdate(e.scrollTop)})},destroyfunction(){this.list.unbind(),this.buffer.unbind()},setDataSourcefunction(t,n){var i,r,o,a,s=this,c=this.options,h=this.listView,p=h.scroller(),f=c.loadMore;if(this.dataSource=t,i=t.pageSize()c.virtualViewSize,!i&&!n)throw Error(the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.);this.buffer&&this.buffer.destroy(),r=new m.data.Buffer(t,Math.floor(i2),f),o=fnew u(h,r)new d(h),this.list&&this.list.destroy(),a=new $({bufferr,footero,itemfunction(e){return new l(h,e)},heightfunction(){return p.height()}}),a.bind(resize,function(){s.updateScrollerSize(),h.updateSize()}),a.bind(reset,function(){s.footer.enable()}),a.bind(endReached,function(){o.disable(),s.updateScrollerSize()}),r.bind(expand,function(){a.lastDirection=!1,a.batchUpdate(p.scrollTop)}),e.extend(this,{bufferr,scrollerp,lista,footero})},updateScrollerSizefunction(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight)},refreshfunction(){this.list.refresh()},resetfunction(){this.buffer.range(0),this.list.refresh()}}),p=m.Class.extend({initfunction(e){var t,n=this;this.listView=e,this.options=e.options,t=this,this._refreshHandler=function(e){t.refresh(e)},this._progressHandler=function(){e.showLoading()},e.bind(_dataSource,function(e){n.setDataSource(e.dataSource)})},destroyfunction(){this._unbindDataSource()},resetfunction(){},refreshfunction(e){var n,i,r,o,a,s,l,c=e&&e.action,d=e&&e.items,u=this.listView,h=this.dataSource,p=this.options.appendOnRefresh,f=h.view(),g=h.group(),m=g&&g[0];returnitemchange!==cu._hasBindingTarget()(a=add===c&&!mp&&!u._filter,s=remove===c&&!m,ai=[]s&&(i=u.findByDataItem(d)),u.trigger(B,{actioncrebind,itemsd,removedItemsi,indexe&&e.index})(this._shouldShowLoading()&&u.hideLoading(),t)(add!==cmremove!==cmmu.replaceGrouped(f)p&&!u._filter(r=u.prepend(f),o=f)u.replace(f)(r=[],u.remove(d))(l=f.indexOf(d[0]),l-1&&(r=u.insertAt(d,l),o=d)),this._shouldShowLoading()&&u.hideLoading(),u.trigger(R,{nsw,addedItemsr,addedDataItemso}),t))(n=u.findByDataItem(d)[0],n&&u.setDataItem(n,d[0]),t)},setDataSourcefunction(e){this.dataSource&&this._unbindDataSource(),this.dataSource=e,e.bind(N,this._refreshHandler),this._shouldShowLoading()&&this.dataSource.bind(O,this._progressHandler)},_unbindDataSourcefunction(){this.dataSource.unbind(N,this._refreshHandler).unbind(O,this._progressHandler)},_shouldShowLoadingfunction(){var e=this.options;return!e.pullToRefresh&&!e.loadMore&&!e.endlessScroll}}),f=m.Class.extend({initfunction(t){var n=this,i=t.options.filterable,r=change paste,o=this;this.listView=t,this.options=i,t.element.before(P({placeholderi.placeholderSearch...})),i.autoFilter!==!1&&(r+= keyup),this.element=t.wrapper.find(.km-search-form),this.searchInput=t.wrapper.find(input[type=search]).closest(form).on(submit+z,function(e){e.preventDefault()}).end().on(focus+z,function(){n._oldFilter=n.searchInput.val()}).on(r.split( ).join(z+ )+z,S(this._filterChange,this)),this.clearButton=t.wrapper.find(.km-filter-reset).on(L,S(this,_clearFilter)).hide(),this._dataSourceChange=e.proxy(this._refreshInput,this),t.bind(_dataSource,function(e){e.dataSource.bind(change,o._dataSourceChange)})},_refreshInputfunction(){var e=this.listView.dataSource.filter(),t=this.listView._filter.searchInput;t.val(e&&e.filters[0].field===this.listView.options.filterable.fielde.filters[0].value)},_searchfunction(e){this._filter=!0,this.clearButton[eshowhide](),this.listView.dataSource.filter(e)},_filterChangefunction(e){var t=this;paste==e.type&&this.options.autoFilter!==!1setTimeout(function(){t._applyFilter()},1)this._applyFilter()},_applyFilterfunction(){var e=this.options,t=this.searchInput.val(),n=t.length{fielde.field,operatore.operatorstartswith,ignoreCasee.ignoreCase,valuet}null;t!==this._oldFilter&&(this._oldFilter=t,this._search(n))},_clearFilterfunction(e){this.searchInput.val(),this._search(null),e.preventDefault()}}),g=b.extend({initfunction(e,t){var n=this;b.fn.init.call(this,e,t),e=this.element,t=this.options,t.scrollTreshold&&(t.scrollThreshold=t.scrollTreshold),e.on(down,x,_highlight).on(move up cancel,x,_dim),this._userEvents=new m.UserEvents(e,{filterk,allowSelection!0,tapfunction(e){n._click(e)}}),e.css(-ms-touch-action,auto),e.wrap(M),this.wrapper=this.element.parent(),this._headerFixer=new j(this),this._itemsCache={},this._templates(),this.virtual=t.endlessScrollt.loadMore,this._style(),this.options.filterable&&(this._filter=new f(this)),this._itemBinder=this.virtualnew h(this)new p(this),this.options.pullToRefresh&&(this._pullToRefreshHandler=new q(this)),this.setDataSource(t.dataSource),this._enhanceItems(this.items()),m.notify(this,w)},events[L,B,R,H],options{nameListView,style,typeflat,autoBind!0,fixedHeaders!1,template#data#,headerTemplate'span class=km-text#value#span',appendOnRefresh!1,loadMore!1,endlessScroll!1,scrollThreshold30,pullToRefresh!1,messages{loadMoreTextPress to load more,pullTemplatePull to refresh,releaseTemplateRelease to refresh,refreshTemplateRefreshing},pullOffset140,filterable!1,virtualViewSizenull},refreshfunction(){this._itemBinder.refresh()},resetfunction(){this._itemBinder.reset()},setDataSourcefunction(e){var t=!e;this.dataSource=y.create(e),this.trigger(_dataSource,{dataSourcethis.dataSource,emptyt}),this.options.autoBind&&!t&&(this.items().remove(),this.dataSource.fetch())},destroyfunction(){b.fn.destroy.call(this),m.destroy(this.element),this._userEvents.destroy(),this._itemBinder&&this._itemBinder.destroy(),this.element.unwrap(),delete this.element,delete this.wrapper,delete this._userEvents},itemsfunction(){returngroup===this.options.typethis.element.find(.km-list).children()this.element.children().not(.km-load-more)},scrollerfunction(){return this._scrollerInstance(this._scrollerInstance=this.element.closest(.km-scroll-wrapper).data(kendoMobileScroller)),this._scrollerInstance},showLoadingfunction(){var e=this.view();e&&e.loader&&e.loader.show()},hideLoadingfunction(){var e=this.view();e&&e.loader&&e.loader.hide()},insertAtfunction(e,t,n){var i=this;return i._renderItems(e,function(r){if(0===ti.element.prepend(r)-1===ti.element.append(r)i.items().eq(t-1).after(r),n)for(var o=0;r.lengtho;o++)i.trigger(H,{itemr.eq(o),datae[o],nsw})})},appendfunction(e,t){return this.insertAt(e,-1,t)},prependfunction(e,t){return this.insertAt(e,0,t)},replacefunction(e){return this.options.type=flat,this._angularItems(cleanup),this.element.empty(),this._style(),this.insertAt(e,0)},replaceGroupedfunction(t){this.options.type=group,this._angularItems(cleanup),this.element.empty();var n=e(m.render(this.groupTemplate,t));this._enhanceItems(n.children(ul).children(li)),this.element.append(n),_.init(n),this._style(),this._angularItems(compile)},removefunction(e){var t=this.findByDataItem(e);this.angular(cleanup,function(){return{elementst}}),m.destroy(t),t.remove()},findByDataItemfunction(e){var t,n,i=[];for(t=0,n=e.length;nt;t++)i[t]=[data-+m.ns+uid=+e[t].uid+];return this.element.find(i.join(,))},setDataItemfunction(t,n){var i=this,r=function(r){var o=e(r[0]);m.destroy(t),e(t).replaceWith(o),i.trigger(H,{itemo,datan,nsw})};return this._renderItems([n],r)[0]},updateSizefunction(){this._size=this.getSize()},_renderItemsfunction(t,n){var i=e(m.render(this.template,t));return this.angular(compile,function(){return{elementsi,datat.map(function(e){return{dataIteme}})}}),n(i),_.init(i),this._enhanceItems(i),i},_dimfunction(e){this._toggle(e,!1)},_highlightfunction(e){this._toggle(e,!0)},_togglefunction(t,n){if(!(t.which1)){var i=e(t.currentTarget),r=i.parent(),o=T(i,role),a=!o.match(W),s=t.isDefaultPrevented();a&&r.toggleClass(A,n&&!s)}},_templatesfunction(){var e=this.options.template,t=this.options.headerTemplate,n=' data-uid=#=arguments[0].uid  #',i={},r={};typeof e===V&&(i.template=e,e=#=this.template(data)#),this.template=S(m.template(li+n++e+li),i),r.template=this.template,typeof t===V&&(r._headerTemplate=t,t=#=this._headerTemplate(data)#),r.headerTemplate=m.template(t),this.groupTemplate=S(I,r)},_clickfunction(t){if(!(t.event.which1t.event.isDefaultPrevented())){var n,i=t.target,r=e(t.event.target),o=r.closest(m.roleSelector(button,detailbutton,backbutton)),a=m.widgetInstance(o,w),s=i.attr(m.attr(uid));s&&(n=this.dataSource.getByUid(s)),this.trigger(L,{targetr,itemi,dataItemn,buttona})&&t.preventDefault()}},_styleGroupsfunction(){var t=this.element.children();t.children(ul).addClass(km-list),t.each(function(){var t=e(this),n=t.contents().first();t.addClass(km-group-container),n.is(ul)n.is(div.+D)n.wrap(E)})},_stylefunction(){var e=this.options,t=group===e.type,n=this.element,i=inset===e.style;n.addClass(km-listview).toggleClass(km-list,!t).toggleClass(km-virtual-list,this.virtual).toggleClass(km-listinset,!t&&i).toggleClass(km-listgroup,t&&!i).toggleClass(km-listgroupinset,t&&i),n.parents(.km-listview)[0]n.closest(.km-content).toggleClass(km-insetcontent,i),t&&this._styleGroups(),this.trigger(F)},_enhanceItemsfunction(t){t.each(function(){var t,n=e(this),i=!1;n.children().each(function(){t=e(this),t.is(a)(o(t),i=!0)t.is(label)&&(a(t),i=!0)}),ir(n)})}}),w.plugin(g)}(window.kendo.jQuery),function(e,t){function n(n,i){var o=i.find([+r.attr(align)+=+n+]);return o[0]e('div class=km-'+n+'item ').append(o).prependTo(i)t}function i(t){var n=t.siblings(),i=!!t.children(ul)[0],o=!!n[0]&&===e.trim(t.text()),a=!(!r.mobile.application!r.mobile.application.element.is(.km-android));t.prevAll().toggleClass(km-absolute,i),t.toggleClass(km-show-title,o),t.toggleClass(km-fill-title,o&&!e.trim(t.html())),t.toggleClass(km-no-title,i),t.toggleClass(km-hide-title,a&&!n.children().is(visible))}var r=window.kendo,o=r.mobile,a=o.ui,s=a.Widget,l=s.extend({initfunction(t,i){var r=this;s.fn.init.call(r,t,i),t=r.element,r.container().bind(show,e.proxy(this,refresh)),t.addClass(km-navbar).wrapInner(e('div class=km-view-title km-show-title ')),r.leftElement=n(left,t),r.rightElement=n(right,t),r.centerElement=t.find(.km-view-title)},options{nameNavBar},titlefunction(e){this.element.find(r.roleSelector(view-title)).text(e),i(this.centerElement)},refreshfunction(e){var t=e.view;t.options.titlethis.title(t.options.title)i(this.centerElement)},destroyfunction(){s.fn.destroy.call(this),r.destroy(this.element)}});a.plugin(l)}(window.kendo.jQuery),function(e,t){var n,i,r,o,a,s,l,c,d=window.kendo,u=d.mobile,h=u.ui,p=e.proxy,f=d.effects.Transition,g=d.ui.Pane,m=d.ui.PaneDimensions,v=h.DataBoundWidget,_=d.data.DataSource,w=d.data.Buffer,y=d.data.BatchBuffer,b=Math,k=b.abs,x=b.ceil,C=b.round,S=b.max,T=b.min,D=b.floor,A=change,E=changing,I=refresh,M=km-current-page,P=km-virtual-page,z=function,F=itemChange,R=cleanup,B=3,H=-1,L=0,N=1,O=-1,V=0,U=1,W=d.Class.extend({initfunction(t){var n=this,i=e(ol class='km-pages');t.element.append(i),this._changeProxy=p(n,_change),this._refreshProxy=p(n,_refresh),t.bind(A,this._changeProxy),t.bind(I,this._refreshProxy),e.extend(n,{elementi,scrollViewt})},itemsfunction(){return this.element.children()},_refreshfunction(e){var t,n=;for(t=0;e.pageCountt;t++)n+=li;this.element.html(n),this.items().eq(e.page).addClass(M)},_changefunction(e){this.items().removeClass(M).eq(e.page).addClass(M)},destroyfunction(){this.scrollView.unbind(A,this._changeProxy),this.scrollView.unbind(I,this._refreshProxy),this.element.remove()}});d.mobile.ui.ScrollViewPager=W,n=transitionEnd,i=dragStart,r=dragEnd,o=d.Observable.extend({initfunction(t,o){var a,s,l,c,u,h,p=this;d.Observable.fn.init.call(this),this.element=t,this.container=t.parent(),a=new d.ui.Movable(p.element),s=new f({axisx,movablea,onEndfunction(){p.trigger(n)}}),l=new d.UserEvents(t,{startfunction(e){2k(e.x.velocity)=k(e.y.velocity)l.capture()l.cancel(),p.trigger(i,e),s.cancel()},allowSelection!0,endfunction(e){p.trigger(r,e)}}),c=new m({elementp.element,containerp.container}),u=c.x,u.bind(A,function(){p.trigger(A)}),h=new g({dimensionsc,userEventsl,movablea,elastic!0}),e.extend(p,{durationo&&o.duration1,movablea,transitions,userEventsl,dimensionsc,dimensionu,paneh}),this.bind([n,i,r,A],o)},sizefunction(){return{widththis.dimensions.x.getSize(),heightthis.dimensions.y.getSize()}},totalfunction(){return this.dimension.getTotal()},offsetfunction(){return-this.movable.x},updateDimensionfunction(){this.dimension.update(!0)},refreshfunction(){this.dimensions.refresh()},moveTofunction(e){this.movable.moveAxis(x,-e)},transitionTofunction(e,t,n){nthis.moveTo(-e)this.transition.moveTo({locatione,durationthis.duration,easet})}}),d.mobile.ui.ScrollViewElasticPane=o,a=d.Observable.extend({initfunction(e,t,n){var i=this;d.Observable.fn.init.call(this),i.element=e,i.pane=t,i._getPages(),this.page=0,this.pageSize=n.pageSize1,this.contentHeight=n.contentHeight,this.enablePager=n.enablePager},scrollTofunction(e,t){this.page=e,this.pane.transitionTo(-ethis.pane.size().width,f.easeOutExpo,t)},paneMovedfunction(e,t,n,i){var r,o,a=this,s=a.pane,l=s.size().widtha.pageSize,c=C,d=tf.easeOutBackf.easeOutExpo;e===Oc=xe===U&&(c=D),o=c(s.offset()l),r=S(a.minSnap,T(-ol,a.maxSnap)),o!=a.page&&n&&n({currentPagea.page,nextPageo})&&(r=-a.pages.size().width),s.transitionTo(r,d,i)},updatePagefunction(){var e=this.pane,t=C(e.offset()e.size().width);return t!=this.page(this.page=t,!0)!1},forcePageUpdatefunction(){return this.updatePage()},resizeTofunction(e){var t,n,i=this.pane,r=e.width;this.pageElements.width(r),100%===this.contentHeight&&(t=this.element.parent().height(),this.enablePager===!0&&(n=this.element.parent().find(ol.km-pages),n.length&&(t-=n.outerHeight(!0))),this.element.css(height,t),this.pageElements.css(height,t)),i.updateDimension(),this._paged(this.page=D(i.offset()r)),this.scrollTo(this.page,!0),this.pageCount=x(i.total()r),this.minSnap=-(this.pageCount-1)r,this.maxSnap=0},_getPagesfunction(){this.pageElements=this.element.find(d.roleSelector(page)),this._paged=this.pageElements.length0}}),d.mobile.ui.ScrollViewContent=a,s=d.Observable.extend({initfunction(e,t,n){var i=this;d.Observable.fn.init.call(this),i.element=e,i.pane=t,i.options=n,i._templates(),i.page=n.page0,i.pages=[],i._initPages(),i.resizeTo(i.pane.size()),i.pane.dimension.forceEnabled()},setDataSourcefunction(e){this.dataSource=_.create(e),this._buffer(),this._pendingPageRefresh=!1,this._pendingWidgetRefresh=!1},_viewShowfunction(){var e=this;e._pendingWidgetRefresh&&(setTimeout(function(){e._resetPages()},0),e._pendingWidgetRefresh=!1)},_bufferfunction(){var e=this.options.itemsPerPage;this.buffer&&this.buffer.destroy(),this.buffer=e1new y(this.dataSource,e)new w(this.dataSource,3e),this._resizeProxy=p(this,_onResize),this._resetProxy=p(this,_onReset),this._endReachedProxy=p(this,_onEndReached),this.buffer.bind({resizethis._resizeProxy,resetthis._resetProxy,endreachedthis._endReachedProxy})},_templatesfunction(){var e=this.options.template,t=this.options.emptyTemplate,n={},i={};typeof e===z&&(n.template=e,e=#=this.template(data)#),this.template=p(d.template(e),n),typeof t===z&&(i.emptyTemplate=t,t=#=this.emptyTemplate(data)#),this.emptyTemplate=p(d.template(t),i)},_initPagesfunction(){var e,t,n=this.pages,i=this.element;for(t=0;Bt;t++)e=new l(i),n.push(e);this.pane.updateDimension()},resizeTofunction(e){var t,n,i,r=this.pages,o=this.pane;for(t=0;r.lengtht;t++)r[t].setWidth(e.width);auto===this.options.contentHeightthis.element.css(height,this.pages[1].element.height())100%===this.options.contentHeight&&(n=this.element.parent().height(),this.options.enablePager===!0&&(i=this.element.parent().find(ol.km-pages),i.length&&(n-=i.outerHeight(!0))),this.element.css(height,n),r[0].element.css(height,n),r[1].element.css(height,n),r[2].element.css(height,n)),o.updateDimension(),this._repositionPages(),this.width=e.width},scrollTofunction(e){var t,n=this.buffer;n.syncDataSource(),t=n.at(e),t&&(this._updatePagesContent(e),this.page=e)},paneMovedfunction(e,t,n,i){var r,o=this,a=o.pane,s=a.size().width,l=a.offset(),c=Math.abs(l)=s3,u=td.effects.Transition.easeOutBackd.effects.Transition.easeOutExpo,h=o.page+2o.buffer.total(),p=0;e===U0!==o.page&&(p=-1)e!==Ohl0&&c&&!hp=10l&&c&&0!==o.page&&(p=-1)p=1,r=o.page,p&&(r=p0r+1r-1),n&&n({currentPageo.page,nextPager})&&(p=0),0===po._cancelMove(u,i)-1===po._moveBackward(i)1===p&&o._moveForward(i)},updatePagefunction(){var e=this.pages;return 0===this.pane.offset()!1(this.pane.offset()0(e.push(this.pages.shift()),this.page++,this.setPageContent(e[2],this.page+1))(e.unshift(this.pages.pop()),this.page--,this.setPageContent(e[0],this.page-1)),this._repositionPages(),this._resetMovable(),!0)},forcePageUpdatefunction(){var e=this.pane.offset(),t=3this.pane.size().width4;return k(e)tthis.updatePage()!1},_resetMovablefunction(){this.pane.moveTo(0)},_moveForwardfunction(e){this.pane.transitionTo(-this.width,d.effects.Transition.easeOutExpo,e)},_moveBackwardfunction(e){this.pane.transitionTo(this.width,d.effects.Transition.easeOutExpo,e)},_cancelMovefunction(e,t){this.pane.transitionTo(0,e,t)},_resetPagesfunction(){this.page=this.options.page0,this._updatePagesContent(this.page),this._repositionPages(),this.trigger(reset)},_onResizefunction(){this.pageCount=x(this.dataSource.total()this.options.itemsPerPage),this._pendingPageRefresh&&(this._updatePagesContent(this.page),this._pendingPageRefresh=!1),this.trigger(resize)},_onResetfunction(){this.pageCount=x(this.dataSource.total()this.options.itemsPerPage),this._resetPages()},_onEndReachedfunction(){this._pendingPageRefresh=!0},_repositionPagesfunction(){var e=this.pages;e[0].position(H),e[1].position(L),e[2].position(N)},_updatePagesContentfunction(e){var t=this.pages,n=e0;this.setPageContent(t[0],n-1),this.setPageContent(t[1],n),this.setPageContent(t[2],n+1)},setPageContentfunction(t,n){var i=this.buffer,r=this.template,o=this.emptyTemplate,a=null;n=0&&(a=i.at(n),e.isArray(a)&&!a.length&&(a=null)),this.trigger(R,{itemt.element}),t.content(null!==ar(a)o({})),d.mobile.init(t.element),this.trigger(F,{itemt.element,dataa,nsd.mobile.ui})}}),d.mobile.ui.VirtualScrollViewContent=s,l=d.Class.extend({initfunction(t){this.element=e(div class='+P+'div),this.width=t.width(),this.element.width(this.width),t.append(this.element)},contentfunction(e){this.element.html(e)},positionfunction(e){this.element.css(transform,translate3d(+this.widthe+px, 0, 0))},setWidthfunction(e){this.width=e,this.element.width(e)}}),d.mobile.ui.VirtualPage=l,c=v.extend({initfunction(e,t){var n,i,r,l=this;v.fn.init.call(l,e,t),t=l.options,e=l.element,d.stripWhitespace(e[0]),e.wrapInner(div).addClass(km-scrollview),this.options.enablePager&&(this.pager=new W(this)),l.inner=e.children().first(),l.page=0,l.inner.css(height,t.contentHeight),l.pane=new o(l.inner,{durationthis.options.duration,transitionEndp(this,_transitionEnd),dragStartp(this,_dragStart),dragEndp(this,_dragEnd),changep(this,I)}),l.bind(resize,function(){l.pane.refresh()}),l.page=t.page,n=0===this.inner.children().length,i=nnew s(l.inner,l.pane,t)new a(l.inner,l.pane,t),i.page=l.page,i.bind(reset,function(){l._syncWithContent(),l.trigger(I,{pageCounti.pageCount,pagei.page})}),i.bind(resize,function(){l.trigger(I,{pageCounti.pageCount,pagei.page})}),i.bind(F,function(e){l.trigger(F,e),l.angular(compile,function(){return{elementse.item,data[{dataIteme.data}]}})}),i.bind(R,function(e){l.angular(cleanup,function(){return{elementse.item}})}),l._content=i,l.setDataSource(t.dataSource),r=l.container(),r.nullObject(l.viewInit(),l.viewShow())r.bind(show,p(this,viewShow)).bind(init,p(this,viewInit))},options{nameScrollView,page0,duration400,velocityThreshold.8,contentHeightauto,pageSize1,itemsPerPage1,bounceVelocityThreshold1.6,enablePager!0,autoBind!0,template,emptyTemplate},events[E,A,I],destroyfunction(){v.fn.destroy.call(this),d.destroy(this.element)},viewInitfunction(){this.options.autoBind&&this._content.scrollTo(this._content.page,!0)},viewShowfunction(){this.pane.refresh()},refreshfunction(){var e=this._content;e.resizeTo(this.pane.size()),this.page=e.page,this.trigger(I,{pageCounte.pageCount,pagee.page})},contentfunction(e){this.element.children().first().html(e),this._content._getPages(),this.pane.refresh()},valuefunction(e){var n=this.dataSource;return e(this.scrollTo(n.indexOf(e),!0),t)n.at(this.page)},scrollTofunction(e,t){this._content.scrollTo(e,t),this._syncWithContent()},prevfunction(){var e=this,n=e.page-1;e._content instanceof se._content.paneMoved(U,t,function(t){return e.trigger(E,t)})n-1&&e.scrollTo(n)},nextfunction(){var e=this,n=e.page+1;e._content instanceof se._content.paneMoved(O,t,function(t){return e.trigger(E,t)})e._content.pageCountn&&e.scrollTo(n)},setDataSourcefunction(e){if(this._content instanceof s){var t=!e;this.dataSource=_.create(e),this._content.setDataSource(this.dataSource),this.options.autoBind&&!t&&this.dataSource.fetch()}},itemsfunction(){return this.element.find(.+P)},_syncWithContentfunction(){var e,n,i=this._content.pages,r=this._content.buffer;this.page=this._content.page,e=rr.at(this.page)t,e instanceof Array(e=[e]),n=ii[1].elementt,this.trigger(A,{pagethis.page,elementn,datae})},_dragStartfunction(){this._content.forcePageUpdate()&&this._syncWithContent()},_dragEndfunction(e){var t=this,n=e.x.velocity,i=this.options.velocityThreshold,r=V,o=k(n)this.options.bounceVelocityThreshold;nir=U-in&&(r=O),this._content.paneMoved(r,o,function(e){return t.trigger(E,e)})},_transitionEndfunction(){this._content.updatePage()&&this._syncWithContent()}}),h.plugin(c)}(window.kendo.jQuery),function(e,t){function n(e,t,n){return Math.max(t,Math.min(n,e))}var i=window.kendo,r=i.mobile.ui,o=r.Widget,a=i.support,s=change,l=km-switch-on,c=km-switch-off,d=margin-left,u=km-state-active,h=km-state-disabled,p=disabled,f=a.transitions.css+transform,g=e.proxy,m='span class=km-switch km-widget        span class=km-switch-wrapperspan class=km-switch-backgroundspanspan         span class=km-switch-containerspan class=km-switch-handle              span class=km-switch-label-on{0}span             span class=km-switch-label-off{1}span         span     span',v=o.extend({initfunction(t,n){var r,a=this;o.fn.init.call(a,t,n),n=a.options,a.wrapper=e(i.format(m,n.onLabel,n.offLabel)),a.handle=a.wrapper.find(.km-switch-handle),a.background=a.wrapper.find(.km-switch-background),a.wrapper.insertBefore(a.element).prepend(a.element),a._drag(),a.origin=parseInt(a.background.css(d),10),a.constrain=0,a.snapPoint=0,t=a.element[0],t.type=checkbox,a._animateBackground=!0,r=a.options.checked,null===r&&(r=t.checked),a.check(r),a.options.enable=a.options.enable&&!a.element.attr(p),a.enable(a.options.enable),a.refresh(),i.notify(a,i.mobile.ui)},refreshfunction(){var e=this,t=e.handle.outerWidth(!0);e.width=e.wrapper.width(),e.constrain=e.width-t,e.snapPoint=e.constrain2,number!=typeof e.origin&&(e.origin=parseInt(e.background.css(d),10)),e.background.data(origin,e.origin),e.check(e.element[0].checked)},events[s],options{nameSwitch,onLabelon,offLabeloff,checkednull,enable!0},checkfunction(e){var n=this,i=n.element[0];return e===ti.checked(n._position(en.constrain0),i.checked=e,n.wrapper.toggleClass(l,e).toggleClass(c,!e),t)},valuefunction(){return this.check.apply(this,arguments)},destroyfunction(){o.fn.destroy.call(this),this.userEvents.destroy()},togglefunction(){var e=this;e.check(!e.element[0].checked)},enablefunction(e){var n=this.element,i=this.wrapper;t===e&&(e=!0),this.options.enable=e,en.removeAttr(p)n.attr(p,p),i.toggleClass(h,!e)},_resizefunction(){this.refresh()},_movefunction(e){var t=this;e.preventDefault(),t._position(n(t.position+e.x.delta,0,t.width-t.handle.outerWidth(!0)))},_positionfunction(e){var t=this;t.position=e,t.handle.css(f,translatex(+e+px)),t._animateBackground&&t.background.css(d,t.origin+e)},_startfunction(){this.options.enable(this.userEvents.capture(),this.handle.addClass(u))this.userEvents.cancel()},_stopfunction(){var e=this;e.handle.removeClass(u),e._toggle(e.positione.snapPoint)},_togglefunction(e){var t,n=this,r=n.handle,o=n.element[0],a=o.checked,d=i.mobile.application&&i.mobile.application.os.wp100200;
n.wrapper.toggleClass(l,e).toggleClass(c,!e),n.position=t=en.constrain,n._animateBackground&&n.background.kendoStop(!0,!0).kendoAnimate({effectsslideMargin,offsett,reset!0,reverse!e,axisleft,durationd}),r.kendoStop(!0,!0).kendoAnimate({effectsslideTo,durationd,offsett+px,0,reset!0,completefunction(){a!==e&&(o.checked=e,n.trigger(s,{checkede}))}})},_dragfunction(){var e=this;e.userEvents=new i.UserEvents(e.wrapper,{tapfunction(){e.options.enable&&e._toggle(!e.element[0].checked)},startg(e._start,e),moveg(e._move,e),endg(e._stop,e)})}});r.plugin(v)}(window.kendo.jQuery),function(e){function t(t){return e('span class=km-badge'+t+span)}var n=window.kendo,i=n.mobile.ui,r=i.Widget,o=km-state-active,a=select,s=r.extend({initfunction(t,n){var i=this;r.fn.init.call(i,t,n),i.container().bind(show,e.proxy(this,refresh)),i.element.addClass(km-tabstrip).find(a).each(i._buildButton).eq(i.options.selectedIndex).addClass(o),i.element.on(down,a,_release)},events[a],switchTofunction(t){var n,i,r=this.element.find(a),o=0,a=r.length;if(!isNaN(t))return this._setActiveItem(r.eq(t)),!0;for(;ao;o++)if(n=r[o],i=n.href.replace((#.+)(.+)$,$1),-1!==i.indexOf(t,i.length-t.length))return this._setActiveItem(e(n)),!0;return!1},switchByFullUrlfunction(e){var t;t=this.element.find(a[href$='+e+']),this._setActiveItem(t)},clearfunction(){this.currentItem().removeClass(o)},currentItemfunction(){return this.element.children(.+o)},badgefunction(n,i){var r,o=this.element;return isNaN(n)(n=o.children().get(n)),n=o.find(n),r=e(n.find(.km-badge)[0]t(i).insertAfter(n.children(.km-icon))),i0===i(r.html(i),this)i===!1(r.empty().remove(),this)r.html()},_releasefunction(t){if(!(t.which1)){var n=this,i=e(t.currentTarget);i[0]!==n.currentItem()[0]&&(n.trigger(a,{itemi})t.preventDefault()n._setActiveItem(i))}},_setActiveItemfunction(e){e[0]&&(this.clear(),e.addClass(o))},_buildButtonfunction(){var i=e(this),r=n.attrValue(i,icon),o=n.attrValue(i,badge),a=i.find(img),s=e('span class=km-icon');i.addClass(km-button).attr(n.attr(role),tab).contents().not(a).wrapAll('span class=km-text'),a[0]a.addClass(km-image).prependTo(i)(i.prepend(s),r&&(s.addClass(km-+r),(o0===o)&&t(o).insertAfter(s)))},refreshfunction(e){var t=e.view.element.attr(n.attr(url));!this.switchTo(e.view.id)&&t&&this.switchTo(t)},options{nameTabStrip,selectedIndex0,enable!0}});i.plugin(s)}(window.kendo.jQuery);return window.kendo},typeof define==function&&define.amddefinefunction(_,f){f()});